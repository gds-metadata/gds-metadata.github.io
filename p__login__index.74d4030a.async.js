"use strict";(self.webpackChunkquick_admin=self.webpackChunkquick_admin||[]).push([[6939],{26347:function(b,y,e){e.r(y),e.d(y,{default:function(){return V}});var U=e(15009),l=e.n(U),B=e(97857),c=e.n(B),N=e(99289),h=e.n(N),T=e(5574),x=e.n(T),F=e(67294),o=e(40741),M=e(25921),A=e(29789),C=e(14726),z=e(31022),m=e(12578),D=e(38925),I=e(2453),E=e(73935),R=e(82378),$=e(67610),a=e(85893),w=function(j){var g=j.content;return(0,a.jsx)(D.Z,{style:{marginBottom:24},message:g,type:"error",showIcon:!0})},G=function(){var j=(0,F.useState)({}),g=x()(j,2),Z=g[0],H=g[1],J=(0,F.useState)("account"),L=x()(J,2),K=L[0],k=L[1],P=(0,m.useModel)("@@initialState"),f=P.initialState,O=P.setInitialState;$.Z.casEnabled&&(window.location.href="/thirdParty/loginLink?jumpUrl="+new URLSearchParams(window.location.search).get("jumpUrl"));var p=(0,m.useIntl)(),Q=function(){var d=h()(l()().mark(function r(){var t,n;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,f==null||(t=f.fetchUserInfo)===null||t===void 0?void 0:t.call(f);case 2:n=i.sent,n&&(0,E.flushSync)(function(){O(function(v){return c()(c()({},v),{},{currentUser:n})})});case 4:case"end":return i.stop()}},r)}));return function(){return d.apply(this,arguments)}}(),W=function(){var d=h()(l()().mark(function r(t){var n,u,i,v;return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,z.x4)(c()(c()({},t),{},{type:K}));case 3:if(n=s.sent,n.status!==0){s.next=13;break}return u=p.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),I.ZP.success(u),localStorage.setItem("X-Access-Token",n.data.tokenValue),s.next=10,Q();case 10:return i=new URL(window.location.href).searchParams,m.history.push(i.get("redirect")||"/"),s.abrupt("return");case 13:H(n),s.next=21;break;case 16:s.prev=16,s.t0=s.catch(0),v=p.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),console.log(s.t0),I.ZP.error(v);case 21:case"end":return s.stop()}},r,null,[[0,16]])}));return function(t){return d.apply(this,arguments)}}(),Y=Z.status,S=Z.data;return(0,a.jsx)("div",{className:"session-wrapper",children:(0,a.jsxs)("div",{id:"content",className:"row container-cas",children:[(0,a.jsxs)("div",{className:"session_body",children:[(0,a.jsx)("div",{className:"sidebox",children:(0,a.jsx)("div",{className:"sidebox_logo"})}),(0,a.jsx)("div",{className:"login-from",children:(0,a.jsx)(R.Z,{title:(0,a.jsx)("h2",{style:{fontSize:"22px"},children:"\u7528\u6237\u767B\u5F55"}),children:(0,a.jsxs)(o.Z,{id:"fm1",onFinish:function(){var d=h()(l()().mark(function r(t){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,W(t);case 2:case"end":return u.stop()}},r)}));return function(r){return d.apply(this,arguments)}}(),initialValues:{username:"admin",password:"123456",autoLogin:!0},children:[Y!==0&&(S==null?void 0:S.loginType)==="account"&&(0,a.jsx)(w,{content:p.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/123456)"})}),(0,a.jsx)(o.Z.Item,{name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:(0,a.jsx)(M.Z,{placeholder:"\u7528\u6237\u540D",size:"large"})}),(0,a.jsx)(o.Z.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],children:(0,a.jsx)(M.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",size:"large"})}),(0,a.jsx)(o.Z.Item,{children:(0,a.jsx)(o.Z.Item,{name:"autoLogin",valuePropName:"checked",noStyle:!0,children:(0,a.jsx)(A.Z,{tabIndex:5,children:(0,a.jsx)(m.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})})})}),(0,a.jsx)(o.Z.Item,{children:(0,a.jsx)(C.ZP,{type:"primary",htmlType:"submit",block:!0,size:"large",children:" \u767B\u5F55 "})})]})})})]}),(0,a.jsx)("div",{className:"session_footer",children:(0,a.jsx)("span",{className:"session_footer-item",children:"\u897F\u5B89\u957F\u57CE\u6570\u5B57\u8F6F\u4EF6\u6709\u9650\u516C\u53F8 \u670D\u52A1\u7535\u8BDD\uFF1A029-87566359"})})]})})},V=G}}]);
