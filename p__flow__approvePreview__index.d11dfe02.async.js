"use strict";(self.webpackChunkquick_admin=self.webpackChunkquick_admin||[]).push([[1486],{73499:function(k,A,a){a.r(A),a.d(A,{default:function(){return Q}});var I=a(97857),C=a.n(I),Z=a(5574),M=a.n(Z),P=a(67294),n=a(59782),E=a.n(n),F=a(9783),z=a.n(F),$=a(72004),g=a.n($),D=a(12444),m=a.n(D),H=a(31996),b=a.n(H),R=a(26037),S=a.n(R),f={0:"grey",1:"green",2:"red"};function B(c){var y=function(i){b()(e,i);var l=S()(e);function e(o,r){var t;m()(this,e),t=l.call(this,o,r);var s=o.properties;return t.stroke=f[s.status],t}return g()(e)}(n.CircleNodeModel);c.register({type:"apply",model:y,view:n.CircleNode});var N=function(i){b()(e,i);var l=S()(e);function e(){return m()(this,e),l.apply(this,arguments)}return g()(e,[{key:"getLabelShape",value:function(){var r=this.props.model,t=r.x,s=r.y,h=r.width,v=r.height,u=r.properties,x=u,V=x.labelColor,W=x.approveTypeLabel;return(0,n.h)("text",{fill:V,fontSize:12,x:t-h/2+5,y:s-v/2+15,width:50,height:25},W)}},{key:"getShape",value:function(){var r=this.props.model,t=r.x,s=r.y,h=r.width,v=r.height,u=r.radius,x=this.props.model.getNodeStyle();return(0,n.h)("g",{},[(0,n.h)("rect",C()(C()({},x),{},{x:t-h/2,y:s-v/2,rx:u,ry:u,width:h,height:v})),this.getLabelShape()])}}]),e}(n.RectNode);z()(N,"extendKey","UserTaskNode");var j=function(i){b()(e,i);var l=S()(e);function e(o,r){var t;m()(this,e),t=l.call(this,o,r);var s=o.properties;return t.stroke=f[s.status],t}return g()(e)}(n.RectNodeModel);c.register({type:"approver",view:N,model:j});var L=function(i){b()(e,i);var l=S()(e);function e(o,r){var t;m()(this,e),t=l.call(this,o,r),t.points=[[35,0],[70,35],[35,70],[0,35]];var s=o.properties;return t.stroke=f[s.status],t.properties={api:""},t}return g()(e)}(n.PolygonNodeModel);c.register({type:"jugement",view:n.PolygonNode,model:L});var d=function(i){b()(e,i);var l=S()(e);function e(o,r){var t;m()(this,e),t=l.call(this,o,r);var s=o.properties;return t.stroke=f[s.status],t}return g()(e)}(n.CircleNodeModel);c.register({type:"finsh",view:n.CircleNode,model:d});var T=function(i){b()(e,i);var l=S()(e);function e(o,r){var t;m()(this,e),t=l.call(this,o,r);var s=o.properties;return t.stroke=f[s.status],t.hoverStroke=f[s.status],t.selectedStroke=f[s.status],t}return g()(e)}(n.PolylineEdgeModel);c.register({type:"action",view:n.PolylineEdge,model:T})}var J=a(4393),U=a(50675),X=a(8913),q=[{label:"\u76F4\u63A5\u4E0A\u7EA7",value:"leader"},{label:"T3\u9886\u5BFC",value:"t3Leader"},{label:"T2\u9886\u5BFC",value:"t2Leader"},{label:"T1\u9886\u5BFC",value:"t1Leader"}],Y={rect:{radius:8},circle:{r:25},edgeText:{background:{fill:"white"}}},K={apply:"\u7533\u8BF7",approver:"\u5BA1\u6838",jugement:"\u5224\u65AD",finsh:"\u7ED3\u675F"},w={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u5F20\u4E09"},properties:{usernameZh:"\u5F20\u4E09",username:"zhangsan",time:"2020-12-01 10:23:34",result:"",desc:"\u6D3B\u52A8\u8D39\u7528",status:1}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u674E\u56DB"},properties:{labelColor:"#000000",approveTypeLabel:"\u76F4\u63A5\u4E0A\u7EA7",approveType:"leader",usernameZh:"\u674E\u56DB",username:"zhangsan",time:"2020-12-01 11:23:34",result:"\u901A\u8FC7",desc:"",status:1}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:`\u5224\u65AD\u62A5\u9500\u662F\u5426
\u5927\u4E8E1000\u5143`},properties:{api:"",status:1,usenameZh:"\u7CFB\u7EDF",desc:"\u5224\u65AD\u62A5\u9500\u662F\u5426\u5927\u4E8E1000\u5143"}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u738B\u4E94"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5BFC",approveType:"t2Leader",usernameZh:"\u738B\u4E94",username:"wangwu",time:"2020-12-01 12:23:34",result:"\u9A73\u56DE",desc:"",status:2}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ED3\u675F"},properties:{status:2}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"action",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{status:1},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"action",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901A\u8FC7"},properties:{status:1},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"action",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662F"},properties:{status:1},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"action",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:"\u9A73\u56DE"},properties:{status:2},pointsList:[{x:720,y:210},{x:825,y:210}]}]},p=a(85893);function G(c,y){var N=function(L){if(L){var d=y.properties;return(0,p.jsxs)(J.Z,{title:K[y.type],style:{width:300},children:[(0,p.jsxs)("p",{children:[d.usernameZh,d.username?(0,p.jsxs)("span",{children:["(",d.username,")"]}):""]}),(0,p.jsx)("p",{children:d.time}),d.result?(0,p.jsxs)("p",{children:[d.result==="\u901A\u8FC7"?(0,p.jsx)(U.Z,{style:{color:"green"}}):(0,p.jsx)(X.Z,{style:{color:"red"}}),(0,p.jsx)("span",{style:{marginLeft:"10px"},children:d.result})]}):"",d.desc?(0,p.jsxs)("p",{children:["\u8BF4\u660E: ",d.desc]}):""]})}};return(0,p.jsx)("div",{className:"hover-panel",style:C()({},c),children:N(y)})}var _=a(10114),O={grid:{size:10,type:"mesh",config:{color:"#DCDCDC"}},isSilentMode:!0,keyboard:{enabled:!0},style:Y};function Q(){var c=(0,P.useState)(),y=M()(c,2),N=y[0],j=y[1],L=(0,P.useState)(Boolean),d=M()(L,2),T=d[0],i=d[1],l=(0,P.useState)({}),e=M()(l,2),o=e[0],r=e[1];(0,P.useEffect)(function(){var s=new(E())(C()(C()({},O),{},{container:document.querySelector("#graph")}));B(s),s.render(w),t(s)},[]);var t=function(h){h.on("node:mouseenter",function(v){var u=v.e,x=v.data;j(x),i(!0),x.id?r({top:u.clientY,left:u.clientX}):r({display:"none"})}),h.on("node:mouseleave",function(){j(void 0),i(!0)}),h.on("blank:mousemove",function(v){var u=v.e;r({top:u.clientY,left:u.clientX})})};return(0,p.jsxs)("div",{className:"approve-example-container",children:[(0,p.jsx)("div",{id:"graph",className:"viewport"}),T?G(o,N):""]})}}}]);
