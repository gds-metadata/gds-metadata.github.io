(self.webpackChunkquick_admin=self.webpackChunkquick_admin||[]).push([[5826],{31285:function(){"use strict"},5520:function(){"use strict"},50048:function(Ct,we,t){self.MonacoEnvironment=function(h){function W(k){return k.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(k,O){var w=t.p,G=(w?W(w)+"/":"")+h[O];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(G)){var x=String(window.location),N=x.substr(0,x.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(G.substring(0,N.length)!==N){/^(\/\/)/.test(G)&&(G=window.location.protocol+G);var s="/*"+O+'*/importScripts("'+G+'");',C=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(C)}}return G}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"}),t(46005),t(9730),t(18870),t(9740),t(62015),t(16159),t(49946),t(77956),t(51567),t(16158),t(68770),t(42834),t(87596),t(81372),t(40539),t(5697),t(23111),t(44818),t(2268),t(60996),t(2765),t(20926),t(33184),t(24719),t(96016),t(42039),t(87586),t(24822),t(59089),t(88863),t(80674),t(23659),t(38486),t(74395),t(13679),t(60669),t(69896),t(45048),t(16607),t(5964),t(93379),t(74480),t(15662),t(19720),t(77847),t(31725),t(70185),t(43497),t(99453),t(60661),Ct.exports=t(97174),t(29126),t(89808),t(13598),t(52042),t(50497),t(11336),t(76334),t(30253),t(47940),t(18162),t(79556),t(56292),t(40605),t(42429),t(24129),t(88765),t(43814),t(45067),t(97820),t(40927),t(26220),t(1526),t(64091),t(40902),t(68423),t(17476),t(16745),t(43763),t(72323),t(46595),t(36831),t(66079),t(90158),t(38698),t(82665),t(51944),t(77365),t(6595),t(75769),t(51714),t(2521),t(62893),t(27616),t(83335),t(46266),t(89723),t(55788),t(48746),t(94992),t(16563),t(57296),t(85098),t(83187),t(12026),t(76194),t(5566),t(26254),t(5734),t(40191),t(93127),t(34483),t(40840),t(37266),t(2375),t(96461),t(76628),t(40185),t(27776),t(28118),t(96337),t(87530),t(25929),t(17918),t(6205),t(46837),t(88307),t(15422),t(58203),t(81905),t(94199)},55826:function(Ct,we,t){self.MonacoEnvironment=function(h){function W(k){return k.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(k,O){var w=t.p,G=(w?W(w)+"/":"")+h[O];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(G)){var x=String(window.location),N=x.substr(0,x.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(G.substring(0,N.length)!==N){/^(\/\/)/.test(G)&&(G=window.location.protocol+G);var s="/*"+O+'*/importScripts("'+G+'");',C=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(C)}}return G}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"}),t(46005),t(9730),t(18870),t(9740),t(62015),t(16159),t(49946),t(77956),t(51567),t(16158),t(68770),t(42834),t(87596),t(81372),t(40539),t(5697),t(23111),t(44818),t(2268),t(60996),t(2765),t(20926),t(33184),t(24719),t(96016),t(42039),t(87586),t(24822),t(59089),t(88863),t(80674),t(23659),t(38486),t(74395),t(13679),t(60669),t(69896),t(45048),t(16607),t(5964),t(93379),t(74480),t(15662),t(19720),t(77847),t(31725),t(70185),t(43497),t(99453),t(60661),Ct.exports=t(8720),t(29126),t(89808),t(13598),t(52042),t(50497),t(11336),t(76334),t(30253),t(47940),t(18162),t(79556),t(56292),t(40605),t(42429),t(24129),t(88765),t(43814),t(45067),t(97820),t(40927),t(26220),t(1526),t(64091),t(40902),t(68423),t(17476),t(16745),t(43763),t(72323),t(46595),t(36831),t(66079),t(90158),t(38698),t(82665),t(51944),t(77365),t(6595),t(75769),t(51714),t(2521),t(62893),t(27616),t(83335),t(46266),t(89723),t(55788),t(48746),t(94992),t(16563),t(57296),t(85098),t(83187),t(12026),t(76194),t(5566),t(26254),t(5734),t(40191),t(93127),t(34483),t(40840),t(37266),t(2375),t(96461),t(76628),t(40185),t(27776),t(28118),t(96337),t(87530),t(25929),t(17918),t(6205),t(46837),t(88307),t(15422),t(58203),t(81905),t(94199)},16268:function(Ct,we,t){"use strict";t.d(we,{$W:function(){return p},Dt:function(){return n},G6:function(){return m},MG:function(){return y},Pf:function(){return C},WP:function(){return O},fX:function(){return w},i7:function(){return l},ie:function(){return G},mX:function(){return x},px:function(){return k},vU:function(){return s}});var h=t(4669);class W{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new h.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let v=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,a=v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1;return d/a}}W.INSTANCE=new W;function k(){return W.INSTANCE.getZoomLevel()}function O(){return W.INSTANCE.getTimeSinceLastZoomLevelChanged()}function w(f){return W.INSTANCE.onDidChangeZoomLevel(f)}function G(){return W.INSTANCE.getZoomFactor()}function x(){return W.INSTANCE.getPixelRatio()}const N=navigator.userAgent,s=N.indexOf("Firefox")>=0,C=N.indexOf("AppleWebKit")>=0,l=N.indexOf("Chrome")>=0,m=!l&&N.indexOf("Safari")>=0,y=!l&&!m&&C,n=N.indexOf("Android")>=0,p=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},10161:function(Ct,we,t){"use strict";t.d(we,{D:function(){return k}});var h=t(16268),W=t(1432);const k={clipboard:{writeText:W.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:W.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>W.tY||h.$W?0:navigator.keyboard||h.G6?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},23547:function(Ct,we,t){"use strict";t.d(we,{P$:function(){return O},TN:function(){return k},go:function(){return W}});var h=t(81170);const W={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:h.vW.text,TERMINALS:"Terminals"};class k{constructor(G){this.data=G}update(){}getData(){return this.data}}const O={CurrentDragAndDropData:void 0}},65321:function(Ct,we,t){"use strict";t.d(we,{$:function(){return It},$Z:function(){return Bt},Ay:function(){return Be},Ce:function(){return Ke},Cp:function(){return oi},D6:function(){return z},DI:function(){return H},Dx:function(){return V},FK:function(){return X},Fx:function(){return Oe},Gw:function(){return d},H$:function(){return ni},If:function(){return re},Lo:function(){return a},OO:function(){return ae},PO:function(){return l},R3:function(){return zt},RE:function(){return b},Re:function(){return Me},Ro:function(){return le},Uh:function(){return hi},Uw:function(){return m},V3:function(){return Di},Y_:function(){return $},_0:function(){return qe},_h:function(){return ai},_q:function(){return Pt},dS:function(){return se},dp:function(){return I},fk:function(){return Fe},go:function(){return kt},i:function(){return A},jL:function(){return j},j_:function(){return c},jg:function(){return ue},jt:function(){return Ti},lI:function(){return T},mc:function(){return Je},mu:function(){return v},nm:function(){return n},qV:function(){return u},tw:function(){return Se},uB:function(){return Gt},uN:function(){return Le},uU:function(){return Ce},vL:function(){return Ye},vY:function(){return Ve},w:function(){return Y},wY:function(){return Ii},wn:function(){return fe},xQ:function(){return E},zB:function(){return ze}});var h=t(16268),W=t(10161),k=t(59069),O=t(23938),w=t(15393),G=t(17301),x=t(4669),N=t(9917),s=t(66663),C=t(1432);function l(ot){for(;ot.firstChild;)ot.firstChild.remove()}function m(ot){var mt;return(mt=ot==null?void 0:ot.isConnected)!==null&&mt!==void 0?mt:!1}class y{constructor(mt,ft,Xe,Ge){this._node=mt,this._type=ft,this._handler=Xe,this._options=Ge||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function n(ot,mt,ft,Xe){return new y(ot,mt,ft,Xe)}function p(ot){return function(mt){return ot(new O.n(mt))}}function f(ot){return function(mt){return ot(new k.y(mt))}}let v=function(mt,ft,Xe,Ge){let Ie=Xe;return ft==="click"||ft==="mousedown"?Ie=p(Xe):(ft==="keydown"||ft==="keypress"||ft==="keyup")&&(Ie=f(Xe)),n(mt,ft,Ie,Ge)},d=function(mt,ft,Xe){let Ge=p(ft);return a(mt,Ge,Xe)};function a(ot,mt,ft){return n(ot,C.gn&&W.D.pointerEvents?Se.POINTER_DOWN:Se.MOUSE_DOWN,mt,ft)}function u(ot,mt,ft){return n(ot,C.gn&&W.D.pointerEvents?Se.POINTER_UP:Se.MOUSE_UP,mt,ft)}function c(ot,mt){return n(ot,"mouseout",ft=>{let Xe=ft.relatedTarget;for(;Xe&&Xe!==ot;)Xe=Xe.parentNode;Xe!==ot&&mt(ft)})}function b(ot,mt){return n(ot,"pointerout",ft=>{let Xe=ft.relatedTarget;for(;Xe&&Xe!==ot;)Xe=Xe.parentNode;Xe!==ot&&mt(ft)})}let L=null;function R(ot){if(!L){const mt=ft=>setTimeout(()=>ft(new Date().getTime()),0);L=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||mt}return L.call(self,ot)}let T,j;class q{constructor(mt,ft=0){this._runner=mt,this.priority=ft,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(mt){(0,G.dL)(mt)}}static sort(mt,ft){return ft.priority-mt.priority}}(function(){let ot=[],mt=null,ft=!1,Xe=!1,Ge=()=>{for(ft=!1,mt=ot,ot=[],Xe=!0;mt.length>0;)mt.sort(q.sort),mt.shift().execute();Xe=!1};j=(Ie,Pe=0)=>{let je=new q(Ie,Pe);return ot.push(je),ft||(ft=!0,R(Ge)),je},T=(Ie,Pe)=>{if(Xe){let je=new q(Ie,Pe);return mt.push(je),je}else return j(Ie,Pe)}})();const ie=8,ne=function(ot,mt){return mt};class he extends N.JT{constructor(mt,ft,Xe,Ge=ne,Ie=ie){super();let Pe=null,je=0,dt=this._register(new w._F),Nt=()=>{je=new Date().getTime(),Xe(Pe),Pe=null};this._register(n(mt,ft,$t=>{Pe=Ge(Pe,$t);let Xt=new Date().getTime()-je;Xt>=Ie?(dt.cancel(),Nt()):dt.setIfNotSet(Nt,Ie-Xt)}))}}function $(ot,mt,ft,Xe,Ge){return new he(ot,mt,ft,Xe,Ge)}function V(ot){return document.defaultView.getComputedStyle(ot,null)}function z(ot){if(ot!==document.body)return new le(ot.clientWidth,ot.clientHeight);if(C.gn&&window.visualViewport)return new le(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new le(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new le(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new le(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class Q{static convertToPixels(mt,ft){return parseFloat(ft)||0}static getDimension(mt,ft,Xe){let Ge=V(mt),Ie="0";return Ge&&(Ge.getPropertyValue?Ie=Ge.getPropertyValue(ft):Ie=Ge.getAttribute(Xe)),Q.convertToPixels(mt,Ie)}static getBorderLeftWidth(mt){return Q.getDimension(mt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(mt){return Q.getDimension(mt,"border-right-width","borderRightWidth")}static getBorderTopWidth(mt){return Q.getDimension(mt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(mt){return Q.getDimension(mt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(mt){return Q.getDimension(mt,"padding-left","paddingLeft")}static getPaddingRight(mt){return Q.getDimension(mt,"padding-right","paddingRight")}static getPaddingTop(mt){return Q.getDimension(mt,"padding-top","paddingTop")}static getPaddingBottom(mt){return Q.getDimension(mt,"padding-bottom","paddingBottom")}static getMarginLeft(mt){return Q.getDimension(mt,"margin-left","marginLeft")}static getMarginTop(mt){return Q.getDimension(mt,"margin-top","marginTop")}static getMarginRight(mt){return Q.getDimension(mt,"margin-right","marginRight")}static getMarginBottom(mt){return Q.getDimension(mt,"margin-bottom","marginBottom")}}class le{constructor(mt,ft){this.width=mt,this.height=ft}with(mt=this.width,ft=this.height){return mt!==this.width||ft!==this.height?new le(mt,ft):this}static is(mt){return typeof mt=="object"&&typeof mt.height=="number"&&typeof mt.width=="number"}static lift(mt){return mt instanceof le?mt:new le(mt.width,mt.height)}static equals(mt,ft){return mt===ft?!0:!mt||!ft?!1:mt.width===ft.width&&mt.height===ft.height}}function E(ot){let mt=ot.offsetParent,ft=ot.offsetTop,Xe=ot.offsetLeft;for(;(ot=ot.parentNode)!==null&&ot!==document.body&&ot!==document.documentElement;){ft-=ot.scrollTop;const Ge=oe(ot)?null:V(ot);Ge&&(Xe-=Ge.direction!=="rtl"?ot.scrollLeft:-ot.scrollLeft),ot===mt&&(Xe+=Q.getBorderLeftWidth(ot),ft+=Q.getBorderTopWidth(ot),ft+=ot.offsetTop,Xe+=ot.offsetLeft,mt=ot.offsetParent)}return{left:Xe,top:ft}}function I(ot,mt,ft){typeof mt=="number"&&(ot.style.width=`${mt}px`),typeof ft=="number"&&(ot.style.height=`${ft}px`)}function A(ot){let mt=ot.getBoundingClientRect();return{left:mt.left+H.scrollX,top:mt.top+H.scrollY,width:mt.width,height:mt.height}}const H=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Y(ot){let mt=Q.getMarginLeft(ot)+Q.getMarginRight(ot);return ot.offsetWidth+mt}function X(ot){let mt=Q.getBorderLeftWidth(ot)+Q.getBorderRightWidth(ot),ft=Q.getPaddingLeft(ot)+Q.getPaddingRight(ot);return ot.offsetWidth-mt-ft}function re(ot){let mt=Q.getBorderTopWidth(ot)+Q.getBorderBottomWidth(ot),ft=Q.getPaddingTop(ot)+Q.getPaddingBottom(ot);return ot.offsetHeight-mt-ft}function fe(ot){let mt=Q.getMarginTop(ot)+Q.getMarginBottom(ot);return ot.offsetHeight+mt}function ue(ot,mt){for(;ot;){if(ot===mt)return!0;ot=ot.parentNode}return!1}function Oe(ot,mt,ft){for(;ot&&ot.nodeType===ot.ELEMENT_NODE;){if(ot.classList.contains(mt))return ot;if(ft){if(typeof ft=="string"){if(ot.classList.contains(ft))return null}else if(ot===ft)return null}ot=ot.parentNode}return null}function Ce(ot,mt,ft){return!!Oe(ot,mt,ft)}function oe(ot){return ot&&!!ot.host&&!!ot.mode}function ae(ot){return!!Be(ot)}function Be(ot){for(;ot.parentNode;){if(ot===document.body)return null;ot=ot.parentNode}return oe(ot)?ot:null}function Ve(){let ot=document.activeElement;for(;ot!=null&&ot.shadowRoot;)ot=ot.shadowRoot.activeElement;return ot}function se(ot=document.getElementsByTagName("head")[0]){let mt=document.createElement("style");return mt.type="text/css",mt.media="screen",ot.appendChild(mt),mt}let ce=null;function Te(){return ce||(ce=se()),ce}function xe(ot){var mt,ft;return!((mt=ot==null?void 0:ot.sheet)===null||mt===void 0)&&mt.rules?ot.sheet.rules:!((ft=ot==null?void 0:ot.sheet)===null||ft===void 0)&&ft.cssRules?ot.sheet.cssRules:[]}function Fe(ot,mt,ft=Te()){!ft||!mt||ft.sheet.insertRule(ot+"{"+mt+"}",0)}function Le(ot,mt=Te()){if(!mt)return;let ft=xe(mt),Xe=[];for(let Ge=0;Ge<ft.length;Ge++)ft[Ge].selectorText.indexOf(ot)!==-1&&Xe.push(Ge);for(let Ge=Xe.length-1;Ge>=0;Ge--)mt.sheet.deleteRule(Xe[Ge])}function Me(ot){return typeof HTMLElement=="object"?ot instanceof HTMLElement:ot&&typeof ot=="object"&&ot.nodeType===1&&typeof ot.nodeName=="string"}const Se={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:h.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:h.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:h.Pf?"webkitAnimationIteration":"animationiteration"},ze={stop:function(ot,mt){ot.preventDefault?ot.preventDefault():ot.returnValue=!1,mt&&(ot.stopPropagation?ot.stopPropagation():ot.cancelBubble=!0)}};function Ye(ot){let mt=[];for(let ft=0;ot&&ot.nodeType===ot.ELEMENT_NODE;ft++)mt[ft]=ot.scrollTop,ot=ot.parentNode;return mt}function qe(ot,mt){for(let ft=0;ot&&ot.nodeType===ot.ELEMENT_NODE;ft++)ot.scrollTop!==mt[ft]&&(ot.scrollTop=mt[ft]),ot=ot.parentNode}class ht extends N.JT{constructor(mt){super(),this._onDidFocus=this._register(new x.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new x.Q5),this.onDidBlur=this._onDidBlur.event;let ft=ue(document.activeElement,mt),Xe=!1;const Ge=()=>{Xe=!1,ft||(ft=!0,this._onDidFocus.fire())},Ie=()=>{ft&&(Xe=!0,window.setTimeout(()=>{Xe&&(Xe=!1,ft=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ue(document.activeElement,mt)!==ft&&(ft?Ie():Ge())},this._register(n(mt,Se.FOCUS,Ge,!0)),this._register(n(mt,Se.BLUR,Ie,!0))}}function kt(ot){return new ht(ot)}function zt(ot,...mt){if(ot.append(...mt),mt.length===1&&typeof mt[0]!="string")return mt[0]}function Ke(ot,mt){return ot.insertBefore(mt,ot.firstChild),mt}function Je(ot,...mt){ot.innerText="",zt(ot,...mt)}const Ze=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Ae;(function(ot){ot.HTML="http://www.w3.org/1999/xhtml",ot.SVG="http://www.w3.org/2000/svg"})(Ae||(Ae={}));function He(ot,mt,ft,...Xe){let Ge=Ze.exec(mt);if(!Ge)throw new Error("Bad use of emmet");ft=Object.assign({},ft||{});let Ie=Ge[1]||"div",Pe;return ot!==Ae.HTML?Pe=document.createElementNS(ot,Ie):Pe=document.createElement(Ie),Ge[3]&&(Pe.id=Ge[3]),Ge[4]&&(Pe.className=Ge[4].replace(/\./g," ").trim()),Object.keys(ft).forEach(je=>{const dt=ft[je];typeof dt!="undefined"&&(/^on\w+$/.test(je)?Pe[je]=dt:je==="selected"?dt&&Pe.setAttribute(je,"true"):Pe.setAttribute(je,dt))}),Pe.append(...Xe),Pe}function It(ot,mt,...ft){return He(Ae.HTML,ot,mt,...ft)}It.SVG=function(ot,mt,...ft){return He(Ae.SVG,ot,mt,...ft)};function Bt(...ot){for(let mt of ot)mt.style.display="",mt.removeAttribute("aria-hidden")}function oi(...ot){for(let mt of ot)mt.style.display="none",mt.setAttribute("aria-hidden","true")}function ni(ot){return Array.prototype.slice.call(document.getElementsByTagName(ot),0)}function hi(ot){const mt=window.devicePixelRatio*ot;return Math.max(1,Math.floor(mt))/window.devicePixelRatio}function Di(ot){window.open(ot,"_blank","noopener")}function Ti(ot){const mt=()=>{ot(),ft=j(mt)};let ft=j(mt);return(0,N.OF)(()=>ft.dispose())}s.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ii(ot){return ot?`url('${s.Gi.asBrowserUri(ot).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function ai(ot){return`'${ot.replace(/'/g,"%27")}'`}class Pt extends x.Q5{constructor(){super(),this._subscriptions=new N.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(n(window,"keydown",mt=>{if(mt.defaultPrevented)return;const ft=new k.y(mt);if(!(ft.keyCode===6&&mt.repeat)){if(mt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(mt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(mt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(mt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(ft.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=mt.altKey,this._keyStatus.ctrlKey=mt.ctrlKey,this._keyStatus.metaKey=mt.metaKey,this._keyStatus.shiftKey=mt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=mt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(n(window,"keyup",mt=>{mt.defaultPrevented||(!mt.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!mt.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!mt.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!mt.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=mt.altKey,this._keyStatus.ctrlKey=mt.ctrlKey,this._keyStatus.metaKey=mt.metaKey,this._keyStatus.shiftKey=mt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=mt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(n(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mousemove",mt=>{mt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(n(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Pt.instance||(Pt.instance=new Pt),Pt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function Gt(ot,mt){const ft=window.matchMedia(ot);typeof ft.addEventListener=="function"?ft.addEventListener("change",mt):ft.addListener(mt)}},4850:function(Ct,we,t){"use strict";t.d(we,{Y:function(){return W},p:function(){return k}});var h=t(4669);class W{constructor(w,G,x){const N=s=>this.emitter.fire(s);this.emitter=new h.Q5({onFirstListenerAdd:()=>w.addEventListener(G,N,x),onLastListenerRemove:()=>w.removeEventListener(G,N,x)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function k(O){return O.preventDefault(),O.stopPropagation(),O}},38626:function(Ct,we,t){"use strict";t.d(we,{X:function(){return W},Z:function(){return h}});class h{constructor(O){this.domNode=O,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(O){this._maxWidth!==O&&(this._maxWidth=O,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(O){this._width!==O&&(this._width=O,this.domNode.style.width=this._width+"px")}setHeight(O){this._height!==O&&(this._height=O,this.domNode.style.height=this._height+"px")}setTop(O){this._top!==O&&(this._top=O,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(O){this._left!==O&&(this._left=O,this.domNode.style.left=this._left+"px")}setBottom(O){this._bottom!==O&&(this._bottom=O,this.domNode.style.bottom=this._bottom+"px")}setRight(O){this._right!==O&&(this._right=O,this.domNode.style.right=this._right+"px")}setFontFamily(O){this._fontFamily!==O&&(this._fontFamily=O,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(O){this._fontWeight!==O&&(this._fontWeight=O,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(O){this._fontSize!==O&&(this._fontSize=O,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(O){this._fontFeatureSettings!==O&&(this._fontFeatureSettings=O,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(O){this._lineHeight!==O&&(this._lineHeight=O,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(O){this._letterSpacing!==O&&(this._letterSpacing=O,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(O){this._className!==O&&(this._className=O,this.domNode.className=this._className)}toggleClassName(O,w){this.domNode.classList.toggle(O,w),this._className=this.domNode.className}setDisplay(O){this._display!==O&&(this._display=O,this.domNode.style.display=this._display)}setPosition(O){this._position!==O&&(this._position=O,this.domNode.style.position=this._position)}setVisibility(O){this._visibility!==O&&(this._visibility=O,this.domNode.style.visibility=this._visibility)}setBackgroundColor(O){this._backgroundColor!==O&&(this._backgroundColor=O,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(O){this._layerHint!==O&&(this._layerHint=O,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(O){this._boxShadow!==O&&(this._boxShadow=O,this.domNode.style.boxShadow=O)}setContain(O){this._contain!==O&&(this._contain=O,this.domNode.style.contain=this._contain)}setAttribute(O,w){this.domNode.setAttribute(O,w)}removeAttribute(O){this.domNode.removeAttribute(O)}appendChild(O){this.domNode.appendChild(O.domNode)}removeChild(O){this.domNode.removeChild(O.domNode)}}function W(k){return new h(k)}},94079:function(Ct,we,t){"use strict";t.d(we,{BO:function(){return k},IY:function(){return W},az:function(){return O}});var h=t(65321);function W(C,l={}){const m=O(l);return m.textContent=C,m}function k(C,l={}){const m=O(l);return G(m,x(C,!!l.renderCodeSegments),l.actionHandler,l.renderCodeSegments),m}function O(C){const l=C.inline?"span":"div",m=document.createElement(l);return C.className&&(m.className=C.className),m}class w{constructor(l){this.source=l,this.index=0}eos(){return this.index>=this.source.length}next(){const l=this.peek();return this.advance(),l}peek(){return this.source[this.index]}advance(){this.index++}}function G(C,l,m,y){let n;if(l.type===2)n=document.createTextNode(l.content||"");else if(l.type===3)n=document.createElement("b");else if(l.type===4)n=document.createElement("i");else if(l.type===7&&y)n=document.createElement("code");else if(l.type===5&&m){const p=document.createElement("a");p.href="#",m.disposables.add(h.mu(p,"click",f=>{m.callback(String(l.index),f)})),n=p}else l.type===8?n=document.createElement("br"):l.type===1&&(n=C);n&&C!==n&&C.appendChild(n),n&&Array.isArray(l.children)&&l.children.forEach(p=>{G(n,p,m,y)})}function x(C,l){const m={type:1,children:[]};let y=0,n=m;const p=[],f=new w(C);for(;!f.eos();){let v=f.next();const d=v==="\\"&&s(f.peek(),l)!==0;if(d&&(v=f.next()),!d&&N(v,l)&&v===f.peek()){f.advance(),n.type===2&&(n=p.pop());const a=s(v,l);if(n.type===a||n.type===5&&a===6)n=p.pop();else{const u={type:a,children:[]};a===5&&(u.index=y,y++),n.children.push(u),p.push(n),n=u}}else if(v===`
`)n.type===2&&(n=p.pop()),n.children.push({type:8});else if(n.type!==2){const a={type:2,content:v};n.children.push(a),p.push(n),n=a}else n.content+=v}return n.type===2&&(n=p.pop()),p.length,m}function N(C,l){return s(C,l)!==0}function s(C,l){switch(C){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return l?7:0;default:return 0}}},57974:function(Ct,we,t){"use strict";t.d(we,{Z:function(){return x},e:function(){return G}});var h=t(65321),W=t(70262),k=t(23938),O=t(9917),w=t(1432);function G(N,s){let C=new k.n(s);return C.preventDefault(),{leftButton:C.leftButton,buttons:C.buttons,posx:C.posx,posy:C.posy}}class x{constructor(){this._hooks=new O.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(s,C){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const l=this._onStopCallback;this._onStopCallback=null,s&&l&&l(C)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(s,C,l,m,y){if(this.isMonitoring())return;this._mouseMoveEventMerger=l,this._mouseMoveCallback=m,this._onStopCallback=y;const n=W.E.getSameOriginWindowChain(),p=w.gn?"pointermove":"mousemove",f="mouseup",v=n.map(a=>a.window.document),d=h.Ay(s);d&&v.unshift(d);for(const a of v)this._hooks.add(h.Y_(a,p,u=>{if(u.buttons!==C){this.stopMonitoring(!0);return}this._mouseMoveCallback(u)},(u,c)=>this._mouseMoveEventMerger(u,c))),this._hooks.add(h.nm(a,f,u=>this.stopMonitoring(!0)));if(W.E.hasDifferentOriginAncestor()){let a=n[n.length-1];this._hooks.add(h.nm(a.window.document,"mouseout",u=>{new k.n(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(h.nm(a.window.document,"mouseover",u=>{new k.n(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(h.nm(a.window.document.body,"mouseleave",u=>{this.stopMonitoring(!0)}))}}}},70262:function(Ct,we,t){"use strict";t.d(we,{E:function(){return O}});let h=!1,W=null;function k(w){if(!w.parent||w.parent===w)return null;try{let G=w.location,x=w.parent.location;if(G.origin!=="null"&&x.origin!=="null"&&G.origin!==x.origin)return h=!0,null}catch(G){return h=!0,null}return w.parent}class O{static getSameOriginWindowChain(){if(!W){W=[];let G=window,x;do x=k(G),x?W.push({window:G,iframeElement:G.frameElement||null}):W.push({window:G,iframeElement:null}),G=x;while(G)}return W.slice(0)}static hasDifferentOriginAncestor(){return W||this.getSameOriginWindowChain(),h}static getPositionOfChildWindowRelativeToAncestorWindow(G,x){if(!x||G===x)return{top:0,left:0};let N=0,s=0,C=this.getSameOriginWindowChain();for(const l of C){if(N+=l.window.scrollY,s+=l.window.scrollX,l.window===x||!l.iframeElement)break;let m=l.iframeElement.getBoundingClientRect();N+=m.top,s+=m.left}return{top:N,left:s}}}},59069:function(Ct,we,t){"use strict";t.d(we,{y:function(){return C}});var h=t(16268),W=t(22258),k=t(8313),O=t(1432);function w(l){if(l.charCode){let y=String.fromCharCode(l.charCode).toUpperCase();return W.kL.fromString(y)}const m=l.keyCode;if(m===3)return 7;if(h.vU){if(m===59)return 80;if(m===107)return 81;if(m===109)return 83;if(O.dz&&m===224)return 57}else if(h.Pf){if(m===91)return 57;if(O.dz&&m===93)return 57;if(!O.dz&&m===92)return 57}return W.H_[m]||0}const G=O.dz?256:2048,x=512,N=1024,s=O.dz?2048:256;class C{constructor(m){this._standardKeyboardEventBrand=!0;let y=m;this.browserEvent=y,this.target=y.target,this.ctrlKey=y.ctrlKey,this.shiftKey=y.shiftKey,this.altKey=y.altKey,this.metaKey=y.metaKey,this.keyCode=w(y),this.code=y.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(m){return this._asKeybinding===m}_computeKeybinding(){let m=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(m=this.keyCode);let y=0;return this.ctrlKey&&(y|=G),this.altKey&&(y|=x),this.shiftKey&&(y|=N),this.metaKey&&(y|=s),y|=m,y}_computeRuntimeKeybinding(){let m=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(m=this.keyCode),new k.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,m)}}},23938:function(Ct,we,t){"use strict";t.d(we,{n:function(){return O},q:function(){return w}});var h=t(16268),W=t(70262),k=t(1432);class O{constructor(x){this.timestamp=Date.now(),this.browserEvent=x,this.leftButton=x.button===0,this.middleButton=x.button===1,this.rightButton=x.button===2,this.buttons=x.buttons,this.target=x.target,this.detail=x.detail||1,x.type==="dblclick"&&(this.detail=2),this.ctrlKey=x.ctrlKey,this.shiftKey=x.shiftKey,this.altKey=x.altKey,this.metaKey=x.metaKey,typeof x.pageX=="number"?(this.posx=x.pageX,this.posy=x.pageY):(this.posx=x.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=x.clientY+document.body.scrollTop+document.documentElement.scrollTop);let N=W.E.getPositionOfChildWindowRelativeToAncestorWindow(self,x.view);this.posx-=N.left,this.posy-=N.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class w{constructor(x,N=0,s=0){if(this.browserEvent=x||null,this.target=x?x.target||x.targetNode||x.srcElement:null,this.deltaY=s,this.deltaX=N,x){let C=x,l=x;if(typeof C.wheelDeltaY!="undefined")this.deltaY=C.wheelDeltaY/120;else if(typeof l.VERTICAL_AXIS!="undefined"&&l.axis===l.VERTICAL_AXIS)this.deltaY=-l.detail/3;else if(x.type==="wheel"){const m=x;m.deltaMode===m.DOM_DELTA_LINE?h.vU&&!k.dz?this.deltaY=-x.deltaY/3:this.deltaY=-x.deltaY:this.deltaY=-x.deltaY/40}if(typeof C.wheelDeltaX!="undefined")h.G6&&k.ED?this.deltaX=-(C.wheelDeltaX/120):this.deltaX=C.wheelDeltaX/120;else if(typeof l.HORIZONTAL_AXIS!="undefined"&&l.axis===l.HORIZONTAL_AXIS)this.deltaX=-x.detail/3;else if(x.type==="wheel"){const m=x;m.deltaMode===m.DOM_DELTA_LINE?h.vU&&!k.dz?this.deltaX=-x.deltaX/3:this.deltaX=-x.deltaX:this.deltaX=-x.deltaX/40}this.deltaY===0&&this.deltaX===0&&x.wheelDelta&&(this.deltaY=x.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},10553:function(Ct,we,t){"use strict";t.d(we,{o:function(){return x},t:function(){return G}});var h=t(65321),W=t(9488),k=t(49898),O=t(9917),w=function(N,s,C,l){var m=arguments.length,y=m<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,C):l,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(N,s,C,l);else for(var p=N.length-1;p>=0;p--)(n=N[p])&&(y=(m<3?n(y):m>3?n(s,C,y):n(s,C))||y);return m>3&&y&&Object.defineProperty(s,C,y),y},G;(function(N){N.Tap="-monaco-gesturetap",N.Change="-monaco-gesturechange",N.Start="-monaco-gesturestart",N.End="-monaco-gesturesend",N.Contextmenu="-monaco-gesturecontextmenu"})(G||(G={}));class x extends O.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(h.nm(document,"touchstart",s=>this.onTouchStart(s),{passive:!1})),this._register(h.nm(document,"touchend",s=>this.onTouchEnd(s))),this._register(h.nm(document,"touchmove",s=>this.onTouchMove(s),{passive:!1}))}static addTarget(s){return x.isTouchDevice()?(x.INSTANCE||(x.INSTANCE=new x),x.INSTANCE.targets.push(s),{dispose:()=>{x.INSTANCE.targets=x.INSTANCE.targets.filter(C=>C!==s)}}):O.JT.None}static ignoreTarget(s){return x.isTouchDevice()?(x.INSTANCE||(x.INSTANCE=new x),x.INSTANCE.ignoreTargets.push(s),{dispose:()=>{x.INSTANCE.ignoreTargets=x.INSTANCE.ignoreTargets.filter(C=>C!==s)}}):O.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(s){let C=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let l=0,m=s.targetTouches.length;l<m;l++){let y=s.targetTouches.item(l);this.activeTouches[y.identifier]={id:y.identifier,initialTarget:y.target,initialTimeStamp:C,initialPageX:y.pageX,initialPageY:y.pageY,rollingTimestamps:[C],rollingPageX:[y.pageX],rollingPageY:[y.pageY]};let n=this.newGestureEvent(G.Start,y.target);n.pageX=y.pageX,n.pageY=y.pageY,this.dispatchEvent(n)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}onTouchEnd(s){let C=Date.now(),l=Object.keys(this.activeTouches).length;for(let m=0,y=s.changedTouches.length;m<y;m++){let n=s.changedTouches.item(m);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("move of an UNKNOWN touch",n);continue}let p=this.activeTouches[n.identifier],f=Date.now()-p.initialTimeStamp;if(f<x.HOLD_DELAY&&Math.abs(p.initialPageX-W.Gb(p.rollingPageX))<30&&Math.abs(p.initialPageY-W.Gb(p.rollingPageY))<30){let v=this.newGestureEvent(G.Tap,p.initialTarget);v.pageX=W.Gb(p.rollingPageX),v.pageY=W.Gb(p.rollingPageY),this.dispatchEvent(v)}else if(f>=x.HOLD_DELAY&&Math.abs(p.initialPageX-W.Gb(p.rollingPageX))<30&&Math.abs(p.initialPageY-W.Gb(p.rollingPageY))<30){let v=this.newGestureEvent(G.Contextmenu,p.initialTarget);v.pageX=W.Gb(p.rollingPageX),v.pageY=W.Gb(p.rollingPageY),this.dispatchEvent(v)}else if(l===1){let v=W.Gb(p.rollingPageX),d=W.Gb(p.rollingPageY),a=W.Gb(p.rollingTimestamps)-p.rollingTimestamps[0],u=v-p.rollingPageX[0],c=d-p.rollingPageY[0];const b=this.targets.filter(L=>p.initialTarget instanceof Node&&L.contains(p.initialTarget));this.inertia(b,C,Math.abs(u)/a,u>0?1:-1,v,Math.abs(c)/a,c>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(G.End,p.initialTarget)),delete this.activeTouches[n.identifier]}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}newGestureEvent(s,C){let l=document.createEvent("CustomEvent");return l.initEvent(s,!1,!0),l.initialTarget=C,l.tapCount=0,l}dispatchEvent(s){if(s.type===G.Tap){const C=new Date().getTime();let l=0;C-this._lastSetTapCountTime>x.CLEAR_TAP_COUNT_TIME?l=1:l=2,this._lastSetTapCountTime=C,s.tapCount=l}else(s.type===G.Change||s.type===G.Contextmenu)&&(this._lastSetTapCountTime=0);for(let C=0;C<this.ignoreTargets.length;C++)if(s.initialTarget instanceof Node&&this.ignoreTargets[C].contains(s.initialTarget))return;this.targets.forEach(C=>{s.initialTarget instanceof Node&&C.contains(s.initialTarget)&&(C.dispatchEvent(s),this.dispatched=!0)})}inertia(s,C,l,m,y,n,p,f){this.handle=h.jL(()=>{let v=Date.now(),d=v-C,a=0,u=0,c=!0;l+=x.SCROLL_FRICTION*d,n+=x.SCROLL_FRICTION*d,l>0&&(c=!1,a=m*l*d),n>0&&(c=!1,u=p*n*d);let b=this.newGestureEvent(G.Change);b.translationX=a,b.translationY=u,s.forEach(L=>L.dispatchEvent(b)),c||this.inertia(s,v,l,m,y+a,n,p,f+u)})}onTouchMove(s){let C=Date.now();for(let l=0,m=s.changedTouches.length;l<m;l++){let y=s.changedTouches.item(l);if(!this.activeTouches.hasOwnProperty(String(y.identifier))){console.warn("end of an UNKNOWN touch",y);continue}let n=this.activeTouches[y.identifier],p=this.newGestureEvent(G.Change,n.initialTarget);p.translationX=y.pageX-W.Gb(n.rollingPageX),p.translationY=y.pageY-W.Gb(n.rollingPageY),p.pageX=y.pageX,p.pageY=y.pageY,this.dispatchEvent(p),n.rollingPageX.length>3&&(n.rollingPageX.shift(),n.rollingPageY.shift(),n.rollingTimestamps.shift()),n.rollingPageX.push(y.pageX),n.rollingPageY.push(y.pageY),n.rollingTimestamps.push(C)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}}x.SCROLL_FRICTION=-.005,x.HOLD_DELAY=700,x.CLEAR_TAP_COUNT_TIME=400,w([k.H],x,"isTouchDevice",null)},76033:function(Ct,we,t){"use strict";t.d(we,{Y:function(){return l},g:function(){return m}});var h=t(16268),W=t(23547),k=t(65321),O=t(10553),w=t(74741),G=t(9917),x=t(1432),N=t(98401),s=t(31285),C=t(63580);class l extends G.JT{constructor(n,p,f={}){super(),this.options=f,this._context=n||this,this._action=p,p instanceof w.aU&&this._register(p.onDidChange(v=>{this.element&&this.handleActionChangeEvent(v)}))}handleActionChangeEvent(n){n.enabled!==void 0&&this.updateEnabled(),n.checked!==void 0&&this.updateChecked(),n.class!==void 0&&this.updateClass(),n.label!==void 0&&(this.updateLabel(),this.updateTooltip()),n.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new w.Wi)),this._actionRunner}set actionRunner(n){this._actionRunner=n}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(n){this._context=n}render(n){const p=this.element=n;this._register(O.o.addTarget(n));const f=this.options&&this.options.draggable;f&&(n.draggable=!0,h.vU&&this._register((0,k.nm)(n,k.tw.DRAG_START,v=>{var d;return(d=v.dataTransfer)===null||d===void 0?void 0:d.setData(W.go.TEXT,this._action.label)}))),this._register((0,k.nm)(p,O.t.Tap,v=>this.onClick(v,!0))),this._register((0,k.nm)(p,k.tw.MOUSE_DOWN,v=>{f||k.zB.stop(v,!0),this._action.enabled&&v.button===0&&p.classList.add("active")})),x.dz&&this._register((0,k.nm)(p,k.tw.CONTEXT_MENU,v=>{v.button===0&&v.ctrlKey===!0&&this.onClick(v)})),this._register((0,k.nm)(p,k.tw.CLICK,v=>{k.zB.stop(v,!0),this.options&&this.options.isMenu||this.onClick(v)})),this._register((0,k.nm)(p,k.tw.DBLCLICK,v=>{k.zB.stop(v,!0)})),[k.tw.MOUSE_UP,k.tw.MOUSE_OUT].forEach(v=>{this._register((0,k.nm)(p,v,d=>{k.zB.stop(d),p.classList.remove("active")}))})}onClick(n,p=!1){var f;k.zB.stop(n,!0);const v=N.Jp(this._context)?!((f=this.options)===null||f===void 0)&&f.useEventAsContext?n:{preserveFocus:p}:this._context;this.actionRunner.run(this._action,v)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(n){this.element&&(this.element.tabIndex=n?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class m extends l{constructor(n,p,f={}){super(n,p,f),this.options=f,this.options.icon=f.icon!==void 0?f.icon:!1,this.options.label=f.label!==void 0?f.label:!0,this.cssClass=""}render(n){super.render(n),this.element&&(this.label=(0,k.R3)(this.element,(0,k.$)("a.action-label"))),this.label&&(this._action.id===w.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,k.R3)(this.element,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(n){this.label&&(this.label.tabIndex=n?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let n=null;this.getAction().tooltip?n=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(n=this.getAction().label,this.options.keybinding&&(n=C.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",n,this.options.keybinding))),n&&this.label&&(this.label.title=n)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},90317:function(Ct,we,t){"use strict";t.d(we,{o:function(){return C}});var h=t(65321),W=t(59069),k=t(76033),O=t(74741),w=t(4669),G=t(9917),x=t(98401),N=t(31285),s=function(l,m,y,n){function p(f){return f instanceof y?f:new y(function(v){v(f)})}return new(y||(y=Promise))(function(f,v){function d(c){try{u(n.next(c))}catch(b){v(b)}}function a(c){try{u(n.throw(c))}catch(b){v(b)}}function u(c){c.done?f(c.value):p(c.value).then(d,a)}u((n=n.apply(l,m||[])).next())})};class C extends G.JT{constructor(m,y={}){var n,p,f,v,d,a;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new w.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new w.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new w.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new w.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=y,this._context=(n=y.context)!==null&&n!==void 0?n:null,this._orientation=(p=this.options.orientation)!==null&&p!==void 0?p:0,this._triggerKeys={keyDown:(v=(f=this.options.triggerKeys)===null||f===void 0?void 0:f.keyDown)!==null&&v!==void 0?v:!1,keys:(a=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keys)!==null&&a!==void 0?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new O.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(b=>this._onDidRun.fire(b))),this._register(this._actionRunner.onBeforeRun(b=>this._onBeforeRun.fire(b))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",y.animated!==!1&&this.domNode.classList.add("animated");let u,c;switch(this._orientation){case 0:u=[15],c=[17];break;case 1:u=[16],c=[18],this.domNode.className+=" vertical";break}this._register(h.nm(this.domNode,h.tw.KEY_DOWN,b=>{const L=new W.y(b);let R=!0;const T=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;u&&(L.equals(u[0])||L.equals(u[1]))?R=this.focusPrevious():c&&(L.equals(c[0])||L.equals(c[1]))?R=this.focusNext():L.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():L.equals(14)?R=this.focusFirst():L.equals(13)?R=this.focusLast():L.equals(2)&&T instanceof k.Y&&T.trapsArrowNavigation?R=this.focusNext():this.isTriggerKeyEvent(L)?this._triggerKeys.keyDown?this.doTrigger(L):this.triggerKeyDown=!0:R=!1,R&&(L.preventDefault(),L.stopPropagation())})),this._register(h.nm(this.domNode,h.tw.KEY_UP,b=>{const L=new W.y(b);this.isTriggerKeyEvent(L)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(L)),L.preventDefault(),L.stopPropagation()):(L.equals(2)||L.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(h.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(h.vY()===this.domNode||!h.jg(h.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),m.appendChild(this.domNode)}isTriggerKeyEvent(m){let y=!1;return this._triggerKeys.keys.forEach(n=>{y=y||m.equals(n)}),y}updateFocusedItem(){for(let m=0;m<this.actionsList.children.length;m++){const y=this.actionsList.children[m];if(h.jg(h.vY(),y)){this.focusedItem=m;break}}}get context(){return this._context}set context(m){this._context=m,this.viewItems.forEach(y=>y.setActionContext(m))}get actionRunner(){return this._actionRunner}set actionRunner(m){m&&(this._actionRunner=m,this.viewItems.forEach(y=>y.actionRunner=m))}getContainer(){return this.domNode}push(m,y={}){const n=Array.isArray(m)?m:[m];let p=x.hj(y.index)?y.index:null;n.forEach(f=>{const v=document.createElement("li");v.className="action-item",v.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(h.nm(v,h.tw.CONTEXT_MENU,a=>{h.zB.stop(a,!0)}));let d;this.options.actionViewItemProvider&&(d=this.options.actionViewItemProvider(f)),d||(d=new k.g(this.context,f,y)),d.actionRunner=this._actionRunner,d.setActionContext(this.context),d.render(v),this.focusable&&d instanceof k.Y&&this.viewItems.length===0&&d.setFocusable(!0),p===null||p<0||p>=this.actionsList.children.length?(this.actionsList.appendChild(v),this.viewItems.push(d),this._actionIds.push(f.id)):(this.actionsList.insertBefore(v,this.actionsList.children[p]),this.viewItems.splice(p,0,d),this._actionIds.splice(p,0,f.id),p++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,G.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],h.PO(this.actionsList)}length(){return this.viewItems.length}focus(m){let y=!1,n;if(m===void 0?y=!0:typeof m=="number"?n=m:typeof m=="boolean"&&(y=m),y&&typeof this.focusedItem=="undefined"){const p=this.viewItems.findIndex(f=>f.isEnabled());this.focusedItem=p===-1?void 0:p,this.updateFocus()}else n!==void 0&&(this.focusedItem=n),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const m=this.focusedItem;let y;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=m,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,y=this.viewItems[this.focusedItem]}while(this.focusedItem!==m&&this.options.focusOnlyEnabledItems&&!y.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const m=this.focusedItem;let y;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=m,!1;this.focusedItem=this.viewItems.length-1}y=this.viewItems[this.focusedItem]}while(this.focusedItem!==m&&this.options.focusOnlyEnabledItems&&!y.isEnabled());return this.updateFocus(!0),!0}updateFocus(m,y){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:y});for(let n=0;n<this.viewItems.length;n++){const p=this.viewItems[n],f=p;if(n===this.focusedItem){let v=!0;x.mf(f.focus)||(v=!1),this.options.focusOnlyEnabledItems&&x.mf(p.isEnabled)&&!p.isEnabled()&&(v=!1),v?f.focus(m):this.actionsList.focus({preventScroll:y})}else x.mf(f.blur)&&f.blur()}}doTrigger(m){if(typeof this.focusedItem=="undefined")return;const y=this.viewItems[this.focusedItem];if(y instanceof k.Y){const n=y._context===null||y._context===void 0?m:y._context;this.run(y._action,n)}}run(m,y){return s(this,void 0,void 0,function*(){yield this._actionRunner.run(m,y)})}dispose(){(0,G.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},35996:function(Ct,we,t){"use strict";t.d(we,{Z9:function(){return C},wW:function(){return s},i7:function(){return l}});var h=t(65321),W=t(1432);const k=2e4;let O,w,G,x,N;function s(y){O=document.createElement("div"),O.className="monaco-aria-container";const n=()=>{const f=document.createElement("div");return f.className="monaco-alert",f.setAttribute("role","alert"),f.setAttribute("aria-atomic","true"),O.appendChild(f),f};w=n(),G=n();const p=()=>{const f=document.createElement("div");return f.className="monaco-status",f.setAttribute("role","complementary"),f.setAttribute("aria-live","polite"),f.setAttribute("aria-atomic","true"),O.appendChild(f),f};x=p(),N=p(),y.appendChild(O)}function C(y){O&&(w.textContent!==y?(h.PO(G),m(w,y)):(h.PO(w),m(G,y)))}function l(y){O&&(W.dz?C(y):x.textContent!==y?(h.PO(N),m(x,y)):(h.PO(x),m(N,y)))}function m(y,n){h.PO(y),n.length>k&&(n=n.substr(0,k)),y.textContent=n,y.style.visibility="hidden",y.style.visibility="visible"}},15375:function(Ct,we,t){"use strict";t.d(we,{a:function(){return W}});var h=t(73046);function W(k){let O=k.definition;for(;O instanceof h.lA;)O=O.definition;return`.codicon-${k.id}:before { content: '${O.fontCharacter}'; }`}},85207:function(Ct,we,t){"use strict";t.d(we,{Z:function(){return G}});var h=t(65321),W=t(41264),k=t(36248),O=t(97295);const w={badgeBackground:W.Il.fromHex("#4D4D4D"),badgeForeground:W.Il.fromHex("#FFFFFF")};class G{constructor(N,s){this.count=0,this.options=s||Object.create(null),(0,k.jB)(this.options,w,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,h.R3)(N,(0,h.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(N){this.count=N,this.render()}setTitleFormat(N){this.titleFormat=N,this.render()}render(){this.element.textContent=(0,O.WU)(this.countFormat,this.count),this.element.title=(0,O.WU)(this.titleFormat,this.count),this.applyStyles()}style(N){this.badgeBackground=N.badgeBackground,this.badgeForeground=N.badgeForeground,this.badgeBorder=N.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const N=this.badgeBackground?this.badgeBackground.toString():"",s=this.badgeForeground?this.badgeForeground.toString():"",C=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=N,this.element.style.color=s,this.element.style.borderWidth=C?"1px":"",this.element.style.borderStyle=C?"solid":"",this.element.style.borderColor=C}}}},34650:function(Ct,we,t){"use strict";t.d(we,{q:function(){return O}});var h=t(65321),W=t(56811),k=t(36248);class O{constructor(G,x){this.supportIcons=x,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",G.appendChild(this.domNode)}get element(){return this.domNode}set(G,x=[],N="",s){G||(G=""),s&&(G=O.escapeNewLines(G,x)),!(this.didEverRender&&this.text===G&&this.title===N&&k.fS(this.highlights,x))&&(this.text=G,this.title=N,this.highlights=x,this.render())}render(){const G=[];let x=0;for(const N of this.highlights){if(N.end===N.start)continue;if(x<N.start){const l=this.text.substring(x,N.start);G.push(h.$("span",void 0,...this.supportIcons?(0,W.T)(l):[l])),x=N.end}const s=this.text.substring(N.start,N.end),C=h.$("span.highlight",void 0,...this.supportIcons?(0,W.T)(s):[s]);N.extraClasses&&C.classList.add(N.extraClasses),G.push(C),x=N.end}if(x<this.text.length){const N=this.text.substring(x);G.push(h.$("span",void 0,...this.supportIcons?(0,W.T)(N):[N]))}h.mc(this.domNode,...G),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(G,x){let N=0,s=0;return G.replace(/\r\n|\r|\n/g,(C,l)=>{s=C===`\r
`?-1:0,l+=N;for(const m of x)m.end<=l||(m.start>=l&&(m.start+=s),m.end>=l&&(m.end+=s));return N+=s,"\u23CE"})}}},26974:function(Ct,we,t){"use strict";t.d(we,{g:function(){return f}});var h=t(65321),W=t(34650),k=t(15393),O=t(71050),w=t(59365),G=t(9917),x=t(98401),N=t(63580),s=function(u,c,b,L){function R(T){return T instanceof b?T:new b(function(j){j(T)})}return new(b||(b=Promise))(function(T,j){function q(he){try{ne(L.next(he))}catch($){j($)}}function ie(he){try{ne(L.throw(he))}catch($){j($)}}function ne(he){he.done?T(he.value):R(he.value).then(q,ie)}ne((L=L.apply(u,c||[])).next())})};function C(u,c){(0,x.HD)(c)?u.title=c:c!=null&&c.markdownNotSupportedFallback?u.title=c.markdownNotSupportedFallback:u.removeAttribute("title")}class l{constructor(c,b,L){this.hoverDelegate=c,this.target=b,this.fadeInAnimation=L}update(c,b){var L;return s(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let R;if(c===void 0||(0,x.HD)(c)||c instanceof HTMLElement)R=c;else if(!(0,x.mf)(c.markdown))R=(L=c.markdown)!==null&&L!==void 0?L:c.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,N.N)("iconLabel.loading","Loading..."),b),this._cancellationTokenSource=new O.A;const T=this._cancellationTokenSource.token;if(R=yield c.markdown(T),this.isDisposed||T.isCancellationRequested)return}this.show(R,b)})}show(c,b){const L=this._hoverWidget;if(this.hasContent(c)){const R={content:c,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!L};this._hoverWidget=this.hoverDelegate.showHover(R,b)}L==null||L.dispose()}hasContent(c){return c?(0,w.Fr)(c)?!!c.value:!0:!1}get isDisposed(){var c;return(c=this._hoverWidget)===null||c===void 0?void 0:c.isDisposed}dispose(){var c,b;(c=this._hoverWidget)===null||c===void 0||c.dispose(),(b=this._cancellationTokenSource)===null||b===void 0||b.dispose(!0),this._cancellationTokenSource=void 0}}function m(u,c,b){let L,R;const T=(he,$)=>{var V;he&&(R==null||R.dispose(),R=void 0),$&&(L==null||L.dispose(),L=void 0),(V=u.onDidHideHover)===null||V===void 0||V.call(u)},j=(he,$,V)=>new k._F(()=>s(this,void 0,void 0,function*(){(!R||R.isDisposed)&&(R=new l(u,V||c,he>0),yield R.update(b,$))}),he),q=()=>{if(L)return;const he=new G.SL,$=Q=>T(!1,Q.fromElement===c);he.add(h.nm(c,h.tw.MOUSE_LEAVE,$,!0));const V=()=>T(!0,!0);he.add(h.nm(c,h.tw.MOUSE_DOWN,V,!0));const z={targetElements:[c],dispose:()=>{}};if(u.placement===void 0||u.placement==="mouse"){const Q=le=>z.x=le.x+10;he.add(h.nm(c,h.tw.MOUSE_MOVE,Q,!0))}he.add(j(u.delay,!1,z)),L=he},ie=h.nm(c,h.tw.MOUSE_OVER,q,!0);return{show:he=>{T(!1,!0),j(0,he)},hide:()=>{T(!0,!0)},update:he=>s(this,void 0,void 0,function*(){b=he,yield R==null?void 0:R.update(b)}),dispose:()=>{ie.dispose(),T(!0,!0)}}}var y=t(36248),n=t(61134);class p{constructor(c){this._element=c}get element(){return this._element}set textContent(c){this.disposed||c===this._textContent||(this._textContent=c,this._element.textContent=c)}set className(c){this.disposed||c===this._className||(this._className=c,this._element.className=c)}set empty(c){this.disposed||c===this._empty||(this._empty=c,this._element.style.marginLeft=c?"0":"")}dispose(){this.disposed=!0}}class f extends G.JT{constructor(c,b){super(),this.customHovers=new Map,this.domNode=this._register(new p(h.R3(c,h.$(".monaco-icon-label")))),this.labelContainer=h.R3(this.domNode.element,h.$(".monaco-icon-label-container"));const L=h.R3(this.labelContainer,h.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new p(h.R3(this.labelContainer,h.$("span.monaco-icon-description-container")))),b!=null&&b.supportHighlights||b!=null&&b.supportIcons?this.nameNode=new a(L,!!b.supportIcons):this.nameNode=new v(L),b!=null&&b.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new W.q(h.R3(this.descriptionContainer.element,h.$("span.label-description")),!!b.supportIcons):this.descriptionNodeFactory=()=>this._register(new p(h.R3(this.descriptionContainer.element,h.$("span.label-description")))),this.hoverDelegate=b==null?void 0:b.hoverDelegate}get element(){return this.domNode.element}setLabel(c,b,L){const R=["monaco-icon-label"];L&&(L.extraClasses&&R.push(...L.extraClasses),L.italic&&R.push("italic"),L.strikethrough&&R.push("strikethrough")),this.domNode.className=R.join(" "),this.setupHover(L!=null&&L.descriptionTitle?this.labelContainer:this.element,L==null?void 0:L.title),this.nameNode.setLabel(c,L),(b||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof W.q?(this.descriptionNode.set(b||"",L?L.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,L==null?void 0:L.descriptionTitle)):(this.descriptionNode.textContent=b||"",this.setupHover(this.descriptionNode.element,(L==null?void 0:L.descriptionTitle)||""),this.descriptionNode.empty=!b))}setupHover(c,b){const L=this.customHovers.get(c);if(L&&(L.dispose(),this.customHovers.delete(c)),!b){c.removeAttribute("title");return}if(!this.hoverDelegate)C(c,b);else{const R=m(this.hoverDelegate,c,b);R&&this.customHovers.set(c,R)}}dispose(){super.dispose();for(const c of this.customHovers.values())c.dispose();this.customHovers.clear()}}class v{constructor(c){this.container=c,this.label=void 0,this.singleLabel=void 0}setLabel(c,b){if(!(this.label===c&&(0,y.fS)(this.options,b)))if(this.label=c,this.options=b,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=h.R3(this.container,h.$("a.label-name",{id:b==null?void 0:b.domId}))),this.singleLabel.textContent=c;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let L=0;L<c.length;L++){const R=c[L],T=(b==null?void 0:b.domId)&&`${b==null?void 0:b.domId}_${L}`;h.R3(this.container,h.$("a.label-name",{id:T,"data-icon-label-count":c.length,"data-icon-label-index":L,role:"treeitem"},R)),L<c.length-1&&h.R3(this.container,h.$("span.label-separator",void 0,(b==null?void 0:b.separator)||"/"))}}}}function d(u,c,b){if(!b)return;let L=0;return u.map(R=>{const T={start:L,end:L+R.length},j=b.map(q=>n.e.intersect(T,q)).filter(q=>!n.e.isEmpty(q)).map(({start:q,end:ie})=>({start:q-L,end:ie-L}));return L=T.end+c.length,j})}class a{constructor(c,b){this.container=c,this.supportIcons=b,this.label=void 0,this.singleLabel=void 0}setLabel(c,b){if(!(this.label===c&&(0,y.fS)(this.options,b)))if(this.label=c,this.options=b,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new W.q(h.R3(this.container,h.$("a.label-name",{id:b==null?void 0:b.domId})),this.supportIcons)),this.singleLabel.set(c,b==null?void 0:b.matches,void 0,b==null?void 0:b.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const L=(b==null?void 0:b.separator)||"/",R=d(c,L,b==null?void 0:b.matches);for(let T=0;T<c.length;T++){const j=c[T],q=R?R[T]:void 0,ie=(b==null?void 0:b.domId)&&`${b==null?void 0:b.domId}_${T}`,ne=h.$("a.label-name",{id:ie,"data-icon-label-count":c.length,"data-icon-label-index":T,role:"treeitem"});new W.q(h.R3(this.container,ne),this.supportIcons).set(j,q,void 0,b==null?void 0:b.labelEscapeNewLines),T<c.length-1&&h.R3(ne,h.$("span.label-separator",void 0,L))}}}}},56811:function(Ct,we,t){"use strict";t.d(we,{T:function(){return O}});var h=t(65321),W=t(73046);const k=new RegExp(`(\\\\)?\\$\\((${W.dT.iconNameExpression}(?:${W.dT.iconModifierExpression})?)\\)`,"g");function O(G){const x=new Array;let N,s=0,C=0;for(;(N=k.exec(G))!==null;){C=N.index||0,x.push(G.substring(s,C)),s=(N.index||0)+N[0].length;const[,l,m]=N;x.push(l?`$(${m})`:w({id:m}))}return s<G.length&&x.push(G.substring(s)),x}function w(G){const x=h.$("span");return x.classList.add(...W.dT.asClassNameArray(G)),x}},97862:function(Ct,we,t){"use strict";t.d(we,{p:function(){return v},W:function(){return f}});var h=t(65321),W=t(4850),k=t(94079),O=t(90317),w=t(35996),G=t(13433),x=t(93794),N=t(41264),s=t(4669);class C{constructor(a,u=0,c=a.length,b=u-1){this.items=a,this.start=u,this.end=c,this.index=b}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class l{constructor(a=[],u=10){this._initialize(a),this._limit=u,this._onChange()}getHistory(){return this._elements}add(a){this._history.delete(a),this._history.add(a),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(a){return this._history.has(a)}_onChange(){this._reduceToLimit();const a=this._elements;this._navigator=new C(a,0,a.length,a.length)}_reduceToLimit(){const a=this._elements;a.length>this._limit&&this._initialize(a.slice(a.length-this._limit))}_currentPosition(){const a=this._navigator.current();return a?this._elements.indexOf(a):-1}_initialize(a){this._history=new Set;for(const u of a)this._history.add(u)}get _elements(){const a=[];return this._history.forEach(u=>a.push(u)),a}}var m=t(36248),y=t(63580);const n=h.$,p={inputBackground:N.Il.fromHex("#3C3C3C"),inputForeground:N.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:N.Il.fromHex("#55AAFF"),inputValidationInfoBackground:N.Il.fromHex("#063B49"),inputValidationWarningBorder:N.Il.fromHex("#B89500"),inputValidationWarningBackground:N.Il.fromHex("#352A05"),inputValidationErrorBorder:N.Il.fromHex("#BE1100"),inputValidationErrorBackground:N.Il.fromHex("#5A1D1D")};class f extends x.${constructor(a,u,c){var b;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new s.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new s.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=u,this.options=c||Object.create(null),(0,m.jB)(this.options,p,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(b=this.options.tooltip)!==null&&b!==void 0?b:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=h.R3(a,n(".monaco-inputbox.idle"));let L=this.options.flexibleHeight?"textarea":"input",R=h.R3(this.element,n(".ibwrapper"));if(this.input=h.R3(R,n(L+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=h.R3(R,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new G.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),h.R3(a,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(q=>this.input.scrollTop=q.scrollTop));const T=this._register(new W.Y(document,"selectionchange")),j=s.ju.filter(T.event,()=>{const q=document.getSelection();return(q==null?void 0:q.anchorNode)===R});this._register(j(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new O.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(a){this.placeholder=a,this.input.setAttribute("placeholder",a)}setTooltip(a){this.tooltip=a,this.input.title=a}setAriaLabel(a){this.ariaLabel=a,a?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(a){this.input.value!==a&&(this.input.value=a,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:h.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(a=null){this.input.select(),a&&(this.input.setSelectionRange(a.start,a.end),a.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return h.w(this.input)}set width(a){if(this.options.flexibleHeight&&this.options.flexibleWidth){let u=0;if(this.mirror){const c=parseFloat(this.mirror.style.paddingLeft||"")||0,b=parseFloat(this.mirror.style.paddingRight||"")||0;u=c+b}this.input.style.width=a-u+"px"}else this.input.style.width=a+"px";this.mirror&&(this.mirror.style.width=a+"px")}set paddingRight(a){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${a}px)`:this.input.style.paddingRight=a+"px",this.mirror&&(this.mirror.style.paddingRight=a+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const a=this.cachedContentHeight,u=this.cachedHeight,c=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:a,height:u}),this.scrollableElement.setScrollPosition({scrollTop:c})}showMessage(a,u){this.message=a,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(a.type));const c=this.stylesForType(this.message.type);this.element.style.border=c.border?`1px solid ${c.border}`:"",(this.hasFocus()||u)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let a=null;return this.validation&&(a=this.validation(this.value),a?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(a)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),a==null?void 0:a.type}stylesForType(a){switch(a){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(a){switch(a){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let a,u=()=>a.style.width=h.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:b=>{if(!this.message)return null;a=h.R3(b,n(".monaco-inputbox-container")),u();const L={inline:!0,className:"monaco-inputbox-message"},R=this.message.formatContent?(0,k.BO)(this.message.content,L):(0,k.IY)(this.message.content,L);R.classList.add(this.classForType(this.message.type));const T=this.stylesForType(this.message.type);return R.style.backgroundColor=T.background?T.background.toString():"",R.style.color=T.foreground?T.foreground.toString():"",R.style.border=T.border?`1px solid ${T.border}`:"",h.R3(a,R),null},onHide:()=>{this.state="closed"},layout:u});let c;this.message.type===3?c=y.N("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?c=y.N("alertWarningMessage","Warning: {0}",this.message.content):c=y.N("alertInfoMessage","Info: {0}",this.message.content),w.Z9(c),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const a=this.value,c=a.charCodeAt(a.length-1)===10?" ":"";(a+c).replace(/\u000c/g,"")?this.mirror.textContent=a+c:this.mirror.innerText="\xA0",this.layout()}style(a){this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const a=this.inputBackground?this.inputBackground.toString():"",u=this.inputForeground?this.inputForeground.toString():"",c=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=a,this.element.style.color=u,this.input.style.backgroundColor="inherit",this.input.style.color=u,this.element.style.borderWidth=c?"1px":"",this.element.style.borderStyle=c?"solid":"",this.element.style.borderColor=c}layout(){if(!this.mirror)return;const a=this.cachedContentHeight;this.cachedContentHeight=h.wn(this.mirror),a!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(a){const u=this.inputElement,c=u.selectionStart,b=u.selectionEnd,L=u.value;c!==null&&b!==null&&(this.value=L.substr(0,c)+a+L.substr(b),u.setSelectionRange(c+1,c+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class v extends f{constructor(a,u,c){const b=y.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),L=` or \u21C5 ${b}`,R=` (\u21C5 ${b})`;super(a,u,c),this.history=new l(c.history,100);const T=()=>{if(c.showHistoryHint&&c.showHistoryHint()&&!this.placeholder.endsWith(L)&&!this.placeholder.endsWith(R)&&this.history.getHistory().length){const j=this.placeholder.endsWith(")")?L:R,q=this.placeholder+j;c.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=q:this.setPlaceHolder(q)}};this.observer=new MutationObserver((j,q)=>{j.forEach(ie=>{ie.target.textContent||T()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>T()),this.onblur(this.input,()=>{const j=q=>{if(this.placeholder.endsWith(q)){const ie=this.placeholder.slice(0,this.placeholder.length-q.length);return c.showPlaceholderOnFocus?this.placeholder=ie:this.setPlaceHolder(ie),!0}else return!1};j(R)||j(L)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let a=this.getNextValue();a&&(a=a===this.value?this.getNextValue():a),a&&(this.value=a,w.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let a=this.getPreviousValue();a&&(a=a===this.value?this.getPreviousValue():a),a&&(this.value=a,w.i7(this.value))}getCurrentValue(){let a=this.history.current();return a||(a=this.history.last(),this.history.next()),a}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},72010:function(Ct,we,t){"use strict";t.d(we,{kX:function(){return R},Bv:function(){return ne}});var h=t(16268),W=t(23547),k=t(65321),O=t(4850),w=t(10553),G=t(13433),x=t(9488),N=t(15393),s=t(49898),C=t(4669),l=t(9917),m=t(36248),y=t(61134),n=t(76633);function p(he,$){const V=[];for(let z of $){if(he.start>=z.range.end)continue;if(he.end<z.range.start)break;const Q=y.e.intersect(he,z.range);y.e.isEmpty(Q)||V.push({range:Q,size:z.size})}return V}function f({start:he,end:$},V){return{start:he+V,end:$+V}}function v(he){const $=[];let V=null;for(let z of he){const Q=z.range.start,le=z.range.end,E=z.size;if(V&&E===V.size){V.range.end=le;continue}V={range:{start:Q,end:le},size:E},$.push(V)}return $}function d(...he){return v(he.reduce(($,V)=>$.concat(V),[]))}class a{constructor(){this.groups=[],this._size=0}splice($,V,z=[]){const Q=z.length-V,le=p({start:0,end:$},this.groups),E=p({start:$+V,end:Number.POSITIVE_INFINITY},this.groups).map(A=>({range:f(A.range,Q),size:A.size})),I=z.map((A,H)=>({range:{start:$+H,end:$+H+1},size:A.size}));this.groups=d(le,I,E),this._size=this.groups.reduce((A,H)=>A+H.size*(H.range.end-H.range.start),0)}get count(){const $=this.groups.length;return $?this.groups[$-1].range.end:0}get size(){return this._size}indexAt($){if($<0)return-1;let V=0,z=0;for(let Q of this.groups){const le=Q.range.end-Q.range.start,E=z+le*Q.size;if($<E)return V+Math.floor(($-z)/Q.size);V+=le,z=E}return V}indexAfter($){return Math.min(this.indexAt($)+1,this.count)}positionAt($){if($<0)return-1;let V=0,z=0;for(let Q of this.groups){const le=Q.range.end-Q.range.start,E=z+le;if($<E)return V+($-z)*Q.size;V+=le*Q.size,z=E}return-1}}function u(he){try{he.parentElement&&he.parentElement.removeChild(he)}catch($){}}class c{constructor($){this.renderers=$,this.cache=new Map}alloc($){let V=this.getTemplateCache($).pop();if(!V){const z=(0,k.$)(".monaco-list-row"),le=this.getRenderer($).renderTemplate(z);V={domNode:z,templateId:$,templateData:le}}return V}release($){$&&this.releaseRow($)}releaseRow($){const{domNode:V,templateId:z}=$;V&&(V.classList.remove("scrolling"),u(V)),this.getTemplateCache(z).push($)}getTemplateCache($){let V=this.cache.get($);return V||(V=[],this.cache.set($,V)),V}dispose(){this.cache.forEach(($,V)=>{for(const z of $)this.getRenderer(V).disposeTemplate(z.templateData),z.templateData=null}),this.cache.clear()}getRenderer($){const V=this.renderers.get($);if(!V)throw new Error(`No renderer found for ${$}`);return V}}var b=function(he,$,V,z){var Q=arguments.length,le=Q<3?$:z===null?z=Object.getOwnPropertyDescriptor($,V):z,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(he,$,V,z);else for(var I=he.length-1;I>=0;I--)(E=he[I])&&(le=(Q<3?E(le):Q>3?E($,V,le):E($,V))||le);return Q>3&&le&&Object.defineProperty($,V,le),le};const L={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(he){return[he]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class R{constructor($){this.elements=$}update(){}getData(){return this.elements}}class T{constructor($){this.elements=$}update(){}getData(){return this.elements}}class j{constructor(){this.types=[],this.files=[]}update($){if($.types&&this.types.splice(0,this.types.length,...$.types),$.files){this.files.splice(0,this.files.length);for(let V=0;V<$.files.length;V++){const z=$.files.item(V);z&&(z.size||z.type)&&this.files.push(z)}}}getData(){return{types:this.types,files:this.files}}}function q(he,$){return Array.isArray(he)&&Array.isArray($)?(0,x.fS)(he,$):he===$}class ie{constructor($){$!=null&&$.getSetSize?this.getSetSize=$.getSetSize.bind($):this.getSetSize=(V,z,Q)=>Q,$!=null&&$.getPosInSet?this.getPosInSet=$.getPosInSet.bind($):this.getPosInSet=(V,z)=>z+1,$!=null&&$.getRole?this.getRole=$.getRole.bind($):this.getRole=V=>"listitem",$!=null&&$.isChecked?this.isChecked=$.isChecked.bind($):this.isChecked=V=>{}}}class ne{constructor($,V,z,Q=L){if(this.virtualDelegate=V,this.domId=`list_id_${++ne.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new N.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=l.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=l.JT.None,this.onDragLeaveTimeout=l.JT.None,this.disposables=new l.SL,this._onDidChangeContentHeight=new C.Q5,this._horizontalScrolling=!1,Q.horizontalScrolling&&Q.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new a;for(const E of z)this.renderers.set(E.templateId,E);this.cache=this.disposables.add(new c(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof Q.mouseSupport=="boolean"?Q.mouseSupport:!0),this._horizontalScrolling=(0,m.CJ)(Q,E=>E.horizontalScrolling,L.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof Q.additionalScrollHeight=="undefined"?0:Q.additionalScrollHeight,this.accessibilityProvider=new ie(Q.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,m.CJ)(Q,E=>E.transformOptimization,L.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(w.o.addTarget(this.rowsContainer)),this.scrollable=new n.Rm((0,m.CJ)(Q,E=>E.smoothScrolling,!1)?125:0,E=>(0,k.jL)(E)),this.scrollableElement=this.disposables.add(new G.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,m.CJ)(Q,E=>E.alwaysConsumeMouseWheel,L.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,m.CJ)(Q,E=>E.verticalScrollMode,L.verticalScrollMode),useShadows:(0,m.CJ)(Q,E=>E.useShadows,L.useShadows),mouseWheelScrollSensitivity:Q.mouseWheelScrollSensitivity,fastScrollSensitivity:Q.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),$.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.nm)(this.rowsContainer,w.t.Change,E=>this.onTouchChange(E))),this.disposables.add((0,k.nm)(this.scrollableElement.getDomNode(),"scroll",E=>E.target.scrollTop=0)),this.disposables.add((0,k.nm)(this.domNode,"dragover",E=>this.onDragOver(this.toDragEvent(E)))),this.disposables.add((0,k.nm)(this.domNode,"drop",E=>this.onDrop(this.toDragEvent(E)))),this.disposables.add((0,k.nm)(this.domNode,"dragleave",E=>this.onDragLeave(this.toDragEvent(E)))),this.disposables.add((0,k.nm)(this.domNode,"dragend",E=>this.onDragEnd(E))),this.setRowLineHeight=(0,m.CJ)(Q,E=>E.setRowLineHeight,L.setRowLineHeight),this.setRowHeight=(0,m.CJ)(Q,E=>E.setRowHeight,L.setRowHeight),this.supportDynamicHeights=(0,m.CJ)(Q,E=>E.supportDynamicHeights,L.supportDynamicHeights),this.dnd=(0,m.CJ)(Q,E=>E.dnd,L.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling($){if($!==this._horizontalScrolling){if($&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=$,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const V of this.items)this.measureItemWidth(V);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions($){$.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=$.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),$.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration($.smoothScrolling?125:0),$.horizontalScrolling!==void 0&&(this.horizontalScrolling=$.horizontalScrolling),$.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:$.mouseWheelScrollSensitivity}),$.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:$.fastScrollSensitivity})}splice($,V,z=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice($,V,z)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice($,V,z=[]){const Q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),le={start:$,end:$+V},E=y.e.intersect(Q,le),I=new Map;for(let ce=E.start;ce<E.end;ce++){const Te=this.items[ce];if(Te.dragStartDisposable.dispose(),Te.row){let xe=I.get(Te.templateId);xe||(xe=[],I.set(Te.templateId,xe));const Fe=this.renderers.get(Te.templateId);Fe&&Fe.disposeElement&&Fe.disposeElement(Te.element,ce,Te.row.templateData,Te.size),xe.push(Te.row)}Te.row=null}const A={start:$+V,end:this.items.length},H=y.e.intersect(A,Q),Y=y.e.relativeComplement(A,Q),X=z.map(ce=>({id:String(this.itemId++),element:ce,templateId:this.virtualDelegate.getTemplateId(ce),size:this.virtualDelegate.getHeight(ce),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(ce),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:l.JT.None}));let re;$===0&&V>=this.items.length?(this.rangeMap=new a,this.rangeMap.splice(0,0,X),re=this.items,this.items=X):(this.rangeMap.splice($,V,X),re=this.items.splice($,V,...X));const fe=z.length-V,ue=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Oe=f(H,fe),Ce=y.e.intersect(ue,Oe);for(let ce=Ce.start;ce<Ce.end;ce++)this.updateItemInDOM(this.items[ce],ce);const oe=y.e.relativeComplement(Oe,ue);for(const ce of oe)for(let Te=ce.start;Te<ce.end;Te++)this.removeItemFromDOM(Te);const ae=Y.map(ce=>f(ce,fe)),Ve=[{start:$,end:$+z.length},...ae].map(ce=>y.e.intersect(ue,ce)),se=this.getNextToLastElement(Ve);for(const ce of Ve)for(let Te=ce.start;Te<ce.end;Te++){const xe=this.items[Te],Fe=I.get(xe.templateId),Le=Fe==null?void 0:Fe.pop();this.insertItemInDOM(Te,se,Le)}for(const ce of I.values())for(const Te of ce)this.cache.release(Te);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),re.map(ce=>ce.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let $=0;for(const V of this.items)typeof V.width!="undefined"&&($=Math.max($,V.width));this.scrollWidth=$,this.scrollableElement.setScrollDimensions({scrollWidth:$===0?0:$+10})}rerender(){if(this.supportDynamicHeights){for(const $ of this.items)$.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element($){return this.items[$].element}domElement($){const V=this.items[$].row;return V&&V.domNode}elementHeight($){return this.items[$].size}elementTop($){return this.rangeMap.positionAt($)}indexAt($){return this.rangeMap.indexAt($)}indexAfter($){return this.rangeMap.indexAfter($)}layout($,V){let z={height:typeof $=="number"?$:(0,k.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,z.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(z),typeof V!="undefined"&&(this.renderWidth=V,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof V=="number"?V:(0,k.FK)(this.domNode)})}render($,V,z,Q,le,E=!1){const I=this.getRenderRange(V,z),A=y.e.relativeComplement(I,$),H=y.e.relativeComplement($,I),Y=this.getNextToLastElement(A);if(E){const X=y.e.intersect($,I);for(let re=X.start;re<X.end;re++)this.updateItemInDOM(this.items[re],re)}for(const X of A)for(let re=X.start;re<X.end;re++)this.insertItemInDOM(re,Y);for(const X of H)for(let re=X.start;re<X.end;re++)this.removeItemFromDOM(re);Q!==void 0&&(this.rowsContainer.style.left=`-${Q}px`),this.rowsContainer.style.top=`-${V}px`,this.horizontalScrolling&&le!==void 0&&(this.rowsContainer.style.width=`${Math.max(le,this.renderWidth)}px`),this.lastRenderTop=V,this.lastRenderHeight=z}insertItemInDOM($,V,z){const Q=this.items[$];Q.row||(Q.row=z!=null?z:this.cache.alloc(Q.templateId));const le=this.accessibilityProvider.getRole(Q.element)||"listitem";Q.row.domNode.setAttribute("role",le);const E=this.accessibilityProvider.isChecked(Q.element);typeof E!="undefined"&&Q.row.domNode.setAttribute("aria-checked",String(!!E)),Q.row.domNode.parentElement||(V?this.rowsContainer.insertBefore(Q.row.domNode,V):this.rowsContainer.appendChild(Q.row.domNode)),this.updateItemInDOM(Q,$);const I=this.renderers.get(Q.templateId);if(!I)throw new Error(`No renderer found for template id ${Q.templateId}`);I&&I.renderElement(Q.element,$,Q.row.templateData,Q.size);const A=this.dnd.getDragURI(Q.element);Q.dragStartDisposable.dispose(),Q.row.domNode.draggable=!!A,A&&(Q.dragStartDisposable=(0,k.nm)(Q.row.domNode,"dragstart",H=>this.onDragStart(Q.element,A,H))),this.horizontalScrolling&&(this.measureItemWidth(Q),this.eventuallyUpdateScrollWidth())}measureItemWidth($){if(!$.row||!$.row.domNode)return;$.row.domNode.style.width=h.vU?"-moz-fit-content":"fit-content",$.width=(0,k.FK)($.row.domNode);const V=window.getComputedStyle($.row.domNode);V.paddingLeft&&($.width+=parseFloat(V.paddingLeft)),V.paddingRight&&($.width+=parseFloat(V.paddingRight)),$.row.domNode.style.width=""}updateItemInDOM($,V){$.row.domNode.style.top=`${this.elementTop(V)}px`,this.setRowHeight&&($.row.domNode.style.height=`${$.size}px`),this.setRowLineHeight&&($.row.domNode.style.lineHeight=`${$.size}px`),$.row.domNode.setAttribute("data-index",`${V}`),$.row.domNode.setAttribute("data-last-element",V===this.length-1?"true":"false"),$.row.domNode.setAttribute("data-parity",V%2===0?"even":"odd"),$.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize($.element,V,this.length))),$.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet($.element,V))),$.row.domNode.setAttribute("id",this.getElementDomId(V)),$.row.domNode.classList.toggle("drop-target",$.dropTarget)}removeItemFromDOM($){const V=this.items[$];if(V.dragStartDisposable.dispose(),V.row){const z=this.renderers.get(V.templateId);z&&z.disposeElement&&z.disposeElement(V.element,$,V.row.templateData,V.size),this.cache.release(V.row),V.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop($,V){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:$,reuseAnimation:V})}get scrollTop(){return this.getScrollTop()}set scrollTop($){this.setScrollTop($)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return C.ju.map(this.disposables.add(new O.Y(this.domNode,"click")).event,$=>this.toMouseEvent($))}get onMouseDblClick(){return C.ju.map(this.disposables.add(new O.Y(this.domNode,"dblclick")).event,$=>this.toMouseEvent($))}get onMouseMiddleClick(){return C.ju.filter(C.ju.map(this.disposables.add(new O.Y(this.domNode,"auxclick")).event,$=>this.toMouseEvent($)),$=>$.browserEvent.button===1)}get onMouseDown(){return C.ju.map(this.disposables.add(new O.Y(this.domNode,"mousedown")).event,$=>this.toMouseEvent($))}get onContextMenu(){return C.ju.any(C.ju.map(this.disposables.add(new O.Y(this.domNode,"contextmenu")).event,$=>this.toMouseEvent($)),C.ju.map(this.disposables.add(new O.Y(this.domNode,w.t.Contextmenu)).event,$=>this.toGestureEvent($)))}get onTouchStart(){return C.ju.map(this.disposables.add(new O.Y(this.domNode,"touchstart")).event,$=>this.toTouchEvent($))}get onTap(){return C.ju.map(this.disposables.add(new O.Y(this.rowsContainer,w.t.Tap)).event,$=>this.toGestureEvent($))}toMouseEvent($){const V=this.getItemIndexFromEventTarget($.target||null),z=typeof V=="undefined"?void 0:this.items[V],Q=z&&z.element;return{browserEvent:$,index:V,element:Q}}toTouchEvent($){const V=this.getItemIndexFromEventTarget($.target||null),z=typeof V=="undefined"?void 0:this.items[V],Q=z&&z.element;return{browserEvent:$,index:V,element:Q}}toGestureEvent($){const V=this.getItemIndexFromEventTarget($.initialTarget||null),z=typeof V=="undefined"?void 0:this.items[V],Q=z&&z.element;return{browserEvent:$,index:V,element:Q}}toDragEvent($){const V=this.getItemIndexFromEventTarget($.target||null),z=typeof V=="undefined"?void 0:this.items[V],Q=z&&z.element;return{browserEvent:$,index:V,element:Q}}onScroll($){try{const V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(V,$.scrollTop,$.height,$.scrollLeft,$.scrollWidth),this.supportDynamicHeights&&this._rerender($.scrollTop,$.height,$.inSmoothScrolling)}catch(V){throw console.error("Got bad scroll event:",$),V}}onTouchChange($){$.preventDefault(),$.stopPropagation(),this.scrollTop-=$.translationY}onDragStart($,V,z){if(!z.dataTransfer)return;const Q=this.dnd.getDragElements($);if(z.dataTransfer.effectAllowed="copyMove",z.dataTransfer.setData(W.go.TEXT,V),z.dataTransfer.setDragImage){let le;this.dnd.getDragLabel&&(le=this.dnd.getDragLabel(Q,z)),typeof le=="undefined"&&(le=String(Q.length));const E=(0,k.$)(".monaco-drag-image");E.textContent=le,document.body.appendChild(E),z.dataTransfer.setDragImage(E,-10,-10),setTimeout(()=>document.body.removeChild(E),0)}this.currentDragData=new R(Q),W.P$.CurrentDragAndDropData=new T(Q),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,z)}onDragOver($){if($.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),W.P$.CurrentDragAndDropData&&W.P$.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation($.browserEvent),!$.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(W.P$.CurrentDragAndDropData)this.currentDragData=W.P$.CurrentDragAndDropData;else{if(!$.browserEvent.dataTransfer.types)return!1;this.currentDragData=new j}const V=this.dnd.onDragOver(this.currentDragData,$.element,$.index,$.browserEvent);if(this.canDrop=typeof V=="boolean"?V:V.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;$.browserEvent.dataTransfer.dropEffect=typeof V!="boolean"&&V.effect===0?"copy":"move";let z;if(typeof V!="boolean"&&V.feedback?z=V.feedback:typeof $.index=="undefined"?z=[-1]:z=[$.index],z=(0,x.EB)(z).filter(Q=>Q>=-1&&Q<this.length).sort((Q,le)=>Q-le),z=z[0]===-1?[-1]:z,q(this.currentDragFeedback,z))return!0;if(this.currentDragFeedback=z,this.currentDragFeedbackDisposable.dispose(),z[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,l.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const Q of z){const le=this.items[Q];le.dropTarget=!0,le.row&&le.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,l.OF)(()=>{for(const Q of z){const le=this.items[Q];le.dropTarget=!1,le.row&&le.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave($){var V,z;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,N.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((z=(V=this.dnd).onDragLeave)===null||z===void 0||z.call(V,this.currentDragData,$.element,$.index,$.browserEvent))}onDrop($){if(!this.canDrop)return;const V=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,W.P$.CurrentDragAndDropData=void 0,!(!V||!$.browserEvent.dataTransfer)&&($.browserEvent.preventDefault(),V.update($.browserEvent.dataTransfer),this.dnd.drop(V,$.element,$.index,$.browserEvent))}onDragEnd($){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,W.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd($)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=l.JT.None}setupDragAndDropScrollTopAnimation($){if(!this.dragOverAnimationDisposable){const V=(0,k.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.jt)(this.animateDragAndDropScrollTop.bind(this,V))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,N.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=$.pageY}animateDragAndDropScrollTop($){if(this.dragOverMouseY===void 0)return;const V=this.dragOverMouseY-$,z=this.renderHeight-35;V<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(V-35))):V>z&&(this.scrollTop+=Math.min(14,Math.floor(.3*(V-z))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget($){const V=this.scrollableElement.getDomNode();let z=$;for(;z instanceof HTMLElement&&z!==this.rowsContainer&&V.contains(z);){const Q=z.getAttribute("data-index");if(Q){const le=Number(Q);if(!isNaN(le))return le}z=z.parentElement}}getRenderRange($,V){return{start:this.rangeMap.indexAt($),end:this.rangeMap.indexAfter($+V-1)}}_rerender($,V,z){const Q=this.getRenderRange($,V);let le,E;$===this.elementTop(Q.start)?(le=Q.start,E=0):Q.end-Q.start>1&&(le=Q.start+1,E=this.elementTop(le)-$);let I=0;for(;;){const A=this.getRenderRange($,V);let H=!1;for(let Y=A.start;Y<A.end;Y++){const X=this.probeDynamicHeight(Y);X!==0&&this.rangeMap.splice(Y,1,[this.items[Y]]),I+=X,H=H||X!==0}if(!H){I!==0&&this.eventuallyUpdateScrollDimensions();const Y=y.e.relativeComplement(Q,A);for(const re of Y)for(let fe=re.start;fe<re.end;fe++)this.items[fe].row&&this.removeItemFromDOM(fe);const X=y.e.relativeComplement(A,Q);for(const re of X)for(let fe=re.start;fe<re.end;fe++){const ue=fe+1,Oe=ue<this.items.length?this.items[ue].row:null,Ce=Oe?Oe.domNode:null;this.insertItemInDOM(fe,Ce)}for(let re=A.start;re<A.end;re++)this.items[re].row&&this.updateItemInDOM(this.items[re],re);if(typeof le=="number"){const re=this.scrollable.getFutureScrollPosition().scrollTop-$,fe=this.elementTop(le)-E+re;this.setScrollTop(fe,z)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight($){const V=this.items[$];if(this.virtualDelegate.getDynamicHeight){const E=this.virtualDelegate.getDynamicHeight(V.element);if(E!==null){const I=V.size;return V.size=E,V.lastDynamicHeightWidth=this.renderWidth,E-I}}if(!V.hasDynamicHeight||V.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(V.element))return 0;const z=V.size;if(!this.setRowHeight&&V.row){let E=V.row.domNode.offsetHeight;return V.size=E,V.lastDynamicHeightWidth=this.renderWidth,E-z}const Q=this.cache.alloc(V.templateId);Q.domNode.style.height="",this.rowsContainer.appendChild(Q.domNode);const le=this.renderers.get(V.templateId);return le&&(le.renderElement(V.element,$,Q.templateData,void 0),le.disposeElement&&le.disposeElement(V.element,$,Q.templateData,void 0)),V.size=Q.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(V.element,V.size),V.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(Q.domNode),this.cache.release(Q),V.size-z}getNextToLastElement($){const V=$[$.length-1];if(!V)return null;const z=this.items[V.end];return!z||!z.row?null:z.row.domNode}getElementDomId($){return`${this.domId}_${$}`}dispose(){if(this.items){for(const $ of this.items)if($.row){const V=this.renderers.get($.row.templateId);V&&(V.disposeElement&&V.disposeElement($.element,-1,$.row.templateData,void 0),V.disposeTemplate($.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,l.B9)(this.disposables)}}ne.InstanceCount=0,b([s.H],ne.prototype,"onMouseClick",null),b([s.H],ne.prototype,"onMouseDblClick",null),b([s.H],ne.prototype,"onMouseMiddleClick",null),b([s.H],ne.prototype,"onMouseDown",null),b([s.H],ne.prototype,"onContextMenu",null),b([s.H],ne.prototype,"onTouchStart",null),b([s.H],ne.prototype,"onTap",null)},69047:function(Ct,we,t){"use strict";t.d(we,{WK:function(){return $},wD:function(){return H},aV:function(){return Be},sx:function(){return A},cK:function(){return q},hD:function(){return ie},wn:function(){return le},Zo:function(){return Q}});var h=t(65321),W=t(4850),k=t(59069),O=t(10553),w=t(35996);class G{constructor(se){this.spliceables=se}splice(se,ce,Te){this.spliceables.forEach(xe=>xe.splice(se,ce,Te))}}var x=t(9488),N=t(15393),s=t(41264),C=t(49898),l=t(4669),m=t(75392),y=t(9917),n=t(59870),p=t(36248),f=t(1432),v=t(98401),d=t(5520);class a extends Error{constructor(se,ce){super(`ListError [${se}] ${ce}`)}}var u=t(72010),c=function(Ve,se,ce,Te){var xe=arguments.length,Fe=xe<3?se:Te===null?Te=Object.getOwnPropertyDescriptor(se,ce):Te,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Fe=Reflect.decorate(Ve,se,ce,Te);else for(var Me=Ve.length-1;Me>=0;Me--)(Le=Ve[Me])&&(Fe=(xe<3?Le(Fe):xe>3?Le(se,ce,Fe):Le(se,ce))||Fe);return xe>3&&Fe&&Object.defineProperty(se,ce,Fe),Fe},b=function(Ve,se,ce,Te){function xe(Fe){return Fe instanceof ce?Fe:new ce(function(Le){Le(Fe)})}return new(ce||(ce=Promise))(function(Fe,Le){function Me(Ye){try{ze(Te.next(Ye))}catch(qe){Le(qe)}}function Se(Ye){try{ze(Te.throw(Ye))}catch(qe){Le(qe)}}function ze(Ye){Ye.done?Fe(Ye.value):xe(Ye.value).then(Me,Se)}ze((Te=Te.apply(Ve,se||[])).next())})};class L{constructor(se){this.trait=se,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(se){return se}renderElement(se,ce,Te){const xe=this.renderedElements.findIndex(Fe=>Fe.templateData===Te);if(xe>=0){const Fe=this.renderedElements[xe];this.trait.unrender(Te),Fe.index=ce}else{const Fe={index:ce,templateData:Te};this.renderedElements.push(Fe)}this.trait.renderIndex(ce,Te)}splice(se,ce,Te){const xe=[];for(const Fe of this.renderedElements)Fe.index<se?xe.push(Fe):Fe.index>=se+ce&&xe.push({index:Fe.index+Te-ce,templateData:Fe.templateData});this.renderedElements=xe}renderIndexes(se){for(const{index:ce,templateData:Te}of this.renderedElements)se.indexOf(ce)>-1&&this.trait.renderIndex(ce,Te)}disposeTemplate(se){const ce=this.renderedElements.findIndex(Te=>Te.templateData===se);ce<0||this.renderedElements.splice(ce,1)}}class R{constructor(se){this._trait=se,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new l.Q5,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new L(this)}splice(se,ce,Te){var xe;ce=Math.max(0,Math.min(ce,this.length-se));const Fe=Te.length-ce,Le=se+ce,Me=[...this.sortedIndexes.filter(ze=>ze<se),...Te.map((ze,Ye)=>ze?Ye+se:-1).filter(ze=>ze!==-1),...this.sortedIndexes.filter(ze=>ze>=Le).map(ze=>ze+Fe)],Se=this.length+Fe;if(this.sortedIndexes.length>0&&Me.length===0&&Se>0){const ze=(xe=this.sortedIndexes.find(Ye=>Ye>=se))!==null&&xe!==void 0?xe:Se-1;Me.push(Math.min(ze,Se-1))}this.renderer.splice(se,ce,Te.length),this._set(Me,Me),this.length=Se}renderIndex(se,ce){ce.classList.toggle(this._trait,this.contains(se))}unrender(se){se.classList.remove(this._trait)}set(se,ce){return this._set(se,[...se].sort(Oe),ce)}_set(se,ce,Te){const xe=this.indexes,Fe=this.sortedIndexes;this.indexes=se,this.sortedIndexes=ce;const Le=fe(Fe,se);return this.renderer.renderIndexes(Le),this._onChange.fire({indexes:se,browserEvent:Te}),xe}get(){return this.indexes}contains(se){return(0,x.ry)(this.sortedIndexes,se,Oe)>=0}dispose(){(0,y.B9)(this._onChange)}}c([C.H],R.prototype,"renderer",null);class T extends R{constructor(se){super("selected"),this.setAriaSelected=se}renderIndex(se,ce){super.renderIndex(se,ce),this.setAriaSelected&&(this.contains(se)?ce.setAttribute("aria-selected","true"):ce.setAttribute("aria-selected","false"))}}class j{constructor(se,ce,Te){this.trait=se,this.view=ce,this.identityProvider=Te}splice(se,ce,Te){if(!this.identityProvider)return this.trait.splice(se,ce,Te.map(()=>!1));const xe=this.trait.get().map(Le=>this.identityProvider.getId(this.view.element(Le)).toString()),Fe=Te.map(Le=>xe.indexOf(this.identityProvider.getId(Le).toString())>-1);this.trait.splice(se,ce,Fe)}}function q(Ve){return Ve.tagName==="INPUT"||Ve.tagName==="TEXTAREA"}function ie(Ve){return Ve.classList.contains("monaco-editor")?!0:Ve.classList.contains("monaco-list")||!Ve.parentElement?!1:ie(Ve.parentElement)}class ne{constructor(se,ce,Te){this.list=se,this.view=ce,this.disposables=new y.SL,this.multipleSelectionDisposables=new y.SL,this.onKeyDown.filter(xe=>xe.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(xe=>xe.keyCode===9).on(this.onEscape,this,this.disposables),Te.multipleSelectionSupport!==!1&&this.onKeyDown.filter(xe=>(f.dz?xe.metaKey:xe.ctrlKey)&&xe.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return l.ju.chain(this.disposables.add(new W.Y(this.view.domNode,"keydown")).event).filter(se=>!q(se.target)).map(se=>new k.y(se))}updateOptions(se){se.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),se.multipleSelectionSupport&&this.onKeyDown.filter(ce=>(f.dz?ce.metaKey:ce.ctrlKey)&&ce.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(se){se.preventDefault(),se.stopPropagation(),this.list.setSelection(this.list.getFocus(),se.browserEvent)}onUpArrow(se){se.preventDefault(),se.stopPropagation(),this.list.focusPrevious(1,!1,se.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onDownArrow(se){se.preventDefault(),se.stopPropagation(),this.list.focusNext(1,!1,se.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onPageUpArrow(se){se.preventDefault(),se.stopPropagation(),this.list.focusPreviousPage(se.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onPageDownArrow(se){se.preventDefault(),se.stopPropagation(),this.list.focusNextPage(se.browserEvent);const ce=this.list.getFocus()[0];this.list.setAnchor(ce),this.list.reveal(ce),this.view.domNode.focus()}onCtrlA(se){se.preventDefault(),se.stopPropagation(),this.list.setSelection((0,x.w6)(this.list.length),se.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(se){this.list.getSelection().length&&(se.preventDefault(),se.stopPropagation(),this.list.setSelection([],se.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}c([C.H],ne.prototype,"onKeyDown",null);var he;(function(Ve){Ve[Ve.Idle=0]="Idle",Ve[Ve.Typing=1]="Typing"})(he||(he={}));const $=new class{mightProducePrintableCharacter(Ve){return Ve.ctrlKey||Ve.metaKey||Ve.altKey?!1:Ve.keyCode>=31&&Ve.keyCode<=56||Ve.keyCode>=21&&Ve.keyCode<=30||Ve.keyCode>=93&&Ve.keyCode<=102||Ve.keyCode>=80&&Ve.keyCode<=90}};class V{constructor(se,ce,Te,xe){this.list=se,this.view=ce,this.keyboardNavigationLabelProvider=Te,this.delegate=xe,this.enabled=!1,this.state=he.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new y.SL,this.disposables=new y.SL,this.updateOptions(se.options)}updateOptions(se){(typeof se.enableKeyboardNavigation=="undefined"?!0:!!se.enableKeyboardNavigation)?this.enable():this.disable(),typeof se.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=se.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const se=l.ju.chain(this.enabledDisposables.add(new W.Y(this.view.domNode,"keydown")).event).filter(xe=>!q(xe.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(xe=>new k.y(xe)).filter(xe=>this.delegate.mightProducePrintableCharacter(xe)).forEach(xe=>{xe.stopPropagation(),xe.preventDefault()}).map(xe=>xe.browserEvent.key).event,ce=l.ju.debounce(se,()=>null,800);l.ju.reduce(l.ju.any(se,ce),(xe,Fe)=>Fe===null?null:(xe||"")+Fe)(this.onInput,this,this.enabledDisposables),ce(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var se;const ce=this.list.getFocus();if(ce.length>0&&ce[0]===this.previouslyFocused){const Te=(se=this.list.options.accessibilityProvider)===null||se===void 0?void 0:se.getAriaLabel(this.list.element(ce[0]));Te&&(0,w.Z9)(Te)}this.previouslyFocused=-1}onInput(se){if(!se){this.state=he.Idle,this.triggered=!1;return}const ce=this.list.getFocus(),Te=ce.length>0?ce[0]:0,xe=this.state===he.Idle?1:0;this.state=he.Typing;for(let Fe=0;Fe<this.list.length;Fe++){const Le=(Te+Fe+xe)%this.list.length,Me=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Le)),Se=Me&&Me.toString();if(typeof Se=="undefined"||(0,m.Ji)(se,Se)){this.previouslyFocused=Te,this.list.setFocus([Le]),this.list.reveal(Le);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class z{constructor(se,ce){this.list=se,this.view=ce,this.disposables=new y.SL,l.ju.chain(this.disposables.add(new W.Y(ce.domNode,"keydown")).event).filter(xe=>!q(xe.target)).map(xe=>new k.y(xe)).filter(xe=>xe.keyCode===2&&!xe.ctrlKey&&!xe.metaKey&&!xe.shiftKey&&!xe.altKey).on(this.onTab,this,this.disposables)}onTab(se){if(se.target!==this.view.domNode)return;const ce=this.list.getFocus();if(ce.length===0)return;const Te=this.view.domElement(ce[0]);if(!Te)return;const xe=Te.querySelector("[tabIndex]");if(!xe||!(xe instanceof HTMLElement)||xe.tabIndex===-1)return;const Fe=window.getComputedStyle(xe);Fe.visibility==="hidden"||Fe.display==="none"||(se.preventDefault(),se.stopPropagation(),xe.focus())}dispose(){this.disposables.dispose()}}function Q(Ve){return f.dz?Ve.browserEvent.metaKey:Ve.browserEvent.ctrlKey}function le(Ve){return Ve.browserEvent.shiftKey}function E(Ve){return Ve instanceof MouseEvent&&Ve.button===2}const I={isSelectionSingleChangeEvent:Q,isSelectionRangeChangeEvent:le};class A{constructor(se){this.list=se,this.disposables=new y.SL,this._onPointer=new l.Q5,this.onPointer=this._onPointer.event,se.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||I),this.mouseSupport=typeof se.options.mouseSupport=="undefined"||!!se.options.mouseSupport,this.mouseSupport&&(se.onMouseDown(this.onMouseDown,this,this.disposables),se.onContextMenu(this.onContextMenu,this,this.disposables),se.onMouseDblClick(this.onDoubleClick,this,this.disposables),se.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(O.o.addTarget(se.getHTMLElement()))),l.ju.any(se.onMouseClick,se.onMouseMiddleClick,se.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(se){se.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,se.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||I))}isSelectionSingleChangeEvent(se){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(se):!1}isSelectionRangeChangeEvent(se){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(se):!1}isSelectionChangeEvent(se){return this.isSelectionSingleChangeEvent(se)||this.isSelectionRangeChangeEvent(se)}onMouseDown(se){ie(se.browserEvent.target)||document.activeElement!==se.browserEvent.target&&this.list.domFocus()}onContextMenu(se){if(ie(se.browserEvent.target))return;const ce=typeof se.index=="undefined"?[]:[se.index];this.list.setFocus(ce,se.browserEvent)}onViewPointer(se){if(!this.mouseSupport||q(se.browserEvent.target)||ie(se.browserEvent.target))return;const ce=se.index;if(typeof ce=="undefined"){this.list.setFocus([],se.browserEvent),this.list.setSelection([],se.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(se))return this.changeSelection(se);if(this.isSelectionChangeEvent(se))return this.changeSelection(se);this.list.setFocus([ce],se.browserEvent),this.list.setAnchor(ce),E(se.browserEvent)||this.list.setSelection([ce],se.browserEvent),this._onPointer.fire(se)}onDoubleClick(se){if(q(se.browserEvent.target)||ie(se.browserEvent.target)||this.isSelectionChangeEvent(se))return;const ce=this.list.getFocus();this.list.setSelection(ce,se.browserEvent)}changeSelection(se){const ce=se.index;let Te=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(se)){if(typeof Te=="undefined"){const Ye=this.list.getFocus()[0];Te=Ye!=null?Ye:ce,this.list.setAnchor(Te)}const xe=Math.min(Te,ce),Fe=Math.max(Te,ce),Le=(0,x.w6)(xe,Fe+1),Me=this.list.getSelection(),Se=re(fe(Me,[Te]),Te);if(Se.length===0)return;const ze=fe(Le,ue(Me,Se));this.list.setSelection(ze,se.browserEvent),this.list.setFocus([ce],se.browserEvent)}else if(this.isSelectionSingleChangeEvent(se)){const xe=this.list.getSelection(),Fe=xe.filter(Le=>Le!==ce);this.list.setFocus([ce]),this.list.setAnchor(ce),xe.length===Fe.length?this.list.setSelection([...Fe,ce],se.browserEvent):this.list.setSelection(Fe,se.browserEvent)}}dispose(){this.disposables.dispose()}}class H{constructor(se,ce){this.styleElement=se,this.selectorSuffix=ce}style(se){const ce=this.selectorSuffix&&`.${this.selectorSuffix}`,Te=[];se.listBackground&&(se.listBackground.isOpaque()?Te.push(`.monaco-list${ce} .monaco-list-rows { background: ${se.listBackground}; }`):f.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),se.listFocusBackground&&(Te.push(`.monaco-list${ce}:focus .monaco-list-row.focused { background-color: ${se.listFocusBackground}; }`),Te.push(`.monaco-list${ce}:focus .monaco-list-row.focused:hover { background-color: ${se.listFocusBackground}; }`)),se.listFocusForeground&&Te.push(`.monaco-list${ce}:focus .monaco-list-row.focused { color: ${se.listFocusForeground}; }`),se.listActiveSelectionBackground&&(Te.push(`.monaco-list${ce}:focus .monaco-list-row.selected { background-color: ${se.listActiveSelectionBackground}; }`),Te.push(`.monaco-list${ce}:focus .monaco-list-row.selected:hover { background-color: ${se.listActiveSelectionBackground}; }`)),se.listActiveSelectionForeground&&Te.push(`.monaco-list${ce}:focus .monaco-list-row.selected { color: ${se.listActiveSelectionForeground}; }`),se.listActiveSelectionIconForeground&&Te.push(`.monaco-list${ce}:focus .monaco-list-row.selected .codicon { color: ${se.listActiveSelectionIconForeground}; }`),se.listFocusAndSelectionBackground&&Te.push(`
				.monaco-drag-image,
				.monaco-list${ce}:focus .monaco-list-row.selected.focused { background-color: ${se.listFocusAndSelectionBackground}; }
			`),se.listFocusAndSelectionForeground&&Te.push(`
				.monaco-drag-image,
				.monaco-list${ce}:focus .monaco-list-row.selected.focused { color: ${se.listFocusAndSelectionForeground}; }
			`),se.listInactiveFocusForeground&&(Te.push(`.monaco-list${ce} .monaco-list-row.focused { color:  ${se.listInactiveFocusForeground}; }`),Te.push(`.monaco-list${ce} .monaco-list-row.focused:hover { color:  ${se.listInactiveFocusForeground}; }`)),se.listInactiveSelectionIconForeground&&Te.push(`.monaco-list${ce} .monaco-list-row.focused .codicon { color:  ${se.listInactiveSelectionIconForeground}; }`),se.listInactiveFocusBackground&&(Te.push(`.monaco-list${ce} .monaco-list-row.focused { background-color:  ${se.listInactiveFocusBackground}; }`),Te.push(`.monaco-list${ce} .monaco-list-row.focused:hover { background-color:  ${se.listInactiveFocusBackground}; }`)),se.listInactiveSelectionBackground&&(Te.push(`.monaco-list${ce} .monaco-list-row.selected { background-color:  ${se.listInactiveSelectionBackground}; }`),Te.push(`.monaco-list${ce} .monaco-list-row.selected:hover { background-color:  ${se.listInactiveSelectionBackground}; }`)),se.listInactiveSelectionForeground&&Te.push(`.monaco-list${ce} .monaco-list-row.selected { color: ${se.listInactiveSelectionForeground}; }`),se.listHoverBackground&&Te.push(`.monaco-list${ce}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${se.listHoverBackground}; }`),se.listHoverForeground&&Te.push(`.monaco-list${ce} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${se.listHoverForeground}; }`),se.listSelectionOutline&&Te.push(`.monaco-list${ce} .monaco-list-row.selected { outline: 1px dotted ${se.listSelectionOutline}; outline-offset: -1px; }`),se.listFocusOutline&&Te.push(`
				.monaco-drag-image,
				.monaco-list${ce}:focus .monaco-list-row.focused { outline: 1px solid ${se.listFocusOutline}; outline-offset: -1px; }
			`),se.listInactiveFocusOutline&&Te.push(`.monaco-list${ce} .monaco-list-row.focused { outline: 1px dotted ${se.listInactiveFocusOutline}; outline-offset: -1px; }`),se.listHoverOutline&&Te.push(`.monaco-list${ce} .monaco-list-row:hover { outline: 1px dashed ${se.listHoverOutline}; outline-offset: -1px; }`),se.listDropBackground&&Te.push(`
				.monaco-list${ce}.drop-target,
				.monaco-list${ce} .monaco-list-rows.drop-target,
				.monaco-list${ce} .monaco-list-row.drop-target { background-color: ${se.listDropBackground} !important; color: inherit !important; }
			`),se.listFilterWidgetBackground&&Te.push(`.monaco-list-type-filter { background-color: ${se.listFilterWidgetBackground} }`),se.listFilterWidgetOutline&&Te.push(`.monaco-list-type-filter { border: 1px solid ${se.listFilterWidgetOutline}; }`),se.listFilterWidgetNoMatchesOutline&&Te.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${se.listFilterWidgetNoMatchesOutline}; }`),se.listMatchesShadow&&Te.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${se.listMatchesShadow}; }`),se.tableColumnsBorder&&Te.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${se.tableColumnsBorder};
			}`),this.styleElement.textContent=Te.join(`
`)}}const Y={listFocusBackground:s.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:s.Il.fromHex("#0E639C"),listActiveSelectionForeground:s.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:s.Il.fromHex("#094771"),listFocusAndSelectionForeground:s.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:s.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listHoverBackground:s.Il.fromHex("#2A2D2E"),listDropBackground:s.Il.fromHex("#383B3D"),treeIndentGuidesStroke:s.Il.fromHex("#a9a9a9"),tableColumnsBorder:s.Il.fromHex("#cccccc").transparent(.2)},X={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function re(Ve,se){const ce=Ve.indexOf(se);if(ce===-1)return[];const Te=[];let xe=ce-1;for(;xe>=0&&Ve[xe]===se-(ce-xe);)Te.push(Ve[xe--]);for(Te.reverse(),xe=ce;xe<Ve.length&&Ve[xe]===se+(xe-ce);)Te.push(Ve[xe++]);return Te}function fe(Ve,se){const ce=[];let Te=0,xe=0;for(;Te<Ve.length||xe<se.length;)if(Te>=Ve.length)ce.push(se[xe++]);else if(xe>=se.length)ce.push(Ve[Te++]);else if(Ve[Te]===se[xe]){ce.push(Ve[Te]),Te++,xe++;continue}else Ve[Te]<se[xe]?ce.push(Ve[Te++]):ce.push(se[xe++]);return ce}function ue(Ve,se){const ce=[];let Te=0,xe=0;for(;Te<Ve.length||xe<se.length;)if(Te>=Ve.length)ce.push(se[xe++]);else if(xe>=se.length)ce.push(Ve[Te++]);else if(Ve[Te]===se[xe]){Te++,xe++;continue}else Ve[Te]<se[xe]?ce.push(Ve[Te++]):xe++;return ce}const Oe=(Ve,se)=>Ve-se;class Ce{constructor(se,ce){this._templateId=se,this.renderers=ce}get templateId(){return this._templateId}renderTemplate(se){return this.renderers.map(ce=>ce.renderTemplate(se))}renderElement(se,ce,Te,xe){let Fe=0;for(const Le of this.renderers)Le.renderElement(se,ce,Te[Fe++],xe)}disposeElement(se,ce,Te,xe){let Fe=0;for(const Le of this.renderers)Le.disposeElement&&Le.disposeElement(se,ce,Te[Fe],xe),Fe+=1}disposeTemplate(se){let ce=0;for(const Te of this.renderers)Te.disposeTemplate(se[ce++])}}class oe{constructor(se){this.accessibilityProvider=se,this.templateId="a18n"}renderTemplate(se){return se}renderElement(se,ce,Te){const xe=this.accessibilityProvider.getAriaLabel(se);xe?Te.setAttribute("aria-label",xe):Te.removeAttribute("aria-label");const Fe=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(se);typeof Fe=="number"?Te.setAttribute("aria-level",`${Fe}`):Te.removeAttribute("aria-level")}disposeTemplate(se){}}class ae{constructor(se,ce){this.list=se,this.dnd=ce}getDragElements(se){const ce=this.list.getSelectedElements();return ce.indexOf(se)>-1?ce:[se]}getDragURI(se){return this.dnd.getDragURI(se)}getDragLabel(se,ce){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(se,ce)}onDragStart(se,ce){this.dnd.onDragStart&&this.dnd.onDragStart(se,ce)}onDragOver(se,ce,Te,xe){return this.dnd.onDragOver(se,ce,Te,xe)}onDragLeave(se,ce,Te,xe){var Fe,Le;(Le=(Fe=this.dnd).onDragLeave)===null||Le===void 0||Le.call(Fe,se,ce,Te,xe)}onDragEnd(se){this.dnd.onDragEnd&&this.dnd.onDragEnd(se)}drop(se,ce,Te,xe){this.dnd.drop(se,ce,Te,xe)}}class Be{constructor(se,ce,Te,xe,Fe=X){var Le;this.user=se,this._options=Fe,this.focus=new R("focused"),this.anchor=new R("anchor"),this.eventBufferer=new l.E7,this._ariaLabel="",this.disposables=new y.SL,this._onDidDispose=new l.Q5,this.onDidDispose=this._onDidDispose.event;const Me=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Le=this._options.accessibilityProvider)===null||Le===void 0?void 0:Le.getWidgetRole():"list";this.selection=new T(Me!=="listbox"),(0,p.jB)(Fe,Y,!1);const Se=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Fe.accessibilityProvider,this.accessibilityProvider&&(Se.push(new oe(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),xe=xe.map(Ye=>new Ce(Ye.templateId,[...Se,Ye]));const ze=Object.assign(Object.assign({},Fe),{dnd:Fe.dnd&&new ae(this,Fe.dnd)});if(this.view=new u.Bv(ce,Te,xe,ze),this.view.domNode.setAttribute("role",Me),Fe.styleController)this.styleController=Fe.styleController(this.view.domId);else{const Ye=(0,h.dS)(this.view.domNode);this.styleController=new H(Ye,this.view.domId)}if(this.spliceable=new G([new j(this.focus,this.view,Fe.identityProvider),new j(this.selection,this.view,Fe.identityProvider),new j(this.anchor,this.view,Fe.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new z(this,this.view)),(typeof Fe.keyboardSupport!="boolean"||Fe.keyboardSupport)&&(this.keyboardController=new ne(this,this.view,Fe),this.disposables.add(this.keyboardController)),Fe.keyboardNavigationLabelProvider){const Ye=Fe.keyboardNavigationDelegate||$;this.typeLabelController=new V(this,this.view,Fe.keyboardNavigationLabelProvider,Ye),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(Fe),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return l.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),se=>this.toListEvent(se))}get onDidChangeSelection(){return l.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),se=>this.toListEvent(se))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let se=!1;const ce=l.ju.chain(this.disposables.add(new W.Y(this.view.domNode,"keydown")).event).map(Fe=>new k.y(Fe)).filter(Fe=>se=Fe.keyCode===58||Fe.shiftKey&&Fe.keyCode===68).map(W.p).filter(()=>!1).event,Te=l.ju.chain(this.disposables.add(new W.Y(this.view.domNode,"keyup")).event).forEach(()=>se=!1).map(Fe=>new k.y(Fe)).filter(Fe=>Fe.keyCode===58||Fe.shiftKey&&Fe.keyCode===68).map(W.p).map(({browserEvent:Fe})=>{const Le=this.getFocus(),Me=Le.length?Le[0]:void 0,Se=typeof Me!="undefined"?this.view.element(Me):void 0,ze=typeof Me!="undefined"?this.view.domElement(Me):this.view.domNode;return{index:Me,element:Se,anchor:ze,browserEvent:Fe}}).event,xe=l.ju.chain(this.view.onContextMenu).filter(Fe=>!se).map(({element:Fe,index:Le,browserEvent:Me})=>({element:Fe,index:Le,anchor:{x:Me.pageX+1,y:Me.pageY},browserEvent:Me})).event;return l.ju.any(ce,Te,xe)}get onKeyDown(){return this.disposables.add(new W.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return l.ju.signal(this.disposables.add(new W.Y(this.view.domNode,"focus",!0)).event)}createMouseController(se){return new A(this)}updateOptions(se={}){var ce;this._options=Object.assign(Object.assign({},this._options),se),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(se),(ce=this.keyboardController)===null||ce===void 0||ce.updateOptions(se),this.view.updateOptions(se)}get options(){return this._options}splice(se,ce,Te=[]){if(se<0||se>this.view.length)throw new a(this.user,`Invalid start index: ${se}`);if(ce<0)throw new a(this.user,`Invalid delete count: ${ce}`);ce===0&&Te.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(se,ce,Te))}rerender(){this.view.rerender()}element(se){return this.view.element(se)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(se){this.view.setScrollTop(se)}get ariaLabel(){return this._ariaLabel}set ariaLabel(se){this._ariaLabel=se,this.view.domNode.setAttribute("aria-label",se)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(se,ce){this.view.layout(se,ce)}setSelection(se,ce){for(const Te of se)if(Te<0||Te>=this.length)throw new a(this.user,`Invalid index ${Te}`);this.selection.set(se,ce)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(se=>this.view.element(se))}setAnchor(se){if(typeof se=="undefined"){this.anchor.set([]);return}if(se<0||se>=this.length)throw new a(this.user,`Invalid index ${se}`);this.anchor.set([se])}getAnchor(){return(0,x.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const se=this.getAnchor();return typeof se=="undefined"?void 0:this.element(se)}setFocus(se,ce){for(const Te of se)if(Te<0||Te>=this.length)throw new a(this.user,`Invalid index ${Te}`);this.focus.set(se,ce)}focusNext(se=1,ce=!1,Te,xe){if(this.length===0)return;const Fe=this.focus.get(),Le=this.findNextIndex(Fe.length>0?Fe[0]+se:0,ce,xe);Le>-1&&this.setFocus([Le],Te)}focusPrevious(se=1,ce=!1,Te,xe){if(this.length===0)return;const Fe=this.focus.get(),Le=this.findPreviousIndex(Fe.length>0?Fe[0]-se:0,ce,xe);Le>-1&&this.setFocus([Le],Te)}focusNextPage(se,ce){return b(this,void 0,void 0,function*(){let Te=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Te=Te===0?0:Te-1;const xe=this.view.element(Te),Fe=this.getFocusedElements()[0];if(Fe!==xe){const Le=this.findPreviousIndex(Te,!1,ce);Le>-1&&Fe!==this.view.element(Le)?this.setFocus([Le],se):this.setFocus([Te],se)}else{const Le=this.view.getScrollTop();this.view.setScrollTop(Le+this.view.renderHeight-this.view.elementHeight(Te)),this.view.getScrollTop()!==Le&&(this.setFocus([]),yield(0,N.Vs)(0),yield this.focusNextPage(se,ce))}})}focusPreviousPage(se,ce){return b(this,void 0,void 0,function*(){let Te;const xe=this.view.getScrollTop();xe===0?Te=this.view.indexAt(xe):Te=this.view.indexAfter(xe-1);const Fe=this.view.element(Te),Le=this.getFocusedElements()[0];if(Le!==Fe){const Me=this.findNextIndex(Te,!1,ce);Me>-1&&Le!==this.view.element(Me)?this.setFocus([Me],se):this.setFocus([Te],se)}else{const Me=xe;this.view.setScrollTop(xe-this.view.renderHeight),this.view.getScrollTop()!==Me&&(this.setFocus([]),yield(0,N.Vs)(0),yield this.focusPreviousPage(se,ce))}})}focusLast(se,ce){if(this.length===0)return;const Te=this.findPreviousIndex(this.length-1,!1,ce);Te>-1&&this.setFocus([Te],se)}focusFirst(se,ce){this.focusNth(0,se,ce)}focusNth(se,ce,Te){if(this.length===0)return;const xe=this.findNextIndex(se,!1,Te);xe>-1&&this.setFocus([xe],ce)}findNextIndex(se,ce=!1,Te){for(let xe=0;xe<this.length;xe++){if(se>=this.length&&!ce)return-1;if(se=se%this.length,!Te||Te(this.element(se)))return se;se++}return-1}findPreviousIndex(se,ce=!1,Te){for(let xe=0;xe<this.length;xe++){if(se<0&&!ce)return-1;if(se=(this.length+se%this.length)%this.length,!Te||Te(this.element(se)))return se;se--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(se=>this.view.element(se))}reveal(se,ce){if(se<0||se>=this.length)throw new a(this.user,`Invalid index ${se}`);const Te=this.view.getScrollTop(),xe=this.view.elementTop(se),Fe=this.view.elementHeight(se);if((0,v.hj)(ce)){const Le=Fe-this.view.renderHeight;this.view.setScrollTop(Le*(0,n.u)(ce,0,1)+xe)}else{const Le=xe+Fe,Me=Te+this.view.renderHeight;xe<Te&&Le>=Me||(xe<Te||Le>=Me&&Fe>=this.view.renderHeight?this.view.setScrollTop(xe):Le>=Me&&this.view.setScrollTop(Le-this.view.renderHeight))}}getRelativeTop(se){if(se<0||se>=this.length)throw new a(this.user,`Invalid index ${se}`);const ce=this.view.getScrollTop(),Te=this.view.elementTop(se),xe=this.view.elementHeight(se);if(Te<ce||Te+xe>ce+this.view.renderHeight)return null;const Fe=xe-this.view.renderHeight;return Math.abs((ce-Te)/Fe)}getHTMLElement(){return this.view.domNode}style(se){this.styleController.style(se)}toListEvent({indexes:se,browserEvent:ce}){return{indexes:se,elements:se.map(Te=>this.view.element(Te)),browserEvent:ce}}_onFocusChange(){const se=this.focus.get();this.view.domNode.classList.toggle("element-focused",se.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var se;const ce=this.focus.get();if(ce.length>0){let Te;!((se=this.accessibilityProvider)===null||se===void 0)&&se.getActiveDescendantId&&(Te=this.accessibilityProvider.getActiveDescendantId(this.view.element(ce[0]))),this.view.domNode.setAttribute("aria-activedescendant",Te||this.view.getElementDomId(ce[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const se=this.selection.get();this.view.domNode.classList.toggle("selection-none",se.length===0),this.view.domNode.classList.toggle("selection-single",se.length===1),this.view.domNode.classList.toggle("selection-multiple",se.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}c([C.H],Be.prototype,"onDidChangeFocus",null),c([C.H],Be.prototype,"onDidChangeSelection",null),c([C.H],Be.prototype,"onContextMenu",null),c([C.H],Be.prototype,"onKeyDown",null),c([C.H],Be.prototype,"onDidFocus",null)},49335:function(Ct,we,t){"use strict";t.d(we,{S:function(){return h}});const h="monaco-mouse-cursor-text"},83080:function(Ct,we,t){"use strict";t.d(we,{l:function(){return l},g:function(){return a}});var h=t(65321),W=t(4850),k=t(10553),O=t(15393),w=t(49898),G=t(4669),x=t(9917),N=t(1432),s=function(u,c,b,L){var R=arguments.length,T=R<3?c:L===null?L=Object.getOwnPropertyDescriptor(c,b):L,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(u,c,b,L);else for(var q=u.length-1;q>=0;q--)(j=u[q])&&(T=(R<3?j(T):R>3?j(c,b,T):j(c,b))||T);return R>3&&T&&Object.defineProperty(c,b,T),T};let C=!1;var l;(function(u){u.North="north",u.South="south",u.East="east",u.West="west"})(l||(l={}));let m=4;const y=new G.Q5;let n=300;const p=new G.Q5;class f{constructor(){this.disposables=new x.SL}get onPointerMove(){return this.disposables.add(new W.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new W.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}s([w.H],f.prototype,"onPointerMove",null),s([w.H],f.prototype,"onPointerUp",null);class v{constructor(c){this.el=c,this.disposables=new x.SL}get onPointerMove(){return this.disposables.add(new W.Y(this.el,k.t.Change)).event}get onPointerUp(){return this.disposables.add(new W.Y(this.el,k.t.End)).event}dispose(){this.disposables.dispose()}}s([w.H],v.prototype,"onPointerMove",null),s([w.H],v.prototype,"onPointerUp",null);class d{constructor(c){this.factory=c}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}s([w.H],d.prototype,"onPointerMove",null),s([w.H],d.prototype,"onPointerUp",null);class a extends x.JT{constructor(c,b,L){super(),this.hoverDelay=n,this.hoverDelayer=this._register(new O.vp(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new G.Q5),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new G.Q5),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new G.Q5),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new G.Q5),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new G.Q5),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new x.SL),this.orthogonalStartDragHandleDisposables=this._register(new x.SL),this.orthogonalEndSashDisposables=this._register(new x.SL),this.orthogonalEndDragHandleDisposables=this._register(new x.SL),this.el=(0,h.R3)(c,(0,h.$)(".monaco-sash")),L.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${L.orthogonalEdge}`),N.dz&&this.el.classList.add("mac");const R=this._register(new W.Y(this.el,"mousedown")).event;this._register(R($=>this.onPointerStart($,new f),this));const T=this._register(new W.Y(this.el,"dblclick")).event;this._register(T(this.onPointerDoublePress,this));const j=this._register(new W.Y(this.el,"mouseenter")).event;this._register(j(()=>a.onMouseEnter(this)));const q=this._register(new W.Y(this.el,"mouseleave")).event;this._register(q(()=>a.onMouseLeave(this))),this._register(k.o.addTarget(this.el));const ie=G.ju.map(this._register(new W.Y(this.el,k.t.Start)).event,$=>{var V;return Object.assign(Object.assign({},$),{target:(V=$.initialTarget)!==null&&V!==void 0?V:null})});this._register(ie($=>this.onPointerStart($,new v(this.el)),this));const ne=this._register(new W.Y(this.el,k.t.Tap)).event,he=G.ju.map(G.ju.filter(G.ju.debounce(ne,($,V)=>{var z;return{event:V,count:((z=$==null?void 0:$.count)!==null&&z!==void 0?z:0)+1}},250),({count:$})=>$===2),({event:$})=>{var V;return Object.assign(Object.assign({},$),{target:(V=$.initialTarget)!==null&&V!==void 0?V:null})});this._register(he(this.onPointerDoublePress,this)),typeof L.size=="number"?(this.size=L.size,L.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=m,this._register(y.event($=>{this.size=$,this.layout()}))),this._register(p.event($=>this.hoverDelay=$)),this.hidden=!1,this.layoutProvider=b,this.orthogonalStartSash=L.orthogonalStartSash,this.orthogonalEndSash=L.orthogonalEndSash,this.orientation=L.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",C),this.layout()}get state(){return this._state}set state(c){this._state!==c&&(this.el.classList.toggle("disabled",c===0),this.el.classList.toggle("minimum",c===1),this.el.classList.toggle("maximum",c===2),this._state=c,this._onDidEnablementChange.fire(c))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(c){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),c){const b=L=>{this.orthogonalStartDragHandleDisposables.clear(),L!==0&&(this._orthogonalStartDragHandle=(0,h.R3)(this.el,(0,h.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,x.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new W.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>a.onMouseEnter(c),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new W.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>a.onMouseLeave(c),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(c.onDidEnablementChange(b,this)),b(c.state)}this._orthogonalStartSash=c}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(c){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),c){const b=L=>{this.orthogonalEndDragHandleDisposables.clear(),L!==0&&(this._orthogonalEndDragHandle=(0,h.R3)(this.el,(0,h.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,x.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new W.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>a.onMouseEnter(c),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new W.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>a.onMouseLeave(c),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(c.onDidEnablementChange(b,this)),b(c.state)}this._orthogonalEndSash=c}onPointerStart(c,b){h.zB.stop(c);let L=!1;if(!c.__orthogonalSashEvent){const Q=this.getOrthogonalSash(c);Q&&(L=!0,c.__orthogonalSashEvent=!0,Q.onPointerStart(c,new d(b)))}if(this.linkedSash&&!c.__linkedSashEvent&&(c.__linkedSashEvent=!0,this.linkedSash.onPointerStart(c,new d(b))),!this.state)return;const R=(0,h.H$)("iframe");for(const Q of R)Q.style.pointerEvents="none";const T=c.pageX,j=c.pageY,q=c.altKey,ie={startX:T,currentX:T,startY:j,currentY:j,altKey:q};this.el.classList.add("active"),this._onDidStart.fire(ie);const ne=(0,h.dS)(this.el),he=()=>{let Q="";L?Q="all-scroll":this.orientation===1?this.state===1?Q="s-resize":this.state===2?Q="n-resize":Q=N.dz?"row-resize":"ns-resize":this.state===1?Q="e-resize":this.state===2?Q="w-resize":Q=N.dz?"col-resize":"ew-resize",ne.textContent=`* { cursor: ${Q} !important; }`},$=new x.SL;he(),L||this.onDidEnablementChange(he,null,$);const V=Q=>{h.zB.stop(Q,!1);const le={startX:T,currentX:Q.pageX,startY:j,currentY:Q.pageY,altKey:q};this._onDidChange.fire(le)},z=Q=>{h.zB.stop(Q,!1),this.el.removeChild(ne),this.el.classList.remove("active"),this._onDidEnd.fire(),$.dispose();for(const le of R)le.style.pointerEvents="auto"};b.onPointerMove(V,null,$),b.onPointerUp(z,null,$),$.add(b)}onPointerDoublePress(c){const b=this.getOrthogonalSash(c);b&&b._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(c,b=!1){c.el.classList.contains("active")?(c.hoverDelayer.cancel(),c.el.classList.add("hover")):c.hoverDelayer.trigger(()=>c.el.classList.add("hover"),c.hoverDelay).then(void 0,()=>{}),!b&&c.linkedSash&&a.onMouseEnter(c.linkedSash,!0)}static onMouseLeave(c,b=!1){c.hoverDelayer.cancel(),c.el.classList.remove("hover"),!b&&c.linkedSash&&a.onMouseLeave(c.linkedSash,!0)}clearSashHoverState(){a.onMouseLeave(this)}layout(){if(this.orientation===0){const c=this.layoutProvider;this.el.style.left=c.getVerticalSashLeft(this)-this.size/2+"px",c.getVerticalSashTop&&(this.el.style.top=c.getVerticalSashTop(this)+"px"),c.getVerticalSashHeight&&(this.el.style.height=c.getVerticalSashHeight(this)+"px")}else{const c=this.layoutProvider;this.el.style.top=c.getHorizontalSashTop(this)-this.size/2+"px",c.getHorizontalSashLeft&&(this.el.style.left=c.getHorizontalSashLeft(this)+"px"),c.getHorizontalSashWidth&&(this.el.style.width=c.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(c){if(!(!c.target||!(c.target instanceof HTMLElement))&&c.target.classList.contains("orthogonal-drag-handle"))return c.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},13433:function(Ct,we,t){"use strict";t.d(we,{s$:function(){return Q},NB:function(){return V},$Z:function(){return z}});var h=t(16268),W=t(65321),k=t(38626),O=t(23938),w=t(57974),G=t(93794),x=t(15393);const N=11;class s extends G.${constructor(I){super(),this._onActivate=I.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=I.bgWidth+"px",this.bgDomNode.style.height=I.bgHeight+"px",typeof I.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof I.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof I.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof I.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=I.className,this.domNode.classList.add(...I.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=N+"px",this.domNode.style.height=N+"px",typeof I.top!="undefined"&&(this.domNode.style.top=I.top+"px"),typeof I.left!="undefined"&&(this.domNode.style.left=I.left+"px"),typeof I.bottom!="undefined"&&(this.domNode.style.bottom=I.bottom+"px"),typeof I.right!="undefined"&&(this.domNode.style.right=I.right+"px"),this._mouseMoveMonitor=this._register(new w.Z),this.onmousedown(this.bgDomNode,A=>this._arrowMouseDown(A)),this.onmousedown(this.domNode,A=>this._arrowMouseDown(A)),this._mousedownRepeatTimer=this._register(new x.zh),this._mousedownScheduleRepeatTimer=this._register(new x._F)}_arrowMouseDown(I){const A=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(A,200),this._mouseMoveMonitor.startMonitoring(I.target,I.buttons,w.e,H=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),I.preventDefault()}}var C=t(9917);class l extends C.JT{constructor(I,A,H){super(),this._visibility=I,this._visibleClassName=A,this._invisibleClassName=H,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new x._F)}setVisibility(I){this._visibility!==I&&(this._visibility=I,this._updateShouldBeVisible())}setShouldBeVisible(I){this._rawShouldBeVisible=I,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const I=this._applyVisibilitySetting();this._shouldBeVisible!==I&&(this._shouldBeVisible=I,this.ensureVisibility())}setIsNeeded(I){this._isNeeded!==I&&(this._isNeeded=I,this.ensureVisibility())}setDomNode(I){this._domNode=I,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(I){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(I?" fade":"")))}}var m=t(1432);const y=140;class n extends G.${constructor(I){super(),this._lazyRender=I.lazyRender,this._host=I.host,this._scrollable=I.scrollable,this._scrollByPage=I.scrollByPage,this._scrollbarState=I.scrollbarState,this._visibilityController=this._register(new l(I.visibility,"visible scrollbar "+I.extraScrollbarClassName,"invisible scrollbar "+I.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new w.Z),this._shouldRender=!0,this.domNode=(0,k.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,A=>this._domNodeMouseDown(A))}_createArrow(I){const A=this._register(new s(I));this.domNode.domNode.appendChild(A.bgDomNode),this.domNode.domNode.appendChild(A.domNode)}_createSlider(I,A,H,Y){this.slider=(0,k.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(I),this.slider.setLeft(A),typeof H=="number"&&this.slider.setWidth(H),typeof Y=="number"&&this.slider.setHeight(Y),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,X=>{X.leftButton&&(X.preventDefault(),this._sliderMouseDown(X,()=>{}))}),this.onclick(this.slider.domNode,X=>{X.leftButton&&X.stopPropagation()})}_onElementSize(I){return this._scrollbarState.setVisibleSize(I)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(I){return this._scrollbarState.setScrollSize(I)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(I){return this._scrollbarState.setScrollPosition(I)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(I){I.target===this.domNode.domNode&&this._onMouseDown(I)}delegateMouseDown(I){const A=this.domNode.domNode.getClientRects()[0].top,H=A+this._scrollbarState.getSliderPosition(),Y=A+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),X=this._sliderMousePosition(I);H<=X&&X<=Y?I.leftButton&&(I.preventDefault(),this._sliderMouseDown(I,()=>{})):this._onMouseDown(I)}_onMouseDown(I){let A,H;if(I.target===this.domNode.domNode&&typeof I.browserEvent.offsetX=="number"&&typeof I.browserEvent.offsetY=="number")A=I.browserEvent.offsetX,H=I.browserEvent.offsetY;else{const X=W.i(this.domNode.domNode);A=I.posx-X.left,H=I.posy-X.top}const Y=this._mouseDownRelativePosition(A,H);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Y):this._scrollbarState.getDesiredScrollPositionFromOffset(Y)),I.leftButton&&(I.preventDefault(),this._sliderMouseDown(I,()=>{}))}_sliderMouseDown(I,A){const H=this._sliderMousePosition(I),Y=this._sliderOrthogonalMousePosition(I),X=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(I.target,I.buttons,w.e,re=>{const fe=this._sliderOrthogonalMousePosition(re),ue=Math.abs(fe-Y);if(m.ED&&ue>y){this._setDesiredScrollPositionNow(X.getScrollPosition());return}const Ce=this._sliderMousePosition(re)-H;this._setDesiredScrollPositionNow(X.getDesiredScrollPositionFromDelta(Ce))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),A()}),this._host.onDragStart()}_setDesiredScrollPositionNow(I){const A={};this.writeScrollPosition(A,I),this._scrollable.setScrollPositionNow(A)}updateScrollbarSize(I){this._updateScrollbarSize(I),this._scrollbarState.setScrollbarSize(I),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const p=20;class f{constructor(I,A,H,Y,X,re){this._scrollbarSize=Math.round(A),this._oppositeScrollbarSize=Math.round(H),this._arrowSize=Math.round(I),this._visibleSize=Y,this._scrollSize=X,this._scrollPosition=re,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new f(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(I){const A=Math.round(I);return this._visibleSize!==A?(this._visibleSize=A,this._refreshComputedValues(),!0):!1}setScrollSize(I){const A=Math.round(I);return this._scrollSize!==A?(this._scrollSize=A,this._refreshComputedValues(),!0):!1}setScrollPosition(I){const A=Math.round(I);return this._scrollPosition!==A?(this._scrollPosition=A,this._refreshComputedValues(),!0):!1}setScrollbarSize(I){this._scrollbarSize=Math.round(I)}setOppositeScrollbarSize(I){this._oppositeScrollbarSize=Math.round(I)}static _computeValues(I,A,H,Y,X){const re=Math.max(0,H-I),fe=Math.max(0,re-2*A),ue=Y>0&&Y>H;if(!ue)return{computedAvailableSize:Math.round(re),computedIsNeeded:ue,computedSliderSize:Math.round(fe),computedSliderRatio:0,computedSliderPosition:0};const Oe=Math.round(Math.max(p,Math.floor(H*fe/Y))),Ce=(fe-Oe)/(Y-H),oe=X*Ce;return{computedAvailableSize:Math.round(re),computedIsNeeded:ue,computedSliderSize:Math.round(Oe),computedSliderRatio:Ce,computedSliderPosition:Math.round(oe)}}_refreshComputedValues(){const I=f._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=I.computedAvailableSize,this._computedIsNeeded=I.computedIsNeeded,this._computedSliderSize=I.computedSliderSize,this._computedSliderRatio=I.computedSliderRatio,this._computedSliderPosition=I.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(I){if(!this._computedIsNeeded)return 0;const A=I-this._arrowSize-this._computedSliderSize/2;return Math.round(A/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(I){if(!this._computedIsNeeded)return 0;const A=I-this._arrowSize;let H=this._scrollPosition;return A<this._computedSliderPosition?H-=this._visibleSize:H+=this._visibleSize,H}getDesiredScrollPositionFromDelta(I){if(!this._computedIsNeeded)return 0;const A=this._computedSliderPosition+I;return Math.round(A/this._computedSliderRatio)}}var v=t(73046);const d=(0,v.CM)("scrollbar-button-left",v.lA.triangleLeft),a=(0,v.CM)("scrollbar-button-right",v.lA.triangleRight);class u extends n{constructor(I,A,H){const Y=I.getScrollDimensions(),X=I.getCurrentScrollPosition();if(super({lazyRender:A.lazyRender,host:H,scrollbarState:new f(A.horizontalHasArrows?A.arrowSize:0,A.horizontal===2?0:A.horizontalScrollbarSize,A.vertical===2?0:A.verticalScrollbarSize,Y.width,Y.scrollWidth,X.scrollLeft),visibility:A.horizontal,extraScrollbarClassName:"horizontal",scrollable:I,scrollByPage:A.scrollByPage}),A.horizontalHasArrows){const re=(A.arrowSize-N)/2,fe=(A.horizontalScrollbarSize-N)/2;this._createArrow({className:"scra",icon:d,top:fe,left:re,bottom:void 0,right:void 0,bgWidth:A.arrowSize,bgHeight:A.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,1,0))}),this._createArrow({className:"scra",icon:a,top:fe,left:void 0,bottom:void 0,right:re,bgWidth:A.arrowSize,bgHeight:A.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,-1,0))})}this._createSlider(Math.floor((A.horizontalScrollbarSize-A.horizontalSliderSize)/2),0,void 0,A.horizontalSliderSize)}_updateSlider(I,A){this.slider.setWidth(I),this.slider.setLeft(A)}_renderDomNode(I,A){this.domNode.setWidth(I),this.domNode.setHeight(A),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(I){return this._shouldRender=this._onElementScrollSize(I.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(I.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(I.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(I,A){return I}_sliderMousePosition(I){return I.posx}_sliderOrthogonalMousePosition(I){return I.posy}_updateScrollbarSize(I){this.slider.setHeight(I)}writeScrollPosition(I,A){I.scrollLeft=A}updateOptions(I){this.updateScrollbarSize(I.horizontal===2?0:I.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(I.vertical===2?0:I.verticalScrollbarSize),this._visibilityController.setVisibility(I.horizontal),this._scrollByPage=I.scrollByPage}}const c=(0,v.CM)("scrollbar-button-up",v.lA.triangleUp),b=(0,v.CM)("scrollbar-button-down",v.lA.triangleDown);class L extends n{constructor(I,A,H){const Y=I.getScrollDimensions(),X=I.getCurrentScrollPosition();if(super({lazyRender:A.lazyRender,host:H,scrollbarState:new f(A.verticalHasArrows?A.arrowSize:0,A.vertical===2?0:A.verticalScrollbarSize,0,Y.height,Y.scrollHeight,X.scrollTop),visibility:A.vertical,extraScrollbarClassName:"vertical",scrollable:I,scrollByPage:A.scrollByPage}),A.verticalHasArrows){const re=(A.arrowSize-N)/2,fe=(A.verticalScrollbarSize-N)/2;this._createArrow({className:"scra",icon:c,top:re,left:fe,bottom:void 0,right:void 0,bgWidth:A.verticalScrollbarSize,bgHeight:A.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,1))}),this._createArrow({className:"scra",icon:b,top:void 0,left:fe,bottom:re,right:void 0,bgWidth:A.verticalScrollbarSize,bgHeight:A.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,-1))})}this._createSlider(0,Math.floor((A.verticalScrollbarSize-A.verticalSliderSize)/2),A.verticalSliderSize,void 0)}_updateSlider(I,A){this.slider.setHeight(I),this.slider.setTop(A)}_renderDomNode(I,A){this.domNode.setWidth(A),this.domNode.setHeight(I),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(I){return this._shouldRender=this._onElementScrollSize(I.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(I.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(I.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(I,A){return A}_sliderMousePosition(I){return I.posy}_sliderOrthogonalMousePosition(I){return I.posx}_updateScrollbarSize(I){this.slider.setWidth(I)}writeScrollPosition(I,A){I.scrollTop=A}updateOptions(I){this.updateScrollbarSize(I.vertical===2?0:I.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(I.vertical),this._scrollByPage=I.scrollByPage}}var R=t(4669),T=t(76633);const j=500,q=50,ie=!0;class ne{constructor(I,A,H){this.timestamp=I,this.deltaX=A,this.deltaY=H,this.score=0}}class he{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let I=1,A=0,H=1,Y=this._rear;do{const X=Y===this._front?I:Math.pow(2,-H);if(I-=X,A+=this._memory[Y].score*X,Y===this._front)break;Y=(this._capacity+Y-1)%this._capacity,H++}while(!0);return A<=.5}accept(I,A,H){const Y=new ne(I,A,H);Y.score=this._computeScore(Y),this._front===-1&&this._rear===-1?(this._memory[0]=Y,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=Y)}_computeScore(I){if(Math.abs(I.deltaX)>0&&Math.abs(I.deltaY)>0)return 1;let A=.5;const H=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(I.deltaX)||!this._isAlmostInt(I.deltaY))&&(A+=.25),Math.min(Math.max(A,0),1)}_isAlmostInt(I){return Math.abs(Math.round(I)-I)<.01}}he.INSTANCE=new he;class $ extends G.${constructor(I,A,H){super(),this._onScroll=this._register(new R.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new R.Q5),I.style.overflow="hidden",this._options=le(A),this._scrollable=H,this._register(this._scrollable.onScroll(X=>{this._onWillScroll.fire(X),this._onDidScroll(X),this._onScroll.fire(X)}));const Y={onMouseWheel:X=>this._onMouseWheel(X),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new L(this._scrollable,this._options,Y)),this._horizontalScrollbar=this._register(new u(this._scrollable,this._options,Y)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(I),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,k.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,k.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,k.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,X=>this._onMouseOver(X)),this.onnonbubblingmouseout(this._listenOnDomNode,X=>this._onMouseOut(X)),this._hideTimeout=this._register(new x._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,C.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(I){this._verticalScrollbar.delegateMouseDown(I)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(I){this._scrollable.setScrollDimensions(I,!1)}updateClassName(I){this._options.className=I,m.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(I){typeof I.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=I.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof I.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=I.mouseWheelScrollSensitivity),typeof I.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=I.fastScrollSensitivity),typeof I.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=I.scrollPredominantAxis),typeof I.horizontal!="undefined"&&(this._options.horizontal=I.horizontal),typeof I.vertical!="undefined"&&(this._options.vertical=I.vertical),typeof I.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=I.horizontalScrollbarSize),typeof I.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=I.verticalScrollbarSize),typeof I.scrollByPage!="undefined"&&(this._options.scrollByPage=I.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(I){if(this._mouseWheelToDispose.length>0!==I&&(this._mouseWheelToDispose=(0,C.B9)(this._mouseWheelToDispose),I)){const H=Y=>{this._onMouseWheel(new O.q(Y))};this._mouseWheelToDispose.push(W.nm(this._listenOnDomNode,W.tw.MOUSE_WHEEL,H,{passive:!1}))}}_onMouseWheel(I){const A=he.INSTANCE;if(ie){const X=window.devicePixelRatio/(0,h.ie)();m.ED||m.IJ?A.accept(Date.now(),I.deltaX/X,I.deltaY/X):A.accept(Date.now(),I.deltaX,I.deltaY)}let H=!1;if(I.deltaY||I.deltaX){let X=I.deltaY*this._options.mouseWheelScrollSensitivity,re=I.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(X)>=Math.abs(re)?re=0:X=0),this._options.flipAxes&&([X,re]=[re,X]);const fe=!m.dz&&I.browserEvent&&I.browserEvent.shiftKey;(this._options.scrollYToX||fe)&&!re&&(re=X,X=0),I.browserEvent&&I.browserEvent.altKey&&(re=re*this._options.fastScrollSensitivity,X=X*this._options.fastScrollSensitivity);const ue=this._scrollable.getFutureScrollPosition();let Oe={};if(X){const Ce=q*X,oe=ue.scrollTop-(Ce<0?Math.floor(Ce):Math.ceil(Ce));this._verticalScrollbar.writeScrollPosition(Oe,oe)}if(re){const Ce=q*re,oe=ue.scrollLeft-(Ce<0?Math.floor(Ce):Math.ceil(Ce));this._horizontalScrollbar.writeScrollPosition(Oe,oe)}Oe=this._scrollable.validateScrollPosition(Oe),(ue.scrollLeft!==Oe.scrollLeft||ue.scrollTop!==Oe.scrollTop)&&(ie&&this._options.mouseWheelSmoothScroll&&A.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Oe):this._scrollable.setScrollPositionNow(Oe),H=!0)}let Y=H;!Y&&this._options.alwaysConsumeMouseWheel&&(Y=!0),!Y&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(Y=!0),Y&&(I.preventDefault(),I.stopPropagation())}_onDidScroll(I){this._shouldRender=this._horizontalScrollbar.onDidScroll(I)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(I)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const I=this._scrollable.getCurrentScrollPosition(),A=I.scrollTop>0,H=I.scrollLeft>0,Y=H?" left":"",X=A?" top":"",re=H||A?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${Y}`),this._topShadowDomNode.setClassName(`shadow${X}`),this._topLeftShadowDomNode.setClassName(`shadow${re}${X}${Y}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(I){this._mouseIsOver=!1,this._hide()}_onMouseOver(I){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),j)}}class V extends ${constructor(I,A){A=A||{},A.mouseWheelSmoothScroll=!1;const H=new T.Rm(0,Y=>W.jL(Y));super(I,A,H),this._register(H)}setScrollPosition(I){this._scrollable.setScrollPositionNow(I)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class z extends ${constructor(I,A,H){super(I,A,H)}setScrollPosition(I){I.reuseAnimation?this._scrollable.setScrollPositionSmooth(I,I.reuseAnimation):this._scrollable.setScrollPositionNow(I)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Q extends V{constructor(I,A){super(I,A),this._element=I,this.onScroll(H=>{H.scrollTopChanged&&(this._element.scrollTop=H.scrollTop),H.scrollLeftChanged&&(this._element.scrollLeft=H.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function le(E){const I={lazyRender:typeof E.lazyRender!="undefined"?E.lazyRender:!1,className:typeof E.className!="undefined"?E.className:"",useShadows:typeof E.useShadows!="undefined"?E.useShadows:!0,handleMouseWheel:typeof E.handleMouseWheel!="undefined"?E.handleMouseWheel:!0,flipAxes:typeof E.flipAxes!="undefined"?E.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof E.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?E.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof E.alwaysConsumeMouseWheel!="undefined"?E.alwaysConsumeMouseWheel:!1,scrollYToX:typeof E.scrollYToX!="undefined"?E.scrollYToX:!1,mouseWheelScrollSensitivity:typeof E.mouseWheelScrollSensitivity!="undefined"?E.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof E.fastScrollSensitivity!="undefined"?E.fastScrollSensitivity:5,scrollPredominantAxis:typeof E.scrollPredominantAxis!="undefined"?E.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof E.mouseWheelSmoothScroll!="undefined"?E.mouseWheelSmoothScroll:!0,arrowSize:typeof E.arrowSize!="undefined"?E.arrowSize:11,listenOnDomNode:typeof E.listenOnDomNode!="undefined"?E.listenOnDomNode:null,horizontal:typeof E.horizontal!="undefined"?E.horizontal:1,horizontalScrollbarSize:typeof E.horizontalScrollbarSize!="undefined"?E.horizontalScrollbarSize:10,horizontalSliderSize:typeof E.horizontalSliderSize!="undefined"?E.horizontalSliderSize:0,horizontalHasArrows:typeof E.horizontalHasArrows!="undefined"?E.horizontalHasArrows:!1,vertical:typeof E.vertical!="undefined"?E.vertical:1,verticalScrollbarSize:typeof E.verticalScrollbarSize!="undefined"?E.verticalScrollbarSize:10,verticalHasArrows:typeof E.verticalHasArrows!="undefined"?E.verticalHasArrows:!1,verticalSliderSize:typeof E.verticalSliderSize!="undefined"?E.verticalSliderSize:0,scrollByPage:typeof E.scrollByPage!="undefined"?E.scrollByPage:!1};return I.horizontalSliderSize=typeof E.horizontalSliderSize!="undefined"?E.horizontalSliderSize:I.horizontalScrollbarSize,I.verticalSliderSize=typeof E.verticalSliderSize!="undefined"?E.verticalSliderSize:I.verticalScrollbarSize,m.dz&&(I.className+=" mac"),I}},33225:function(Ct,we,t){"use strict";t.d(we,{M:function(){return f},z:function(){return v}});var h=t(65321),W=t(83080),k=t(13433),O=t(9488),w=t(41264),G=t(4669),x=t(9917),N=t(59870),s=t(76633),C=t(98401);const l={separatorBorder:w.Il.transparent};class m{constructor(a,u,c,b){this.container=a,this.view=u,this.disposable=b,this._cachedVisibleSize=void 0,typeof c=="number"?(this._size=c,this._cachedVisibleSize=void 0,a.classList.add("visible")):(this._size=0,this._cachedVisibleSize=c.cachedVisibleSize)}set size(a){this._size=a}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(a,u){a!==this.visible&&(a?(this.size=(0,N.u)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof u=="number"?u:this.size,this.size=0),this.container.classList.toggle("visible",a),this.view.setVisible&&this.view.setVisible(a))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(a){this.container.style.pointerEvents=a?"":"none"}layout(a,u){this.layoutContainer(a),this.view.layout(this.size,a,u)}dispose(){return this.disposable.dispose(),this.view}}class y extends m{layoutContainer(a){this.container.style.top=`${a}px`,this.container.style.height=`${this.size}px`}}class n extends m{layoutContainer(a){this.container.style.left=`${a}px`,this.container.style.width=`${this.size}px`}}var p;(function(d){d[d.Idle=0]="Idle",d[d.Busy=1]="Busy"})(p||(p={}));var f;(function(d){d.Distribute={type:"distribute"};function a(c){return{type:"split",index:c}}d.Split=a;function u(c){return{type:"invisible",cachedVisibleSize:c}}d.Invisible=u})(f||(f={}));class v extends x.JT{constructor(a,u={}){var c,b;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=p.Idle,this._onDidSashChange=this._register(new G.Q5),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new G.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=C.o8(u.orientation)?0:u.orientation,this.inverseAltBehavior=!!u.inverseAltBehavior,this.proportionalLayout=C.o8(u.proportionalLayout)?!0:!!u.proportionalLayout,this.getSashOrthogonalSize=u.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),a.appendChild(this.el),this.sashContainer=(0,h.R3)(this.el,(0,h.$)(".sash-container")),this.viewContainer=(0,h.$)(".split-view-container"),this.scrollable=new s.Rm(125,h.jL),this.scrollableElement=this._register(new k.$Z(this.viewContainer,{vertical:this.orientation===0?(c=u.scrollbarVisibility)!==null&&c!==void 0?c:1:2,horizontal:this.orientation===1?(b=u.scrollbarVisibility)!==null&&b!==void 0?b:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(L=>{this.viewContainer.scrollTop=L.scrollTop,this.viewContainer.scrollLeft=L.scrollLeft})),(0,h.R3)(this.el,this.scrollableElement.getDomNode()),this.style(u.styles||l),u.descriptor&&(this.size=u.descriptor.size,u.descriptor.views.forEach((L,R)=>{const T=C.o8(L.visible)||L.visible?L.size:{type:"invisible",cachedVisibleSize:L.size},j=L.view;this.doAddView(j,T,R,!0)}),this.contentSize=this.viewItems.reduce((L,R)=>L+R.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(a){for(const u of this.sashItems)u.sash.orthogonalStartSash=a;this._orthogonalStartSash=a}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(a){for(const u of this.sashItems)u.sash.orthogonalEndSash=a;this._orthogonalEndSash=a}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(a){this._startSnappingEnabled!==a&&(this._startSnappingEnabled=a,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(a){this._endSnappingEnabled!==a&&(this._endSnappingEnabled=a,this.updateSashEnablement())}style(a){a.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",a.separatorBorder.toString()))}addView(a,u,c=this.viewItems.length,b){this.doAddView(a,u,c,b)}layout(a,u){const c=Math.max(this.size,this.contentSize);if(this.size=a,this.layoutContext=u,this.proportions)for(let b=0;b<this.viewItems.length;b++){const L=this.viewItems[b];L.size=(0,N.u)(Math.round(this.proportions[b]*a),L.minimumSize,L.maximumSize)}else{const b=(0,O.w6)(this.viewItems.length),L=b.filter(T=>this.viewItems[T].priority===1),R=b.filter(T=>this.viewItems[T].priority===2);this.resize(this.viewItems.length-1,a-c,void 0,L,R)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(a=>a.size/this.contentSize))}onSashStart({sash:a,start:u,alt:c}){for(const T of this.viewItems)T.enabled=!1;const b=this.sashItems.findIndex(T=>T.sash===a),L=(0,x.F8)((0,h.nm)(document.body,"keydown",T=>R(this.sashDragState.current,T.altKey)),(0,h.nm)(document.body,"keyup",()=>R(this.sashDragState.current,!1))),R=(T,j)=>{const q=this.viewItems.map(V=>V.size);let ie=Number.NEGATIVE_INFINITY,ne=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(j=!j),j)if(b===this.sashItems.length-1){const z=this.viewItems[b];ie=(z.minimumSize-z.size)/2,ne=(z.maximumSize-z.size)/2}else{const z=this.viewItems[b+1];ie=(z.size-z.maximumSize)/2,ne=(z.size-z.minimumSize)/2}let he,$;if(!j){const V=(0,O.w6)(b,-1),z=(0,O.w6)(b+1,this.viewItems.length),Q=V.reduce((re,fe)=>re+(this.viewItems[fe].minimumSize-q[fe]),0),le=V.reduce((re,fe)=>re+(this.viewItems[fe].viewMaximumSize-q[fe]),0),E=z.length===0?Number.POSITIVE_INFINITY:z.reduce((re,fe)=>re+(q[fe]-this.viewItems[fe].minimumSize),0),I=z.length===0?Number.NEGATIVE_INFINITY:z.reduce((re,fe)=>re+(q[fe]-this.viewItems[fe].viewMaximumSize),0),A=Math.max(Q,I),H=Math.min(E,le),Y=this.findFirstSnapIndex(V),X=this.findFirstSnapIndex(z);if(typeof Y=="number"){const re=this.viewItems[Y],fe=Math.floor(re.viewMinimumSize/2);he={index:Y,limitDelta:re.visible?A-fe:A+fe,size:re.size}}if(typeof X=="number"){const re=this.viewItems[X],fe=Math.floor(re.viewMinimumSize/2);$={index:X,limitDelta:re.visible?H+fe:H-fe,size:re.size}}}this.sashDragState={start:T,current:T,index:b,sizes:q,minDelta:ie,maxDelta:ne,alt:j,snapBefore:he,snapAfter:$,disposable:L}};R(u,c)}onSashChange({current:a}){const{index:u,start:c,sizes:b,alt:L,minDelta:R,maxDelta:T,snapBefore:j,snapAfter:q}=this.sashDragState;this.sashDragState.current=a;const ie=a-c,ne=this.resize(u,ie,b,void 0,void 0,R,T,j,q);if(L){const he=u===this.sashItems.length-1,$=this.viewItems.map(I=>I.size),V=he?u:u+1,z=this.viewItems[V],Q=z.size-z.maximumSize,le=z.size-z.minimumSize,E=he?u-1:u+1;this.resize(E,-ne,$,void 0,void 0,Q,le)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(a){this._onDidSashChange.fire(a),this.sashDragState.disposable.dispose(),this.saveProportions();for(const u of this.viewItems)u.enabled=!0}onViewChange(a,u){const c=this.viewItems.indexOf(a);c<0||c>=this.viewItems.length||(u=typeof u=="number"?u:a.size,u=(0,N.u)(u,a.minimumSize,a.maximumSize),this.inverseAltBehavior&&c>0?(this.resize(c-1,Math.floor((a.size-u)/2)),this.distributeEmptySpace(),this.layoutViews()):(a.size=u,this.relayout([c],void 0)))}resizeView(a,u){if(this.state!==p.Idle)throw new Error("Cant modify splitview");if(this.state=p.Busy,a<0||a>=this.viewItems.length)return;const c=(0,O.w6)(this.viewItems.length).filter(T=>T!==a),b=[...c.filter(T=>this.viewItems[T].priority===1),a],L=c.filter(T=>this.viewItems[T].priority===2),R=this.viewItems[a];u=Math.round(u),u=(0,N.u)(u,R.minimumSize,Math.min(R.maximumSize,this.size)),R.size=u,this.relayout(b,L),this.state=p.Idle}distributeViewSizes(){const a=[];let u=0;for(const T of this.viewItems)T.maximumSize-T.minimumSize>0&&(a.push(T),u+=T.size);const c=Math.floor(u/a.length);for(const T of a)T.size=(0,N.u)(c,T.minimumSize,T.maximumSize);const b=(0,O.w6)(this.viewItems.length),L=b.filter(T=>this.viewItems[T].priority===1),R=b.filter(T=>this.viewItems[T].priority===2);this.relayout(L,R)}getViewSize(a){return a<0||a>=this.viewItems.length?-1:this.viewItems[a].size}doAddView(a,u,c=this.viewItems.length,b){if(this.state!==p.Idle)throw new Error("Cant modify splitview");this.state=p.Busy;const L=(0,h.$)(".split-view-view");c===this.viewItems.length?this.viewContainer.appendChild(L):this.viewContainer.insertBefore(L,this.viewContainer.children.item(c));const R=a.onDidChange(he=>this.onViewChange(ie,he)),T=(0,x.OF)(()=>this.viewContainer.removeChild(L)),j=(0,x.F8)(R,T);let q;typeof u=="number"?q=u:u.type==="split"?q=this.getViewSize(u.index)/2:u.type==="invisible"?q={cachedVisibleSize:u.cachedVisibleSize}:q=a.minimumSize;const ie=this.orientation===0?new y(L,a,q,j):new n(L,a,q,j);if(this.viewItems.splice(c,0,ie),this.viewItems.length>1){let he={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const $=this.orientation===0?new W.g(this.sashContainer,{getHorizontalSashTop:re=>this.getSashPosition(re),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},he),{orientation:1})):new W.g(this.sashContainer,{getVerticalSashLeft:re=>this.getSashPosition(re),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},he),{orientation:0})),V=this.orientation===0?re=>({sash:$,start:re.startY,current:re.currentY,alt:re.altKey}):re=>({sash:$,start:re.startX,current:re.currentX,alt:re.altKey}),Q=G.ju.map($.onDidStart,V)(this.onSashStart,this),E=G.ju.map($.onDidChange,V)(this.onSashChange,this),A=G.ju.map($.onDidEnd,()=>this.sashItems.findIndex(re=>re.sash===$))(this.onSashEnd,this),H=$.onDidReset(()=>{const re=this.sashItems.findIndex(oe=>oe.sash===$),fe=(0,O.w6)(re,-1),ue=(0,O.w6)(re+1,this.viewItems.length),Oe=this.findFirstSnapIndex(fe),Ce=this.findFirstSnapIndex(ue);typeof Oe=="number"&&!this.viewItems[Oe].visible||typeof Ce=="number"&&!this.viewItems[Ce].visible||this._onDidSashReset.fire(re)}),Y=(0,x.F8)(Q,E,A,H,$),X={sash:$,disposable:Y};this.sashItems.splice(c-1,0,X)}L.appendChild(a.element);let ne;typeof u!="number"&&u.type==="split"&&(ne=[u.index]),b||this.relayout([c],ne),this.state=p.Idle,!b&&typeof u!="number"&&u.type==="distribute"&&this.distributeViewSizes()}relayout(a,u){const c=this.viewItems.reduce((b,L)=>b+L.size,0);this.resize(this.viewItems.length-1,this.size-c,void 0,a,u),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(a,u,c=this.viewItems.map(ie=>ie.size),b,L,R=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY,j,q){if(a<0||a>=this.viewItems.length)return 0;const ie=(0,O.w6)(a,-1),ne=(0,O.w6)(a+1,this.viewItems.length);if(L)for(const X of L)(0,O.zI)(ie,X),(0,O.zI)(ne,X);if(b)for(const X of b)(0,O.al)(ie,X),(0,O.al)(ne,X);const he=ie.map(X=>this.viewItems[X]),$=ie.map(X=>c[X]),V=ne.map(X=>this.viewItems[X]),z=ne.map(X=>c[X]),Q=ie.reduce((X,re)=>X+(this.viewItems[re].minimumSize-c[re]),0),le=ie.reduce((X,re)=>X+(this.viewItems[re].maximumSize-c[re]),0),E=ne.length===0?Number.POSITIVE_INFINITY:ne.reduce((X,re)=>X+(c[re]-this.viewItems[re].minimumSize),0),I=ne.length===0?Number.NEGATIVE_INFINITY:ne.reduce((X,re)=>X+(c[re]-this.viewItems[re].maximumSize),0),A=Math.max(Q,I,R),H=Math.min(E,le,T);let Y=!1;if(j){const X=this.viewItems[j.index],re=u>=j.limitDelta;Y=re!==X.visible,X.setVisible(re,j.size)}if(!Y&&q){const X=this.viewItems[q.index],re=u<q.limitDelta;Y=re!==X.visible,X.setVisible(re,q.size)}if(Y)return this.resize(a,u,c,b,L,R,T);u=(0,N.u)(u,A,H);for(let X=0,re=u;X<he.length;X++){const fe=he[X],ue=(0,N.u)($[X]+re,fe.minimumSize,fe.maximumSize),Oe=ue-$[X];re-=Oe,fe.size=ue}for(let X=0,re=u;X<V.length;X++){const fe=V[X],ue=(0,N.u)(z[X]-re,fe.minimumSize,fe.maximumSize),Oe=ue-z[X];re+=Oe,fe.size=ue}return u}distributeEmptySpace(a){const u=this.viewItems.reduce((T,j)=>T+j.size,0);let c=this.size-u;const b=(0,O.w6)(this.viewItems.length-1,-1),L=b.filter(T=>this.viewItems[T].priority===1),R=b.filter(T=>this.viewItems[T].priority===2);for(const T of R)(0,O.zI)(b,T);for(const T of L)(0,O.al)(b,T);typeof a=="number"&&(0,O.al)(b,a);for(let T=0;c!==0&&T<b.length;T++){const j=this.viewItems[b[T]],q=(0,N.u)(j.size+c,j.minimumSize,j.maximumSize),ie=q-j.size;c-=ie,j.size=q}}layoutViews(){this.contentSize=this.viewItems.reduce((u,c)=>u+c.size,0);let a=0;for(const u of this.viewItems)u.layout(a,this.layoutContext),a+=u.size;this.sashItems.forEach(u=>u.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let a=!1;const u=this.viewItems.map(j=>a=j.size-j.minimumSize>0||a);a=!1;const c=this.viewItems.map(j=>a=j.maximumSize-j.size>0||a),b=[...this.viewItems].reverse();a=!1;const L=b.map(j=>a=j.size-j.minimumSize>0||a).reverse();a=!1;const R=b.map(j=>a=j.maximumSize-j.size>0||a).reverse();let T=0;for(let j=0;j<this.sashItems.length;j++){const{sash:q}=this.sashItems[j],ie=this.viewItems[j];T+=ie.size;const ne=!(u[j]&&R[j+1]),he=!(c[j]&&L[j+1]);if(ne&&he){const $=(0,O.w6)(j,-1),V=(0,O.w6)(j+1,this.viewItems.length),z=this.findFirstSnapIndex($),Q=this.findFirstSnapIndex(V),le=typeof z=="number"&&!this.viewItems[z].visible,E=typeof Q=="number"&&!this.viewItems[Q].visible;le&&L[j]&&(T>0||this.startSnappingEnabled)?q.state=1:E&&u[j]&&(T<this.contentSize||this.endSnappingEnabled)?q.state=2:q.state=0}else ne&&!he?q.state=1:!ne&&he?q.state=2:q.state=3}}getSashPosition(a){let u=0;for(let c=0;c<this.sashItems.length;c++)if(u+=this.viewItems[c].size,this.sashItems[c].sash===a)return u;return 0}findFirstSnapIndex(a){for(const u of a){const c=this.viewItems[u];if(c.visible&&c.snap)return u}for(const u of a){const c=this.viewItems[u];if(c.visible&&c.maximumSize-c.minimumSize>0)return;if(!c.visible&&c.snap)return u}}dispose(){super.dispose(),this.viewItems.forEach(a=>a.dispose()),this.viewItems=[],this.sashItems.forEach(a=>a.disposable.dispose()),this.sashItems=[]}}},93794:function(Ct,we,t){"use strict";t.d(we,{$:function(){return G}});var h=t(65321),W=t(59069),k=t(23938),O=t(10553),w=t(9917);class G extends w.JT{onclick(N,s){this._register(h.nm(N,h.tw.CLICK,C=>s(new k.n(C))))}onmousedown(N,s){this._register(h.nm(N,h.tw.MOUSE_DOWN,C=>s(new k.n(C))))}onmouseover(N,s){this._register(h.nm(N,h.tw.MOUSE_OVER,C=>s(new k.n(C))))}onnonbubblingmouseout(N,s){this._register(h.j_(N,C=>s(new k.n(C))))}onkeydown(N,s){this._register(h.nm(N,h.tw.KEY_DOWN,C=>s(new W.y(C))))}onkeyup(N,s){this._register(h.nm(N,h.tw.KEY_UP,C=>s(new W.y(C))))}oninput(N,s){this._register(h.nm(N,h.tw.INPUT,s))}onblur(N,s){this._register(h.nm(N,h.tw.BLUR,s))}onfocus(N,s){this._register(h.nm(N,h.tw.FOCUS,s))}ignoreGesture(N){O.o.ignoreTarget(N)}}},74741:function(Ct,we,t){"use strict";t.d(we,{Wi:function(){return G},Z0:function(){return x},aU:function(){return w},eZ:function(){return s},wY:function(){return N}});var h=t(4669),W=t(9917),k=t(63580),O=function(C,l,m,y){function n(p){return p instanceof m?p:new m(function(f){f(p)})}return new(m||(m=Promise))(function(p,f){function v(u){try{a(y.next(u))}catch(c){f(c)}}function d(u){try{a(y.throw(u))}catch(c){f(c)}}function a(u){u.done?p(u.value):n(u.value).then(v,d)}a((y=y.apply(C,l||[])).next())})};class w extends W.JT{constructor(l,m="",y="",n=!0,p){super(),this._onDidChange=this._register(new h.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=l,this._label=m,this._cssClass=y,this._enabled=n,this._actionCallback=p}get id(){return this._id}get label(){return this._label}set label(l){this._setLabel(l)}_setLabel(l){this._label!==l&&(this._label=l,this._onDidChange.fire({label:l}))}get tooltip(){return this._tooltip||""}set tooltip(l){this._setTooltip(l)}_setTooltip(l){this._tooltip!==l&&(this._tooltip=l,this._onDidChange.fire({tooltip:l}))}get class(){return this._cssClass}set class(l){this._setClass(l)}_setClass(l){this._cssClass!==l&&(this._cssClass=l,this._onDidChange.fire({class:l}))}get enabled(){return this._enabled}set enabled(l){this._setEnabled(l)}_setEnabled(l){this._enabled!==l&&(this._enabled=l,this._onDidChange.fire({enabled:l}))}get checked(){return this._checked}set checked(l){this._setChecked(l)}_setChecked(l){this._checked!==l&&(this._checked=l,this._onDidChange.fire({checked:l}))}run(l,m){return O(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(l))})}}class G extends W.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new h.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new h.Q5),this.onDidRun=this._onDidRun.event}run(l,m){return O(this,void 0,void 0,function*(){if(!l.enabled)return;this._onBeforeRun.fire({action:l});let y;try{yield this.runAction(l,m)}catch(n){y=n}this._onDidRun.fire({action:l,error:y})})}runAction(l,m){return O(this,void 0,void 0,function*(){yield l.run(m)})}}class x extends w{constructor(l){super(x.ID,l,l?"separator text":"separator"),this.checked=!1,this.enabled=!1}}x.ID="vs.actions.separator";class N{constructor(l,m,y,n){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=l,this.label=m,this.class=n,this._actions=y}get actions(){return this._actions}dispose(){}run(){return O(this,void 0,void 0,function*(){})}}class s extends w{constructor(){super(s.ID,k.N("submenu.empty","(empty)"),void 0,!1)}}s.ID="vs.actions.empty"},9488:function(Ct,we,t){"use strict";t.d(we,{EB:function(){return l},Gb:function(){return h},H9:function(){return R},HW:function(){return G},JH:function(){return W},Of:function(){return C},XY:function(){return s},Xh:function(){return n},Zv:function(){return v},_2:function(){return u},al:function(){return a},dF:function(){return m},db:function(){return b},fS:function(){return k},kX:function(){return N},lG:function(){return w},ry:function(){return O},vM:function(){return x},w6:function(){return f},xH:function(){return p},zI:function(){return d}});function h(T,j=0){return T[T.length-(1+j)]}function W(T){if(T.length===0)throw new Error("Invalid tail call");return[T.slice(0,T.length-1),T[T.length-1]]}function k(T,j,q=(ie,ne)=>ie===ne){if(T===j)return!0;if(!T||!j||T.length!==j.length)return!1;for(let ie=0,ne=T.length;ie<ne;ie++)if(!q(T[ie],j[ie]))return!1;return!0}function O(T,j,q){let ie=0,ne=T.length-1;for(;ie<=ne;){const he=(ie+ne)/2|0,$=q(T[he],j);if($<0)ie=he+1;else if($>0)ne=he-1;else return he}return-(ie+1)}function w(T,j){let q=0,ie=T.length;if(ie===0)return 0;for(;q<ie;){const ne=Math.floor((q+ie)/2);j(T[ne])?ie=ne:q=ne+1}return q}function G(T,j,q){if(T=T|0,T>=j.length)throw new TypeError("invalid index");let ie=j[Math.floor(j.length*Math.random())],ne=[],he=[],$=[];for(let V of j){const z=q(V,ie);z<0?ne.push(V):z>0?he.push(V):$.push(V)}return T<ne.length?G(T,ne,q):T<ne.length+$.length?$[0]:G(T-(ne.length+$.length),he,q)}function x(T,j){const q=[];let ie;for(const ne of T.slice(0).sort(j))!ie||j(ie[0],ne)!==0?(ie=[ne],q.push(ie)):ie.push(ne);return q}function N(T){return T.filter(j=>!!j)}function s(T){return!Array.isArray(T)||T.length===0}function C(T){return Array.isArray(T)&&T.length>0}function l(T,j=q=>q){const q=new Set;return T.filter(ie=>{const ne=j(ie);return q.has(ne)?!1:(q.add(ne),!0)})}function m(T,j){const q=y(T,j);if(q!==-1)return T[q]}function y(T,j){for(let q=T.length-1;q>=0;q--){const ie=T[q];if(j(ie))return q}return-1}function n(T,j){return T.length>0?T[0]:j}function p(T){return[].concat(...T)}function f(T,j){let q=typeof j=="number"?T:0;typeof j=="number"?q=T:(q=0,j=T);const ie=[];if(q<=j)for(let ne=q;ne<j;ne++)ie.push(ne);else for(let ne=q;ne>j;ne--)ie.push(ne);return ie}function v(T,j,q){const ie=T.slice(0,j),ne=T.slice(j);return ie.concat(q,ne)}function d(T,j){const q=T.indexOf(j);q>-1&&(T.splice(q,1),T.unshift(j))}function a(T,j){const q=T.indexOf(j);q>-1&&(T.splice(q,1),T.push(j))}function u(T){return Array.isArray(T)?T:[T]}function c(T,j,q){const ie=L(T,j),ne=T.length,he=q.length;T.length=ne+he;for(let $=ne-1;$>=ie;$--)T[$+he]=T[$];for(let $=0;$<he;$++)T[$+ie]=q[$]}function b(T,j,q,ie){const ne=L(T,j),he=T.splice(ne,q);return c(T,ne,ie),he}function L(T,j){return j<0?Math.max(j+T.length,0):Math.min(j,T.length)}class R{constructor(j){this.items=j,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(j){let q=this.firstIdx;for(;q<this.items.length&&j(this.items[q]);)q++;const ie=q===this.firstIdx?null:this.items.slice(this.firstIdx,q);return this.firstIdx=q,ie}takeFromEndWhile(j){let q=this.lastIdx;for(;q>=0&&j(this.items[q]);)q--;const ie=q===this.lastIdx?null:this.items.slice(q+1,this.lastIdx+1);return this.lastIdx=q,ie}peek(){return this.items[this.firstIdx]}}},35146:function(Ct,we,t){"use strict";t.d(we,{ok:function(){return h}});function h(W,k){if(!W)throw new Error(k?`Assertion failed (${k})`:"Assertion Failed")}},15393:function(Ct,we,t){"use strict";t.d(we,{J8:function(){return w},PG:function(){return G},Ps:function(){return y},To:function(){return v},Ue:function(){return d},Vg:function(){return m},Vs:function(){return l},_F:function(){return n},eP:function(){return x},jT:function(){return a},pY:function(){return f},rH:function(){return C},vp:function(){return s},zh:function(){return p}});var h=t(71050),W=t(17301),k=t(9917),O=function(u,c,b,L){function R(T){return T instanceof b?T:new b(function(j){j(T)})}return new(b||(b=Promise))(function(T,j){function q(he){try{ne(L.next(he))}catch($){j($)}}function ie(he){try{ne(L.throw(he))}catch($){j($)}}function ne(he){he.done?T(he.value):R(he.value).then(q,ie)}ne((L=L.apply(u,c||[])).next())})};function w(u){return!!u&&typeof u.then=="function"}function G(u){const c=new h.A,b=u(c.token),L=new Promise((R,T)=>{const j=c.token.onCancellationRequested(()=>{j.dispose(),c.dispose(),T((0,W.F0)())});Promise.resolve(b).then(q=>{j.dispose(),c.dispose(),R(q)},q=>{j.dispose(),c.dispose(),T(q)})});return new class{cancel(){c.cancel()}then(R,T){return L.then(R,T)}catch(R){return this.then(void 0,R)}finally(R){return L.finally(R)}}}function x(u,c,b){return Promise.race([u,new Promise(L=>c.onCancellationRequested(()=>L(b)))])}class N{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(c){if(this.activePromise){if(this.queuedPromiseFactory=c,!this.queuedPromise){const b=()=>{this.queuedPromise=null;const L=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,L};this.queuedPromise=new Promise(L=>{this.activePromise.then(b,b).then(L)})}return new Promise((b,L)=>{this.queuedPromise.then(b,L)})}return this.activePromise=c(),new Promise((b,L)=>{this.activePromise.then(R=>{this.activePromise=null,b(R)},R=>{this.activePromise=null,L(R)})})}}class s{constructor(c){this.defaultDelay=c,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(c,b=this.defaultDelay){return this.task=c,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((L,R)=>{this.doResolve=L,this.doReject=R}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const L=this.task;return this.task=null,L()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},b),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,W.F0)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class C{constructor(c){this.delayer=new s(c),this.throttler=new N}trigger(c,b){return this.delayer.trigger(()=>this.throttler.queue(c),b)}dispose(){this.delayer.dispose()}}function l(u,c){return c?new Promise((b,L)=>{const R=setTimeout(()=>{T.dispose(),b()},u),T=c.onCancellationRequested(()=>{clearTimeout(R),T.dispose(),L((0,W.F0)())})}):G(b=>l(u,b))}function m(u,c=0){const b=setTimeout(u,c);return(0,k.OF)(()=>clearTimeout(b))}function y(u,c=L=>!!L,b=null){let L=0;const R=u.length,T=()=>{if(L>=R)return Promise.resolve(b);const j=u[L++];return Promise.resolve(j()).then(ie=>c(ie)?Promise.resolve(ie):T())};return T()}class n{constructor(c,b){this._token=-1,typeof c=="function"&&typeof b=="number"&&this.setIfNotSet(c,b)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(c,b){this.cancel(),this._token=setTimeout(()=>{this._token=-1,c()},b)}setIfNotSet(c,b){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,c()},b))}}class p{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(c,b){this.cancel(),this._token=setInterval(()=>{c()},b)}}class f{constructor(c,b){this.timeoutToken=-1,this.runner=c,this.timeout=b,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(c=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,c)}get delay(){return this.timeout}set delay(c){this.timeout=c}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let v;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?v=u=>{const c=setTimeout(()=>{const L=Date.now()+15;u(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,L-Date.now())}}))});let b=!1;return{dispose(){b||(b=!0,clearTimeout(c))}}}:v=(u,c)=>{const b=requestIdleCallback(u,typeof c=="number"?{timeout:c}:void 0);let L=!1;return{dispose(){L||(L=!0,cancelIdleCallback(b))}}}})();class d{constructor(c){this._didRun=!1,this._executor=()=>{try{this._value=c()}catch(b){this._error=b}finally{this._didRun=!0}},this._handle=v(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}var a;(function(u){function c(L){return O(this,void 0,void 0,function*(){let R;const T=yield Promise.all(L.map(j=>j.then(q=>q,q=>{R||(R=q)})));if(typeof R!="undefined")throw R;return T})}u.settled=c;function b(L){return new Promise((R,T)=>O(this,void 0,void 0,function*(){try{yield L(R,T)}catch(j){T(j)}}))}u.withAsyncBody=b})(a||(a={}))},53060:function(Ct,we,t){"use strict";t.d(we,{Ag:function(){return x},Cg:function(){return C},KN:function(){return O},Q$:function(){return s},T4:function(){return N},mP:function(){return w},oq:function(){return G}});var h=t(48764).lW;const W=typeof h!="undefined";let k;class O{constructor(m){this.buffer=m,this.byteLength=this.buffer.byteLength}static wrap(m){return W&&!h.isBuffer(m)&&(m=h.from(m.buffer,m.byteOffset,m.byteLength)),new O(m)}toString(){return W?this.buffer.toString():(k||(k=new TextDecoder),k.decode(this.buffer))}}function w(l,m){return l[m+0]<<0>>>0|l[m+1]<<8>>>0}function G(l,m,y){l[y+0]=m&255,m=m>>>8,l[y+1]=m&255}function x(l,m){return l[m]*Math.pow(2,24)+l[m+1]*Math.pow(2,16)+l[m+2]*Math.pow(2,8)+l[m+3]}function N(l,m,y){l[y+3]=m,m=m>>>8,l[y+2]=m,m=m>>>8,l[y+1]=m,m=m>>>8,l[y]=m}function s(l,m){return l[m]}function C(l,m,y){l[y]=m}},71050:function(Ct,we,t){"use strict";t.d(we,{A:function(){return w},T:function(){return k}});var h=t(4669);const W=Object.freeze(function(G,x){const N=setTimeout(G.bind(x),0);return{dispose(){clearTimeout(N)}}});var k;(function(G){function x(N){return N===G.None||N===G.Cancelled||N instanceof O?!0:!N||typeof N!="object"?!1:typeof N.isCancellationRequested=="boolean"&&typeof N.onCancellationRequested=="function"}G.isCancellationToken=x,G.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:h.ju.None}),G.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:W})})(k||(k={}));class O{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?W:(this._emitter||(this._emitter=new h.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class w{constructor(x){this._token=void 0,this._parentListener=void 0,this._parentListener=x&&x.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new O),this._token}cancel(){this._token?this._token instanceof O&&this._token.cancel():this._token=k.Cancelled}dispose(x=!1){x&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof O&&this._token.dispose():this._token=k.None}}},73046:function(Ct,we,t){"use strict";t.d(we,{CM:function(){return w},JL:function(){return G},dT:function(){return N},fK:function(){return O},lA:function(){return x}});var h=t(4669);class W{constructor(){this._icons=new Map,this._onDidRegister=new h.Q5}add(C){const l=this._icons.get(C.id);l?C.description?l.description=C.description:console.error(`Duplicate registration of codicon ${C.id}`):(this._icons.set(C.id,C),this._onDidRegister.fire(C))}get(C){return this._icons.get(C)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const k=new W,O=k;function w(s,C){return new x(s,C)}function G(s){return s?s.replace(/\$\((.*?)\)/g,(C,l)=>` ${l} `).trim():""}class x{constructor(C,l,m){this.id=C,this.definition=l,this.description=m,k.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var N;(function(s){s.iconNameSegment="[A-Za-z0-9]+",s.iconNameExpression="[A-Za-z0-9\\-]+",s.iconModifierExpression="~[A-Za-z]+";const C=new RegExp(`^(${s.iconNameExpression})(${s.iconModifierExpression})?$`);function l(n){if(n instanceof x)return["codicon","codicon-"+n.id];const p=C.exec(n.id);if(!p)return l(x.error);let[,f,v]=p;const d=["codicon","codicon-"+f];return v&&d.push("codicon-modifier-"+v.substr(1)),d}s.asClassNameArray=l;function m(n){return l(n).join(" ")}s.asClassName=m;function y(n){return"."+l(n).join(".")}s.asCSSSelector=y})(N||(N={})),function(s){s.add=new s("add",{fontCharacter:"\\ea60"}),s.plus=new s("plus",s.add.definition),s.gistNew=new s("gist-new",s.add.definition),s.repoCreate=new s("repo-create",s.add.definition),s.lightbulb=new s("lightbulb",{fontCharacter:"\\ea61"}),s.lightBulb=new s("light-bulb",{fontCharacter:"\\ea61"}),s.repo=new s("repo",{fontCharacter:"\\ea62"}),s.repoDelete=new s("repo-delete",{fontCharacter:"\\ea62"}),s.gistFork=new s("gist-fork",{fontCharacter:"\\ea63"}),s.repoForked=new s("repo-forked",{fontCharacter:"\\ea63"}),s.gitPullRequest=new s("git-pull-request",{fontCharacter:"\\ea64"}),s.gitPullRequestAbandoned=new s("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),s.recordKeys=new s("record-keys",{fontCharacter:"\\ea65"}),s.keyboard=new s("keyboard",{fontCharacter:"\\ea65"}),s.tag=new s("tag",{fontCharacter:"\\ea66"}),s.tagAdd=new s("tag-add",{fontCharacter:"\\ea66"}),s.tagRemove=new s("tag-remove",{fontCharacter:"\\ea66"}),s.person=new s("person",{fontCharacter:"\\ea67"}),s.personFollow=new s("person-follow",{fontCharacter:"\\ea67"}),s.personOutline=new s("person-outline",{fontCharacter:"\\ea67"}),s.personFilled=new s("person-filled",{fontCharacter:"\\ea67"}),s.gitBranch=new s("git-branch",{fontCharacter:"\\ea68"}),s.gitBranchCreate=new s("git-branch-create",{fontCharacter:"\\ea68"}),s.gitBranchDelete=new s("git-branch-delete",{fontCharacter:"\\ea68"}),s.sourceControl=new s("source-control",{fontCharacter:"\\ea68"}),s.mirror=new s("mirror",{fontCharacter:"\\ea69"}),s.mirrorPublic=new s("mirror-public",{fontCharacter:"\\ea69"}),s.star=new s("star",{fontCharacter:"\\ea6a"}),s.starAdd=new s("star-add",{fontCharacter:"\\ea6a"}),s.starDelete=new s("star-delete",{fontCharacter:"\\ea6a"}),s.starEmpty=new s("star-empty",{fontCharacter:"\\ea6a"}),s.comment=new s("comment",{fontCharacter:"\\ea6b"}),s.commentAdd=new s("comment-add",{fontCharacter:"\\ea6b"}),s.alert=new s("alert",{fontCharacter:"\\ea6c"}),s.warning=new s("warning",{fontCharacter:"\\ea6c"}),s.search=new s("search",{fontCharacter:"\\ea6d"}),s.searchSave=new s("search-save",{fontCharacter:"\\ea6d"}),s.logOut=new s("log-out",{fontCharacter:"\\ea6e"}),s.signOut=new s("sign-out",{fontCharacter:"\\ea6e"}),s.logIn=new s("log-in",{fontCharacter:"\\ea6f"}),s.signIn=new s("sign-in",{fontCharacter:"\\ea6f"}),s.eye=new s("eye",{fontCharacter:"\\ea70"}),s.eyeUnwatch=new s("eye-unwatch",{fontCharacter:"\\ea70"}),s.eyeWatch=new s("eye-watch",{fontCharacter:"\\ea70"}),s.circleFilled=new s("circle-filled",{fontCharacter:"\\ea71"}),s.primitiveDot=new s("primitive-dot",{fontCharacter:"\\ea71"}),s.closeDirty=new s("close-dirty",{fontCharacter:"\\ea71"}),s.debugBreakpoint=new s("debug-breakpoint",{fontCharacter:"\\ea71"}),s.debugBreakpointDisabled=new s("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),s.debugHint=new s("debug-hint",{fontCharacter:"\\ea71"}),s.primitiveSquare=new s("primitive-square",{fontCharacter:"\\ea72"}),s.edit=new s("edit",{fontCharacter:"\\ea73"}),s.pencil=new s("pencil",{fontCharacter:"\\ea73"}),s.info=new s("info",{fontCharacter:"\\ea74"}),s.issueOpened=new s("issue-opened",{fontCharacter:"\\ea74"}),s.gistPrivate=new s("gist-private",{fontCharacter:"\\ea75"}),s.gitForkPrivate=new s("git-fork-private",{fontCharacter:"\\ea75"}),s.lock=new s("lock",{fontCharacter:"\\ea75"}),s.mirrorPrivate=new s("mirror-private",{fontCharacter:"\\ea75"}),s.close=new s("close",{fontCharacter:"\\ea76"}),s.removeClose=new s("remove-close",{fontCharacter:"\\ea76"}),s.x=new s("x",{fontCharacter:"\\ea76"}),s.repoSync=new s("repo-sync",{fontCharacter:"\\ea77"}),s.sync=new s("sync",{fontCharacter:"\\ea77"}),s.clone=new s("clone",{fontCharacter:"\\ea78"}),s.desktopDownload=new s("desktop-download",{fontCharacter:"\\ea78"}),s.beaker=new s("beaker",{fontCharacter:"\\ea79"}),s.microscope=new s("microscope",{fontCharacter:"\\ea79"}),s.vm=new s("vm",{fontCharacter:"\\ea7a"}),s.deviceDesktop=new s("device-desktop",{fontCharacter:"\\ea7a"}),s.file=new s("file",{fontCharacter:"\\ea7b"}),s.fileText=new s("file-text",{fontCharacter:"\\ea7b"}),s.more=new s("more",{fontCharacter:"\\ea7c"}),s.ellipsis=new s("ellipsis",{fontCharacter:"\\ea7c"}),s.kebabHorizontal=new s("kebab-horizontal",{fontCharacter:"\\ea7c"}),s.mailReply=new s("mail-reply",{fontCharacter:"\\ea7d"}),s.reply=new s("reply",{fontCharacter:"\\ea7d"}),s.organization=new s("organization",{fontCharacter:"\\ea7e"}),s.organizationFilled=new s("organization-filled",{fontCharacter:"\\ea7e"}),s.organizationOutline=new s("organization-outline",{fontCharacter:"\\ea7e"}),s.newFile=new s("new-file",{fontCharacter:"\\ea7f"}),s.fileAdd=new s("file-add",{fontCharacter:"\\ea7f"}),s.newFolder=new s("new-folder",{fontCharacter:"\\ea80"}),s.fileDirectoryCreate=new s("file-directory-create",{fontCharacter:"\\ea80"}),s.trash=new s("trash",{fontCharacter:"\\ea81"}),s.trashcan=new s("trashcan",{fontCharacter:"\\ea81"}),s.history=new s("history",{fontCharacter:"\\ea82"}),s.clock=new s("clock",{fontCharacter:"\\ea82"}),s.folder=new s("folder",{fontCharacter:"\\ea83"}),s.fileDirectory=new s("file-directory",{fontCharacter:"\\ea83"}),s.symbolFolder=new s("symbol-folder",{fontCharacter:"\\ea83"}),s.logoGithub=new s("logo-github",{fontCharacter:"\\ea84"}),s.markGithub=new s("mark-github",{fontCharacter:"\\ea84"}),s.github=new s("github",{fontCharacter:"\\ea84"}),s.terminal=new s("terminal",{fontCharacter:"\\ea85"}),s.console=new s("console",{fontCharacter:"\\ea85"}),s.repl=new s("repl",{fontCharacter:"\\ea85"}),s.zap=new s("zap",{fontCharacter:"\\ea86"}),s.symbolEvent=new s("symbol-event",{fontCharacter:"\\ea86"}),s.error=new s("error",{fontCharacter:"\\ea87"}),s.stop=new s("stop",{fontCharacter:"\\ea87"}),s.variable=new s("variable",{fontCharacter:"\\ea88"}),s.symbolVariable=new s("symbol-variable",{fontCharacter:"\\ea88"}),s.array=new s("array",{fontCharacter:"\\ea8a"}),s.symbolArray=new s("symbol-array",{fontCharacter:"\\ea8a"}),s.symbolModule=new s("symbol-module",{fontCharacter:"\\ea8b"}),s.symbolPackage=new s("symbol-package",{fontCharacter:"\\ea8b"}),s.symbolNamespace=new s("symbol-namespace",{fontCharacter:"\\ea8b"}),s.symbolObject=new s("symbol-object",{fontCharacter:"\\ea8b"}),s.symbolMethod=new s("symbol-method",{fontCharacter:"\\ea8c"}),s.symbolFunction=new s("symbol-function",{fontCharacter:"\\ea8c"}),s.symbolConstructor=new s("symbol-constructor",{fontCharacter:"\\ea8c"}),s.symbolBoolean=new s("symbol-boolean",{fontCharacter:"\\ea8f"}),s.symbolNull=new s("symbol-null",{fontCharacter:"\\ea8f"}),s.symbolNumeric=new s("symbol-numeric",{fontCharacter:"\\ea90"}),s.symbolNumber=new s("symbol-number",{fontCharacter:"\\ea90"}),s.symbolStructure=new s("symbol-structure",{fontCharacter:"\\ea91"}),s.symbolStruct=new s("symbol-struct",{fontCharacter:"\\ea91"}),s.symbolParameter=new s("symbol-parameter",{fontCharacter:"\\ea92"}),s.symbolTypeParameter=new s("symbol-type-parameter",{fontCharacter:"\\ea92"}),s.symbolKey=new s("symbol-key",{fontCharacter:"\\ea93"}),s.symbolText=new s("symbol-text",{fontCharacter:"\\ea93"}),s.symbolReference=new s("symbol-reference",{fontCharacter:"\\ea94"}),s.goToFile=new s("go-to-file",{fontCharacter:"\\ea94"}),s.symbolEnum=new s("symbol-enum",{fontCharacter:"\\ea95"}),s.symbolValue=new s("symbol-value",{fontCharacter:"\\ea95"}),s.symbolRuler=new s("symbol-ruler",{fontCharacter:"\\ea96"}),s.symbolUnit=new s("symbol-unit",{fontCharacter:"\\ea96"}),s.activateBreakpoints=new s("activate-breakpoints",{fontCharacter:"\\ea97"}),s.archive=new s("archive",{fontCharacter:"\\ea98"}),s.arrowBoth=new s("arrow-both",{fontCharacter:"\\ea99"}),s.arrowDown=new s("arrow-down",{fontCharacter:"\\ea9a"}),s.arrowLeft=new s("arrow-left",{fontCharacter:"\\ea9b"}),s.arrowRight=new s("arrow-right",{fontCharacter:"\\ea9c"}),s.arrowSmallDown=new s("arrow-small-down",{fontCharacter:"\\ea9d"}),s.arrowSmallLeft=new s("arrow-small-left",{fontCharacter:"\\ea9e"}),s.arrowSmallRight=new s("arrow-small-right",{fontCharacter:"\\ea9f"}),s.arrowSmallUp=new s("arrow-small-up",{fontCharacter:"\\eaa0"}),s.arrowUp=new s("arrow-up",{fontCharacter:"\\eaa1"}),s.bell=new s("bell",{fontCharacter:"\\eaa2"}),s.bold=new s("bold",{fontCharacter:"\\eaa3"}),s.book=new s("book",{fontCharacter:"\\eaa4"}),s.bookmark=new s("bookmark",{fontCharacter:"\\eaa5"}),s.debugBreakpointConditionalUnverified=new s("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),s.debugBreakpointConditional=new s("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),s.debugBreakpointConditionalDisabled=new s("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),s.debugBreakpointDataUnverified=new s("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),s.debugBreakpointData=new s("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),s.debugBreakpointDataDisabled=new s("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),s.debugBreakpointLogUnverified=new s("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),s.debugBreakpointLog=new s("debug-breakpoint-log",{fontCharacter:"\\eaab"}),s.debugBreakpointLogDisabled=new s("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),s.briefcase=new s("briefcase",{fontCharacter:"\\eaac"}),s.broadcast=new s("broadcast",{fontCharacter:"\\eaad"}),s.browser=new s("browser",{fontCharacter:"\\eaae"}),s.bug=new s("bug",{fontCharacter:"\\eaaf"}),s.calendar=new s("calendar",{fontCharacter:"\\eab0"}),s.caseSensitive=new s("case-sensitive",{fontCharacter:"\\eab1"}),s.check=new s("check",{fontCharacter:"\\eab2"}),s.checklist=new s("checklist",{fontCharacter:"\\eab3"}),s.chevronDown=new s("chevron-down",{fontCharacter:"\\eab4"}),s.dropDownButton=new s("drop-down-button",s.chevronDown.definition),s.chevronLeft=new s("chevron-left",{fontCharacter:"\\eab5"}),s.chevronRight=new s("chevron-right",{fontCharacter:"\\eab6"}),s.chevronUp=new s("chevron-up",{fontCharacter:"\\eab7"}),s.chromeClose=new s("chrome-close",{fontCharacter:"\\eab8"}),s.chromeMaximize=new s("chrome-maximize",{fontCharacter:"\\eab9"}),s.chromeMinimize=new s("chrome-minimize",{fontCharacter:"\\eaba"}),s.chromeRestore=new s("chrome-restore",{fontCharacter:"\\eabb"}),s.circleOutline=new s("circle-outline",{fontCharacter:"\\eabc"}),s.debugBreakpointUnverified=new s("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),s.circleSlash=new s("circle-slash",{fontCharacter:"\\eabd"}),s.circuitBoard=new s("circuit-board",{fontCharacter:"\\eabe"}),s.clearAll=new s("clear-all",{fontCharacter:"\\eabf"}),s.clippy=new s("clippy",{fontCharacter:"\\eac0"}),s.closeAll=new s("close-all",{fontCharacter:"\\eac1"}),s.cloudDownload=new s("cloud-download",{fontCharacter:"\\eac2"}),s.cloudUpload=new s("cloud-upload",{fontCharacter:"\\eac3"}),s.code=new s("code",{fontCharacter:"\\eac4"}),s.collapseAll=new s("collapse-all",{fontCharacter:"\\eac5"}),s.colorMode=new s("color-mode",{fontCharacter:"\\eac6"}),s.commentDiscussion=new s("comment-discussion",{fontCharacter:"\\eac7"}),s.compareChanges=new s("compare-changes",{fontCharacter:"\\eafd"}),s.creditCard=new s("credit-card",{fontCharacter:"\\eac9"}),s.dash=new s("dash",{fontCharacter:"\\eacc"}),s.dashboard=new s("dashboard",{fontCharacter:"\\eacd"}),s.database=new s("database",{fontCharacter:"\\eace"}),s.debugContinue=new s("debug-continue",{fontCharacter:"\\eacf"}),s.debugDisconnect=new s("debug-disconnect",{fontCharacter:"\\ead0"}),s.debugPause=new s("debug-pause",{fontCharacter:"\\ead1"}),s.debugRestart=new s("debug-restart",{fontCharacter:"\\ead2"}),s.debugStart=new s("debug-start",{fontCharacter:"\\ead3"}),s.debugStepInto=new s("debug-step-into",{fontCharacter:"\\ead4"}),s.debugStepOut=new s("debug-step-out",{fontCharacter:"\\ead5"}),s.debugStepOver=new s("debug-step-over",{fontCharacter:"\\ead6"}),s.debugStop=new s("debug-stop",{fontCharacter:"\\ead7"}),s.debug=new s("debug",{fontCharacter:"\\ead8"}),s.deviceCameraVideo=new s("device-camera-video",{fontCharacter:"\\ead9"}),s.deviceCamera=new s("device-camera",{fontCharacter:"\\eada"}),s.deviceMobile=new s("device-mobile",{fontCharacter:"\\eadb"}),s.diffAdded=new s("diff-added",{fontCharacter:"\\eadc"}),s.diffIgnored=new s("diff-ignored",{fontCharacter:"\\eadd"}),s.diffModified=new s("diff-modified",{fontCharacter:"\\eade"}),s.diffRemoved=new s("diff-removed",{fontCharacter:"\\eadf"}),s.diffRenamed=new s("diff-renamed",{fontCharacter:"\\eae0"}),s.diff=new s("diff",{fontCharacter:"\\eae1"}),s.discard=new s("discard",{fontCharacter:"\\eae2"}),s.editorLayout=new s("editor-layout",{fontCharacter:"\\eae3"}),s.emptyWindow=new s("empty-window",{fontCharacter:"\\eae4"}),s.exclude=new s("exclude",{fontCharacter:"\\eae5"}),s.extensions=new s("extensions",{fontCharacter:"\\eae6"}),s.eyeClosed=new s("eye-closed",{fontCharacter:"\\eae7"}),s.fileBinary=new s("file-binary",{fontCharacter:"\\eae8"}),s.fileCode=new s("file-code",{fontCharacter:"\\eae9"}),s.fileMedia=new s("file-media",{fontCharacter:"\\eaea"}),s.filePdf=new s("file-pdf",{fontCharacter:"\\eaeb"}),s.fileSubmodule=new s("file-submodule",{fontCharacter:"\\eaec"}),s.fileSymlinkDirectory=new s("file-symlink-directory",{fontCharacter:"\\eaed"}),s.fileSymlinkFile=new s("file-symlink-file",{fontCharacter:"\\eaee"}),s.fileZip=new s("file-zip",{fontCharacter:"\\eaef"}),s.files=new s("files",{fontCharacter:"\\eaf0"}),s.filter=new s("filter",{fontCharacter:"\\eaf1"}),s.flame=new s("flame",{fontCharacter:"\\eaf2"}),s.foldDown=new s("fold-down",{fontCharacter:"\\eaf3"}),s.foldUp=new s("fold-up",{fontCharacter:"\\eaf4"}),s.fold=new s("fold",{fontCharacter:"\\eaf5"}),s.folderActive=new s("folder-active",{fontCharacter:"\\eaf6"}),s.folderOpened=new s("folder-opened",{fontCharacter:"\\eaf7"}),s.gear=new s("gear",{fontCharacter:"\\eaf8"}),s.gift=new s("gift",{fontCharacter:"\\eaf9"}),s.gistSecret=new s("gist-secret",{fontCharacter:"\\eafa"}),s.gist=new s("gist",{fontCharacter:"\\eafb"}),s.gitCommit=new s("git-commit",{fontCharacter:"\\eafc"}),s.gitCompare=new s("git-compare",{fontCharacter:"\\eafd"}),s.gitMerge=new s("git-merge",{fontCharacter:"\\eafe"}),s.githubAction=new s("github-action",{fontCharacter:"\\eaff"}),s.githubAlt=new s("github-alt",{fontCharacter:"\\eb00"}),s.globe=new s("globe",{fontCharacter:"\\eb01"}),s.grabber=new s("grabber",{fontCharacter:"\\eb02"}),s.graph=new s("graph",{fontCharacter:"\\eb03"}),s.gripper=new s("gripper",{fontCharacter:"\\eb04"}),s.heart=new s("heart",{fontCharacter:"\\eb05"}),s.home=new s("home",{fontCharacter:"\\eb06"}),s.horizontalRule=new s("horizontal-rule",{fontCharacter:"\\eb07"}),s.hubot=new s("hubot",{fontCharacter:"\\eb08"}),s.inbox=new s("inbox",{fontCharacter:"\\eb09"}),s.issueClosed=new s("issue-closed",{fontCharacter:"\\eba4"}),s.issueReopened=new s("issue-reopened",{fontCharacter:"\\eb0b"}),s.issues=new s("issues",{fontCharacter:"\\eb0c"}),s.italic=new s("italic",{fontCharacter:"\\eb0d"}),s.jersey=new s("jersey",{fontCharacter:"\\eb0e"}),s.json=new s("json",{fontCharacter:"\\eb0f"}),s.kebabVertical=new s("kebab-vertical",{fontCharacter:"\\eb10"}),s.key=new s("key",{fontCharacter:"\\eb11"}),s.law=new s("law",{fontCharacter:"\\eb12"}),s.lightbulbAutofix=new s("lightbulb-autofix",{fontCharacter:"\\eb13"}),s.linkExternal=new s("link-external",{fontCharacter:"\\eb14"}),s.link=new s("link",{fontCharacter:"\\eb15"}),s.listOrdered=new s("list-ordered",{fontCharacter:"\\eb16"}),s.listUnordered=new s("list-unordered",{fontCharacter:"\\eb17"}),s.liveShare=new s("live-share",{fontCharacter:"\\eb18"}),s.loading=new s("loading",{fontCharacter:"\\eb19"}),s.location=new s("location",{fontCharacter:"\\eb1a"}),s.mailRead=new s("mail-read",{fontCharacter:"\\eb1b"}),s.mail=new s("mail",{fontCharacter:"\\eb1c"}),s.markdown=new s("markdown",{fontCharacter:"\\eb1d"}),s.megaphone=new s("megaphone",{fontCharacter:"\\eb1e"}),s.mention=new s("mention",{fontCharacter:"\\eb1f"}),s.milestone=new s("milestone",{fontCharacter:"\\eb20"}),s.mortarBoard=new s("mortar-board",{fontCharacter:"\\eb21"}),s.move=new s("move",{fontCharacter:"\\eb22"}),s.multipleWindows=new s("multiple-windows",{fontCharacter:"\\eb23"}),s.mute=new s("mute",{fontCharacter:"\\eb24"}),s.noNewline=new s("no-newline",{fontCharacter:"\\eb25"}),s.note=new s("note",{fontCharacter:"\\eb26"}),s.octoface=new s("octoface",{fontCharacter:"\\eb27"}),s.openPreview=new s("open-preview",{fontCharacter:"\\eb28"}),s.package_=new s("package",{fontCharacter:"\\eb29"}),s.paintcan=new s("paintcan",{fontCharacter:"\\eb2a"}),s.pin=new s("pin",{fontCharacter:"\\eb2b"}),s.play=new s("play",{fontCharacter:"\\eb2c"}),s.run=new s("run",{fontCharacter:"\\eb2c"}),s.plug=new s("plug",{fontCharacter:"\\eb2d"}),s.preserveCase=new s("preserve-case",{fontCharacter:"\\eb2e"}),s.preview=new s("preview",{fontCharacter:"\\eb2f"}),s.project=new s("project",{fontCharacter:"\\eb30"}),s.pulse=new s("pulse",{fontCharacter:"\\eb31"}),s.question=new s("question",{fontCharacter:"\\eb32"}),s.quote=new s("quote",{fontCharacter:"\\eb33"}),s.radioTower=new s("radio-tower",{fontCharacter:"\\eb34"}),s.reactions=new s("reactions",{fontCharacter:"\\eb35"}),s.references=new s("references",{fontCharacter:"\\eb36"}),s.refresh=new s("refresh",{fontCharacter:"\\eb37"}),s.regex=new s("regex",{fontCharacter:"\\eb38"}),s.remoteExplorer=new s("remote-explorer",{fontCharacter:"\\eb39"}),s.remote=new s("remote",{fontCharacter:"\\eb3a"}),s.remove=new s("remove",{fontCharacter:"\\eb3b"}),s.replaceAll=new s("replace-all",{fontCharacter:"\\eb3c"}),s.replace=new s("replace",{fontCharacter:"\\eb3d"}),s.repoClone=new s("repo-clone",{fontCharacter:"\\eb3e"}),s.repoForcePush=new s("repo-force-push",{fontCharacter:"\\eb3f"}),s.repoPull=new s("repo-pull",{fontCharacter:"\\eb40"}),s.repoPush=new s("repo-push",{fontCharacter:"\\eb41"}),s.report=new s("report",{fontCharacter:"\\eb42"}),s.requestChanges=new s("request-changes",{fontCharacter:"\\eb43"}),s.rocket=new s("rocket",{fontCharacter:"\\eb44"}),s.rootFolderOpened=new s("root-folder-opened",{fontCharacter:"\\eb45"}),s.rootFolder=new s("root-folder",{fontCharacter:"\\eb46"}),s.rss=new s("rss",{fontCharacter:"\\eb47"}),s.ruby=new s("ruby",{fontCharacter:"\\eb48"}),s.saveAll=new s("save-all",{fontCharacter:"\\eb49"}),s.saveAs=new s("save-as",{fontCharacter:"\\eb4a"}),s.save=new s("save",{fontCharacter:"\\eb4b"}),s.screenFull=new s("screen-full",{fontCharacter:"\\eb4c"}),s.screenNormal=new s("screen-normal",{fontCharacter:"\\eb4d"}),s.searchStop=new s("search-stop",{fontCharacter:"\\eb4e"}),s.server=new s("server",{fontCharacter:"\\eb50"}),s.settingsGear=new s("settings-gear",{fontCharacter:"\\eb51"}),s.settings=new s("settings",{fontCharacter:"\\eb52"}),s.shield=new s("shield",{fontCharacter:"\\eb53"}),s.smiley=new s("smiley",{fontCharacter:"\\eb54"}),s.sortPrecedence=new s("sort-precedence",{fontCharacter:"\\eb55"}),s.splitHorizontal=new s("split-horizontal",{fontCharacter:"\\eb56"}),s.splitVertical=new s("split-vertical",{fontCharacter:"\\eb57"}),s.squirrel=new s("squirrel",{fontCharacter:"\\eb58"}),s.starFull=new s("star-full",{fontCharacter:"\\eb59"}),s.starHalf=new s("star-half",{fontCharacter:"\\eb5a"}),s.symbolClass=new s("symbol-class",{fontCharacter:"\\eb5b"}),s.symbolColor=new s("symbol-color",{fontCharacter:"\\eb5c"}),s.symbolConstant=new s("symbol-constant",{fontCharacter:"\\eb5d"}),s.symbolEnumMember=new s("symbol-enum-member",{fontCharacter:"\\eb5e"}),s.symbolField=new s("symbol-field",{fontCharacter:"\\eb5f"}),s.symbolFile=new s("symbol-file",{fontCharacter:"\\eb60"}),s.symbolInterface=new s("symbol-interface",{fontCharacter:"\\eb61"}),s.symbolKeyword=new s("symbol-keyword",{fontCharacter:"\\eb62"}),s.symbolMisc=new s("symbol-misc",{fontCharacter:"\\eb63"}),s.symbolOperator=new s("symbol-operator",{fontCharacter:"\\eb64"}),s.symbolProperty=new s("symbol-property",{fontCharacter:"\\eb65"}),s.wrench=new s("wrench",{fontCharacter:"\\eb65"}),s.wrenchSubaction=new s("wrench-subaction",{fontCharacter:"\\eb65"}),s.symbolSnippet=new s("symbol-snippet",{fontCharacter:"\\eb66"}),s.tasklist=new s("tasklist",{fontCharacter:"\\eb67"}),s.telescope=new s("telescope",{fontCharacter:"\\eb68"}),s.textSize=new s("text-size",{fontCharacter:"\\eb69"}),s.threeBars=new s("three-bars",{fontCharacter:"\\eb6a"}),s.thumbsdown=new s("thumbsdown",{fontCharacter:"\\eb6b"}),s.thumbsup=new s("thumbsup",{fontCharacter:"\\eb6c"}),s.tools=new s("tools",{fontCharacter:"\\eb6d"}),s.triangleDown=new s("triangle-down",{fontCharacter:"\\eb6e"}),s.triangleLeft=new s("triangle-left",{fontCharacter:"\\eb6f"}),s.triangleRight=new s("triangle-right",{fontCharacter:"\\eb70"}),s.triangleUp=new s("triangle-up",{fontCharacter:"\\eb71"}),s.twitter=new s("twitter",{fontCharacter:"\\eb72"}),s.unfold=new s("unfold",{fontCharacter:"\\eb73"}),s.unlock=new s("unlock",{fontCharacter:"\\eb74"}),s.unmute=new s("unmute",{fontCharacter:"\\eb75"}),s.unverified=new s("unverified",{fontCharacter:"\\eb76"}),s.verified=new s("verified",{fontCharacter:"\\eb77"}),s.versions=new s("versions",{fontCharacter:"\\eb78"}),s.vmActive=new s("vm-active",{fontCharacter:"\\eb79"}),s.vmOutline=new s("vm-outline",{fontCharacter:"\\eb7a"}),s.vmRunning=new s("vm-running",{fontCharacter:"\\eb7b"}),s.watch=new s("watch",{fontCharacter:"\\eb7c"}),s.whitespace=new s("whitespace",{fontCharacter:"\\eb7d"}),s.wholeWord=new s("whole-word",{fontCharacter:"\\eb7e"}),s.window=new s("window",{fontCharacter:"\\eb7f"}),s.wordWrap=new s("word-wrap",{fontCharacter:"\\eb80"}),s.zoomIn=new s("zoom-in",{fontCharacter:"\\eb81"}),s.zoomOut=new s("zoom-out",{fontCharacter:"\\eb82"}),s.listFilter=new s("list-filter",{fontCharacter:"\\eb83"}),s.listFlat=new s("list-flat",{fontCharacter:"\\eb84"}),s.listSelection=new s("list-selection",{fontCharacter:"\\eb85"}),s.selection=new s("selection",{fontCharacter:"\\eb85"}),s.listTree=new s("list-tree",{fontCharacter:"\\eb86"}),s.debugBreakpointFunctionUnverified=new s("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),s.debugBreakpointFunction=new s("debug-breakpoint-function",{fontCharacter:"\\eb88"}),s.debugBreakpointFunctionDisabled=new s("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),s.debugStackframeActive=new s("debug-stackframe-active",{fontCharacter:"\\eb89"}),s.debugStackframeDot=new s("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),s.debugStackframe=new s("debug-stackframe",{fontCharacter:"\\eb8b"}),s.debugStackframeFocused=new s("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),s.debugBreakpointUnsupported=new s("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),s.symbolString=new s("symbol-string",{fontCharacter:"\\eb8d"}),s.debugReverseContinue=new s("debug-reverse-continue",{fontCharacter:"\\eb8e"}),s.debugStepBack=new s("debug-step-back",{fontCharacter:"\\eb8f"}),s.debugRestartFrame=new s("debug-restart-frame",{fontCharacter:"\\eb90"}),s.callIncoming=new s("call-incoming",{fontCharacter:"\\eb92"}),s.callOutgoing=new s("call-outgoing",{fontCharacter:"\\eb93"}),s.menu=new s("menu",{fontCharacter:"\\eb94"}),s.expandAll=new s("expand-all",{fontCharacter:"\\eb95"}),s.feedback=new s("feedback",{fontCharacter:"\\eb96"}),s.groupByRefType=new s("group-by-ref-type",{fontCharacter:"\\eb97"}),s.ungroupByRefType=new s("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),s.account=new s("account",{fontCharacter:"\\eb99"}),s.bellDot=new s("bell-dot",{fontCharacter:"\\eb9a"}),s.debugConsole=new s("debug-console",{fontCharacter:"\\eb9b"}),s.library=new s("library",{fontCharacter:"\\eb9c"}),s.output=new s("output",{fontCharacter:"\\eb9d"}),s.runAll=new s("run-all",{fontCharacter:"\\eb9e"}),s.syncIgnored=new s("sync-ignored",{fontCharacter:"\\eb9f"}),s.pinned=new s("pinned",{fontCharacter:"\\eba0"}),s.githubInverted=new s("github-inverted",{fontCharacter:"\\eba1"}),s.debugAlt=new s("debug-alt",{fontCharacter:"\\eb91"}),s.serverProcess=new s("server-process",{fontCharacter:"\\eba2"}),s.serverEnvironment=new s("server-environment",{fontCharacter:"\\eba3"}),s.pass=new s("pass",{fontCharacter:"\\eba4"}),s.stopCircle=new s("stop-circle",{fontCharacter:"\\eba5"}),s.playCircle=new s("play-circle",{fontCharacter:"\\eba6"}),s.record=new s("record",{fontCharacter:"\\eba7"}),s.debugAltSmall=new s("debug-alt-small",{fontCharacter:"\\eba8"}),s.vmConnect=new s("vm-connect",{fontCharacter:"\\eba9"}),s.cloud=new s("cloud",{fontCharacter:"\\ebaa"}),s.merge=new s("merge",{fontCharacter:"\\ebab"}),s.exportIcon=new s("export",{fontCharacter:"\\ebac"}),s.graphLeft=new s("graph-left",{fontCharacter:"\\ebad"}),s.magnet=new s("magnet",{fontCharacter:"\\ebae"}),s.notebook=new s("notebook",{fontCharacter:"\\ebaf"}),s.redo=new s("redo",{fontCharacter:"\\ebb0"}),s.checkAll=new s("check-all",{fontCharacter:"\\ebb1"}),s.pinnedDirty=new s("pinned-dirty",{fontCharacter:"\\ebb2"}),s.passFilled=new s("pass-filled",{fontCharacter:"\\ebb3"}),s.circleLargeFilled=new s("circle-large-filled",{fontCharacter:"\\ebb4"}),s.circleLargeOutline=new s("circle-large-outline",{fontCharacter:"\\ebb5"}),s.combine=new s("combine",{fontCharacter:"\\ebb6"}),s.gather=new s("gather",{fontCharacter:"\\ebb6"}),s.table=new s("table",{fontCharacter:"\\ebb7"}),s.variableGroup=new s("variable-group",{fontCharacter:"\\ebb8"}),s.typeHierarchy=new s("type-hierarchy",{fontCharacter:"\\ebb9"}),s.typeHierarchySub=new s("type-hierarchy-sub",{fontCharacter:"\\ebba"}),s.typeHierarchySuper=new s("type-hierarchy-super",{fontCharacter:"\\ebbb"}),s.gitPullRequestCreate=new s("git-pull-request-create",{fontCharacter:"\\ebbc"}),s.runAbove=new s("run-above",{fontCharacter:"\\ebbd"}),s.runBelow=new s("run-below",{fontCharacter:"\\ebbe"}),s.notebookTemplate=new s("notebook-template",{fontCharacter:"\\ebbf"}),s.debugRerun=new s("debug-rerun",{fontCharacter:"\\ebc0"}),s.workspaceTrusted=new s("workspace-trusted",{fontCharacter:"\\ebc1"}),s.workspaceUntrusted=new s("workspace-untrusted",{fontCharacter:"\\ebc2"}),s.workspaceUnspecified=new s("workspace-unspecified",{fontCharacter:"\\ebc3"}),s.terminalCmd=new s("terminal-cmd",{fontCharacter:"\\ebc4"}),s.terminalDebian=new s("terminal-debian",{fontCharacter:"\\ebc5"}),s.terminalLinux=new s("terminal-linux",{fontCharacter:"\\ebc6"}),s.terminalPowershell=new s("terminal-powershell",{fontCharacter:"\\ebc7"}),s.terminalTmux=new s("terminal-tmux",{fontCharacter:"\\ebc8"}),s.terminalUbuntu=new s("terminal-ubuntu",{fontCharacter:"\\ebc9"}),s.terminalBash=new s("terminal-bash",{fontCharacter:"\\ebca"}),s.arrowSwap=new s("arrow-swap",{fontCharacter:"\\ebcb"}),s.copy=new s("copy",{fontCharacter:"\\ebcc"}),s.personAdd=new s("person-add",{fontCharacter:"\\ebcd"}),s.filterFilled=new s("filter-filled",{fontCharacter:"\\ebce"}),s.wand=new s("wand",{fontCharacter:"\\ebcf"}),s.debugLineByLine=new s("debug-line-by-line",{fontCharacter:"\\ebd0"}),s.inspect=new s("inspect",{fontCharacter:"\\ebd1"}),s.layers=new s("layers",{fontCharacter:"\\ebd2"}),s.layersDot=new s("layers-dot",{fontCharacter:"\\ebd3"}),s.layersActive=new s("layers-active",{fontCharacter:"\\ebd4"}),s.compass=new s("compass",{fontCharacter:"\\ebd5"}),s.compassDot=new s("compass-dot",{fontCharacter:"\\ebd6"}),s.compassActive=new s("compass-active",{fontCharacter:"\\ebd7"}),s.azure=new s("azure",{fontCharacter:"\\ebd8"}),s.issueDraft=new s("issue-draft",{fontCharacter:"\\ebd9"}),s.gitPullRequestClosed=new s("git-pull-request-closed",{fontCharacter:"\\ebda"}),s.gitPullRequestDraft=new s("git-pull-request-draft",{fontCharacter:"\\ebdb"}),s.debugAll=new s("debug-all",{fontCharacter:"\\ebdc"}),s.debugCoverage=new s("debug-coverage",{fontCharacter:"\\ebdd"}),s.runErrors=new s("run-errors",{fontCharacter:"\\ebde"}),s.folderLibrary=new s("folder-library",{fontCharacter:"\\ebdf"}),s.debugContinueSmall=new s("debug-continue-small",{fontCharacter:"\\ebe0"}),s.beakerStop=new s("beaker-stop",{fontCharacter:"\\ebe1"}),s.graphLine=new s("graph-line",{fontCharacter:"\\ebe2"}),s.graphScatter=new s("graph-scatter",{fontCharacter:"\\ebe3"}),s.pieChart=new s("pie-chart",{fontCharacter:"\\ebe4"}),s.bracket=new s("bracket",s.json.definition),s.bracketDot=new s("bracket-dot",{fontCharacter:"\\ebe5"}),s.bracketError=new s("bracket-error",{fontCharacter:"\\ebe6"}),s.lockSmall=new s("lock-small",{fontCharacter:"\\ebe7"}),s.azureDevops=new s("azure-devops",{fontCharacter:"\\ebe8"}),s.verifiedFilled=new s("verified-filled",{fontCharacter:"\\ebe9"})}(x||(x={}))},6626:function(Ct,we,t){"use strict";t.d(we,{E:function(){return W},r:function(){return k}});const h=Object.prototype.hasOwnProperty;function W(O,w){for(let G in O)if(h.call(O,G)&&w({key:G,value:O[G]},function(){delete O[G]})===!1)return}class k{constructor(){this.map=new Map}add(w,G){let x=this.map.get(w);x||(x=new Set,this.map.set(w,x)),x.add(G)}delete(w,G){const x=this.map.get(w);x&&(x.delete(G),x.size===0&&this.map.delete(w))}forEach(w,G){const x=this.map.get(w);x&&x.forEach(G)}}},41264:function(Ct,we,t){"use strict";t.d(we,{Il:function(){return w},VS:function(){return W},tx:function(){return O}});function h(G,x){const N=Math.pow(10,x);return Math.round(G*N)/N}class W{constructor(x,N,s,C=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,x))|0,this.g=Math.min(255,Math.max(0,N))|0,this.b=Math.min(255,Math.max(0,s))|0,this.a=h(Math.max(Math.min(1,C),0),3)}static equals(x,N){return x.r===N.r&&x.g===N.g&&x.b===N.b&&x.a===N.a}}class k{constructor(x,N,s,C){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,x),0)|0,this.s=h(Math.max(Math.min(1,N),0),3),this.l=h(Math.max(Math.min(1,s),0),3),this.a=h(Math.max(Math.min(1,C),0),3)}static equals(x,N){return x.h===N.h&&x.s===N.s&&x.l===N.l&&x.a===N.a}static fromRGBA(x){const N=x.r/255,s=x.g/255,C=x.b/255,l=x.a,m=Math.max(N,s,C),y=Math.min(N,s,C);let n=0,p=0;const f=(y+m)/2,v=m-y;if(v>0){switch(p=Math.min(f<=.5?v/(2*f):v/(2-2*f),1),m){case N:n=(s-C)/v+(s<C?6:0);break;case s:n=(C-N)/v+2;break;case C:n=(N-s)/v+4;break}n*=60,n=Math.round(n)}return new k(n,p,f,l)}static _hue2rgb(x,N,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?x+(N-x)*6*s:s<1/2?N:s<2/3?x+(N-x)*(2/3-s)*6:x}static toRGBA(x){const N=x.h/360,{s,l:C,a:l}=x;let m,y,n;if(s===0)m=y=n=C;else{const p=C<.5?C*(1+s):C+s-C*s,f=2*C-p;m=k._hue2rgb(f,p,N+1/3),y=k._hue2rgb(f,p,N),n=k._hue2rgb(f,p,N-1/3)}return new W(Math.round(m*255),Math.round(y*255),Math.round(n*255),l)}}class O{constructor(x,N,s,C){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,x),0)|0,this.s=h(Math.max(Math.min(1,N),0),3),this.v=h(Math.max(Math.min(1,s),0),3),this.a=h(Math.max(Math.min(1,C),0),3)}static equals(x,N){return x.h===N.h&&x.s===N.s&&x.v===N.v&&x.a===N.a}static fromRGBA(x){const N=x.r/255,s=x.g/255,C=x.b/255,l=Math.max(N,s,C),m=Math.min(N,s,C),y=l-m,n=l===0?0:y/l;let p;return y===0?p=0:l===N?p=((s-C)/y%6+6)%6:l===s?p=(C-N)/y+2:p=(N-s)/y+4,new O(Math.round(p*60),n,l,x.a)}static toRGBA(x){const{h:N,s,v:C,a:l}=x,m=C*s,y=m*(1-Math.abs(N/60%2-1)),n=C-m;let[p,f,v]=[0,0,0];return N<60?(p=m,f=y):N<120?(p=y,f=m):N<180?(f=m,v=y):N<240?(f=y,v=m):N<300?(p=y,v=m):N<=360&&(p=m,v=y),p=Math.round((p+n)*255),f=Math.round((f+n)*255),v=Math.round((v+n)*255),new W(p,f,v,l)}}class w{constructor(x){if(x)if(x instanceof W)this.rgba=x;else if(x instanceof k)this._hsla=x,this.rgba=k.toRGBA(x);else if(x instanceof O)this._hsva=x,this.rgba=O.toRGBA(x);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(x){return w.Format.CSS.parseHex(x)||w.red}get hsla(){return this._hsla?this._hsla:k.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:O.fromRGBA(this.rgba)}equals(x){return!!x&&W.equals(this.rgba,x.rgba)&&k.equals(this.hsla,x.hsla)&&O.equals(this.hsva,x.hsva)}getRelativeLuminance(){const x=w._relativeLuminanceForComponent(this.rgba.r),N=w._relativeLuminanceForComponent(this.rgba.g),s=w._relativeLuminanceForComponent(this.rgba.b),C=.2126*x+.7152*N+.0722*s;return h(C,4)}static _relativeLuminanceForComponent(x){const N=x/255;return N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(x){const N=this.getRelativeLuminance(),s=x.getRelativeLuminance();return N>s}isDarkerThan(x){const N=this.getRelativeLuminance(),s=x.getRelativeLuminance();return N<s}lighten(x){return new w(new k(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*x,this.hsla.a))}darken(x){return new w(new k(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*x,this.hsla.a))}transparent(x){const{r:N,g:s,b:C,a:l}=this.rgba;return new w(new W(N,s,C,l*x))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new w(new W(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=w.Format.CSS.format(this)),this._toString}static getLighterColor(x,N,s){if(x.isLighterThan(N))return x;s=s||.5;const C=x.getRelativeLuminance(),l=N.getRelativeLuminance();return s=s*(l-C)/l,x.lighten(s)}static getDarkerColor(x,N,s){if(x.isDarkerThan(N))return x;s=s||.5;const C=x.getRelativeLuminance(),l=N.getRelativeLuminance();return s=s*(C-l)/C,x.darken(s)}}w.white=new w(new W(255,255,255,1)),w.black=new w(new W(0,0,0,1)),w.red=new w(new W(255,0,0,1)),w.blue=new w(new W(0,0,255,1)),w.cyan=new w(new W(0,255,255,1)),w.lightgrey=new w(new W(211,211,211,1)),w.transparent=new w(new W(0,0,0,0)),function(G){let x;(function(N){let s;(function(C){function l(c){return c.rgba.a===1?`rgb(${c.rgba.r}, ${c.rgba.g}, ${c.rgba.b})`:G.Format.CSS.formatRGBA(c)}C.formatRGB=l;function m(c){return`rgba(${c.rgba.r}, ${c.rgba.g}, ${c.rgba.b}, ${+c.rgba.a.toFixed(2)})`}C.formatRGBA=m;function y(c){return c.hsla.a===1?`hsl(${c.hsla.h}, ${(c.hsla.s*100).toFixed(2)}%, ${(c.hsla.l*100).toFixed(2)}%)`:G.Format.CSS.formatHSLA(c)}C.formatHSL=y;function n(c){return`hsla(${c.hsla.h}, ${(c.hsla.s*100).toFixed(2)}%, ${(c.hsla.l*100).toFixed(2)}%, ${c.hsla.a.toFixed(2)})`}C.formatHSLA=n;function p(c){const b=c.toString(16);return b.length!==2?"0"+b:b}function f(c){return`#${p(c.rgba.r)}${p(c.rgba.g)}${p(c.rgba.b)}`}C.formatHex=f;function v(c,b=!1){return b&&c.rgba.a===1?G.Format.CSS.formatHex(c):`#${p(c.rgba.r)}${p(c.rgba.g)}${p(c.rgba.b)}${p(Math.round(c.rgba.a*255))}`}C.formatHexA=v;function d(c){return c.isOpaque()?G.Format.CSS.formatHex(c):G.Format.CSS.formatRGBA(c)}C.format=d;function a(c){const b=c.length;if(b===0||c.charCodeAt(0)!==35)return null;if(b===7){const L=16*u(c.charCodeAt(1))+u(c.charCodeAt(2)),R=16*u(c.charCodeAt(3))+u(c.charCodeAt(4)),T=16*u(c.charCodeAt(5))+u(c.charCodeAt(6));return new G(new W(L,R,T,1))}if(b===9){const L=16*u(c.charCodeAt(1))+u(c.charCodeAt(2)),R=16*u(c.charCodeAt(3))+u(c.charCodeAt(4)),T=16*u(c.charCodeAt(5))+u(c.charCodeAt(6)),j=16*u(c.charCodeAt(7))+u(c.charCodeAt(8));return new G(new W(L,R,T,j/255))}if(b===4){const L=u(c.charCodeAt(1)),R=u(c.charCodeAt(2)),T=u(c.charCodeAt(3));return new G(new W(16*L+L,16*R+R,16*T+T))}if(b===5){const L=u(c.charCodeAt(1)),R=u(c.charCodeAt(2)),T=u(c.charCodeAt(3)),j=u(c.charCodeAt(4));return new G(new W(16*L+L,16*R+R,16*T+T,(16*j+j)/255))}return null}C.parseHex=a;function u(c){switch(c){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(s=N.CSS||(N.CSS={}))})(x=G.Format||(G.Format={}))}(w||(w={}))},49898:function(Ct,we,t){"use strict";t.d(we,{H:function(){return h}});function h(W,k,O){let w=null,G=null;if(typeof O.value=="function"?(w="value",G=O.value,G.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof O.get=="function"&&(w="get",G=O.get),!G)throw new Error("not supported");const x=`$memoize$${k}`;O[w]=function(...N){return this.hasOwnProperty(x)||Object.defineProperty(this,x,{configurable:!1,enumerable:!1,writable:!1,value:G.apply(this,N)}),this[x]}}},22571:function(Ct,we,t){"use strict";t.d(we,{Hs:function(){return N},a$:function(){return O}});class h{constructor(C,l,m,y){this.originalStart=C,this.originalLength=l,this.modifiedStart=m,this.modifiedLength=y}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var W=t(89954);class k{constructor(C){this.source=C}getElements(){const C=this.source,l=new Int32Array(C.length);for(let m=0,y=C.length;m<y;m++)l[m]=C.charCodeAt(m);return l}}function O(s,C,l){return new N(new k(s),new k(C)).ComputeDiff(l).changes}class w{static Assert(C,l){if(!C)throw new Error(l)}}class G{static Copy(C,l,m,y,n){for(let p=0;p<n;p++)m[y+p]=C[l+p]}static Copy2(C,l,m,y,n){for(let p=0;p<n;p++)m[y+p]=C[l+p]}}class x{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new h(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(C,l){this.m_originalStart=Math.min(this.m_originalStart,C),this.m_modifiedStart=Math.min(this.m_modifiedStart,l),this.m_originalCount++}AddModifiedElement(C,l){this.m_originalStart=Math.min(this.m_originalStart,C),this.m_modifiedStart=Math.min(this.m_modifiedStart,l),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class N{constructor(C,l,m=null){this.ContinueProcessingPredicate=m,this._originalSequence=C,this._modifiedSequence=l;const[y,n,p]=N._getElements(C),[f,v,d]=N._getElements(l);this._hasStrings=p&&d,this._originalStringElements=y,this._originalElementsOrHash=n,this._modifiedStringElements=f,this._modifiedElementsOrHash=v,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(C){return C.length>0&&typeof C[0]=="string"}static _getElements(C){const l=C.getElements();if(N._isStringArray(l)){const m=new Int32Array(l.length);for(let y=0,n=l.length;y<n;y++)m[y]=(0,W.Cv)(l[y],0);return[l,m,!0]}return l instanceof Int32Array?[[],l,!1]:[[],new Int32Array(l),!1]}ElementsAreEqual(C,l){return this._originalElementsOrHash[C]!==this._modifiedElementsOrHash[l]?!1:this._hasStrings?this._originalStringElements[C]===this._modifiedStringElements[l]:!0}ElementsAreStrictEqual(C,l){if(!this.ElementsAreEqual(C,l))return!1;const m=N._getStrictElement(this._originalSequence,C),y=N._getStrictElement(this._modifiedSequence,l);return m===y}static _getStrictElement(C,l){return typeof C.getStrictElement=="function"?C.getStrictElement(l):null}OriginalElementsAreEqual(C,l){return this._originalElementsOrHash[C]!==this._originalElementsOrHash[l]?!1:this._hasStrings?this._originalStringElements[C]===this._originalStringElements[l]:!0}ModifiedElementsAreEqual(C,l){return this._modifiedElementsOrHash[C]!==this._modifiedElementsOrHash[l]?!1:this._hasStrings?this._modifiedStringElements[C]===this._modifiedStringElements[l]:!0}ComputeDiff(C){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,C)}_ComputeDiff(C,l,m,y,n){const p=[!1];let f=this.ComputeDiffRecursive(C,l,m,y,p);return n&&(f=this.PrettifyChanges(f)),{quitEarly:p[0],changes:f}}ComputeDiffRecursive(C,l,m,y,n){for(n[0]=!1;C<=l&&m<=y&&this.ElementsAreEqual(C,m);)C++,m++;for(;l>=C&&y>=m&&this.ElementsAreEqual(l,y);)l--,y--;if(C>l||m>y){let u;return m<=y?(w.Assert(C===l+1,"originalStart should only be one more than originalEnd"),u=[new h(C,0,m,y-m+1)]):C<=l?(w.Assert(m===y+1,"modifiedStart should only be one more than modifiedEnd"),u=[new h(C,l-C+1,m,0)]):(w.Assert(C===l+1,"originalStart should only be one more than originalEnd"),w.Assert(m===y+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const p=[0],f=[0],v=this.ComputeRecursionPoint(C,l,m,y,p,f,n),d=p[0],a=f[0];if(v!==null)return v;if(!n[0]){const u=this.ComputeDiffRecursive(C,d,m,a,n);let c=[];return n[0]?c=[new h(d+1,l-(d+1)+1,a+1,y-(a+1)+1)]:c=this.ComputeDiffRecursive(d+1,l,a+1,y,n),this.ConcatenateChanges(u,c)}return[new h(C,l-C+1,m,y-m+1)]}WALKTRACE(C,l,m,y,n,p,f,v,d,a,u,c,b,L,R,T,j,q){let ie=null,ne=null,he=new x,$=l,V=m,z=b[0]-T[0]-y,Q=-1073741824,le=this.m_forwardHistory.length-1;do{const E=z+C;E===$||E<V&&d[E-1]<d[E+1]?(u=d[E+1],L=u-z-y,u<Q&&he.MarkNextChange(),Q=u,he.AddModifiedElement(u+1,L),z=E+1-C):(u=d[E-1]+1,L=u-z-y,u<Q&&he.MarkNextChange(),Q=u-1,he.AddOriginalElement(u,L+1),z=E-1-C),le>=0&&(d=this.m_forwardHistory[le],C=d[0],$=1,V=d.length-1)}while(--le>=-1);if(ie=he.getReverseChanges(),q[0]){let E=b[0]+1,I=T[0]+1;if(ie!==null&&ie.length>0){const A=ie[ie.length-1];E=Math.max(E,A.getOriginalEnd()),I=Math.max(I,A.getModifiedEnd())}ne=[new h(E,c-E+1,I,R-I+1)]}else{he=new x,$=p,V=f,z=b[0]-T[0]-v,Q=1073741824,le=j?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const E=z+n;E===$||E<V&&a[E-1]>=a[E+1]?(u=a[E+1]-1,L=u-z-v,u>Q&&he.MarkNextChange(),Q=u+1,he.AddOriginalElement(u+1,L+1),z=E+1-n):(u=a[E-1],L=u-z-v,u>Q&&he.MarkNextChange(),Q=u,he.AddModifiedElement(u+1,L+1),z=E-1-n),le>=0&&(a=this.m_reverseHistory[le],n=a[0],$=1,V=a.length-1)}while(--le>=-1);ne=he.getChanges()}return this.ConcatenateChanges(ie,ne)}ComputeRecursionPoint(C,l,m,y,n,p,f){let v=0,d=0,a=0,u=0,c=0,b=0;C--,m--,n[0]=0,p[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const L=l-C+(y-m),R=L+1,T=new Int32Array(R),j=new Int32Array(R),q=y-m,ie=l-C,ne=C-m,he=l-y,V=(ie-q)%2===0;T[q]=C,j[ie]=l,f[0]=!1;for(let z=1;z<=L/2+1;z++){let Q=0,le=0;a=this.ClipDiagonalBound(q-z,z,q,R),u=this.ClipDiagonalBound(q+z,z,q,R);for(let I=a;I<=u;I+=2){I===a||I<u&&T[I-1]<T[I+1]?v=T[I+1]:v=T[I-1]+1,d=v-(I-q)-ne;const A=v;for(;v<l&&d<y&&this.ElementsAreEqual(v+1,d+1);)v++,d++;if(T[I]=v,v+d>Q+le&&(Q=v,le=d),!V&&Math.abs(I-ie)<=z-1&&v>=j[I])return n[0]=v,p[0]=d,A<=j[I]&&1447>0&&z<=1447+1?this.WALKTRACE(q,a,u,ne,ie,c,b,he,T,j,v,l,n,d,y,p,V,f):null}const E=(Q-C+(le-m)-z)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(Q,E))return f[0]=!0,n[0]=Q,p[0]=le,E>0&&1447>0&&z<=1447+1?this.WALKTRACE(q,a,u,ne,ie,c,b,he,T,j,v,l,n,d,y,p,V,f):(C++,m++,[new h(C,l-C+1,m,y-m+1)]);c=this.ClipDiagonalBound(ie-z,z,ie,R),b=this.ClipDiagonalBound(ie+z,z,ie,R);for(let I=c;I<=b;I+=2){I===c||I<b&&j[I-1]>=j[I+1]?v=j[I+1]-1:v=j[I-1],d=v-(I-ie)-he;const A=v;for(;v>C&&d>m&&this.ElementsAreEqual(v,d);)v--,d--;if(j[I]=v,V&&Math.abs(I-q)<=z&&v<=T[I])return n[0]=v,p[0]=d,A>=T[I]&&1447>0&&z<=1447+1?this.WALKTRACE(q,a,u,ne,ie,c,b,he,T,j,v,l,n,d,y,p,V,f):null}if(z<=1447){let I=new Int32Array(u-a+2);I[0]=q-a+1,G.Copy2(T,a,I,1,u-a+1),this.m_forwardHistory.push(I),I=new Int32Array(b-c+2),I[0]=ie-c+1,G.Copy2(j,c,I,1,b-c+1),this.m_reverseHistory.push(I)}}return this.WALKTRACE(q,a,u,ne,ie,c,b,he,T,j,v,l,n,d,y,p,V,f)}PrettifyChanges(C){for(let l=0;l<C.length;l++){const m=C[l],y=l<C.length-1?C[l+1].originalStart:this._originalElementsOrHash.length,n=l<C.length-1?C[l+1].modifiedStart:this._modifiedElementsOrHash.length,p=m.originalLength>0,f=m.modifiedLength>0;for(;m.originalStart+m.originalLength<y&&m.modifiedStart+m.modifiedLength<n&&(!p||this.OriginalElementsAreEqual(m.originalStart,m.originalStart+m.originalLength))&&(!f||this.ModifiedElementsAreEqual(m.modifiedStart,m.modifiedStart+m.modifiedLength));){const d=this.ElementsAreStrictEqual(m.originalStart,m.modifiedStart);if(this.ElementsAreStrictEqual(m.originalStart+m.originalLength,m.modifiedStart+m.modifiedLength)&&!d)break;m.originalStart++,m.modifiedStart++}let v=[null];if(l<C.length-1&&this.ChangesOverlap(C[l],C[l+1],v)){C[l]=v[0],C.splice(l+1,1),l--;continue}}for(let l=C.length-1;l>=0;l--){const m=C[l];let y=0,n=0;if(l>0){const u=C[l-1];y=u.originalStart+u.originalLength,n=u.modifiedStart+u.modifiedLength}const p=m.originalLength>0,f=m.modifiedLength>0;let v=0,d=this._boundaryScore(m.originalStart,m.originalLength,m.modifiedStart,m.modifiedLength);for(let u=1;;u++){const c=m.originalStart-u,b=m.modifiedStart-u;if(c<y||b<n||p&&!this.OriginalElementsAreEqual(c,c+m.originalLength)||f&&!this.ModifiedElementsAreEqual(b,b+m.modifiedLength))break;const R=(c===y&&b===n?5:0)+this._boundaryScore(c,m.originalLength,b,m.modifiedLength);R>d&&(d=R,v=u)}m.originalStart-=v,m.modifiedStart-=v;const a=[null];if(l>0&&this.ChangesOverlap(C[l-1],C[l],a)){C[l-1]=a[0],C.splice(l,1),l++;continue}}if(this._hasStrings)for(let l=1,m=C.length;l<m;l++){const y=C[l-1],n=C[l],p=n.originalStart-y.originalStart-y.originalLength,f=y.originalStart,v=n.originalStart+n.originalLength,d=v-f,a=y.modifiedStart,u=n.modifiedStart+n.modifiedLength,c=u-a;if(p<5&&d<20&&c<20){const b=this._findBetterContiguousSequence(f,d,a,c,p);if(b){const[L,R]=b;(L!==y.originalStart+y.originalLength||R!==y.modifiedStart+y.modifiedLength)&&(y.originalLength=L-y.originalStart,y.modifiedLength=R-y.modifiedStart,n.originalStart=L+p,n.modifiedStart=R+p,n.originalLength=v-n.originalStart,n.modifiedLength=u-n.modifiedStart)}}}return C}_findBetterContiguousSequence(C,l,m,y,n){if(l<n||y<n)return null;const p=C+l-n+1,f=m+y-n+1;let v=0,d=0,a=0;for(let u=C;u<p;u++)for(let c=m;c<f;c++){const b=this._contiguousSequenceScore(u,c,n);b>0&&b>v&&(v=b,d=u,a=c)}return v>0?[d,a]:null}_contiguousSequenceScore(C,l,m){let y=0;for(let n=0;n<m;n++){if(!this.ElementsAreEqual(C+n,l+n))return 0;y+=this._originalStringElements[C+n].length}return y}_OriginalIsBoundary(C){return C<=0||C>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[C])}_OriginalRegionIsBoundary(C,l){if(this._OriginalIsBoundary(C)||this._OriginalIsBoundary(C-1))return!0;if(l>0){const m=C+l;if(this._OriginalIsBoundary(m-1)||this._OriginalIsBoundary(m))return!0}return!1}_ModifiedIsBoundary(C){return C<=0||C>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[C])}_ModifiedRegionIsBoundary(C,l){if(this._ModifiedIsBoundary(C)||this._ModifiedIsBoundary(C-1))return!0;if(l>0){const m=C+l;if(this._ModifiedIsBoundary(m-1)||this._ModifiedIsBoundary(m))return!0}return!1}_boundaryScore(C,l,m,y){const n=this._OriginalRegionIsBoundary(C,l)?1:0,p=this._ModifiedRegionIsBoundary(m,y)?1:0;return n+p}ConcatenateChanges(C,l){let m=[];if(C.length===0||l.length===0)return l.length>0?l:C;if(this.ChangesOverlap(C[C.length-1],l[0],m)){const y=new Array(C.length+l.length-1);return G.Copy(C,0,y,0,C.length-1),y[C.length-1]=m[0],G.Copy(l,1,y,C.length,l.length-1),y}else{const y=new Array(C.length+l.length);return G.Copy(C,0,y,0,C.length),G.Copy(l,0,y,C.length,l.length),y}}ChangesOverlap(C,l,m){if(w.Assert(C.originalStart<=l.originalStart,"Left change is not less than or equal to right change"),w.Assert(C.modifiedStart<=l.modifiedStart,"Left change is not less than or equal to right change"),C.originalStart+C.originalLength>=l.originalStart||C.modifiedStart+C.modifiedLength>=l.modifiedStart){const y=C.originalStart;let n=C.originalLength;const p=C.modifiedStart;let f=C.modifiedLength;return C.originalStart+C.originalLength>=l.originalStart&&(n=l.originalStart+l.originalLength-C.originalStart),C.modifiedStart+C.modifiedLength>=l.modifiedStart&&(f=l.modifiedStart+l.modifiedLength-C.modifiedStart),m[0]=new h(y,n,p,f),!0}else return m[0]=null,!1}ClipDiagonalBound(C,l,m,y){if(C>=0&&C<y)return C;const n=m,p=y-m-1,f=l%2===0;if(C<0){const v=n%2===0;return f===v?0:1}else{const v=p%2===0;return f===v?y-1:y-2}}}},17301:function(Ct,we,t){"use strict";t.d(we,{B8:function(){return l},Cp:function(){return O},F0:function(){return N},L6:function(){return C},VV:function(){return x},b1:function(){return s},dL:function(){return k},ri:function(){return w}});class h{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(y){setTimeout(()=>{throw y.stack?new Error(y.message+`

`+y.stack):y},0)}}emit(y){this.listeners.forEach(n=>{n(y)})}onUnexpectedError(y){this.unexpectedErrorHandler(y),this.emit(y)}onUnexpectedExternalError(y){this.unexpectedErrorHandler(y)}}const W=new h;function k(m){x(m)||W.onUnexpectedError(m)}function O(m){x(m)||W.onUnexpectedExternalError(m)}function w(m){if(m instanceof Error){let{name:y,message:n}=m;const p=m.stacktrace||m.stack;return{$isError:!0,name:y,message:n,stack:p}}return m}const G="Canceled";function x(m){return m instanceof Error&&m.name===G&&m.message===G}function N(){const m=new Error(G);return m.name=m.message,m}function s(m){return m?new Error(`Illegal argument: ${m}`):new Error("Illegal argument")}function C(m){return m?new Error(`Illegal state: ${m}`):new Error("Illegal state")}class l extends Error{constructor(y){super("NotSupported"),y&&(this.message=y)}}},4669:function(Ct,we,t){"use strict";t.d(we,{D0:function(){return l},E7:function(){return m},K3:function(){return C},Q5:function(){return s},ZD:function(){return y},ju:function(){return w}});var h=t(17301),W=t(9917),k=t(91741),O=t(84013),w;(function(n){n.None=()=>W.JT.None;function p(V){return(z,Q=null,le)=>{let E=!1,I;return I=V(A=>{if(!E)return I?I.dispose():E=!0,z.call(Q,A)},null,le),E&&I.dispose(),I}}n.once=p;function f(V,z){return b((Q,le=null,E)=>V(I=>Q.call(le,z(I)),null,E))}n.map=f;function v(V,z){return b((Q,le=null,E)=>V(I=>{z(I),Q.call(le,I)},null,E))}n.forEach=v;function d(V,z){return b((Q,le=null,E)=>V(I=>z(I)&&Q.call(le,I),null,E))}n.filter=d;function a(V){return V}n.signal=a;function u(...V){return(z,Q=null,le)=>(0,W.F8)(...V.map(E=>E(I=>z.call(Q,I),null,le)))}n.any=u;function c(V,z,Q){let le=Q;return f(V,E=>(le=z(le,E),le))}n.reduce=c;function b(V){let z;const Q=new s({onFirstListenerAdd(){z=V(Q.fire,Q)},onLastListenerRemove(){z.dispose()}});return Q.event}function L(V,z,Q=100,le=!1,E){let I,A,H,Y=0;const X=new s({leakWarningThreshold:E,onFirstListenerAdd(){I=V(re=>{Y++,A=z(A,re),le&&!H&&(X.fire(A),A=void 0),clearTimeout(H),H=setTimeout(()=>{const fe=A;A=void 0,H=void 0,(!le||Y>1)&&X.fire(fe),Y=0},Q)})},onLastListenerRemove(){I.dispose()}});return X.event}n.debounce=L;function R(V,z=(Q,le)=>Q===le){let Q=!0,le;return d(V,E=>{const I=Q||!z(E,le);return Q=!1,le=E,I})}n.latch=R;function T(V,z){return[n.filter(V,z),n.filter(V,Q=>!z(Q))]}n.split=T;function j(V,z=!1,Q=[]){let le=Q.slice(),E=V(H=>{le?le.push(H):A.fire(H)});const I=()=>{le&&le.forEach(H=>A.fire(H)),le=null},A=new s({onFirstListenerAdd(){E||(E=V(H=>A.fire(H)))},onFirstListenerDidAdd(){le&&(z?setTimeout(I):I())},onLastListenerRemove(){E&&E.dispose(),E=null}});return A.event}n.buffer=j;class q{constructor(z){this.event=z}map(z){return new q(f(this.event,z))}forEach(z){return new q(v(this.event,z))}filter(z){return new q(d(this.event,z))}reduce(z,Q){return new q(c(this.event,z,Q))}latch(){return new q(R(this.event))}debounce(z,Q=100,le=!1,E){return new q(L(this.event,z,Q,le,E))}on(z,Q,le){return this.event(z,Q,le)}once(z,Q,le){return p(this.event)(z,Q,le)}}function ie(V){return new q(V)}n.chain=ie;function ne(V,z,Q=le=>le){const le=(...H)=>A.fire(Q(...H)),E=()=>V.on(z,le),I=()=>V.removeListener(z,le),A=new s({onFirstListenerAdd:E,onLastListenerRemove:I});return A.event}n.fromNodeEventEmitter=ne;function he(V,z,Q=le=>le){const le=(...H)=>A.fire(Q(...H)),E=()=>V.addEventListener(z,le),I=()=>V.removeEventListener(z,le),A=new s({onFirstListenerAdd:E,onLastListenerRemove:I});return A.event}n.fromDOMEventEmitter=he;function $(V){return new Promise(z=>p(V)(z))}n.toPromise=$})(w||(w={}));class G{constructor(p){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${p}_${G._idPool++}`}start(p){this._stopWatch=new O.G(!0),this._listenerCount=p}stop(){if(this._stopWatch){const p=this._stopWatch.elapsed();this._elapsedOverall+=p,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${p.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}G._idPool=0;let x=-1;class N{constructor(p,f=Math.random().toString(18).slice(2,5)){this.customThreshold=p,this.name=f,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(p){let f=x;if(typeof this.customThreshold=="number"&&(f=this.customThreshold),f<=0||p<f)return;this._stacks||(this._stacks=new Map);const v=new Error().stack.split(`
`).slice(3).join(`
`),d=this._stacks.get(v)||0;if(this._stacks.set(v,d+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=f*.5;let a,u=0;for(const[c,b]of this._stacks)(!a||u<b)&&(a=c,u=b);console.warn(`[${this.name}] potential listener LEAK detected, having ${p} listeners already. MOST frequent listener (${u}):`),console.warn(a)}return()=>{const a=this._stacks.get(v)||0;this._stacks.set(v,a-1)}}}class s{constructor(p){var f;this._disposed=!1,this._options=p,this._leakageMon=x>0?new N(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((f=this._options)===null||f===void 0)&&f._profName?new G(this._options._profName):void 0}get event(){return this._event||(this._event=(p,f,v)=>{var d;this._listeners||(this._listeners=new k.S);const a=this._listeners.isEmpty();a&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const u=this._listeners.push(f?[p,f]:p);a&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,p,f);const c=(d=this._leakageMon)===null||d===void 0?void 0:d.check(this._listeners.size),b=(0,W.OF)(()=>{c&&c(),this._disposed||(u(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return v instanceof W.SL?v.add(b):Array.isArray(v)&&v.push(b),b}),this._event}fire(p){var f,v;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new k.S);for(let d of this._listeners)this._deliveryQueue.push([d,p]);for((f=this._perfMon)===null||f===void 0||f.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[d,a]=this._deliveryQueue.shift();try{typeof d=="function"?d.call(void 0,a):d[0].call(d[1],a)}catch(u){(0,h.dL)(u)}}(v=this._perfMon)===null||v===void 0||v.stop()}}dispose(){var p,f,v,d,a;this._disposed||(this._disposed=!0,(p=this._listeners)===null||p===void 0||p.clear(),(f=this._deliveryQueue)===null||f===void 0||f.clear(),(d=(v=this._options)===null||v===void 0?void 0:v.onLastListenerRemove)===null||d===void 0||d.call(v),(a=this._leakageMon)===null||a===void 0||a.dispose())}}class C extends s{constructor(p){super(p),this._isPaused=0,this._eventQueue=new k.S,this._mergeFn=p==null?void 0:p.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const p=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(p))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(p){this._listeners&&(this._isPaused!==0?this._eventQueue.push(p):super.fire(p))}}class l extends C{constructor(p){var f;super(p),this._delay=(f=p.delay)!==null&&f!==void 0?f:100}fire(p){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(p)}}class m{constructor(){this.buffers=[]}wrapEvent(p){return(f,v,d)=>p(a=>{const u=this.buffers[this.buffers.length-1];u?u.push(()=>f.call(v,a)):f.call(v,a)},void 0,d)}bufferEvents(p){const f=[];this.buffers.push(f);const v=p();return this.buffers.pop(),f.forEach(d=>d()),v}}class y{constructor(){this.listening=!1,this.inputEvent=w.None,this.inputEventListener=W.JT.None,this.emitter=new s({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(p){this.inputEvent=p,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=p(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15527:function(Ct,we,t){"use strict";t.d(we,{KM:function(){return G},fn:function(){return w},oP:function(){return s},vY:function(){return N}});var h=t(55336),W=t(1432),k=t(97295);function O(C){return C.replace(/[\\/]/g,h.KR.sep)}function w(C){return C.indexOf("/")===-1&&(C=O(C)),/^[a-zA-Z]:(\/|$)/.test(C)&&(C="/"+C),C}function G(C,l,m,y=h.ir){if(C===l)return!0;if(!C||!l||l.length>C.length)return!1;if(m){if(!(0,k.ok)(C,l))return!1;if(l.length===C.length)return!0;let p=l.length;return l.charAt(l.length-1)===y&&p--,C.charAt(p)===y}return l.charAt(l.length-1)!==y&&(l+=y),C.indexOf(l)===0}function x(C){return C>=65&&C<=90||C>=97&&C<=122}function N(C){const l=(0,h.Fv)(C);return W.ED?C.length>3?!1:s(l)&&(C.length===2||l.charCodeAt(2)===92):l===h.KR.sep}function s(C){return W.ED?x(C.charCodeAt(0))&&C.charCodeAt(1)===58:!1}},75392:function(Ct,we,t){"use strict";t.d(we,{CL:function(){return Be},EW:function(){return Ve},Ji:function(){return O},KZ:function(){return T},Oh:function(){return $},ir:function(){return G},jB:function(){return V},l7:function(){return Te},mB:function(){return z},or:function(){return k}});var h=t(43702),W=t(97295);function k(...Le){return function(Me,Se){for(let ze=0,Ye=Le.length;ze<Ye;ze++){const qe=Le[ze](Me,Se);if(qe)return qe}return null}}const O=w.bind(void 0,!0);function w(Le,Me,Se){if(!Se||Se.length<Me.length)return null;let ze;return Le?ze=W.ok(Se,Me):ze=Se.indexOf(Me)===0,ze?Me.length>0?[{start:0,end:Me.length}]:[]:null}function G(Le,Me){const Se=Me.toLowerCase().indexOf(Le.toLowerCase());return Se===-1?null:[{start:Se,end:Se+Le.length}]}function x(Le,Me){return N(Le.toLowerCase(),Me.toLowerCase(),0,0)}function N(Le,Me,Se,ze){if(Se===Le.length)return[];if(ze===Me.length)return null;if(Le[Se]===Me[ze]){let Ye=null;return(Ye=N(Le,Me,Se+1,ze+1))?v({start:ze,end:ze+1},Ye):null}return N(Le,Me,Se,ze+1)}function s(Le){return 97<=Le&&Le<=122}function C(Le){return 65<=Le&&Le<=90}function l(Le){return 48<=Le&&Le<=57}function m(Le){return Le===32||Le===9||Le===10||Le===13}const y=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(Le=>y.add(Le.charCodeAt(0)));function n(Le){return m(Le)||y.has(Le)}function p(Le,Me){return Le===Me||n(Le)&&n(Me)}function f(Le){return s(Le)||C(Le)||l(Le)}function v(Le,Me){return Me.length===0?Me=[Le]:Le.end===Me[0].start?Me[0].start=Le.start:Me.unshift(Le),Me}function d(Le,Me){for(let Se=Me;Se<Le.length;Se++){const ze=Le.charCodeAt(Se);if(C(ze)||l(ze)||Se>0&&!f(Le.charCodeAt(Se-1)))return Se}return Le.length}function a(Le,Me,Se,ze){if(Se===Le.length)return[];if(ze===Me.length)return null;if(Le[Se]!==Me[ze].toLowerCase())return null;{let Ye=null,qe=ze+1;for(Ye=a(Le,Me,Se+1,ze+1);!Ye&&(qe=d(Me,qe))<Me.length;)Ye=a(Le,Me,Se+1,qe),qe++;return Ye===null?null:v({start:ze,end:ze+1},Ye)}}function u(Le){let Me=0,Se=0,ze=0,Ye=0,qe=0;for(let Je=0;Je<Le.length;Je++)qe=Le.charCodeAt(Je),C(qe)&&Me++,s(qe)&&Se++,f(qe)&&ze++,l(qe)&&Ye++;const ht=Me/Le.length,kt=Se/Le.length,zt=ze/Le.length,Ke=Ye/Le.length;return{upperPercent:ht,lowerPercent:kt,alphaPercent:zt,numericPercent:Ke}}function c(Le){const{upperPercent:Me,lowerPercent:Se}=Le;return Se===0&&Me>.6}function b(Le){const{upperPercent:Me,lowerPercent:Se,alphaPercent:ze,numericPercent:Ye}=Le;return Se>.2&&Me<.8&&ze>.6&&Ye<.2}function L(Le){let Me=0,Se=0,ze=0,Ye=0;for(let qe=0;qe<Le.length;qe++)ze=Le.charCodeAt(qe),C(ze)&&Me++,s(ze)&&Se++,m(ze)&&Ye++;return(Me===0||Se===0)&&Ye===0?Le.length<=30:Me<=5}function R(Le,Me){if(!Me||(Me=Me.trim(),Me.length===0)||!L(Le)||Me.length>60)return null;const Se=u(Me);if(!b(Se)){if(!c(Se))return null;Me=Me.toLowerCase()}let ze=null,Ye=0;for(Le=Le.toLowerCase();Ye<Me.length&&(ze=a(Le,Me,0,Ye))===null;)Ye=d(Me,Ye+1);return ze}function T(Le,Me,Se=!1){if(!Me||Me.length===0)return null;let ze=null,Ye=0;for(Le=Le.toLowerCase(),Me=Me.toLowerCase();Ye<Me.length&&(ze=j(Le,Me,0,Ye,Se))===null;)Ye=q(Me,Ye+1);return ze}function j(Le,Me,Se,ze,Ye){if(Se===Le.length)return[];if(ze===Me.length)return null;if(p(Le.charCodeAt(Se),Me.charCodeAt(ze))){let qe=null,ht=ze+1;if(qe=j(Le,Me,Se+1,ze+1,Ye),!Ye)for(;!qe&&(ht=q(Me,ht))<Me.length;)qe=j(Le,Me,Se+1,ht,Ye),ht++;return qe===null?null:v({start:ze,end:ze+1},qe)}else return null}function q(Le,Me){for(let Se=Me;Se<Le.length;Se++)if(n(Le.charCodeAt(Se))||Se>0&&n(Le.charCodeAt(Se-1)))return Se;return Le.length}const ie=k(O,R,G),ne=k(O,R,x),he=new h.z6(1e4);function $(Le,Me,Se=!1){if(typeof Le!="string"||typeof Me!="string")return null;let ze=he.get(Le);ze||(ze=new RegExp(W.un(Le),"i"),he.set(Le,ze));const Ye=ze.exec(Me);return Ye?[{start:Ye.index,end:Ye.index+Ye[0].length}]:Se?ne(Le,Me):ie(Le,Me)}function V(Le,Me,Se,ze,Ye,qe){const ht=Math.min(13,Le.length);for(;Se<ht;Se++){const kt=Ve(Le,Me,Se,ze,Ye,qe,!1);if(kt)return kt}return[0,qe]}function z(Le){if(typeof Le=="undefined")return[];const Me=[],Se=Le[1];for(let ze=Le.length-1;ze>1;ze--){const Ye=Le[ze]+Se,qe=Me[Me.length-1];qe&&qe.end===Ye?qe.end=Ye+1:Me.push({start:Ye,end:Ye+1})}return Me}const Q=128;function le(){const Le=[],Me=[];for(let Se=0;Se<=Q;Se++)Me[Se]=0;for(let Se=0;Se<=Q;Se++)Le.push(Me.slice(0));return Le}function E(Le){const Me=[];for(let Se=0;Se<=Le;Se++)Me[Se]=0;return Me}const I=E(2*Q),A=E(2*Q),H=le(),Y=le(),X=le(),re=!1;function fe(Le,Me,Se,ze,Ye){function qe(kt,zt,Ke=" "){for(;kt.length<zt;)kt=Ke+kt;return kt}let ht=` |   |${ze.split("").map(kt=>qe(kt,3)).join("|")}
`;for(let kt=0;kt<=Se;kt++)kt===0?ht+=" |":ht+=`${Me[kt-1]}|`,ht+=Le[kt].slice(0,Ye+1).map(zt=>qe(zt.toString(),3)).join("|")+`
`;return ht}function ue(Le,Me,Se,ze){Le=Le.substr(Me),Se=Se.substr(ze),console.log(fe(Y,Le,Le.length,Se,Se.length)),console.log(fe(X,Le,Le.length,Se,Se.length)),console.log(fe(H,Le,Le.length,Se,Se.length))}function Oe(Le,Me){if(Me<0||Me>=Le.length)return!1;const Se=Le.codePointAt(Me);switch(Se){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!W.C8(Se)}}function Ce(Le,Me){if(Me<0||Me>=Le.length)return!1;switch(Le.charCodeAt(Me)){case 32:case 9:return!0;default:return!1}}function oe(Le,Me,Se){return Me[Le]!==Se[Le]}function ae(Le,Me,Se,ze,Ye,qe,ht=!1){for(;Me<Se&&Ye<qe;)Le[Me]===ze[Ye]&&(ht&&(I[Me]=Ye),Me+=1),Ye+=1;return Me===Se}var Be;(function(Le){Le.Default=[-100,0];function Me(Se){return!Se||Se.length===2&&Se[0]===-100&&Se[1]===0}Le.isDefault=Me})(Be||(Be={}));function Ve(Le,Me,Se,ze,Ye,qe,ht){const kt=Le.length>Q?Q:Le.length,zt=ze.length>Q?Q:ze.length;if(Se>=kt||qe>=zt||kt-Se>zt-qe||!ae(Me,Se,kt,Ye,qe,zt,!0))return;se(kt,zt,Se,qe,Me,Ye);let Ke=1,Je=1,Ze=Se,Ae=qe;const He=[!1];for(Ke=1,Ze=Se;Ze<kt;Ke++,Ze++){const hi=I[Ze],Di=A[Ze],Ti=Ze+1<kt?A[Ze+1]:zt;for(Je=hi-qe+1,Ae=hi;Ae<Ti;Je++,Ae++){let Ii=Number.MIN_SAFE_INTEGER,ai=!1;Ae<=Di&&(Ii=ce(Le,Me,Ze,Se,ze,Ye,Ae,zt,qe,H[Ke-1][Je-1]===0,He));let Pt=0;Ii!==Number.MAX_SAFE_INTEGER&&(ai=!0,Pt=Ii+Y[Ke-1][Je-1]);const Gt=Ae>hi,ot=Gt?Y[Ke][Je-1]+(H[Ke][Je-1]>0?-5:0):0,mt=Ae>hi+1&&H[Ke][Je-1]>0,ft=mt?Y[Ke][Je-2]+(H[Ke][Je-2]>0?-5:0):0;if(mt&&(!Gt||ft>=ot)&&(!ai||ft>=Pt))Y[Ke][Je]=ft,X[Ke][Je]=3,H[Ke][Je]=0;else if(Gt&&(!ai||ot>=Pt))Y[Ke][Je]=ot,X[Ke][Je]=2,H[Ke][Je]=0;else if(ai)Y[Ke][Je]=Pt,X[Ke][Je]=1,H[Ke][Je]=H[Ke-1][Je-1]+1;else throw new Error("not possible")}}if(re&&ue(Le,Se,ze,qe),!He[0]&&!ht)return;Ke--,Je--;const It=[Y[Ke][Je],qe];let Bt=0,oi=0;for(;Ke>=1;){let hi=Je;do{const Di=X[Ke][hi];if(Di===3)hi=hi-2;else if(Di===2)hi=hi-1;else break}while(hi>=1);Bt>1&&Me[Se+Ke-1]===Ye[qe+Je-1]&&!oe(hi+qe-1,ze,Ye)&&Bt+1>H[Ke][hi]&&(hi=Je),hi===Je?Bt++:Bt=1,oi||(oi=hi),Ke--,Je=hi-1,It.push(Je)}zt===kt&&(It[0]+=2);const ni=oi-kt;return It[0]-=ni,It}function se(Le,Me,Se,ze,Ye,qe){let ht=Le-1,kt=Me-1;for(;ht>=Se&&kt>=ze;)Ye[ht]===qe[kt]&&(A[ht]=kt,ht--),kt--}function ce(Le,Me,Se,ze,Ye,qe,ht,kt,zt,Ke,Je){if(Me[Se]!==qe[ht])return Number.MIN_SAFE_INTEGER;let Ze=1,Ae=!1;return ht===Se-ze?Ze=Le[Se]===Ye[ht]?7:5:oe(ht,Ye,qe)&&(ht===0||!oe(ht-1,Ye,qe))?(Ze=Le[Se]===Ye[ht]?7:5,Ae=!0):Oe(qe,ht)&&(ht===0||!Oe(qe,ht-1))?Ze=5:(Oe(qe,ht-1)||Ce(qe,ht-1))&&(Ze=5,Ae=!0),Ze>1&&Se===ze&&(Je[0]=!0),Ae||(Ae=oe(ht,Ye,qe)||Oe(qe,ht-1)||Ce(qe,ht-1)),Se===ze?ht>zt&&(Ze-=Ae?3:5):Ke?Ze+=Ae?2:0:Ze+=Ae?0:1,ht+1===kt&&(Ze-=Ae?3:5),Ze}function Te(Le,Me,Se,ze,Ye,qe,ht){return xe(Le,Me,Se,ze,Ye,qe,!0,ht)}function xe(Le,Me,Se,ze,Ye,qe,ht,kt){let zt=Ve(Le,Me,Se,ze,Ye,qe,kt);if(zt&&!ht)return zt;if(Le.length>=3){const Ke=Math.min(7,Le.length-1);for(let Je=Se+1;Je<Ke;Je++){const Ze=Fe(Le,Je);if(Ze){const Ae=Ve(Ze,Ze.toLowerCase(),Se,ze,Ye,qe,kt);Ae&&(Ae[0]-=3,(!zt||Ae[0]>zt[0])&&(zt=Ae))}}}return zt}function Fe(Le,Me){if(Me+1>=Le.length)return;const Se=Le[Me],ze=Le[Me+1];if(Se!==ze)return Le.slice(0,Me)+ze+Se+Le.slice(Me+2)}},88289:function(Ct,we,t){"use strict";t.d(we,{I:function(){return h}});function h(W){const k=this;let O=!1,w;return function(){return O||(O=!0,w=W.apply(k,arguments)),w}}},14118:function(Ct,we,t){"use strict";t.d(we,{EQ:function(){return he},Qc:function(){return $}});var h=t(15393),W=t(15527),k=t(43702),O=t(55336),w=t(97295);const G="**",x="/",N="[/\\\\]",s="[^/\\\\]",C=/\//g;function l(E){switch(E){case 0:return"";case 1:return`${s}*?`;default:return`(?:${N}|${s}+${N}|${N}${s}+)*?`}}function m(E,I){if(!E)return[];const A=[];let H=!1,Y=!1,X="";for(const re of E){switch(re){case I:if(!H&&!Y){A.push(X),X="";continue}break;case"{":H=!0;break;case"}":H=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}X+=re}return X&&A.push(X),A}function y(E){if(!E)return"";let I="";const A=m(E,x);if(A.every(H=>H===G))I=".*";else{let H=!1;A.forEach((Y,X)=>{if(Y===G){H||(I+=l(2),H=!0);return}let re=!1,fe="",ue=!1,Oe="";for(const Ce of Y){if(Ce!=="}"&&re){fe+=Ce;continue}if(ue&&(Ce!=="]"||!Oe)){let oe;Ce==="-"?oe=Ce:(Ce==="^"||Ce==="!")&&!Oe?oe="^":Ce===x?oe="":oe=w.ec(Ce),Oe+=oe;continue}switch(Ce){case"{":re=!0;continue;case"[":ue=!0;continue;case"}":const ae=`(?:${m(fe,",").map(Be=>y(Be)).join("|")})`;I+=ae,re=!1,fe="";break;case"]":I+="["+Oe+"]",ue=!1,Oe="";break;case"?":I+=s;continue;case"*":I+=l(1);continue;default:I+=w.ec(Ce)}}X<A.length-1&&(A[X+1]!==G||X+2<A.length)&&(I+=N),H=!1})}return I}const n=/^\*\*\/\*\.[\w\.-]+$/,p=/^\*\*\/([\w\.-]+)\/?$/,f=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,v=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,d=/^\*\*((\/[\w\.-]+)+)\/?$/,a=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,u=new k.z6(1e4),c=function(){return!1},b=function(){return null};function L(E,I){if(!E)return b;let A;typeof E!="string"?A=E.pattern:A=E,A=A.trim();const H=`${A}_${!!I.trimForExclusions}`;let Y=u.get(H);if(Y)return R(Y,E);let X;if(n.test(A)){const re=A.substr(4);Y=function(fe,ue){return typeof fe=="string"&&fe.endsWith(re)?A:null}}else(X=p.exec(T(A,I)))?Y=j(X[1],A):(I.trimForExclusions?v:f).test(A)?Y=q(A,I):(X=d.exec(T(A,I)))?Y=ie(X[1].substr(1),A,!0):(X=a.exec(T(A,I)))?Y=ie(X[1],A,!1):Y=ne(A);return u.set(H,Y),R(Y,E)}function R(E,I){return typeof I=="string"?E:function(A,H){return W.KM(A,I.base)?E(O.Gf(I.base,A),H):null}}function T(E,I){return I.trimForExclusions&&E.endsWith("/**")?E.substr(0,E.length-2):E}function j(E,I){const A=`/${E}`,H=`\\${E}`,Y=function(re,fe){return typeof re!="string"?null:fe?fe===E?I:null:re===E||re.endsWith(A)||re.endsWith(H)?I:null},X=[E];return Y.basenames=X,Y.patterns=[I],Y.allBasenames=X,Y}function q(E,I){const A=le(E.slice(1,-1).split(",").map(fe=>L(fe,I)).filter(fe=>fe!==b),E),H=A.length;if(!H)return b;if(H===1)return A[0];const Y=function(fe,ue){for(let Oe=0,Ce=A.length;Oe<Ce;Oe++)if(A[Oe](fe,ue))return E;return null},X=A.find(fe=>!!fe.allBasenames);X&&(Y.allBasenames=X.allBasenames);const re=A.reduce((fe,ue)=>ue.allPaths?fe.concat(ue.allPaths):fe,[]);return re.length&&(Y.allPaths=re),Y}function ie(E,I,A){const H=O.ir===O.KR.sep,Y=H?E:E.replace(C,O.ir),X=O.ir+Y,re=O.KR.sep+E,fe=A?function(ue,Oe){return typeof ue=="string"&&(ue===Y||ue.endsWith(X)||!H&&(ue===E||ue.endsWith(re)))?I:null}:function(ue,Oe){return typeof ue=="string"&&(ue===Y||!H&&ue===E)?I:null};return fe.allPaths=[(A?"*/":"./")+E],fe}function ne(E){try{const I=new RegExp(`^${y(E)}$`);return function(A){return I.lastIndex=0,typeof A=="string"&&I.test(A)?E:null}}catch(I){return b}}function he(E,I,A){return!E||typeof I!="string"?!1:$(E)(I,void 0,A)}function $(E,I={}){if(!E)return c;if(typeof E=="string"||V(E)){const A=L(E,I);if(A===b)return c;const H=function(Y,X){return!!A(Y,X)};return A.allBasenames&&(H.allBasenames=A.allBasenames),A.allPaths&&(H.allPaths=A.allPaths),H}return z(E,I)}function V(E){const I=E;return I&&typeof I.base=="string"&&typeof I.pattern=="string"}function z(E,I){const A=le(Object.getOwnPropertyNames(E).map(fe=>Q(fe,E[fe],I)).filter(fe=>fe!==b)),H=A.length;if(!H)return b;if(!A.some(fe=>!!fe.requiresSiblings)){if(H===1)return A[0];const fe=function(Ce,oe){for(let ae=0,Be=A.length;ae<Be;ae++){const Ve=A[ae](Ce,oe);if(Ve)return Ve}return null},ue=A.find(Ce=>!!Ce.allBasenames);ue&&(fe.allBasenames=ue.allBasenames);const Oe=A.reduce((Ce,oe)=>oe.allPaths?Ce.concat(oe.allPaths):Ce,[]);return Oe.length&&(fe.allPaths=Oe),fe}const Y=function(fe,ue,Oe){let Ce;for(let oe=0,ae=A.length;oe<ae;oe++){const Be=A[oe];Be.requiresSiblings&&Oe&&(ue||(ue=O.EZ(fe)),Ce||(Ce=ue.substr(0,ue.length-O.DZ(fe).length)));const Ve=Be(fe,ue,Ce,Oe);if(Ve)return Ve}return null},X=A.find(fe=>!!fe.allBasenames);X&&(Y.allBasenames=X.allBasenames);const re=A.reduce((fe,ue)=>ue.allPaths?fe.concat(ue.allPaths):fe,[]);return re.length&&(Y.allPaths=re),Y}function Q(E,I,A){if(I===!1)return b;const H=L(E,A);if(H===b)return b;if(typeof I=="boolean")return H;if(I){const Y=I.when;if(typeof Y=="string"){const X=(re,fe,ue,Oe)=>{if(!Oe||!H(re,fe))return null;const Ce=Y.replace("$(basename)",ue),oe=Oe(Ce);return(0,h.J8)(oe)?oe.then(ae=>ae?E:null):oe?E:null};return X.requiresSiblings=!0,X}}return H}function le(E,I){const A=E.filter(fe=>!!fe.basenames);if(A.length<2)return E;const H=A.reduce((fe,ue)=>{const Oe=ue.basenames;return Oe?fe.concat(Oe):fe},[]);let Y;if(I){Y=[];for(let fe=0,ue=H.length;fe<ue;fe++)Y.push(I)}else Y=A.reduce((fe,ue)=>{const Oe=ue.patterns;return Oe?fe.concat(Oe):fe},[]);const X=function(fe,ue){if(typeof fe!="string")return null;if(!ue){let Ce;for(Ce=fe.length;Ce>0;Ce--){const oe=fe.charCodeAt(Ce-1);if(oe===47||oe===92)break}ue=fe.substr(Ce)}const Oe=H.indexOf(ue);return Oe!==-1?Y[Oe]:null};X.basenames=H,X.patterns=Y,X.allBasenames=H;const re=E.filter(fe=>!fe.basenames);return re.push(X),re}},89954:function(Ct,we,t){"use strict";t.d(we,{Cv:function(){return G},SP:function(){return k},vp:function(){return W},yP:function(){return y}});var h=t(97295);function W(n){return k(n,0)}function k(n,p){switch(typeof n){case"object":return n===null?O(349,p):Array.isArray(n)?x(n,p):N(n,p);case"string":return G(n,p);case"boolean":return w(n,p);case"number":return O(n,p);case"undefined":return O(937,p);default:return O(617,p)}}function O(n,p){return(p<<5)-p+n|0}function w(n,p){return O(n?433:863,p)}function G(n,p){p=O(149417,p);for(let f=0,v=n.length;f<v;f++)p=O(n.charCodeAt(f),p);return p}function x(n,p){return p=O(104579,p),n.reduce((f,v)=>k(v,f),p)}function N(n,p){return p=O(181387,p),Object.keys(n).sort().reduce((f,v)=>(f=G(v,f),k(n[v],f)),p)}function s(n,p,f=32){const v=f-p,d=~((1<<v)-1);return(n<<p|(d&n)>>>v)>>>0}function C(n,p=0,f=n.byteLength,v=0){for(let d=0;d<f;d++)n[p+d]=v}function l(n,p,f="0"){for(;n.length<p;)n=f+n;return n}function m(n,p=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(f=>f.toString(16).padStart(2,"0")).join(""):l((n>>>0).toString(16),p/4)}class y{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(p){const f=p.length;if(f===0)return;const v=this._buff;let d=this._buffLen,a=this._leftoverHighSurrogate,u,c;for(a!==0?(u=a,c=-1,a=0):(u=p.charCodeAt(0),c=0);;){let b=u;if(h.ZG(u))if(c+1<f){const L=p.charCodeAt(c+1);h.YK(L)?(c++,b=h.rL(u,L)):b=65533}else{a=u;break}else h.YK(u)&&(b=65533);if(d=this._push(v,d,b),c++,c<f)u=p.charCodeAt(c);else break}this._buffLen=d,this._leftoverHighSurrogate=a}_push(p,f,v){return v<128?p[f++]=v:v<2048?(p[f++]=192|(v&1984)>>>6,p[f++]=128|(v&63)>>>0):v<65536?(p[f++]=224|(v&61440)>>>12,p[f++]=128|(v&4032)>>>6,p[f++]=128|(v&63)>>>0):(p[f++]=240|(v&1835008)>>>18,p[f++]=128|(v&258048)>>>12,p[f++]=128|(v&4032)>>>6,p[f++]=128|(v&63)>>>0),f>=64&&(this._step(),f-=64,this._totalLen+=64,p[0]=p[64+0],p[1]=p[64+1],p[2]=p[64+2]),f}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),m(this._h0)+m(this._h1)+m(this._h2)+m(this._h3)+m(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,C(this._buff,this._buffLen),this._buffLen>56&&(this._step(),C(this._buff));const p=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(p/4294967296),!1),this._buffDV.setUint32(60,p%4294967296,!1),this._step()}_step(){const p=y._bigBlock32,f=this._buffDV;for(let T=0;T<64;T+=4)p.setUint32(T,f.getUint32(T,!1),!1);for(let T=64;T<320;T+=4)p.setUint32(T,s(p.getUint32(T-12,!1)^p.getUint32(T-32,!1)^p.getUint32(T-56,!1)^p.getUint32(T-64,!1),1),!1);let v=this._h0,d=this._h1,a=this._h2,u=this._h3,c=this._h4,b,L,R;for(let T=0;T<80;T++)T<20?(b=d&a|~d&u,L=1518500249):T<40?(b=d^a^u,L=1859775393):T<60?(b=d&a|d&u|a&u,L=2400959708):(b=d^a^u,L=3395469782),R=s(v,5)+b+c+L+p.getUint32(T*4,!1)&4294967295,c=u,u=a,a=s(d,30),d=v,v=R;this._h0=this._h0+v&4294967295,this._h1=this._h1+d&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+u&4294967295,this._h4=this._h4+c&4294967295}}y._bigBlock32=new DataView(new ArrayBuffer(320))},59365:function(Ct,we,t){"use strict";t.d(we,{CP:function(){return O},Fr:function(){return w},W5:function(){return k},oR:function(){return x},v1:function(){return N}});var h=t(17301),W=t(21212);class k{constructor(C="",l=!1){var m,y,n;if(this.value=C,typeof this.value!="string")throw(0,h.b1)("value");typeof l=="boolean"?(this.isTrusted=l,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(m=l.isTrusted)!==null&&m!==void 0?m:void 0,this.supportThemeIcons=(y=l.supportThemeIcons)!==null&&y!==void 0?y:!1,this.supportHtml=(n=l.supportHtml)!==null&&n!==void 0?n:!1)}appendText(C,l=0){return this.value+=G(this.supportThemeIcons?(0,W.Qo)(C):C).replace(/([ \t]+)/g,(m,y)=>"&nbsp;".repeat(y.length)).replace(/\>/gm,"\\>").replace(/\n/g,l===1?`\\
`:`

`),this}appendMarkdown(C){return this.value+=C,this}appendCodeblock(C,l){return this.value+="\n```",this.value+=C,this.value+=`
`,this.value+=l,this.value+="\n```\n",this}}function O(s){return w(s)?!s.value:Array.isArray(s)?s.every(O):!0}function w(s){return s instanceof k?!0:s&&typeof s=="object"?typeof s.value=="string"&&(typeof s.isTrusted=="boolean"||s.isTrusted===void 0)&&(typeof s.supportThemeIcons=="boolean"||s.supportThemeIcons===void 0):!1}function G(s){return s.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function x(s){return s&&s.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function N(s){const C=[],l=s.split("|").map(y=>y.trim());s=l[0];const m=l[1];if(m){const y=/height=(\d+)/.exec(m),n=/width=(\d+)/.exec(m),p=y?y[1]:"",f=n?n[1]:"",v=isFinite(parseInt(f)),d=isFinite(parseInt(p));v&&C.push(`width="${f}"`),d&&C.push(`height="${p}"`)}return{href:s,dimensions:C}}},21212:function(Ct,we,t){"use strict";t.d(we,{Gt:function(){return n},Ho:function(){return m},Qo:function(){return x},f$:function(){return s},x$:function(){return l}});var h=t(73046),W=t(75392),k=t(97295);const O="$(",w=new RegExp(`\\$\\(${h.dT.iconNameExpression}(?:${h.dT.iconModifierExpression})?\\)`,"g"),G=new RegExp(`(\\\\)?${w.source}`,"g");function x(p){return p.replace(G,(f,v)=>v?f:`\\${f}`)}const N=new RegExp(`\\\\${w.source}`,"g");function s(p){return p.replace(N,f=>`\\${f}`)}const C=new RegExp(`(\\s)?(\\\\)?${w.source}(\\s)?`,"g");function l(p){return p.indexOf(O)===-1?p:p.replace(C,(f,v,d,a)=>d?f:v||a||"")}function m(p){const f=p.indexOf(O);return f===-1?{text:p}:y(p,f)}function y(p,f){const v=[];let d="";function a(q){if(q){d+=q;for(const ie of q)v.push(b)}}let u=-1,c="",b=0,L,R,T=f;const j=p.length;for(a(p.substr(0,f));T<j;){if(L=p[T],R=p[T+1],L===O[0]&&R===O[1])u=T,a(c),c=O,T++;else if(L===")"&&u!==-1){const q=T-u+1;b+=q,u=-1,c=""}else u!==-1?/^[a-z0-9\-]$/i.test(L)?c+=L:(a(c),u=-1,c=""):a(L);T++}return a(c),{text:d,iconOffsets:v}}function n(p,f,v=!1){const{text:d,iconOffsets:a}=f;if(!a||a.length===0)return(0,W.Oh)(p,d,v);const u=(0,k.j3)(d," "),c=d.length-u.length,b=(0,W.Oh)(p,u,v);if(b)for(const L of b){const R=a[L.start+c]+c;L.start+=R,L.end+=R}return b}},44742:function(Ct,we,t){"use strict";t.d(we,{R:function(){return h},a:function(){return W}});class h{constructor(O){this._prefix=O,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const W=new h("id#")},56899:function(Ct,we,t){"use strict";t.d(we,{$:function(){return h}});var h;(function(W){function k(u){return u&&typeof u=="object"&&typeof u[Symbol.iterator]=="function"}W.is=k;const O=Object.freeze([]);function w(){return O}W.empty=w;function*G(u){yield u}W.single=G;function x(u){return u||O}W.from=x;function N(u){return!u||u[Symbol.iterator]().next().done===!0}W.isEmpty=N;function s(u){return u[Symbol.iterator]().next().value}W.first=s;function C(u,c){for(const b of u)if(c(b))return!0;return!1}W.some=C;function l(u,c){for(const b of u)if(c(b))return b}W.find=l;function*m(u,c){for(const b of u)c(b)&&(yield b)}W.filter=m;function*y(u,c){let b=0;for(const L of u)yield c(L,b++)}W.map=y;function*n(...u){for(const c of u)for(const b of c)yield b}W.concat=n;function*p(u){for(const c of u)for(const b of c)yield b}W.concatNested=p;function f(u,c,b){let L=b;for(const R of u)L=c(L,R);return L}W.reduce=f;function*v(u,c,b=u.length){for(c<0&&(c+=u.length),b<0?b+=u.length:b>u.length&&(b=u.length);c<b;c++)yield u[c]}W.slice=v;function d(u,c=Number.POSITIVE_INFINITY){const b=[];if(c===0)return[b,u];const L=u[Symbol.iterator]();for(let R=0;R<c;R++){const T=L.next();if(T.done)return[b,W.empty()];b.push(T.value)}return[b,{[Symbol.iterator](){return L}}]}W.consume=d;function a(u,c,b=(L,R)=>L===R){const L=u[Symbol.iterator](),R=c[Symbol.iterator]();for(;;){const T=L.next(),j=R.next();if(T.done!==j.done)return!1;if(T.done)return!0;if(!b(T.value,j.value))return!1}}W.equals=a})(h||(h={}))},22258:function(Ct,we,t){"use strict";t.d(we,{H_:function(){return w},Vd:function(){return C},gx:function(){return y},kL:function(){return m}});class h{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(p,f){this._keyCodeToStr[p]=f,this._strToKeyCode[f.toLowerCase()]=p}keyCodeToStr(p){return this._keyCodeToStr[p]}strToKeyCode(p){return this._strToKeyCode[p.toLowerCase()]||0}}const W=new h,k=new h,O=new h,w=new Array(230),G={},x=[],N=Object.create(null),s=Object.create(null),C=[],l=[];for(let n=0;n<=193;n++)C[n]=-1;for(let n=0;n<=126;n++)l[n]=-1;(function(){const n="",p=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",0,n,0,n,n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_CLEAR",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]];let f=[],v=[];for(const d of p){const[a,u,c,b,L,R,T,j,q,ie]=d;if(v[c]||(v[c]=!0,x[c]=b,N[b]=c,s[b.toLowerCase()]=c,u&&(C[c]=L,L!==0&&L!==3&&L!==5&&L!==4&&L!==6&&L!==57&&(l[L]=c))),!f[L]){if(f[L]=!0,!R)throw new Error(`String representation missing for key code ${L} around scan code ${b}`);W.define(L,R),k.define(L,q||R),O.define(L,ie||q||R)}T&&(w[T]=L),j&&(G[j]=L)}l[3]=46})();var m;(function(n){function p(c){return W.keyCodeToStr(c)}n.toString=p;function f(c){return W.strToKeyCode(c)}n.fromString=f;function v(c){return k.keyCodeToStr(c)}n.toUserSettingsUS=v;function d(c){return O.keyCodeToStr(c)}n.toUserSettingsGeneral=d;function a(c){return k.strToKeyCode(c)||O.strToKeyCode(c)}n.fromUserSettings=a;function u(c){if(c>=93&&c<=108)return null;switch(c){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return W.keyCodeToStr(c)}n.toElectronAccelerator=u})(m||(m={}));function y(n,p){const f=(p&65535)<<16>>>0;return(n|f)>>>0}},8030:function(Ct,we,t){"use strict";t.d(we,{X4:function(){return O},jC:function(){return w},xo:function(){return k}});var h=t(63580);class W{constructor(N,s,C=s){this.modifierLabels=[null],this.modifierLabels[2]=N,this.modifierLabels[1]=s,this.modifierLabels[3]=C}toLabel(N,s,C){if(s.length===0)return null;const l=[];for(let m=0,y=s.length;m<y;m++){const n=s[m],p=C(n);if(p===null)return null;l[m]=G(n,p,this.modifierLabels[N])}return l.join(" ")}}const k=new W({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:h.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:h.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:h.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:h.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:h.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:h.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:h.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:h.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),O=new W({ctrlKey:h.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:h.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:h.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:h.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:h.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:h.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:h.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:h.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:h.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:h.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:h.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:h.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),w=new W({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function G(x,N,s){if(N===null)return"";const C=[];return x.ctrlKey&&C.push(s.ctrlKey),x.shiftKey&&C.push(s.shiftKey),x.altKey&&C.push(s.altKey),x.metaKey&&C.push(s.metaKey),N!==""&&C.push(N),C.join(s.separator)}},8313:function(Ct,we,t){"use strict";t.d(we,{BQ:function(){return x},QC:function(){return O},X_:function(){return w},f1:function(){return N},gm:function(){return W}});var h=t(17301);function W(s,C){if(s===0)return null;const l=(s&65535)>>>0,m=(s&4294901760)>>>16;return m!==0?new w([k(l,C),k(m,C)]):new w([k(l,C)])}function k(s,C){const l=!!(s&2048),m=!!(s&256),y=C===2?m:l,n=!!(s&1024),p=!!(s&512),f=C===2?l:m,v=s&255;return new O(y,n,p,f,v)}class O{constructor(C,l,m,y,n){this.ctrlKey=C,this.shiftKey=l,this.altKey=m,this.metaKey=y,this.keyCode=n}equals(C){return this.ctrlKey===C.ctrlKey&&this.shiftKey===C.shiftKey&&this.altKey===C.altKey&&this.metaKey===C.metaKey&&this.keyCode===C.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new w([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class w{constructor(C){if(C.length===0)throw(0,h.b1)("parts");this.parts=C}}class G{constructor(C,l,m,y,n){this.ctrlKey=C,this.shiftKey=l,this.altKey=m,this.metaKey=y,this.scanCode=n}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class x{constructor(C,l,m,y,n,p){this.ctrlKey=C,this.shiftKey=l,this.altKey=m,this.metaKey=y,this.keyLabel=n,this.keyAriaLabel=p}}class N{}},68843:function(Ct,we,t){"use strict";t.d(we,{D:function(){return x},p:function(){return G}});var h=t(15527),W=t(66663),k=t(1432),O=t(95935),w=t(70666);function G(N){if(!N)return;typeof N=="string"&&(N=w.o.file(N));const s=(0,O.EZ)(N)||(N.scheme===W.lg.file?N.fsPath:N.path);return k.ED&&(0,h.vY)(s)?x(s):s}function x(N){return(0,h.oP)(N)?N.charAt(0).toUpperCase()+N.slice(1):N}},9917:function(Ct,we,t){"use strict";t.d(we,{B9:function(){return y},F8:function(){return n},JT:function(){return v},Jz:function(){return a},OF:function(){return p},SL:function(){return f},Wf:function(){return m},XK:function(){return d},dk:function(){return C}});var h=t(88289),W=t(56899);const k=!1;let O=null;function w(u){O=u}if(k){const u="__is_disposable_tracked__";w(new class{trackDisposable(c){const b=new Error("Potentially leaked disposable").stack;setTimeout(()=>{c[u]||console.log(b)},3e3)}setParent(c,b){if(c&&c!==v.None)try{c[u]=!0}catch(L){}}markAsDisposed(c){if(c&&c!==v.None)try{c[u]=!0}catch(b){}}markAsSingleton(c){}})}function G(u){return O==null||O.trackDisposable(u),u}function x(u){O==null||O.markAsDisposed(u)}function N(u,c){O==null||O.setParent(u,c)}function s(u,c){if(O)for(const b of u)O.setParent(b,c)}function C(u){return O==null||O.markAsSingleton(u),u}class l extends Error{constructor(c){super(`Encountered errors while disposing of store. Errors: [${c.join(", ")}]`),this.errors=c}}function m(u){return typeof u.dispose=="function"&&u.dispose.length===0}function y(u){if(W.$.is(u)){let c=[];for(const b of u)if(b)try{b.dispose()}catch(L){c.push(L)}if(c.length===1)throw c[0];if(c.length>1)throw new l(c);return Array.isArray(u)?[]:u}else if(u)return u.dispose(),u}function n(...u){const c=p(()=>y(u));return s(u,c),c}function p(u){const c=G({dispose:(0,h.I)(()=>{x(c),u()})});return c}class f{constructor(){this._toDispose=new Set,this._isDisposed=!1,G(this)}dispose(){this._isDisposed||(x(this),this._isDisposed=!0,this.clear())}clear(){try{y(this._toDispose.values())}finally{this._toDispose.clear()}}add(c){if(!c)return c;if(c===this)throw new Error("Cannot register a disposable on itself!");return N(c,this),this._isDisposed?f.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(c),c}}f.DISABLE_DISPOSED_WARNING=!1;class v{constructor(){this._store=new f,G(this),N(this._store,this)}dispose(){x(this),this._store.dispose()}_register(c){if(c===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(c)}}v.None=Object.freeze({dispose(){}});class d{constructor(){this._isDisposed=!1,G(this)}get value(){return this._isDisposed?void 0:this._value}set value(c){var b;this._isDisposed||c===this._value||((b=this._value)===null||b===void 0||b.dispose(),c&&N(c,this),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,x(this),(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}clearAndLeak(){const c=this._value;return this._value=void 0,c&&N(c,null),c}}class a{constructor(c){this.object=c}dispose(){}}},91741:function(Ct,we,t){"use strict";t.d(we,{S:function(){return W}});class h{constructor(O){this.element=O,this.next=h.Undefined,this.prev=h.Undefined}}h.Undefined=new h(void 0);class W{constructor(){this._first=h.Undefined,this._last=h.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===h.Undefined}clear(){let O=this._first;for(;O!==h.Undefined;){const w=O.next;O.prev=h.Undefined,O.next=h.Undefined,O=w}this._first=h.Undefined,this._last=h.Undefined,this._size=0}unshift(O){return this._insert(O,!1)}push(O){return this._insert(O,!0)}_insert(O,w){const G=new h(O);if(this._first===h.Undefined)this._first=G,this._last=G;else if(w){const N=this._last;this._last=G,G.prev=N,N.next=G}else{const N=this._first;this._first=G,G.next=N,N.prev=G}this._size+=1;let x=!1;return()=>{x||(x=!0,this._remove(G))}}shift(){if(this._first!==h.Undefined){const O=this._first.element;return this._remove(this._first),O}}pop(){if(this._last!==h.Undefined){const O=this._last.element;return this._remove(this._last),O}}_remove(O){if(O.prev!==h.Undefined&&O.next!==h.Undefined){const w=O.prev;w.next=O.next,O.next.prev=w}else O.prev===h.Undefined&&O.next===h.Undefined?(this._first=h.Undefined,this._last=h.Undefined):O.next===h.Undefined?(this._last=this._last.prev,this._last.next=h.Undefined):O.prev===h.Undefined&&(this._first=this._first.next,this._first.prev=h.Undefined);this._size-=1}*[Symbol.iterator](){let O=this._first;for(;O!==h.Undefined;)yield O.element,O=O.next}}},43702:function(Ct,we,t){"use strict";t.d(we,{Id:function(){return s},Y9:function(){return l},z6:function(){return y}});var h=t(97295),W,k;class O{constructor(){this._value="",this._pos=0}reset(p){return this._value=p,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(p){const f=p.charCodeAt(0),v=this._value.charCodeAt(this._pos);return f-v}value(){return this._value[this._pos]}}class w{constructor(p=!0){this._caseSensitive=p}reset(p){return this._value=p,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let p=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(p)this._from++;else break;else p=!1;return this}cmp(p){return this._caseSensitive?(0,h.TT)(p,this._value,0,p.length,this._from,this._to):(0,h.j_)(p,this._value,0,p.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class G{constructor(p=!0,f=!0){this._splitOnBackslash=p,this._caseSensitive=f}reset(p){return this._value=p.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let p=!0;for(;this._to<this._value.length;this._to++){const f=this._value.charCodeAt(this._to);if(f===47||this._splitOnBackslash&&f===92)if(p)this._from++;else break;else p=!1}return this}cmp(p){return this._caseSensitive?(0,h.TT)(p,this._value,0,p.length,this._from,this._to):(0,h.j_)(p,this._value,0,p.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class x{constructor(p){this._ignorePathCasing=p,this._states=[],this._stateIdx=0}reset(p){return this._value=p,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new G(!1,!this._ignorePathCasing(p)),this._pathIterator.reset(p.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(p){if(this._states[this._stateIdx]===1)return(0,h.zY)(p,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,h.zY)(p,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(p);if(this._states[this._stateIdx]===4)return(0,h.qu)(p,this._value.query);if(this._states[this._stateIdx]===5)return(0,h.qu)(p,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class N{constructor(){this.height=1}rotateLeft(){const p=this.right;return this.right=p.left,p.left=this,this.updateHeight(),p.updateHeight(),p}rotateRight(){const p=this.left;return this.left=p.right,p.right=this,this.updateHeight(),p.updateHeight(),p}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var p,f;return(f=(p=this.left)===null||p===void 0?void 0:p.height)!==null&&f!==void 0?f:0}get heightRight(){var p,f;return(f=(p=this.right)===null||p===void 0?void 0:p.height)!==null&&f!==void 0?f:0}}class s{constructor(p){this._iter=p}static forUris(p=()=>!1){return new s(new x(p))}static forStrings(){return new s(new O)}static forConfigKeys(){return new s(new w)}clear(){this._root=void 0}set(p,f){const v=this._iter.reset(p);let d;this._root||(this._root=new N,this._root.segment=v.value());const a=[];for(d=this._root;;){const c=v.cmp(d.segment);if(c>0)d.left||(d.left=new N,d.left.segment=v.value()),a.push([-1,d]),d=d.left;else if(c<0)d.right||(d.right=new N,d.right.segment=v.value()),a.push([1,d]),d=d.right;else if(v.hasNext())v.next(),d.mid||(d.mid=new N,d.mid.segment=v.value()),a.push([0,d]),d=d.mid;else break}const u=d.value;d.value=f,d.key=p;for(let c=a.length-1;c>=0;c--){const b=a[c][1];b.updateHeight();const L=b.balanceFactor();if(L<-1||L>1){const R=a[c][0],T=a[c+1][0];if(R===1&&T===1)a[c][1]=b.rotateLeft();else if(R===-1&&T===-1)a[c][1]=b.rotateRight();else if(R===1&&T===-1)b.right=a[c+1][1]=a[c+1][1].rotateRight(),a[c][1]=b.rotateLeft();else if(R===-1&&T===1)b.left=a[c+1][1]=a[c+1][1].rotateLeft(),a[c][1]=b.rotateRight();else throw new Error;if(c>0)switch(a[c-1][0]){case-1:a[c-1][1].left=a[c][1];break;case 1:a[c-1][1].right=a[c][1];break;case 0:a[c-1][1].mid=a[c][1];break}else this._root=a[0][1]}}return u}get(p){var f;return(f=this._getNode(p))===null||f===void 0?void 0:f.value}_getNode(p){const f=this._iter.reset(p);let v=this._root;for(;v;){const d=f.cmp(v.segment);if(d>0)v=v.left;else if(d<0)v=v.right;else if(f.hasNext())f.next(),v=v.mid;else break}return v}has(p){const f=this._getNode(p);return!((f==null?void 0:f.value)===void 0&&(f==null?void 0:f.mid)===void 0)}delete(p){return this._delete(p,!1)}deleteSuperstr(p){return this._delete(p,!0)}_delete(p,f){var v;const d=this._iter.reset(p),a=[];let u=this._root;for(;u;){const c=d.cmp(u.segment);if(c>0)a.push([-1,u]),u=u.left;else if(c<0)a.push([1,u]),u=u.right;else if(d.hasNext())d.next(),a.push([0,u]),u=u.mid;else break}if(u){if(f?(u.left=void 0,u.mid=void 0,u.right=void 0,u.height=1):(u.key=void 0,u.value=void 0),!u.mid&&!u.value)if(u.left&&u.right){const c=this._min(u.right),{key:b,value:L,segment:R}=c;this._delete(c.key,!1),u.key=b,u.value=L,u.segment=R}else{const c=(v=u.left)!==null&&v!==void 0?v:u.right;if(a.length>0){const[b,L]=a[a.length-1];switch(b){case-1:L.left=c;break;case 0:L.mid=c;break;case 1:L.right=c;break}}else this._root=c}for(let c=a.length-1;c>=0;c--){const b=a[c][1];b.updateHeight();const L=b.balanceFactor();if(L>1?(b.right.balanceFactor()>=0||(b.right=a[c+1][1]=a[c+1][1].rotateRight()),a[c][1]=b.rotateLeft()):L<-1&&(b.left.balanceFactor()<=0||(b.left=a[c+1][1]=a[c+1][1].rotateLeft()),a[c][1]=b.rotateRight()),c>0)switch(a[c-1][0]){case-1:a[c-1][1].left=a[c][1];break;case 1:a[c-1][1].right=a[c][1];break;case 0:a[c-1][1].mid=a[c][1];break}else this._root=a[0][1]}}}_min(p){for(;p.left;)p=p.left;return p}findSubstr(p){const f=this._iter.reset(p);let v=this._root,d;for(;v;){const a=f.cmp(v.segment);if(a>0)v=v.left;else if(a<0)v=v.right;else if(f.hasNext())f.next(),d=v.value||d,v=v.mid;else break}return v&&v.value||d}findSuperstr(p){const f=this._iter.reset(p);let v=this._root;for(;v;){const d=f.cmp(v.segment);if(d>0)v=v.left;else if(d<0)v=v.right;else if(f.hasNext())f.next(),v=v.mid;else return v.mid?this._entries(v.mid):void 0}}forEach(p){for(const[f,v]of this)p(v,f)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(p){p&&(p.left&&(yield*this._entries(p.left)),p.value&&(yield[p.key,p.value]),p.mid&&(yield*this._entries(p.mid)),p.right&&(yield*this._entries(p.right)))}}class C{constructor(p,f){this.uri=p,this.value=f}}class l{constructor(p,f){this[W]="ResourceMap",p instanceof l?(this.map=new Map(p.map),this.toKey=f!=null?f:l.defaultToKey):(this.map=new Map,this.toKey=p!=null?p:l.defaultToKey)}set(p,f){return this.map.set(this.toKey(p),new C(p,f)),this}get(p){var f;return(f=this.map.get(this.toKey(p)))===null||f===void 0?void 0:f.value}has(p){return this.map.has(this.toKey(p))}get size(){return this.map.size}clear(){this.map.clear()}delete(p){return this.map.delete(this.toKey(p))}forEach(p,f){typeof f!="undefined"&&(p=p.bind(f));for(let[v,d]of this.map)p(d.value,d.uri,this)}*values(){for(let p of this.map.values())yield p.value}*keys(){for(let p of this.map.values())yield p.uri}*entries(){for(let p of this.map.values())yield[p.uri,p.value]}*[(W=Symbol.toStringTag,Symbol.iterator)](){for(let[,p]of this.map)yield[p.uri,p.value]}}l.defaultToKey=n=>n.toString();class m{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var p;return(p=this._head)===null||p===void 0?void 0:p.value}get last(){var p;return(p=this._tail)===null||p===void 0?void 0:p.value}has(p){return this._map.has(p)}get(p,f=0){const v=this._map.get(p);if(v)return f!==0&&this.touch(v,f),v.value}set(p,f,v=0){let d=this._map.get(p);if(d)d.value=f,v!==0&&this.touch(d,v);else{switch(d={key:p,value:f,next:void 0,previous:void 0},v){case 0:this.addItemLast(d);break;case 1:this.addItemFirst(d);break;case 2:this.addItemLast(d);break;default:this.addItemLast(d);break}this._map.set(p,d),this._size++}return this}delete(p){return!!this.remove(p)}remove(p){const f=this._map.get(p);if(f)return this._map.delete(p),this.removeItem(f),this._size--,f.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const p=this._head;return this._map.delete(p.key),this.removeItem(p),this._size--,p.value}forEach(p,f){const v=this._state;let d=this._head;for(;d;){if(f?p.bind(f)(d.value,d.key,this):p(d.value,d.key,this),this._state!==v)throw new Error("LinkedMap got modified during iteration.");d=d.next}}keys(){const p=this,f=this._state;let v=this._head;const d={[Symbol.iterator](){return d},next(){if(p._state!==f)throw new Error("LinkedMap got modified during iteration.");if(v){const a={value:v.key,done:!1};return v=v.next,a}else return{value:void 0,done:!0}}};return d}values(){const p=this,f=this._state;let v=this._head;const d={[Symbol.iterator](){return d},next(){if(p._state!==f)throw new Error("LinkedMap got modified during iteration.");if(v){const a={value:v.value,done:!1};return v=v.next,a}else return{value:void 0,done:!0}}};return d}entries(){const p=this,f=this._state;let v=this._head;const d={[Symbol.iterator](){return d},next(){if(p._state!==f)throw new Error("LinkedMap got modified during iteration.");if(v){const a={value:[v.key,v.value],done:!1};return v=v.next,a}else return{value:void 0,done:!0}}};return d}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(p){if(p>=this.size)return;if(p===0){this.clear();return}let f=this._head,v=this.size;for(;f&&v>p;)this._map.delete(f.key),f=f.next,v--;this._head=f,this._size=v,f&&(f.previous=void 0),this._state++}addItemFirst(p){if(!this._head&&!this._tail)this._tail=p;else if(this._head)p.next=this._head,this._head.previous=p;else throw new Error("Invalid list");this._head=p,this._state++}addItemLast(p){if(!this._head&&!this._tail)this._head=p;else if(this._tail)p.previous=this._tail,this._tail.next=p;else throw new Error("Invalid list");this._tail=p,this._state++}removeItem(p){if(p===this._head&&p===this._tail)this._head=void 0,this._tail=void 0;else if(p===this._head){if(!p.next)throw new Error("Invalid list");p.next.previous=void 0,this._head=p.next}else if(p===this._tail){if(!p.previous)throw new Error("Invalid list");p.previous.next=void 0,this._tail=p.previous}else{const f=p.next,v=p.previous;if(!f||!v)throw new Error("Invalid list");f.previous=v,v.next=f}p.next=void 0,p.previous=void 0,this._state++}touch(p,f){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(f!==1&&f!==2)){if(f===1){if(p===this._head)return;const v=p.next,d=p.previous;p===this._tail?(d.next=void 0,this._tail=d):(v.previous=d,d.next=v),p.previous=void 0,p.next=this._head,this._head.previous=p,this._head=p,this._state++}else if(f===2){if(p===this._tail)return;const v=p.next,d=p.previous;p===this._head?(v.previous=void 0,this._head=v):(v.previous=d,d.next=v),p.next=void 0,p.previous=this._tail,this._tail.next=p,this._tail=p,this._state++}}}toJSON(){const p=[];return this.forEach((f,v)=>{p.push([v,f])}),p}fromJSON(p){this.clear();for(const[f,v]of p)this.set(f,v)}}class y extends m{constructor(p,f=1){super(),this._limit=p,this._ratio=Math.min(Math.max(0,f),1)}get limit(){return this._limit}set limit(p){this._limit=p,this.checkTrim()}get(p,f=2){return super.get(p,f)}peek(p){return super.get(p,0)}set(p,f){return super.set(p,f,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},33720:function(Ct,we,t){"use strict";t.d(we,{Qc:function(){return l},Th:function(){return w}}),Ct=t.hmd(Ct);let h;(function(){function m(y){h=y()}m.amd=!0,function(y,n){typeof exports=="object"?Ct.exports=n():typeof m=="function"&&m.amd?m(n):(y=typeof globalThis!="undefined"?globalThis:y||self,y.marked=n())}(this,function(){"use strict";function y(pt,ut){for(var tt=0;tt<ut.length;tt++){var de=ut[tt];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(pt,de.key,de)}}function n(pt,ut,tt){return ut&&y(pt.prototype,ut),tt&&y(pt,tt),pt}function p(pt,ut){if(pt){if(typeof pt=="string")return f(pt,ut);var tt=Object.prototype.toString.call(pt).slice(8,-1);if(tt==="Object"&&pt.constructor&&(tt=pt.constructor.name),tt==="Map"||tt==="Set")return Array.from(pt);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return f(pt,ut)}}function f(pt,ut){(ut==null||ut>pt.length)&&(ut=pt.length);for(var tt=0,de=new Array(ut);tt<ut;tt++)de[tt]=pt[tt];return de}function v(pt,ut){var tt=typeof Symbol!="undefined"&&pt[Symbol.iterator]||pt["@@iterator"];if(tt)return(tt=tt.call(pt)).next.bind(tt);if(Array.isArray(pt)||(tt=p(pt))||ut&&pt&&typeof pt.length=="number"){tt&&(pt=tt);var de=0;return function(){return de>=pt.length?{done:!0}:{done:!1,value:pt[de++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d={exports:{}};function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function u(pt){d.exports.defaults=pt}d.exports={defaults:a(),getDefaults:a,changeDefaults:u};var c=/[&<>"']/,b=/[&<>"']/g,L=/[<>"']|&(?!#?\w+;)/,R=/[<>"']|&(?!#?\w+;)/g,T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},j=function(ut){return T[ut]};function q(pt,ut){if(ut){if(c.test(pt))return pt.replace(b,j)}else if(L.test(pt))return pt.replace(R,j);return pt}var ie=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ne(pt){return pt.replace(ie,function(ut,tt){return tt=tt.toLowerCase(),tt==="colon"?":":tt.charAt(0)==="#"?tt.charAt(1)==="x"?String.fromCharCode(parseInt(tt.substring(2),16)):String.fromCharCode(+tt.substring(1)):""})}var he=/(^|[^\[])\^/g;function $(pt,ut){pt=pt.source||pt,ut=ut||"";var tt={replace:function(be,J){return J=J.source||J,J=J.replace(he,"$1"),pt=pt.replace(be,J),tt},getRegex:function(){return new RegExp(pt,ut)}};return tt}var V=/[^\w:]/g,z=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Q(pt,ut,tt){if(pt){var de;try{de=decodeURIComponent(ne(tt)).replace(V,"").toLowerCase()}catch(be){return null}if(de.indexOf("javascript:")===0||de.indexOf("vbscript:")===0||de.indexOf("data:")===0)return null}ut&&!z.test(tt)&&(tt=H(ut,tt));try{tt=encodeURI(tt).replace(/%25/g,"%")}catch(be){return null}return tt}var le={},E=/^[^:]+:\/*[^/]*$/,I=/^([^:]+:)[\s\S]*$/,A=/^([^:]+:\/*[^/]*)[\s\S]*$/;function H(pt,ut){le[" "+pt]||(E.test(pt)?le[" "+pt]=pt+"/":le[" "+pt]=fe(pt,"/",!0)),pt=le[" "+pt];var tt=pt.indexOf(":")===-1;return ut.substring(0,2)==="//"?tt?ut:pt.replace(I,"$1")+ut:ut.charAt(0)==="/"?tt?ut:pt.replace(A,"$1")+ut:pt+ut}var Y={exec:function(){}};function X(pt){for(var ut=1,tt,de;ut<arguments.length;ut++){tt=arguments[ut];for(de in tt)Object.prototype.hasOwnProperty.call(tt,de)&&(pt[de]=tt[de])}return pt}function re(pt,ut){var tt=pt.replace(/\|/g,function(J,pe,ke){for(var at=!1,st=pe;--st>=0&&ke[st]==="\\";)at=!at;return at?"|":" |"}),de=tt.split(/ \|/),be=0;if(de[0].trim()||de.shift(),de[de.length-1].trim()||de.pop(),de.length>ut)de.splice(ut);else for(;de.length<ut;)de.push("");for(;be<de.length;be++)de[be]=de[be].trim().replace(/\\\|/g,"|");return de}function fe(pt,ut,tt){var de=pt.length;if(de===0)return"";for(var be=0;be<de;){var J=pt.charAt(de-be-1);if(J===ut&&!tt)be++;else if(J!==ut&&tt)be++;else break}return pt.substr(0,de-be)}function ue(pt,ut){if(pt.indexOf(ut[1])===-1)return-1;for(var tt=pt.length,de=0,be=0;be<tt;be++)if(pt[be]==="\\")be++;else if(pt[be]===ut[0])de++;else if(pt[be]===ut[1]&&(de--,de<0))return be;return-1}function Oe(pt){pt&&pt.sanitize&&!pt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ce(pt,ut){if(ut<1)return"";for(var tt="";ut>1;)ut&1&&(tt+=pt),ut>>=1,pt+=pt;return tt+pt}var oe={escape:q,unescape:ne,edit:$,cleanUrl:Q,resolveUrl:H,noopTest:Y,merge:X,splitCells:re,rtrim:fe,findClosingBracket:ue,checkSanitizeDeprecation:Oe,repeatString:Ce},ae=d.exports.defaults,Be=oe.rtrim,Ve=oe.splitCells,se=oe.escape,ce=oe.findClosingBracket;function Te(pt,ut,tt,de){var be=ut.href,J=ut.title?se(ut.title):null,pe=pt[1].replace(/\\([\[\]])/g,"$1");if(pt[0].charAt(0)!=="!"){de.state.inLink=!0;var ke={type:"link",raw:tt,href:be,title:J,text:pe,tokens:de.inlineTokens(pe,[])};return de.state.inLink=!1,ke}else return{type:"image",raw:tt,href:be,title:J,text:se(pe)}}function xe(pt,ut){var tt=pt.match(/^(\s+)(?:```)/);if(tt===null)return ut;var de=tt[1];return ut.split(`
`).map(function(be){var J=be.match(/^\s+/);if(J===null)return be;var pe=J[0];return pe.length>=de.length?be.slice(de.length):be}).join(`
`)}var Fe=function(){function pt(tt){this.options=tt||ae}var ut=pt.prototype;return ut.space=function(de){var be=this.rules.block.newline.exec(de);if(be)return be[0].length>1?{type:"space",raw:be[0]}:{raw:`
`}},ut.code=function(de){var be=this.rules.block.code.exec(de);if(be){var J=be[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:be[0],codeBlockStyle:"indented",text:this.options.pedantic?J:Be(J,`
`)}}},ut.fences=function(de){var be=this.rules.block.fences.exec(de);if(be){var J=be[0],pe=xe(J,be[3]||"");return{type:"code",raw:J,lang:be[2]?be[2].trim():be[2],text:pe}}},ut.heading=function(de){var be=this.rules.block.heading.exec(de);if(be){var J=be[2].trim();if(/#$/.test(J)){var pe=Be(J,"#");(this.options.pedantic||!pe||/ $/.test(pe))&&(J=pe.trim())}var ke={type:"heading",raw:be[0],depth:be[1].length,text:J,tokens:[]};return this.lexer.inline(ke.text,ke.tokens),ke}},ut.hr=function(de){var be=this.rules.block.hr.exec(de);if(be)return{type:"hr",raw:be[0]}},ut.blockquote=function(de){var be=this.rules.block.blockquote.exec(de);if(be){var J=be[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:be[0],tokens:this.lexer.blockTokens(J,[]),text:J}}},ut.list=function(de){var be=this.rules.block.list.exec(de);if(be){var J,pe,ke,at,st,_t,Et,Wt,Mt,Jt,jt=be[1].trim(),ui=jt.length>1,_i={type:"list",raw:"",ordered:ui,start:ui?+jt.slice(0,-1):"",loose:!1,items:[]};jt=ui?"\\d{1,9}\\"+jt.slice(-1):"\\"+jt,this.options.pedantic&&(jt=ui?jt:"[*+-]");for(var bi=new RegExp("^( {0,3}"+jt+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");de&&!(this.rules.block.hr.test(de)||!(be=bi.exec(de)));){Mt=be[2].split(`
`),this.options.pedantic?(at=2,Jt=Mt[0].trimLeft()):(at=be[2].search(/[^ ]/),at=be[1].length+(at>4?1:at),Jt=Mt[0].slice(at-be[1].length)),_t=!1,J=be[0],!Mt[0]&&/^ *$/.test(Mt[1])&&(J=be[1]+Mt.slice(0,2).join(`
`)+`
`,_i.loose=!0,Mt=[]);var Ai=new RegExp("^ {0,"+Math.min(3,at-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(st=1;st<Mt.length;st++){if(Wt=Mt[st],this.options.pedantic&&(Wt=Wt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Ai.test(Wt)){J=be[1]+Mt.slice(0,st).join(`
`)+`
`;break}if(!_t){Wt.trim()||(_t=!0),Wt.search(/[^ ]/)>=at?Jt+=`
`+Wt.slice(at):Jt+=`
`+Wt;continue}if(Wt.search(/[^ ]/)>=at||!Wt.trim()){Jt+=`
`+Wt.slice(at);continue}else{J=be[1]+Mt.slice(0,st).join(`
`)+`
`;break}}_i.loose||(Et?_i.loose=!0:/\n *\n *$/.test(J)&&(Et=!0)),this.options.gfm&&(pe=/^\[[ xX]\] /.exec(Jt),pe&&(ke=pe[0]!=="[ ] ",Jt=Jt.replace(/^\[[ xX]\] +/,""))),_i.items.push({type:"list_item",raw:J,task:!!pe,checked:ke,loose:!1,text:Jt}),_i.raw+=J,de=de.slice(J.length)}_i.items[_i.items.length-1].raw=J.trimRight(),_i.items[_i.items.length-1].text=Jt.trimRight(),_i.raw=_i.raw.trimRight();var Ri=_i.items.length;for(st=0;st<Ri;st++)this.lexer.state.top=!1,_i.items[st].tokens=this.lexer.blockTokens(_i.items[st].text,[]),_i.items[st].tokens.some(function(zi){return zi.type==="space"})&&(_i.loose=!0,_i.items[st].loose=!0);return _i}},ut.html=function(de){var be=this.rules.block.html.exec(de);if(be){var J={type:"html",raw:be[0],pre:!this.options.sanitizer&&(be[1]==="pre"||be[1]==="script"||be[1]==="style"),text:be[0]};return this.options.sanitize&&(J.type="paragraph",J.text=this.options.sanitizer?this.options.sanitizer(be[0]):se(be[0]),J.tokens=[],this.lexer.inline(J.text,J.tokens)),J}},ut.def=function(de){var be=this.rules.block.def.exec(de);if(be){be[3]&&(be[3]=be[3].substring(1,be[3].length-1));var J=be[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:J,raw:be[0],href:be[2],title:be[3]}}},ut.table=function(de){var be=this.rules.block.table.exec(de);if(be){var J={type:"table",header:Ve(be[1]).map(function(Et){return{text:Et}}),align:be[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:be[3]?be[3].replace(/\n$/,"").split(`
`):[]};if(J.header.length===J.align.length){J.raw=be[0];var pe=J.align.length,ke,at,st,_t;for(ke=0;ke<pe;ke++)/^ *-+: *$/.test(J.align[ke])?J.align[ke]="right":/^ *:-+: *$/.test(J.align[ke])?J.align[ke]="center":/^ *:-+ *$/.test(J.align[ke])?J.align[ke]="left":J.align[ke]=null;for(pe=J.rows.length,ke=0;ke<pe;ke++)J.rows[ke]=Ve(J.rows[ke],J.header.length).map(function(Et){return{text:Et}});for(pe=J.header.length,at=0;at<pe;at++)J.header[at].tokens=[],this.lexer.inlineTokens(J.header[at].text,J.header[at].tokens);for(pe=J.rows.length,at=0;at<pe;at++)for(_t=J.rows[at],st=0;st<_t.length;st++)_t[st].tokens=[],this.lexer.inlineTokens(_t[st].text,_t[st].tokens);return J}}},ut.lheading=function(de){var be=this.rules.block.lheading.exec(de);if(be){var J={type:"heading",raw:be[0],depth:be[2].charAt(0)==="="?1:2,text:be[1],tokens:[]};return this.lexer.inline(J.text,J.tokens),J}},ut.paragraph=function(de){var be=this.rules.block.paragraph.exec(de);if(be){var J={type:"paragraph",raw:be[0],text:be[1].charAt(be[1].length-1)===`
`?be[1].slice(0,-1):be[1],tokens:[]};return this.lexer.inline(J.text,J.tokens),J}},ut.text=function(de){var be=this.rules.block.text.exec(de);if(be){var J={type:"text",raw:be[0],text:be[0],tokens:[]};return this.lexer.inline(J.text,J.tokens),J}},ut.escape=function(de){var be=this.rules.inline.escape.exec(de);if(be)return{type:"escape",raw:be[0],text:se(be[1])}},ut.tag=function(de){var be=this.rules.inline.tag.exec(de);if(be)return!this.lexer.state.inLink&&/^<a /i.test(be[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(be[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(be[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(be[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:be[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(be[0]):se(be[0]):be[0]}},ut.link=function(de){var be=this.rules.inline.link.exec(de);if(be){var J=be[2].trim();if(!this.options.pedantic&&/^</.test(J)){if(!/>$/.test(J))return;var pe=Be(J.slice(0,-1),"\\");if((J.length-pe.length)%2===0)return}else{var ke=ce(be[2],"()");if(ke>-1){var at=be[0].indexOf("!")===0?5:4,st=at+be[1].length+ke;be[2]=be[2].substring(0,ke),be[0]=be[0].substring(0,st).trim(),be[3]=""}}var _t=be[2],Et="";if(this.options.pedantic){var Wt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(_t);Wt&&(_t=Wt[1],Et=Wt[3])}else Et=be[3]?be[3].slice(1,-1):"";return _t=_t.trim(),/^</.test(_t)&&(this.options.pedantic&&!/>$/.test(J)?_t=_t.slice(1):_t=_t.slice(1,-1)),Te(be,{href:_t&&_t.replace(this.rules.inline._escapes,"$1"),title:Et&&Et.replace(this.rules.inline._escapes,"$1")},be[0],this.lexer)}},ut.reflink=function(de,be){var J;if((J=this.rules.inline.reflink.exec(de))||(J=this.rules.inline.nolink.exec(de))){var pe=(J[2]||J[1]).replace(/\s+/g," ");if(pe=be[pe.toLowerCase()],!pe||!pe.href){var ke=J[0].charAt(0);return{type:"text",raw:ke,text:ke}}return Te(J,pe,J[0],this.lexer)}},ut.emStrong=function(de,be,J){J===void 0&&(J="");var pe=this.rules.inline.emStrong.lDelim.exec(de);if(pe&&!(pe[3]&&J.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ke=pe[1]||pe[2]||"";if(!ke||ke&&(J===""||this.rules.inline.punctuation.exec(J))){var at=pe[0].length-1,st,_t,Et=at,Wt=0,Mt=pe[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Mt.lastIndex=0,be=be.slice(-1*de.length+at);(pe=Mt.exec(be))!=null;)if(st=pe[1]||pe[2]||pe[3]||pe[4]||pe[5]||pe[6],!!st){if(_t=st.length,pe[3]||pe[4]){Et+=_t;continue}else if((pe[5]||pe[6])&&at%3&&!((at+_t)%3)){Wt+=_t;continue}if(Et-=_t,!(Et>0)){if(_t=Math.min(_t,_t+Et+Wt),Math.min(at,_t)%2){var Jt=de.slice(1,at+pe.index+_t);return{type:"em",raw:de.slice(0,at+pe.index+_t+1),text:Jt,tokens:this.lexer.inlineTokens(Jt,[])}}var jt=de.slice(2,at+pe.index+_t-1);return{type:"strong",raw:de.slice(0,at+pe.index+_t+1),text:jt,tokens:this.lexer.inlineTokens(jt,[])}}}}}},ut.codespan=function(de){var be=this.rules.inline.code.exec(de);if(be){var J=be[2].replace(/\n/g," "),pe=/[^ ]/.test(J),ke=/^ /.test(J)&&/ $/.test(J);return pe&&ke&&(J=J.substring(1,J.length-1)),J=se(J,!0),{type:"codespan",raw:be[0],text:J}}},ut.br=function(de){var be=this.rules.inline.br.exec(de);if(be)return{type:"br",raw:be[0]}},ut.del=function(de){var be=this.rules.inline.del.exec(de);if(be)return{type:"del",raw:be[0],text:be[2],tokens:this.lexer.inlineTokens(be[2],[])}},ut.autolink=function(de,be){var J=this.rules.inline.autolink.exec(de);if(J){var pe,ke;return J[2]==="@"?(pe=se(this.options.mangle?be(J[1]):J[1]),ke="mailto:"+pe):(pe=se(J[1]),ke=pe),{type:"link",raw:J[0],text:pe,href:ke,tokens:[{type:"text",raw:pe,text:pe}]}}},ut.url=function(de,be){var J;if(J=this.rules.inline.url.exec(de)){var pe,ke;if(J[2]==="@")pe=se(this.options.mangle?be(J[0]):J[0]),ke="mailto:"+pe;else{var at;do at=J[0],J[0]=this.rules.inline._backpedal.exec(J[0])[0];while(at!==J[0]);pe=se(J[0]),J[1]==="www."?ke="http://"+pe:ke=pe}return{type:"link",raw:J[0],text:pe,href:ke,tokens:[{type:"text",raw:pe,text:pe}]}}},ut.inlineText=function(de,be){var J=this.rules.inline.text.exec(de);if(J){var pe;return this.lexer.state.inRawBlock?pe=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(J[0]):se(J[0]):J[0]:pe=se(this.options.smartypants?be(J[0]):J[0]),{type:"text",raw:J[0],text:pe}}},pt}(),Le=oe.noopTest,Me=oe.edit,Se=oe.merge,ze={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Le,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};ze._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,ze._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ze.def=Me(ze.def).replace("label",ze._label).replace("title",ze._title).getRegex(),ze.bullet=/(?:[*+-]|\d{1,9}[.)])/,ze.listItemStart=Me(/^( *)(bull) */).replace("bull",ze.bullet).getRegex(),ze.list=Me(ze.list).replace(/bull/g,ze.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ze.def.source+")").getRegex(),ze._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ze._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ze.html=Me(ze.html,"i").replace("comment",ze._comment).replace("tag",ze._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ze.paragraph=Me(ze._paragraph).replace("hr",ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ze._tag).getRegex(),ze.blockquote=Me(ze.blockquote).replace("paragraph",ze.paragraph).getRegex(),ze.normal=Se({},ze),ze.gfm=Se({},ze.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)\\|?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ze.gfm.table=Me(ze.gfm.table).replace("hr",ze.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ze._tag).getRegex(),ze.pedantic=Se({},ze.normal,{html:Me(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ze._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Le,paragraph:Me(ze.normal._paragraph).replace("hr",ze.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ze.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Ye={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Le,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Le,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ye._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ye.punctuation=Me(Ye.punctuation).replace(/punctuation/g,Ye._punctuation).getRegex(),Ye.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ye.escapedEmSt=/\\\*|\\_/g,Ye._comment=Me(ze._comment).replace("(?:-->|$)","-->").getRegex(),Ye.emStrong.lDelim=Me(Ye.emStrong.lDelim).replace(/punct/g,Ye._punctuation).getRegex(),Ye.emStrong.rDelimAst=Me(Ye.emStrong.rDelimAst,"g").replace(/punct/g,Ye._punctuation).getRegex(),Ye.emStrong.rDelimUnd=Me(Ye.emStrong.rDelimUnd,"g").replace(/punct/g,Ye._punctuation).getRegex(),Ye._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ye._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ye._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ye.autolink=Me(Ye.autolink).replace("scheme",Ye._scheme).replace("email",Ye._email).getRegex(),Ye._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ye.tag=Me(Ye.tag).replace("comment",Ye._comment).replace("attribute",Ye._attribute).getRegex(),Ye._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ye._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ye._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ye.link=Me(Ye.link).replace("label",Ye._label).replace("href",Ye._href).replace("title",Ye._title).getRegex(),Ye.reflink=Me(Ye.reflink).replace("label",Ye._label).getRegex(),Ye.reflinkSearch=Me(Ye.reflinkSearch,"g").replace("reflink",Ye.reflink).replace("nolink",Ye.nolink).getRegex(),Ye.normal=Se({},Ye),Ye.pedantic=Se({},Ye.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Me(/^!?\[(label)\]\((.*?)\)/).replace("label",Ye._label).getRegex(),reflink:Me(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ye._label).getRegex()}),Ye.gfm=Se({},Ye.normal,{escape:Me(Ye.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ye.gfm.url=Me(Ye.gfm.url,"i").replace("email",Ye.gfm._extended_email).getRegex(),Ye.breaks=Se({},Ye.gfm,{br:Me(Ye.br).replace("{2,}","*").getRegex(),text:Me(Ye.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var qe={block:ze,inline:Ye},ht=Fe,kt=d.exports.defaults,zt=qe.block,Ke=qe.inline,Je=oe.repeatString;function Ze(pt){return pt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Ae(pt){var ut="",tt,de,be=pt.length;for(tt=0;tt<be;tt++)de=pt.charCodeAt(tt),Math.random()>.5&&(de="x"+de.toString(16)),ut+="&#"+de+";";return ut}var He=function(){function pt(tt){this.tokens=[],this.tokens.links=Object.create(null),this.options=tt||kt,this.options.tokenizer=this.options.tokenizer||new ht,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var de={block:zt.normal,inline:Ke.normal};this.options.pedantic?(de.block=zt.pedantic,de.inline=Ke.pedantic):this.options.gfm&&(de.block=zt.gfm,this.options.breaks?de.inline=Ke.breaks:de.inline=Ke.gfm),this.tokenizer.rules=de}pt.lex=function(de,be){var J=new pt(be);return J.lex(de)},pt.lexInline=function(de,be){var J=new pt(be);return J.inlineTokens(de)};var ut=pt.prototype;return ut.lex=function(de){de=de.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(de,this.tokens);for(var be;be=this.inlineQueue.shift();)this.inlineTokens(be.src,be.tokens);return this.tokens},ut.blockTokens=function(de,be){var J=this;be===void 0&&(be=[]),this.options.pedantic&&(de=de.replace(/^ +$/gm,""));for(var pe,ke,at,st;de;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Et){return(pe=Et.call({lexer:J},de,be))?(de=de.substring(pe.raw.length),be.push(pe),!0):!1}))){if(pe=this.tokenizer.space(de)){de=de.substring(pe.raw.length),pe.type&&be.push(pe);continue}if(pe=this.tokenizer.code(de)){de=de.substring(pe.raw.length),ke=be[be.length-1],ke&&(ke.type==="paragraph"||ke.type==="text")?(ke.raw+=`
`+pe.raw,ke.text+=`
`+pe.text,this.inlineQueue[this.inlineQueue.length-1].src=ke.text):be.push(pe);continue}if(pe=this.tokenizer.fences(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.heading(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.hr(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.blockquote(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.list(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.html(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.def(de)){de=de.substring(pe.raw.length),ke=be[be.length-1],ke&&(ke.type==="paragraph"||ke.type==="text")?(ke.raw+=`
`+pe.raw,ke.text+=`
`+pe.raw,this.inlineQueue[this.inlineQueue.length-1].src=ke.text):this.tokens.links[pe.tag]||(this.tokens.links[pe.tag]={href:pe.href,title:pe.title});continue}if(pe=this.tokenizer.table(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.lheading(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(at=de,this.options.extensions&&this.options.extensions.startBlock&&function(){var Et=1/0,Wt=de.slice(1),Mt=void 0;J.options.extensions.startBlock.forEach(function(Jt){Mt=Jt.call({lexer:this},Wt),typeof Mt=="number"&&Mt>=0&&(Et=Math.min(Et,Mt))}),Et<1/0&&Et>=0&&(at=de.substring(0,Et+1))}(),this.state.top&&(pe=this.tokenizer.paragraph(at))){ke=be[be.length-1],st&&ke.type==="paragraph"?(ke.raw+=`
`+pe.raw,ke.text+=`
`+pe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ke.text):be.push(pe),st=at.length!==de.length,de=de.substring(pe.raw.length);continue}if(pe=this.tokenizer.text(de)){de=de.substring(pe.raw.length),ke=be[be.length-1],ke&&ke.type==="text"?(ke.raw+=`
`+pe.raw,ke.text+=`
`+pe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ke.text):be.push(pe);continue}if(de){var _t="Infinite loop on byte: "+de.charCodeAt(0);if(this.options.silent){console.error(_t);break}else throw new Error(_t)}}return this.state.top=!0,be},ut.inline=function(de,be){this.inlineQueue.push({src:de,tokens:be})},ut.inlineTokens=function(de,be){var J=this;be===void 0&&(be=[]);var pe,ke,at,st=de,_t,Et,Wt;if(this.tokens.links){var Mt=Object.keys(this.tokens.links);if(Mt.length>0)for(;(_t=this.tokenizer.rules.inline.reflinkSearch.exec(st))!=null;)Mt.includes(_t[0].slice(_t[0].lastIndexOf("[")+1,-1))&&(st=st.slice(0,_t.index)+"["+Je("a",_t[0].length-2)+"]"+st.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(_t=this.tokenizer.rules.inline.blockSkip.exec(st))!=null;)st=st.slice(0,_t.index)+"["+Je("a",_t[0].length-2)+"]"+st.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(_t=this.tokenizer.rules.inline.escapedEmSt.exec(st))!=null;)st=st.slice(0,_t.index)+"++"+st.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;de;)if(Et||(Wt=""),Et=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(jt){return(pe=jt.call({lexer:J},de,be))?(de=de.substring(pe.raw.length),be.push(pe),!0):!1}))){if(pe=this.tokenizer.escape(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.tag(de)){de=de.substring(pe.raw.length),ke=be[be.length-1],ke&&pe.type==="text"&&ke.type==="text"?(ke.raw+=pe.raw,ke.text+=pe.text):be.push(pe);continue}if(pe=this.tokenizer.link(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.reflink(de,this.tokens.links)){de=de.substring(pe.raw.length),ke=be[be.length-1],ke&&pe.type==="text"&&ke.type==="text"?(ke.raw+=pe.raw,ke.text+=pe.text):be.push(pe);continue}if(pe=this.tokenizer.emStrong(de,st,Wt)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.codespan(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.br(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.del(de)){de=de.substring(pe.raw.length),be.push(pe);continue}if(pe=this.tokenizer.autolink(de,Ae)){de=de.substring(pe.raw.length),be.push(pe);continue}if(!this.state.inLink&&(pe=this.tokenizer.url(de,Ae))){de=de.substring(pe.raw.length),be.push(pe);continue}if(at=de,this.options.extensions&&this.options.extensions.startInline&&function(){var jt=1/0,ui=de.slice(1),_i=void 0;J.options.extensions.startInline.forEach(function(bi){_i=bi.call({lexer:this},ui),typeof _i=="number"&&_i>=0&&(jt=Math.min(jt,_i))}),jt<1/0&&jt>=0&&(at=de.substring(0,jt+1))}(),pe=this.tokenizer.inlineText(at,Ze)){de=de.substring(pe.raw.length),pe.raw.slice(-1)!=="_"&&(Wt=pe.raw.slice(-1)),Et=!0,ke=be[be.length-1],ke&&ke.type==="text"?(ke.raw+=pe.raw,ke.text+=pe.text):be.push(pe);continue}if(de){var Jt="Infinite loop on byte: "+de.charCodeAt(0);if(this.options.silent){console.error(Jt);break}else throw new Error(Jt)}}return be},n(pt,null,[{key:"rules",get:function(){return{block:zt,inline:Ke}}}]),pt}(),It=d.exports.defaults,Bt=oe.cleanUrl,oi=oe.escape,ni=function(){function pt(tt){this.options=tt||It}var ut=pt.prototype;return ut.code=function(de,be,J){var pe=(be||"").match(/\S*/)[0];if(this.options.highlight){var ke=this.options.highlight(de,pe);ke!=null&&ke!==de&&(J=!0,de=ke)}return de=de.replace(/\n$/,"")+`
`,pe?'<pre><code class="'+this.options.langPrefix+oi(pe,!0)+'">'+(J?de:oi(de,!0))+`</code></pre>
`:"<pre><code>"+(J?de:oi(de,!0))+`</code></pre>
`},ut.blockquote=function(de){return`<blockquote>
`+de+`</blockquote>
`},ut.html=function(de){return de},ut.heading=function(de,be,J,pe){return this.options.headerIds?"<h"+be+' id="'+this.options.headerPrefix+pe.slug(J)+'">'+de+"</h"+be+`>
`:"<h"+be+">"+de+"</h"+be+`>
`},ut.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ut.list=function(de,be,J){var pe=be?"ol":"ul",ke=be&&J!==1?' start="'+J+'"':"";return"<"+pe+ke+`>
`+de+"</"+pe+`>
`},ut.listitem=function(de){return"<li>"+de+`</li>
`},ut.checkbox=function(de){return"<input "+(de?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ut.paragraph=function(de){return"<p>"+de+`</p>
`},ut.table=function(de,be){return be&&(be="<tbody>"+be+"</tbody>"),`<table>
<thead>
`+de+`</thead>
`+be+`</table>
`},ut.tablerow=function(de){return`<tr>
`+de+`</tr>
`},ut.tablecell=function(de,be){var J=be.header?"th":"td",pe=be.align?"<"+J+' align="'+be.align+'">':"<"+J+">";return pe+de+"</"+J+`>
`},ut.strong=function(de){return"<strong>"+de+"</strong>"},ut.em=function(de){return"<em>"+de+"</em>"},ut.codespan=function(de){return"<code>"+de+"</code>"},ut.br=function(){return this.options.xhtml?"<br/>":"<br>"},ut.del=function(de){return"<del>"+de+"</del>"},ut.link=function(de,be,J){if(de=Bt(this.options.sanitize,this.options.baseUrl,de),de===null)return J;var pe='<a href="'+oi(de)+'"';return be&&(pe+=' title="'+be+'"'),pe+=">"+J+"</a>",pe},ut.image=function(de,be,J){if(de=Bt(this.options.sanitize,this.options.baseUrl,de),de===null)return J;var pe='<img src="'+de+'" alt="'+J+'"';return be&&(pe+=' title="'+be+'"'),pe+=this.options.xhtml?"/>":">",pe},ut.text=function(de){return de},pt}(),hi=function(){function pt(){}var ut=pt.prototype;return ut.strong=function(de){return de},ut.em=function(de){return de},ut.codespan=function(de){return de},ut.del=function(de){return de},ut.html=function(de){return de},ut.text=function(de){return de},ut.link=function(de,be,J){return""+J},ut.image=function(de,be,J){return""+J},ut.br=function(){return""},pt}(),Di=function(){function pt(){this.seen={}}var ut=pt.prototype;return ut.serialize=function(de){return de.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ut.getNextSafeSlug=function(de,be){var J=de,pe=0;if(this.seen.hasOwnProperty(J)){pe=this.seen[de];do pe++,J=de+"-"+pe;while(this.seen.hasOwnProperty(J))}return be||(this.seen[de]=pe,this.seen[J]=0),J},ut.slug=function(de,be){be===void 0&&(be={});var J=this.serialize(de);return this.getNextSafeSlug(J,be.dryrun)},pt}(),Ti=ni,Ii=hi,ai=Di,Pt=d.exports.defaults,Gt=oe.unescape,ot=function(){function pt(tt){this.options=tt||Pt,this.options.renderer=this.options.renderer||new Ti,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ii,this.slugger=new ai}pt.parse=function(de,be){var J=new pt(be);return J.parse(de)},pt.parseInline=function(de,be){var J=new pt(be);return J.parseInline(de)};var ut=pt.prototype;return ut.parse=function(de,be){be===void 0&&(be=!0);var J="",pe,ke,at,st,_t,Et,Wt,Mt,Jt,jt,ui,_i,bi,Ai,Ri,zi,hn,bn,Xi,xn=de.length;for(pe=0;pe<xn;pe++){if(jt=de[pe],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[jt.type]&&(Xi=this.options.extensions.renderers[jt.type].call({parser:this},jt),Xi!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(jt.type))){J+=Xi||"";continue}switch(jt.type){case"space":continue;case"hr":{J+=this.renderer.hr();continue}case"heading":{J+=this.renderer.heading(this.parseInline(jt.tokens),jt.depth,Gt(this.parseInline(jt.tokens,this.textRenderer)),this.slugger);continue}case"code":{J+=this.renderer.code(jt.text,jt.lang,jt.escaped);continue}case"table":{for(Mt="",Wt="",st=jt.header.length,ke=0;ke<st;ke++)Wt+=this.renderer.tablecell(this.parseInline(jt.header[ke].tokens),{header:!0,align:jt.align[ke]});for(Mt+=this.renderer.tablerow(Wt),Jt="",st=jt.rows.length,ke=0;ke<st;ke++){for(Et=jt.rows[ke],Wt="",_t=Et.length,at=0;at<_t;at++)Wt+=this.renderer.tablecell(this.parseInline(Et[at].tokens),{header:!1,align:jt.align[at]});Jt+=this.renderer.tablerow(Wt)}J+=this.renderer.table(Mt,Jt);continue}case"blockquote":{Jt=this.parse(jt.tokens),J+=this.renderer.blockquote(Jt);continue}case"list":{for(ui=jt.ordered,_i=jt.start,bi=jt.loose,st=jt.items.length,Jt="",ke=0;ke<st;ke++)Ri=jt.items[ke],zi=Ri.checked,hn=Ri.task,Ai="",Ri.task&&(bn=this.renderer.checkbox(zi),bi?Ri.tokens.length>0&&Ri.tokens[0].type==="paragraph"?(Ri.tokens[0].text=bn+" "+Ri.tokens[0].text,Ri.tokens[0].tokens&&Ri.tokens[0].tokens.length>0&&Ri.tokens[0].tokens[0].type==="text"&&(Ri.tokens[0].tokens[0].text=bn+" "+Ri.tokens[0].tokens[0].text)):Ri.tokens.unshift({type:"text",text:bn}):Ai+=bn),Ai+=this.parse(Ri.tokens,bi),Jt+=this.renderer.listitem(Ai,hn,zi);J+=this.renderer.list(Jt,ui,_i);continue}case"html":{J+=this.renderer.html(jt.text);continue}case"paragraph":{J+=this.renderer.paragraph(this.parseInline(jt.tokens));continue}case"text":{for(Jt=jt.tokens?this.parseInline(jt.tokens):jt.text;pe+1<xn&&de[pe+1].type==="text";)jt=de[++pe],Jt+=`
`+(jt.tokens?this.parseInline(jt.tokens):jt.text);J+=be?this.renderer.paragraph(Jt):Jt;continue}default:{var Sn='Token with "'+jt.type+'" type was not found.';if(this.options.silent){console.error(Sn);return}else throw new Error(Sn)}}}return J},ut.parseInline=function(de,be){be=be||this.renderer;var J="",pe,ke,at,st=de.length;for(pe=0;pe<st;pe++){if(ke=de[pe],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ke.type]&&(at=this.options.extensions.renderers[ke.type].call({parser:this},ke),at!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ke.type))){J+=at||"";continue}switch(ke.type){case"escape":{J+=be.text(ke.text);break}case"html":{J+=be.html(ke.text);break}case"link":{J+=be.link(ke.href,ke.title,this.parseInline(ke.tokens,be));break}case"image":{J+=be.image(ke.href,ke.title,ke.text);break}case"strong":{J+=be.strong(this.parseInline(ke.tokens,be));break}case"em":{J+=be.em(this.parseInline(ke.tokens,be));break}case"codespan":{J+=be.codespan(ke.text);break}case"br":{J+=be.br();break}case"del":{J+=be.del(this.parseInline(ke.tokens,be));break}case"text":{J+=be.text(ke.text);break}default:{var _t='Token with "'+ke.type+'" type was not found.';if(this.options.silent){console.error(_t);return}else throw new Error(_t)}}}return J},pt}(),mt=He,ft=ot,Xe=Fe,Ge=ni,Ie=hi,Pe=Di,je=oe.merge,dt=oe.checkSanitizeDeprecation,Nt=oe.escape,$t=d.exports.getDefaults,Xt=d.exports.changeDefaults,Ci=d.exports.defaults;function Zt(pt,ut,tt){if(typeof pt=="undefined"||pt===null)throw new Error("marked(): input parameter is undefined or null");if(typeof pt!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(pt)+", string expected");if(typeof ut=="function"&&(tt=ut,ut=null),ut=je({},Zt.defaults,ut||{}),dt(ut),tt){var de=ut.highlight,be;try{be=mt.lex(pt,ut)}catch(at){return tt(at)}var J=function(st){var _t;if(!st)try{ut.walkTokens&&Zt.walkTokens(be,ut.walkTokens),_t=ft.parse(be,ut)}catch(Et){st=Et}return ut.highlight=de,st?tt(st):tt(null,_t)};if(!de||de.length<3||(delete ut.highlight,!be.length))return J();var pe=0;Zt.walkTokens(be,function(at){at.type==="code"&&(pe++,setTimeout(function(){de(at.text,at.lang,function(st,_t){if(st)return J(st);_t!=null&&_t!==at.text&&(at.text=_t,at.escaped=!0),pe--,pe===0&&J()})},0))}),pe===0&&J();return}try{var ke=mt.lex(pt,ut);return ut.walkTokens&&Zt.walkTokens(ke,ut.walkTokens),ft.parse(ke,ut)}catch(at){if(at.message+=`
Please report this to https://github.com/markedjs/marked.`,ut.silent)return"<p>An error occurred:</p><pre>"+Nt(at.message+"",!0)+"</pre>";throw at}}Zt.options=Zt.setOptions=function(pt){return je(Zt.defaults,pt),Xt(Zt.defaults),Zt},Zt.getDefaults=$t,Zt.defaults=Ci,Zt.use=function(){for(var pt=this,ut=arguments.length,tt=new Array(ut),de=0;de<ut;de++)tt[de]=arguments[de];var be=je.apply(void 0,[{}].concat(tt)),J=Zt.defaults.extensions||{renderers:{},childTokens:{}},pe;tt.forEach(function(ke){if(ke.extensions&&(pe=!0,ke.extensions.forEach(function(st){if(!st.name)throw new Error("extension name required");if(st.renderer){var _t=J.renderers?J.renderers[st.name]:null;_t?J.renderers[st.name]=function(){for(var Et=arguments.length,Wt=new Array(Et),Mt=0;Mt<Et;Mt++)Wt[Mt]=arguments[Mt];var Jt=st.renderer.apply(this,Wt);return Jt===!1&&(Jt=_t.apply(this,Wt)),Jt}:J.renderers[st.name]=st.renderer}if(st.tokenizer){if(!st.level||st.level!=="block"&&st.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");J[st.level]?J[st.level].unshift(st.tokenizer):J[st.level]=[st.tokenizer],st.start&&(st.level==="block"?J.startBlock?J.startBlock.push(st.start):J.startBlock=[st.start]:st.level==="inline"&&(J.startInline?J.startInline.push(st.start):J.startInline=[st.start]))}st.childTokens&&(J.childTokens[st.name]=st.childTokens)})),ke.renderer&&function(){var st=Zt.defaults.renderer||new Ge,_t=function(Mt){var Jt=st[Mt];st[Mt]=function(){for(var jt=arguments.length,ui=new Array(jt),_i=0;_i<jt;_i++)ui[_i]=arguments[_i];var bi=ke.renderer[Mt].apply(st,ui);return bi===!1&&(bi=Jt.apply(st,ui)),bi}};for(var Et in ke.renderer)_t(Et);be.renderer=st}(),ke.tokenizer&&function(){var st=Zt.defaults.tokenizer||new Xe,_t=function(Mt){var Jt=st[Mt];st[Mt]=function(){for(var jt=arguments.length,ui=new Array(jt),_i=0;_i<jt;_i++)ui[_i]=arguments[_i];var bi=ke.tokenizer[Mt].apply(st,ui);return bi===!1&&(bi=Jt.apply(st,ui)),bi}};for(var Et in ke.tokenizer)_t(Et);be.tokenizer=st}(),ke.walkTokens){var at=Zt.defaults.walkTokens;be.walkTokens=function(st){ke.walkTokens.call(pt,st),at&&at(st)}}pe&&(be.extensions=J),Zt.setOptions(be)})},Zt.walkTokens=function(pt,ut){for(var tt=function(){var pe=be.value;switch(ut(pe),pe.type){case"table":{for(var ke=v(pe.header),at;!(at=ke()).done;){var st=at.value;Zt.walkTokens(st.tokens,ut)}for(var _t=v(pe.rows),Et;!(Et=_t()).done;)for(var Wt=Et.value,Mt=v(Wt),Jt;!(Jt=Mt()).done;){var jt=Jt.value;Zt.walkTokens(jt.tokens,ut)}break}case"list":{Zt.walkTokens(pe.items,ut);break}default:Zt.defaults.extensions&&Zt.defaults.extensions.childTokens&&Zt.defaults.extensions.childTokens[pe.type]?Zt.defaults.extensions.childTokens[pe.type].forEach(function(ui){Zt.walkTokens(pe[ui],ut)}):pe.tokens&&Zt.walkTokens(pe.tokens,ut)}},de=v(pt),be;!(be=de()).done;)tt()},Zt.parseInline=function(pt,ut){if(typeof pt=="undefined"||pt===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof pt!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(pt)+", string expected");ut=je({},Zt.defaults,ut||{}),dt(ut);try{var tt=mt.lexInline(pt,ut);return ut.walkTokens&&Zt.walkTokens(tt,ut.walkTokens),ft.parseInline(tt,ut)}catch(de){if(de.message+=`
Please report this to https://github.com/markedjs/marked.`,ut.silent)return"<p>An error occurred:</p><pre>"+Nt(de.message+"",!0)+"</pre>";throw de}},Zt.Parser=ft,Zt.parser=ft.parse,Zt.Renderer=Ge,Zt.TextRenderer=Ie,Zt.Lexer=mt,Zt.lexer=mt.lex,Zt.Tokenizer=Xe,Zt.Slugger=Pe,Zt.parse=Zt;var mi=Zt;return mi})})();var W=null,k=h.Parser,O=h.parser,w=h.Renderer,G=h.TextRenderer,x=h.Lexer,N=h.lexer,s=h.Tokenizer,C=h.Slugger,l=h.parse},23897:function(Ct,we,t){"use strict";t.d(we,{Q:function(){return k}});var h=t(53060),W=t(70666);function k(w){let G=JSON.parse(w);return G=O(G),G}function O(w,G=0){if(!w||G>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return W.o.revive(w);case 2:return new RegExp(w.source,w.flags)}if(w instanceof h.KN||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let x=0;x<w.length;++x)w[x]=O(w[x],G+1);else for(const x in w)Object.hasOwnProperty.call(w,x)&&(w[x]=O(w[x],G+1))}return w}},81170:function(Ct,we,t){"use strict";t.d(we,{G8:function(){return y},bS:function(){return m},sA:function(){return C},vW:function(){return G}});var h=t(14118),W=t(66663),k=t(55336),O=t(95935),w=t(97295),G;(function(f){f.text="text/plain",f.binary="application/octet-stream",f.unknown="application/unknown",f.markdown="text/markdown",f.latex="text/latex"})(G||(G={}));let x=[],N=[],s=[];function C(f,v=!1){const d=l(f);x.push(d),d.userConfigured?s.push(d):N.push(d),v&&!d.userConfigured&&x.forEach(a=>{a.mime===d.mime||a.userConfigured||(d.extension&&a.extension===d.extension&&console.warn(`Overwriting extension <<${d.extension}>> to now point to mime <<${d.mime}>>`),d.filename&&a.filename===d.filename&&console.warn(`Overwriting filename <<${d.filename}>> to now point to mime <<${d.mime}>>`),d.filepattern&&a.filepattern===d.filepattern&&console.warn(`Overwriting filepattern <<${d.filepattern}>> to now point to mime <<${d.mime}>>`),d.firstline&&a.firstline===d.firstline&&console.warn(`Overwriting firstline <<${d.firstline}>> to now point to mime <<${d.mime}>>`))})}function l(f){return{id:f.id,mime:f.mime,filename:f.filename,extension:f.extension,filepattern:f.filepattern,firstline:f.firstline,userConfigured:f.userConfigured,filenameLowercase:f.filename?f.filename.toLowerCase():void 0,extensionLowercase:f.extension?f.extension.toLowerCase():void 0,filepatternLowercase:f.filepattern?(0,h.Qc)(f.filepattern.toLowerCase()):void 0,filepatternOnPath:f.filepattern?f.filepattern.indexOf(k.KR.sep)>=0:!1}}function m(f){f?(x=x.filter(v=>!v.userConfigured),s=[]):(x=[],N=[],s=[])}function y(f,v){let d;if(f)switch(f.scheme){case W.lg.file:d=f.fsPath;break;case W.lg.data:d=O.Vb.parseMetaData(f).get(O.Vb.META_DATA_LABEL);break;default:d=f.path}if(!d)return[G.unknown];d=d.toLowerCase();const a=(0,k.EZ)(d),u=n(d,a,s);if(u)return[u,G.text];const c=n(d,a,N);if(c)return[c,G.text];if(v){const b=p(v);if(b)return[b,G.text]}return[G.unknown]}function n(f,v,d){var a;let u=null,c=null,b=null;for(let L=d.length-1;L>=0;L--){const R=d[L];if(v===R.filenameLowercase){u=R;break}if(R.filepattern&&(!c||R.filepattern.length>c.filepattern.length)){const T=R.filepatternOnPath?f:v;!((a=R.filepatternLowercase)===null||a===void 0)&&a.call(R,T)&&(c=R)}R.extension&&(!b||R.extension.length>b.extension.length)&&v.endsWith(R.extensionLowercase)&&(b=R)}return u?u.mime:c?c.mime:b?b.mime:null}function p(f){if((0,w.uS)(f)&&(f=f.substr(1)),f.length>0)for(let v=x.length-1;v>=0;v--){const d=x[v];if(!d.firstline)continue;const a=f.match(d.firstline);if(a&&a.length>0)return d.mime}return null}},66663:function(Ct,we,t){"use strict";t.d(we,{Gi:function(){return x},WX:function(){return w},lg:function(){return k}});var h=t(1432),W=t(70666),k;(function(N){N.inMemory="inmemory",N.vscode="vscode",N.internal="private",N.walkThrough="walkThrough",N.walkThroughSnippet="walkThroughSnippet",N.http="http",N.https="https",N.file="file",N.mailto="mailto",N.untitled="untitled",N.data="data",N.command="command",N.vscodeRemote="vscode-remote",N.vscodeRemoteResource="vscode-remote-resource",N.userData="vscode-userdata",N.vscodeCustomEditor="vscode-custom-editor",N.vscodeNotebook="vscode-notebook",N.vscodeNotebookCell="vscode-notebook-cell",N.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",N.vscodeNotebookCellOutput="vscode-notebook-cell-output",N.vscodeInteractive="vscode-interactive",N.vscodeInteractiveInput="vscode-interactive-input",N.vscodeSettings="vscode-settings",N.vscodeWorkspaceTrust="vscode-workspace-trust",N.vscodeTerminal="vscode-terminal",N.webviewPanel="webview-panel",N.vscodeWebview="vscode-webview",N.extension="extension",N.vscodeFileResource="vscode-file",N.tmp="tmp"})(k||(k={}));class O{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(s){this._preferredWebSchema=s}rewrite(s){if(this._delegate)return this._delegate(s);const C=s.authority;let l=this._hosts[C];l&&l.indexOf(":")!==-1&&(l=`[${l}]`);const m=this._ports[C],y=this._connectionTokens[C];let n=`path=${encodeURIComponent(s.path)}`;return typeof y=="string"&&(n+=`&tkn=${encodeURIComponent(y)}`),W.o.from({scheme:h.$L?this._preferredWebSchema:k.vscodeRemoteResource,authority:`${l}:${m}`,path:"/vscode-remote-resource",query:n})}}const w=new O;class G{asBrowserUri(s,C){const l=this.toUri(s,C);return l.scheme===k.vscodeRemote?w.rewrite(l):l.scheme===k.file&&(h.tY||typeof h.li.importScripts=="function"&&h.li.origin===`${k.vscodeFileResource}://${G.FALLBACK_AUTHORITY}`)?l.with({scheme:k.vscodeFileResource,authority:l.authority||G.FALLBACK_AUTHORITY,query:null,fragment:null}):l}toUri(s,C){return W.o.isUri(s)?s:W.o.parse(C.toUrl(s))}}G.FALLBACK_AUTHORITY="vscode-app";const x=new G},59870:function(Ct,we,t){"use strict";t.d(we,{n:function(){return W},u:function(){return h}});function h(k,O,w){return Math.min(Math.max(k,O),w)}class W{constructor(){this._n=1,this._val=0}update(O){return this._val=this._val+(O-this._val)/this._n,this._n+=1,this}get value(){return this._val}}},36248:function(Ct,we,t){"use strict";t.d(we,{CJ:function(){return s},I8:function(){return W},_A:function(){return k},fS:function(){return N},jB:function(){return x},rs:function(){return w}});var h=t(98401);function W(C){if(!C||typeof C!="object"||C instanceof RegExp)return C;const l=Array.isArray(C)?[]:{};return Object.keys(C).forEach(m=>{C[m]&&typeof C[m]=="object"?l[m]=W(C[m]):l[m]=C[m]}),l}function k(C){if(!C||typeof C!="object")return C;const l=[C];for(;l.length>0;){const m=l.shift();Object.freeze(m);for(const y in m)if(O.call(m,y)){const n=m[y];typeof n=="object"&&!Object.isFrozen(n)&&l.push(n)}}return C}const O=Object.prototype.hasOwnProperty;function w(C,l){return G(C,l,new Set)}function G(C,l,m){if((0,h.Jp)(C))return C;const y=l(C);if(typeof y!="undefined")return y;if((0,h.kJ)(C)){const n=[];for(const p of C)n.push(G(p,l,m));return n}if((0,h.Kn)(C)){if(m.has(C))throw new Error("Cannot clone recursive data-structure");m.add(C);const n={};for(let p in C)O.call(C,p)&&(n[p]=G(C[p],l,m));return m.delete(C),n}return C}function x(C,l,m=!0){return(0,h.Kn)(C)?((0,h.Kn)(l)&&Object.keys(l).forEach(y=>{y in C?m&&((0,h.Kn)(C[y])&&(0,h.Kn)(l[y])?x(C[y],l[y],m):C[y]=l[y]):C[y]=l[y]}),C):l}function N(C,l){if(C===l)return!0;if(C==null||l===null||l===void 0||typeof C!=typeof l||typeof C!="object"||Array.isArray(C)!==Array.isArray(l))return!1;let m,y;if(Array.isArray(C)){if(C.length!==l.length)return!1;for(m=0;m<C.length;m++)if(!N(C[m],l[m]))return!1}else{const n=[];for(y in C)n.push(y);n.sort();const p=[];for(y in l)p.push(y);if(p.sort(),!N(n,p))return!1;for(m=0;m<n.length;m++)if(!N(C[n[m]],l[n[m]]))return!1}return!0}function s(C,l,m){const y=l(C);return typeof y=="undefined"?m:y}},55336:function(Ct,we,t){"use strict";t.d(we,{EZ:function(){return ne},XX:function(){return ie},DZ:function(){return he},Fv:function(){return T},KR:function(){return R},Gf:function(){return q},DB:function(){return j},ir:function(){return $},Ku:function(){return L}});var h=t(1432),W=t(34155);let k;if(typeof h.li.vscode!="undefined"&&typeof h.li.vscode.process!="undefined"){const V=h.li.vscode.process;k={get platform(){return V.platform},get arch(){return V.arch},get env(){return V.env},cwd(){return V.cwd()},nextTick(z){return(0,h.xS)(z)}}}else typeof W!="undefined"?k={get platform(){return W.platform},get arch(){return W.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||W.cwd()},nextTick(V){return W.nextTick(V)}}:k={get platform(){return h.ED?"win32":h.dz?"darwin":"linux"},get arch(){},nextTick(V){return(0,h.xS)(V)},get env(){return{}},cwd(){return"/"}};const O=k.cwd,w=k.env,G=k.platform,x=65,N=97,s=90,C=122,l=46,m=47,y=92,n=58,p=63;class f extends Error{constructor(z,Q,le){let E;typeof Q=="string"&&Q.indexOf("not ")===0?(E="must not be",Q=Q.replace(/^not /,"")):E="must be";const I=z.indexOf(".")!==-1?"property":"argument";let A=`The "${z}" ${I} ${E} of type ${Q}`;A+=`. Received type ${typeof le}`,super(A),this.code="ERR_INVALID_ARG_TYPE"}}function v(V,z){if(typeof V!="string")throw new f(z,"string",V)}function d(V){return V===m||V===y}function a(V){return V===m}function u(V){return V>=x&&V<=s||V>=N&&V<=C}function c(V,z,Q,le){let E="",I=0,A=-1,H=0,Y=0;for(let X=0;X<=V.length;++X){if(X<V.length)Y=V.charCodeAt(X);else{if(le(Y))break;Y=m}if(le(Y)){if(!(A===X-1||H===1))if(H===2){if(E.length<2||I!==2||E.charCodeAt(E.length-1)!==l||E.charCodeAt(E.length-2)!==l){if(E.length>2){const re=E.lastIndexOf(Q);re===-1?(E="",I=0):(E=E.slice(0,re),I=E.length-1-E.lastIndexOf(Q)),A=X,H=0;continue}else if(E.length!==0){E="",I=0,A=X,H=0;continue}}z&&(E+=E.length>0?`${Q}..`:"..",I=2)}else E.length>0?E+=`${Q}${V.slice(A+1,X)}`:E=V.slice(A+1,X),I=X-A-1;A=X,H=0}else Y===l&&H!==-1?++H:H=-1}return E}function b(V,z){if(z===null||typeof z!="object")throw new f("pathObject","Object",z);const Q=z.dir||z.root,le=z.base||`${z.name||""}${z.ext||""}`;return Q?Q===z.root?`${Q}${le}`:`${Q}${V}${le}`:le}const L={resolve(...V){let z="",Q="",le=!1;for(let E=V.length-1;E>=-1;E--){let I;if(E>=0){if(I=V[E],v(I,"path"),I.length===0)continue}else z.length===0?I=O():(I={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${z}`]||O(),(I===void 0||I.slice(0,2).toLowerCase()!==z.toLowerCase()&&I.charCodeAt(2)===y)&&(I=`${z}\\`));const A=I.length;let H=0,Y="",X=!1;const re=I.charCodeAt(0);if(A===1)d(re)&&(H=1,X=!0);else if(d(re))if(X=!0,d(I.charCodeAt(1))){let fe=2,ue=fe;for(;fe<A&&!d(I.charCodeAt(fe));)fe++;if(fe<A&&fe!==ue){const Oe=I.slice(ue,fe);for(ue=fe;fe<A&&d(I.charCodeAt(fe));)fe++;if(fe<A&&fe!==ue){for(ue=fe;fe<A&&!d(I.charCodeAt(fe));)fe++;(fe===A||fe!==ue)&&(Y=`\\\\${Oe}\\${I.slice(ue,fe)}`,H=fe)}}}else H=1;else u(re)&&I.charCodeAt(1)===n&&(Y=I.slice(0,2),H=2,A>2&&d(I.charCodeAt(2))&&(X=!0,H=3));if(Y.length>0)if(z.length>0){if(Y.toLowerCase()!==z.toLowerCase())continue}else z=Y;if(le){if(z.length>0)break}else if(Q=`${I.slice(H)}\\${Q}`,le=X,X&&z.length>0)break}return Q=c(Q,!le,"\\",d),le?`${z}\\${Q}`:`${z}${Q}`||"."},normalize(V){v(V,"path");const z=V.length;if(z===0)return".";let Q=0,le,E=!1;const I=V.charCodeAt(0);if(z===1)return a(I)?"\\":V;if(d(I))if(E=!0,d(V.charCodeAt(1))){let H=2,Y=H;for(;H<z&&!d(V.charCodeAt(H));)H++;if(H<z&&H!==Y){const X=V.slice(Y,H);for(Y=H;H<z&&d(V.charCodeAt(H));)H++;if(H<z&&H!==Y){for(Y=H;H<z&&!d(V.charCodeAt(H));)H++;if(H===z)return`\\\\${X}\\${V.slice(Y)}\\`;H!==Y&&(le=`\\\\${X}\\${V.slice(Y,H)}`,Q=H)}}}else Q=1;else u(I)&&V.charCodeAt(1)===n&&(le=V.slice(0,2),Q=2,z>2&&d(V.charCodeAt(2))&&(E=!0,Q=3));let A=Q<z?c(V.slice(Q),!E,"\\",d):"";return A.length===0&&!E&&(A="."),A.length>0&&d(V.charCodeAt(z-1))&&(A+="\\"),le===void 0?E?`\\${A}`:A:E?`${le}\\${A}`:`${le}${A}`},isAbsolute(V){v(V,"path");const z=V.length;if(z===0)return!1;const Q=V.charCodeAt(0);return d(Q)||z>2&&u(Q)&&V.charCodeAt(1)===n&&d(V.charCodeAt(2))},join(...V){if(V.length===0)return".";let z,Q;for(let I=0;I<V.length;++I){const A=V[I];v(A,"path"),A.length>0&&(z===void 0?z=Q=A:z+=`\\${A}`)}if(z===void 0)return".";let le=!0,E=0;if(typeof Q=="string"&&d(Q.charCodeAt(0))){++E;const I=Q.length;I>1&&d(Q.charCodeAt(1))&&(++E,I>2&&(d(Q.charCodeAt(2))?++E:le=!1))}if(le){for(;E<z.length&&d(z.charCodeAt(E));)E++;E>=2&&(z=`\\${z.slice(E)}`)}return L.normalize(z)},relative(V,z){if(v(V,"from"),v(z,"to"),V===z)return"";const Q=L.resolve(V),le=L.resolve(z);if(Q===le||(V=Q.toLowerCase(),z=le.toLowerCase(),V===z))return"";let E=0;for(;E<V.length&&V.charCodeAt(E)===y;)E++;let I=V.length;for(;I-1>E&&V.charCodeAt(I-1)===y;)I--;const A=I-E;let H=0;for(;H<z.length&&z.charCodeAt(H)===y;)H++;let Y=z.length;for(;Y-1>H&&z.charCodeAt(Y-1)===y;)Y--;const X=Y-H,re=A<X?A:X;let fe=-1,ue=0;for(;ue<re;ue++){const Ce=V.charCodeAt(E+ue);if(Ce!==z.charCodeAt(H+ue))break;Ce===y&&(fe=ue)}if(ue!==re){if(fe===-1)return le}else{if(X>re){if(z.charCodeAt(H+ue)===y)return le.slice(H+ue+1);if(ue===2)return le.slice(H+ue)}A>re&&(V.charCodeAt(E+ue)===y?fe=ue:ue===2&&(fe=3)),fe===-1&&(fe=0)}let Oe="";for(ue=E+fe+1;ue<=I;++ue)(ue===I||V.charCodeAt(ue)===y)&&(Oe+=Oe.length===0?"..":"\\..");return H+=fe,Oe.length>0?`${Oe}${le.slice(H,Y)}`:(le.charCodeAt(H)===y&&++H,le.slice(H,Y))},toNamespacedPath(V){if(typeof V!="string")return V;if(V.length===0)return"";const z=L.resolve(V);if(z.length<=2)return V;if(z.charCodeAt(0)===y){if(z.charCodeAt(1)===y){const Q=z.charCodeAt(2);if(Q!==p&&Q!==l)return`\\\\?\\UNC\\${z.slice(2)}`}}else if(u(z.charCodeAt(0))&&z.charCodeAt(1)===n&&z.charCodeAt(2)===y)return`\\\\?\\${z}`;return V},dirname(V){v(V,"path");const z=V.length;if(z===0)return".";let Q=-1,le=0;const E=V.charCodeAt(0);if(z===1)return d(E)?V:".";if(d(E)){if(Q=le=1,d(V.charCodeAt(1))){let H=2,Y=H;for(;H<z&&!d(V.charCodeAt(H));)H++;if(H<z&&H!==Y){for(Y=H;H<z&&d(V.charCodeAt(H));)H++;if(H<z&&H!==Y){for(Y=H;H<z&&!d(V.charCodeAt(H));)H++;if(H===z)return V;H!==Y&&(Q=le=H+1)}}}}else u(E)&&V.charCodeAt(1)===n&&(Q=z>2&&d(V.charCodeAt(2))?3:2,le=Q);let I=-1,A=!0;for(let H=z-1;H>=le;--H)if(d(V.charCodeAt(H))){if(!A){I=H;break}}else A=!1;if(I===-1){if(Q===-1)return".";I=Q}return V.slice(0,I)},basename(V,z){z!==void 0&&v(z,"ext"),v(V,"path");let Q=0,le=-1,E=!0,I;if(V.length>=2&&u(V.charCodeAt(0))&&V.charCodeAt(1)===n&&(Q=2),z!==void 0&&z.length>0&&z.length<=V.length){if(z===V)return"";let A=z.length-1,H=-1;for(I=V.length-1;I>=Q;--I){const Y=V.charCodeAt(I);if(d(Y)){if(!E){Q=I+1;break}}else H===-1&&(E=!1,H=I+1),A>=0&&(Y===z.charCodeAt(A)?--A===-1&&(le=I):(A=-1,le=H))}return Q===le?le=H:le===-1&&(le=V.length),V.slice(Q,le)}for(I=V.length-1;I>=Q;--I)if(d(V.charCodeAt(I))){if(!E){Q=I+1;break}}else le===-1&&(E=!1,le=I+1);return le===-1?"":V.slice(Q,le)},extname(V){v(V,"path");let z=0,Q=-1,le=0,E=-1,I=!0,A=0;V.length>=2&&V.charCodeAt(1)===n&&u(V.charCodeAt(0))&&(z=le=2);for(let H=V.length-1;H>=z;--H){const Y=V.charCodeAt(H);if(d(Y)){if(!I){le=H+1;break}continue}E===-1&&(I=!1,E=H+1),Y===l?Q===-1?Q=H:A!==1&&(A=1):Q!==-1&&(A=-1)}return Q===-1||E===-1||A===0||A===1&&Q===E-1&&Q===le+1?"":V.slice(Q,E)},format:b.bind(null,"\\"),parse(V){v(V,"path");const z={root:"",dir:"",base:"",ext:"",name:""};if(V.length===0)return z;const Q=V.length;let le=0,E=V.charCodeAt(0);if(Q===1)return d(E)?(z.root=z.dir=V,z):(z.base=z.name=V,z);if(d(E)){if(le=1,d(V.charCodeAt(1))){let fe=2,ue=fe;for(;fe<Q&&!d(V.charCodeAt(fe));)fe++;if(fe<Q&&fe!==ue){for(ue=fe;fe<Q&&d(V.charCodeAt(fe));)fe++;if(fe<Q&&fe!==ue){for(ue=fe;fe<Q&&!d(V.charCodeAt(fe));)fe++;fe===Q?le=fe:fe!==ue&&(le=fe+1)}}}}else if(u(E)&&V.charCodeAt(1)===n){if(Q<=2)return z.root=z.dir=V,z;if(le=2,d(V.charCodeAt(2))){if(Q===3)return z.root=z.dir=V,z;le=3}}le>0&&(z.root=V.slice(0,le));let I=-1,A=le,H=-1,Y=!0,X=V.length-1,re=0;for(;X>=le;--X){if(E=V.charCodeAt(X),d(E)){if(!Y){A=X+1;break}continue}H===-1&&(Y=!1,H=X+1),E===l?I===-1?I=X:re!==1&&(re=1):I!==-1&&(re=-1)}return H!==-1&&(I===-1||re===0||re===1&&I===H-1&&I===A+1?z.base=z.name=V.slice(A,H):(z.name=V.slice(A,I),z.base=V.slice(A,H),z.ext=V.slice(I,H))),A>0&&A!==le?z.dir=V.slice(0,A-1):z.dir=z.root,z},sep:"\\",delimiter:";",win32:null,posix:null},R={resolve(...V){let z="",Q=!1;for(let le=V.length-1;le>=-1&&!Q;le--){const E=le>=0?V[le]:O();v(E,"path"),E.length!==0&&(z=`${E}/${z}`,Q=E.charCodeAt(0)===m)}return z=c(z,!Q,"/",a),Q?`/${z}`:z.length>0?z:"."},normalize(V){if(v(V,"path"),V.length===0)return".";const z=V.charCodeAt(0)===m,Q=V.charCodeAt(V.length-1)===m;return V=c(V,!z,"/",a),V.length===0?z?"/":Q?"./":".":(Q&&(V+="/"),z?`/${V}`:V)},isAbsolute(V){return v(V,"path"),V.length>0&&V.charCodeAt(0)===m},join(...V){if(V.length===0)return".";let z;for(let Q=0;Q<V.length;++Q){const le=V[Q];v(le,"path"),le.length>0&&(z===void 0?z=le:z+=`/${le}`)}return z===void 0?".":R.normalize(z)},relative(V,z){if(v(V,"from"),v(z,"to"),V===z||(V=R.resolve(V),z=R.resolve(z),V===z))return"";const Q=1,le=V.length,E=le-Q,I=1,A=z.length-I,H=E<A?E:A;let Y=-1,X=0;for(;X<H;X++){const fe=V.charCodeAt(Q+X);if(fe!==z.charCodeAt(I+X))break;fe===m&&(Y=X)}if(X===H)if(A>H){if(z.charCodeAt(I+X)===m)return z.slice(I+X+1);if(X===0)return z.slice(I+X)}else E>H&&(V.charCodeAt(Q+X)===m?Y=X:X===0&&(Y=0));let re="";for(X=Q+Y+1;X<=le;++X)(X===le||V.charCodeAt(X)===m)&&(re+=re.length===0?"..":"/..");return`${re}${z.slice(I+Y)}`},toNamespacedPath(V){return V},dirname(V){if(v(V,"path"),V.length===0)return".";const z=V.charCodeAt(0)===m;let Q=-1,le=!0;for(let E=V.length-1;E>=1;--E)if(V.charCodeAt(E)===m){if(!le){Q=E;break}}else le=!1;return Q===-1?z?"/":".":z&&Q===1?"//":V.slice(0,Q)},basename(V,z){z!==void 0&&v(z,"ext"),v(V,"path");let Q=0,le=-1,E=!0,I;if(z!==void 0&&z.length>0&&z.length<=V.length){if(z===V)return"";let A=z.length-1,H=-1;for(I=V.length-1;I>=0;--I){const Y=V.charCodeAt(I);if(Y===m){if(!E){Q=I+1;break}}else H===-1&&(E=!1,H=I+1),A>=0&&(Y===z.charCodeAt(A)?--A===-1&&(le=I):(A=-1,le=H))}return Q===le?le=H:le===-1&&(le=V.length),V.slice(Q,le)}for(I=V.length-1;I>=0;--I)if(V.charCodeAt(I)===m){if(!E){Q=I+1;break}}else le===-1&&(E=!1,le=I+1);return le===-1?"":V.slice(Q,le)},extname(V){v(V,"path");let z=-1,Q=0,le=-1,E=!0,I=0;for(let A=V.length-1;A>=0;--A){const H=V.charCodeAt(A);if(H===m){if(!E){Q=A+1;break}continue}le===-1&&(E=!1,le=A+1),H===l?z===-1?z=A:I!==1&&(I=1):z!==-1&&(I=-1)}return z===-1||le===-1||I===0||I===1&&z===le-1&&z===Q+1?"":V.slice(z,le)},format:b.bind(null,"/"),parse(V){v(V,"path");const z={root:"",dir:"",base:"",ext:"",name:""};if(V.length===0)return z;const Q=V.charCodeAt(0)===m;let le;Q?(z.root="/",le=1):le=0;let E=-1,I=0,A=-1,H=!0,Y=V.length-1,X=0;for(;Y>=le;--Y){const re=V.charCodeAt(Y);if(re===m){if(!H){I=Y+1;break}continue}A===-1&&(H=!1,A=Y+1),re===l?E===-1?E=Y:X!==1&&(X=1):E!==-1&&(X=-1)}if(A!==-1){const re=I===0&&Q?1:I;E===-1||X===0||X===1&&E===A-1&&E===I+1?z.base=z.name=V.slice(re,A):(z.name=V.slice(re,E),z.base=V.slice(re,A),z.ext=V.slice(E,A))}return I>0?z.dir=V.slice(0,I-1):Q&&(z.dir="/"),z},sep:"/",delimiter:":",win32:null,posix:null};R.win32=L.win32=L,R.posix=L.posix=R;const T=G==="win32"?L.normalize:R.normalize,j=G==="win32"?L.resolve:R.resolve,q=G==="win32"?L.relative:R.relative,ie=G==="win32"?L.dirname:R.dirname,ne=G==="win32"?L.basename:R.basename,he=G==="win32"?L.extname:R.extname,$=G==="win32"?L.sep:R.sep},1432:function(Ct,we,t){"use strict";t.d(we,{$L:function(){return L},ED:function(){return a},IJ:function(){return c},OS:function(){return q},WE:function(){return T},dz:function(){return u},gn:function(){return R},li:function(){return p},r:function(){return he},tY:function(){return b},xS:function(){return j}});var h=t(34155),W;const k="en";let O=!1,w=!1,G=!1,x=!1,N=!1,s=!1,C=!1,l,m=null,y=null,n;const p=typeof self=="object"?self:typeof t.g=="object"?t.g:{};let f;typeof p.vscode!="undefined"&&typeof p.vscode.process!="undefined"?f=p.vscode.process:typeof h!="undefined"&&(f=h);const v=typeof((W=f==null?void 0:f.versions)===null||W===void 0?void 0:W.electron)=="string"&&f.type==="renderer";if(typeof navigator=="object"&&!v)n=navigator.userAgent,O=n.indexOf("Windows")>=0,w=n.indexOf("Macintosh")>=0,C=(n.indexOf("Macintosh")>=0||n.indexOf("iPad")>=0||n.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,G=n.indexOf("Linux")>=0,s=!0,l=navigator.language,m=l;else if(typeof f=="object"){O=f.platform==="win32",w=f.platform==="darwin",G=f.platform==="linux",x=G&&!!f.env.SNAP&&!!f.env.SNAP_REVISION,l=k,m=k;const $=f.env.VSCODE_NLS_CONFIG;if($)try{const V=JSON.parse($),z=V.availableLanguages["*"];l=V.locale,m=z||k,y=V._translationsConfigFile}catch(V){}N=!0}else console.error("Unable to resolve platform.");let d=0;w?d=1:O?d=3:G&&(d=2);const a=O,u=w,c=G,b=N,L=s,R=C,T=n,j=function(){if(p.setImmediate)return p.setImmediate.bind(p);if(typeof p.postMessage=="function"&&!p.importScripts){let z=[];p.addEventListener("message",le=>{if(le.data&&le.data.vscodeSetImmediateId)for(let E=0,I=z.length;E<I;E++){const A=z[E];if(A.id===le.data.vscodeSetImmediateId){z.splice(E,1),A.callback();return}}});let Q=0;return le=>{const E=++Q;z.push({id:E,callback:le}),p.postMessage({vscodeSetImmediateId:E},"*")}}if(typeof(f==null?void 0:f.nextTick)=="function")return f.nextTick.bind(f);const V=Promise.resolve();return z=>V.then(z)}(),q=w||C?2:O?1:3;let ie=!0,ne=!1;function he(){if(!ne){ne=!0;const $=new Uint8Array(2);$[0]=1,$[1]=2,ie=new Uint16Array($.buffer)[0]===512+1}return ie}},61134:function(Ct,we,t){"use strict";t.d(we,{e:function(){return h}});var h;(function(W){function k(x,N){if(x.start>=N.end||N.start>=x.end)return{start:0,end:0};const s=Math.max(x.start,N.start),C=Math.min(x.end,N.end);return C-s<=0?{start:0,end:0}:{start:s,end:C}}W.intersect=k;function O(x){return x.end-x.start<=0}W.isEmpty=O;function w(x,N){return!O(k(x,N))}W.intersects=w;function G(x,N){const s=[],C={start:x.start,end:Math.min(N.start,x.end)},l={start:Math.max(N.end,x.start),end:x.end};return O(C)||s.push(C),O(l)||s.push(l),s}W.relativeComplement=G})(h||(h={}))},95935:function(Ct,we,t){"use strict";t.d(we,{AH:function(){return n},EZ:function(){return l},Hx:function(){return C},SF:function(){return N},Vb:function(){return f},Vo:function(){return y},XX:function(){return m},Xy:function(){return s},i3:function(){return p},z_:function(){return G}});var h=t(15527),W=t(66663),k=t(55336),O=t(97295),w=t(70666);function G(v){return(0,w.q)(v,!0)}class x{constructor(d){this._ignorePathCasing=d}compare(d,a,u=!1){return d===a?0:(0,O.qu)(this.getComparisonKey(d,u),this.getComparisonKey(a,u))}isEqual(d,a,u=!1){return d===a?!0:!d||!a?!1:this.getComparisonKey(d,u)===this.getComparisonKey(a,u)}getComparisonKey(d,a=!1){return d.with({path:this._ignorePathCasing(d)?d.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}joinPath(d,...a){return w.o.joinPath(d,...a)}basenameOrAuthority(d){return l(d)||d.authority}basename(d){return k.KR.basename(d.path)}dirname(d){if(d.path.length===0)return d;let a;return d.scheme===W.lg.file?a=w.o.file(k.XX(G(d))).path:(a=k.KR.dirname(d.path),d.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${d.toString})) resulted in a relative path`),a="/")),d.with({path:a})}normalizePath(d){if(!d.path.length)return d;let a;return d.scheme===W.lg.file?a=w.o.file(k.Fv(G(d))).path:a=k.KR.normalize(d.path),d.with({path:a})}resolvePath(d,a){if(d.scheme===W.lg.file){const u=w.o.file(k.DB(G(d),a));return d.with({authority:u.authority,path:u.path})}return a=h.fn(a),d.with({path:k.KR.resolve(d.path,a)})}}const N=new x(()=>!1),s=N.isEqual.bind(N),C=N.basenameOrAuthority.bind(N),l=N.basename.bind(N),m=N.dirname.bind(N),y=N.joinPath.bind(N),n=N.normalizePath.bind(N),p=N.resolvePath.bind(N);var f;(function(v){v.META_DATA_LABEL="label",v.META_DATA_DESCRIPTION="description",v.META_DATA_SIZE="size",v.META_DATA_MIME="mime";function d(a){const u=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(L=>{const[R,T]=L.split(":");R&&T&&u.set(R,T)});const b=a.path.substring(0,a.path.indexOf(";"));return b&&u.set(v.META_DATA_MIME,b),u}v.parseMetaData=d})(f||(f={}))},76633:function(Ct,we,t){"use strict";t.d(we,{Rm:function(){return O}});var h=t(4669),W=t(9917);class k{constructor(m,y,n,p,f,v){this._scrollStateBrand=void 0,m=m|0,y=y|0,n=n|0,p=p|0,f=f|0,v=v|0,this.rawScrollLeft=n,this.rawScrollTop=v,m<0&&(m=0),n+m>y&&(n=y-m),n<0&&(n=0),p<0&&(p=0),v+p>f&&(v=f-p),v<0&&(v=0),this.width=m,this.scrollWidth=y,this.scrollLeft=n,this.height=p,this.scrollHeight=f,this.scrollTop=v}equals(m){return this.rawScrollLeft===m.rawScrollLeft&&this.rawScrollTop===m.rawScrollTop&&this.width===m.width&&this.scrollWidth===m.scrollWidth&&this.scrollLeft===m.scrollLeft&&this.height===m.height&&this.scrollHeight===m.scrollHeight&&this.scrollTop===m.scrollTop}withScrollDimensions(m,y){return new k(typeof m.width!="undefined"?m.width:this.width,typeof m.scrollWidth!="undefined"?m.scrollWidth:this.scrollWidth,y?this.rawScrollLeft:this.scrollLeft,typeof m.height!="undefined"?m.height:this.height,typeof m.scrollHeight!="undefined"?m.scrollHeight:this.scrollHeight,y?this.rawScrollTop:this.scrollTop)}withScrollPosition(m){return new k(this.width,this.scrollWidth,typeof m.scrollLeft!="undefined"?m.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof m.scrollTop!="undefined"?m.scrollTop:this.rawScrollTop)}createScrollEvent(m,y){const n=this.width!==m.width,p=this.scrollWidth!==m.scrollWidth,f=this.scrollLeft!==m.scrollLeft,v=this.height!==m.height,d=this.scrollHeight!==m.scrollHeight,a=this.scrollTop!==m.scrollTop;return{inSmoothScrolling:y,oldWidth:m.width,oldScrollWidth:m.scrollWidth,oldScrollLeft:m.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:m.height,oldScrollHeight:m.scrollHeight,oldScrollTop:m.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:p,scrollLeftChanged:f,heightChanged:v,scrollHeightChanged:d,scrollTopChanged:a}}}class O extends W.JT{constructor(m,y){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new h.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=m,this._scheduleAtNextAnimationFrame=y,this._state=new k(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(m){this._smoothScrollDuration=m}validateScrollPosition(m){return this._state.withScrollPosition(m)}getScrollDimensions(){return this._state}setScrollDimensions(m,y){const n=this._state.withScrollDimensions(m,y);this._setState(n,!!this._smoothScrolling),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(m){const y=this._state.withScrollPosition(m);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(y,!1)}setScrollPositionSmooth(m,y){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(m);if(this._smoothScrolling){m={scrollLeft:typeof m.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:m.scrollLeft,scrollTop:typeof m.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:m.scrollTop};const n=this._state.withScrollPosition(m);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let p;y?p=new N(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):p=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=p}else{const n=this._state.withScrollPosition(m);this._smoothScrolling=N.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const m=this._smoothScrolling.tick(),y=this._state.withScrollPosition(m);if(this._setState(y,!0),!!this._smoothScrolling){if(m.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(m,y){const n=this._state;n.equals(m)||(this._state=m,this._onScroll.fire(this._state.createScrollEvent(n,y)))}}class w{constructor(m,y,n){this.scrollLeft=m,this.scrollTop=y,this.isDone=n}}function G(l,m){const y=m-l;return function(n){return l+y*C(n)}}function x(l,m,y){return function(n){return n<y?l(n/y):m((n-y)/(1-y))}}class N{constructor(m,y,n,p){this.from=m,this.to=y,this.duration=p,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(m,y,n){if(Math.abs(m-y)>2.5*n){let f,v;return m<y?(f=m+.75*n,v=y-.75*n):(f=m-.75*n,v=y+.75*n),x(G(m,f),G(v,y),.33)}return G(m,y)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(m){this.to=m.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(m){const y=(m-this.startTime)/this.duration;if(y<1){const n=this.scrollLeft(y),p=this.scrollTop(y);return new w(n,p,!1)}return new w(this.to.scrollLeft,this.to.scrollTop,!0)}combine(m,y,n){return N.start(m,y,n)}static start(m,y,n){n=n+10;const p=Date.now()-10;return new N(m,y,p,n)}}function s(l){return Math.pow(l,3)}function C(l){return 1-s(1-l)}},14603:function(Ct,we,t){"use strict";var h=t(97295),W;(function(k){k[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error"})(W||(W={})),function(k){const O="error",w="warning",G="warn",x="info",N="ignore";function s(l){return l?h.qq(O,l)?k.Error:h.qq(w,l)||h.qq(G,l)?k.Warning:h.qq(x,l)?k.Info:k.Ignore:k.Ignore}k.fromValue=s;function C(l){switch(l){case k.Error:return O;case k.Warning:return w;case k.Info:return x;default:return N}}k.toString=C}(W||(W={})),we.Z=W},84013:function(Ct,we,t){"use strict";t.d(we,{G:function(){return k}});var h=t(1432);const W=h.li.performance&&typeof h.li.performance.now=="function";class k{constructor(w){this._highResolution=W&&w,this._startTime=this._now(),this._stopTime=-1}static create(w=!0){return new k(w)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?h.li.performance.now():Date.now()}}},97295:function(Ct,we,t){"use strict";t.d(we,{$i:function(){return Y},C8:function(){return Oe},GF:function(){return l},HO:function(){return Q},IO:function(){return m},K7:function(){return ue},Kw:function(){return ae},LC:function(){return p},Mh:function(){return j},P1:function(){return q},PJ:function(){return Be},Qe:function(){return X},R1:function(){return C},RP:function(){return A},S6:function(){return Ve},TT:function(){return a},Ut:function(){return E},V8:function(){return f},WU:function(){return k},YK:function(){return ne},YU:function(){return O},ZG:function(){return ie},ZH:function(){return $},ab:function(){return re},c1:function(){return Ce},df:function(){return L},ec:function(){return w},fi:function(){return se},fy:function(){return G},j3:function(){return x},j_:function(){return c},m5:function(){return h},mK:function(){return b},mr:function(){return y},oH:function(){return xe},oL:function(){return N},ok:function(){return T},ow:function(){return v},qq:function(){return R},qu:function(){return d},rL:function(){return he},uS:function(){return oe},un:function(){return s},uq:function(){return n},vH:function(){return z},xe:function(){return fe},zY:function(){return u}});function h(Se){return!Se||typeof Se!="string"?!0:Se.trim().length===0}const W=/{(\d+)}/g;function k(Se,...ze){return ze.length===0?Se:Se.replace(W,function(Ye,qe){const ht=parseInt(qe,10);return isNaN(ht)||ht<0||ht>=ze.length?Ye:ze[ht]})}function O(Se){return Se.replace(/[<>&]/g,function(ze){switch(ze){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ze}})}function w(Se){return Se.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function G(Se,ze=" "){const Ye=x(Se,ze);return N(Ye,ze)}function x(Se,ze){if(!Se||!ze)return Se;const Ye=ze.length;if(Ye===0||Se.length===0)return Se;let qe=0;for(;Se.indexOf(ze,qe)===qe;)qe=qe+Ye;return Se.substring(qe)}function N(Se,ze){if(!Se||!ze)return Se;const Ye=ze.length,qe=Se.length;if(Ye===0||qe===0)return Se;let ht=qe,kt=-1;for(;kt=Se.lastIndexOf(ze,ht-1),!(kt===-1||kt+Ye!==ht);){if(kt===0)return"";ht=kt}return Se.substring(0,ht)}function s(Se){return Se.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function C(Se){return Se.replace(/\*/g,"")}function l(Se,ze,Ye={}){if(!Se)throw new Error("Cannot create regex from empty string");ze||(Se=w(Se)),Ye.wholeWord&&(/\B/.test(Se.charAt(0))||(Se="\\b"+Se),/\B/.test(Se.charAt(Se.length-1))||(Se=Se+"\\b"));let qe="";return Ye.global&&(qe+="g"),Ye.matchCase||(qe+="i"),Ye.multiline&&(qe+="m"),Ye.unicode&&(qe+="u"),new RegExp(Se,qe)}function m(Se){return Se.source==="^"||Se.source==="^$"||Se.source==="$"||Se.source==="^\\s*$"?!1:!!(Se.exec("")&&Se.lastIndex===0)}function y(Se){return(Se.global?"g":"")+(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")}function n(Se){return Se.split(/\r\n|\r|\n/)}function p(Se){for(let ze=0,Ye=Se.length;ze<Ye;ze++){const qe=Se.charCodeAt(ze);if(qe!==32&&qe!==9)return ze}return-1}function f(Se,ze=0,Ye=Se.length){for(let qe=ze;qe<Ye;qe++){const ht=Se.charCodeAt(qe);if(ht!==32&&ht!==9)return Se.substring(ze,qe)}return Se.substring(ze,Ye)}function v(Se,ze=Se.length-1){for(let Ye=ze;Ye>=0;Ye--){const qe=Se.charCodeAt(Ye);if(qe!==32&&qe!==9)return Ye}return-1}function d(Se,ze){return Se<ze?-1:Se>ze?1:0}function a(Se,ze,Ye=0,qe=Se.length,ht=0,kt=ze.length){for(;Ye<qe&&ht<kt;Ye++,ht++){let Je=Se.charCodeAt(Ye),Ze=ze.charCodeAt(ht);if(Je<Ze)return-1;if(Je>Ze)return 1}const zt=qe-Ye,Ke=kt-ht;return zt<Ke?-1:zt>Ke?1:0}function u(Se,ze){return c(Se,ze,0,Se.length,0,ze.length)}function c(Se,ze,Ye=0,qe=Se.length,ht=0,kt=ze.length){for(;Ye<qe&&ht<kt;Ye++,ht++){let Je=Se.charCodeAt(Ye),Ze=ze.charCodeAt(ht);if(Je===Ze)continue;if(Je>=128||Ze>=128)return a(Se.toLowerCase(),ze.toLowerCase(),Ye,qe,ht,kt);b(Je)&&(Je-=32),b(Ze)&&(Ze-=32);const Ae=Je-Ze;if(Ae!==0)return Ae}const zt=qe-Ye,Ke=kt-ht;return zt<Ke?-1:zt>Ke?1:0}function b(Se){return Se>=97&&Se<=122}function L(Se){return Se>=65&&Se<=90}function R(Se,ze){return Se.length===ze.length&&c(Se,ze)===0}function T(Se,ze){const Ye=ze.length;return ze.length>Se.length?!1:c(Se,ze,0,Ye)===0}function j(Se,ze){let Ye,qe=Math.min(Se.length,ze.length);for(Ye=0;Ye<qe;Ye++)if(Se.charCodeAt(Ye)!==ze.charCodeAt(Ye))return Ye;return qe}function q(Se,ze){let Ye,qe=Math.min(Se.length,ze.length);const ht=Se.length-1,kt=ze.length-1;for(Ye=0;Ye<qe;Ye++)if(Se.charCodeAt(ht-Ye)!==ze.charCodeAt(kt-Ye))return Ye;return qe}function ie(Se){return 55296<=Se&&Se<=56319}function ne(Se){return 56320<=Se&&Se<=57343}function he(Se,ze){return(Se-55296<<10)+(ze-56320)+65536}function $(Se,ze,Ye){const qe=Se.charCodeAt(Ye);if(ie(qe)&&Ye+1<ze){const ht=Se.charCodeAt(Ye+1);if(ne(ht))return he(qe,ht)}return qe}function V(Se,ze){const Ye=Se.charCodeAt(ze-1);if(ne(Ye)&&ze>1){const qe=Se.charCodeAt(ze-2);if(ie(qe))return he(qe,Ye)}return Ye}function z(Se,ze){const Ye=ce.getInstance(),qe=ze,ht=Se.length,kt=$(Se,ht,ze);ze+=kt>=65536?2:1;let zt=Ye.getGraphemeBreakType(kt);for(;ze<ht;){const Ke=$(Se,ht,ze),Je=Ye.getGraphemeBreakType(Ke);if(se(zt,Je))break;ze+=Ke>=65536?2:1,zt=Je}return ze-qe}function Q(Se,ze){const Ye=ce.getInstance(),qe=ze,ht=V(Se,ze);ze-=ht>=65536?2:1;let kt=Ye.getGraphemeBreakType(ht);for(;ze>0;){const zt=V(Se,ze),Ke=Ye.getGraphemeBreakType(zt);if(se(Ke,kt))break;ze-=zt>=65536?2:1,kt=Ke}return qe-ze}const le=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function E(Se){return le.test(Se)}const I=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function A(Se){return I.test(Se)}const H=/^[\t\n\r\x20-\x7E]*$/;function Y(Se){return H.test(Se)}const X=/[\u2028\u2029]/;function re(Se){return X.test(Se)}function fe(Se){for(let ze=0,Ye=Se.length;ze<Ye;ze++)if(ue(Se.charCodeAt(ze)))return!0;return!1}function ue(Se){return Se=+Se,Se>=11904&&Se<=55215||Se>=63744&&Se<=64255||Se>=65281&&Se<=65374}function Oe(Se){return Se>=127462&&Se<=127487||Se===8986||Se===8987||Se===9200||Se===9203||Se>=9728&&Se<=10175||Se===11088||Se===11093||Se>=127744&&Se<=128591||Se>=128640&&Se<=128764||Se>=128992&&Se<=129003||Se>=129280&&Se<=129535||Se>=129648&&Se<=129750}const Ce=String.fromCharCode(65279);function oe(Se){return!!(Se&&Se.length>0&&Se.charCodeAt(0)===65279)}function ae(Se,ze=!1){return Se?(ze&&(Se=Se.replace(/\\./g,"")),Se.toLowerCase()!==Se):!1}function Be(Se){return Se=Se%(2*26),Se<26?String.fromCharCode(97+Se):String.fromCharCode(65+Se-26)}function Ve(Se){return ce.getInstance().getGraphemeBreakType(Se)}function se(Se,ze){return Se===0?ze!==5&&ze!==7:Se===2&&ze===3?!1:Se===4||Se===2||Se===3||ze===4||ze===2||ze===3?!0:!(Se===8&&(ze===8||ze===9||ze===11||ze===12)||(Se===11||Se===9)&&(ze===9||ze===10)||(Se===12||Se===10)&&ze===10||ze===5||ze===13||ze===7||Se===1||Se===13&&ze===14||Se===6&&ze===6)}class ce{constructor(){this._data=Te()}static getInstance(){return ce._INSTANCE||(ce._INSTANCE=new ce),ce._INSTANCE}getGraphemeBreakType(ze){if(ze<32)return ze===10?3:ze===13?2:4;if(ze<127)return 0;const Ye=this._data,qe=Ye.length/3;let ht=1;for(;ht<=qe;)if(ze<Ye[3*ht])ht=2*ht;else if(ze>Ye[3*ht+1])ht=2*ht+1;else return Ye[3*ht+2];return 0}}ce._INSTANCE=null;function Te(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function xe(Se,ze){if(Se===0)return 0;const Ye=Fe(Se,ze);if(Ye!==void 0)return Ye;const qe=V(ze,Se);return Se-=Le(qe),Se}function Fe(Se,ze){let Ye=V(ze,Se);for(Se-=Le(Ye);Me(Ye)||Ye===65039||Ye===8419;){if(Se===0)return;Ye=V(ze,Se),Se-=Le(Ye)}if(Oe(Ye)){if(Se>=0){const qe=V(ze,Se);qe===8205&&(Se-=Le(qe))}return Se}}function Le(Se){return Se>=65536?2:1}function Me(Se){return 127995<=Se&&Se<=127999}},98401:function(Ct,we,t){"use strict";t.d(we,{$E:function(){return p},$K:function(){return x},D8:function(){return m},HD:function(){return W},IU:function(){return f},Jp:function(){return N},Kn:function(){return k},cW:function(){return C},f6:function(){return v},hj:function(){return O},jn:function(){return w},kJ:function(){return h},mf:function(){return l},o8:function(){return G},p_:function(){return s},vE:function(){return d}});function h(a){return Array.isArray(a)}function W(a){return typeof a=="string"}function k(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)&&!(a instanceof RegExp)&&!(a instanceof Date)}function O(a){return typeof a=="number"&&!isNaN(a)}function w(a){return a===!0||a===!1}function G(a){return typeof a=="undefined"}function x(a){return!N(a)}function N(a){return G(a)||a===null}function s(a,u){if(!a)throw new Error(u?`Unexpected type, expected '${u}'`:"Unexpected type")}function C(a){if(N(a))throw new Error("Assertion Failed: argument is undefined or null");return a}function l(a){return typeof a=="function"}function m(a,u){const c=Math.min(a.length,u.length);for(let b=0;b<c;b++)y(a[b],u[b])}function y(a,u){if(W(u)){if(typeof a!==u)throw new Error(`argument does not match constraint: typeof ${u}`)}else if(l(u)){try{if(a instanceof u)return}catch(c){}if(!N(a)&&a.constructor===u||u.length===1&&u.call(void 0,a)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function n(a){let u=[],c=Object.getPrototypeOf(a);for(;Object.prototype!==c;)u=u.concat(Object.getOwnPropertyNames(c)),c=Object.getPrototypeOf(c);return u}function p(a){const u=[];for(const c of n(a))typeof a[c]=="function"&&u.push(c);return u}function f(a,u){const c=L=>function(){const R=Array.prototype.slice.call(arguments,0);return u(L,R)};let b={};for(const L of a)b[L]=c(L);return b}function v(a){return a===null?void 0:a}function d(a,u="Unreachable"){throw new Error(u)}},85427:function(Ct,we,t){"use strict";t.d(we,{A:function(){return W},K:function(){return h}});function h(k){return k<0?0:k>255?255:k|0}function W(k){return k<0?0:k>4294967295?4294967295:k|0}},70666:function(Ct,we,t){"use strict";t.d(we,{o:function(){return m},q:function(){return d}});var h=t(55336),W=t(1432);const k=/^\w[\w\d+.-]*$/,O=/^\//,w=/^\/\//;function G(L,R){if(!L.scheme&&R)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${L.authority}", path: "${L.path}", query: "${L.query}", fragment: "${L.fragment}"}`);if(L.scheme&&!k.test(L.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(L.path){if(L.authority){if(!O.test(L.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(w.test(L.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function x(L,R){return!L&&!R?"file":L}function N(L,R){switch(L){case"https":case"http":case"file":R?R[0]!==C&&(R=C+R):R=C;break}return R}const s="",C="/",l=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class m{constructor(R,T,j,q,ie,ne=!1){typeof R=="object"?(this.scheme=R.scheme||s,this.authority=R.authority||s,this.path=R.path||s,this.query=R.query||s,this.fragment=R.fragment||s):(this.scheme=x(R,ne),this.authority=T||s,this.path=N(this.scheme,j||s),this.query=q||s,this.fragment=ie||s,G(this,ne))}static isUri(R){return R instanceof m?!0:R?typeof R.authority=="string"&&typeof R.fragment=="string"&&typeof R.path=="string"&&typeof R.query=="string"&&typeof R.scheme=="string"&&typeof R.fsPath=="string"&&typeof R.with=="function"&&typeof R.toString=="function":!1}get fsPath(){return d(this,!1)}with(R){if(!R)return this;let{scheme:T,authority:j,path:q,query:ie,fragment:ne}=R;return T===void 0?T=this.scheme:T===null&&(T=s),j===void 0?j=this.authority:j===null&&(j=s),q===void 0?q=this.path:q===null&&(q=s),ie===void 0?ie=this.query:ie===null&&(ie=s),ne===void 0?ne=this.fragment:ne===null&&(ne=s),T===this.scheme&&j===this.authority&&q===this.path&&ie===this.query&&ne===this.fragment?this:new n(T,j,q,ie,ne)}static parse(R,T=!1){const j=l.exec(R);return j?new n(j[2]||s,b(j[4]||s),b(j[5]||s),b(j[7]||s),b(j[9]||s),T):new n(s,s,s,s,s)}static file(R){let T=s;if(W.ED&&(R=R.replace(/\\/g,C)),R[0]===C&&R[1]===C){const j=R.indexOf(C,2);j===-1?(T=R.substring(2),R=C):(T=R.substring(2,j),R=R.substring(j)||C)}return new n("file",T,R,s,s)}static from(R){const T=new n(R.scheme,R.authority,R.path,R.query,R.fragment);return G(T,!0),T}static joinPath(R,...T){if(!R.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let j;return W.ED&&R.scheme==="file"?j=m.file(h.Ku.join(d(R,!0),...T)).path:j=h.KR.join(R.path,...T),R.with({path:j})}toString(R=!1){return a(this,R)}toJSON(){return this}static revive(R){if(R){if(R instanceof m)return R;{const T=new n(R);return T._formatted=R.external,T._fsPath=R._sep===y?R.fsPath:null,T}}else return R}}const y=W.ED?1:void 0;class n extends m{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=d(this,!1)),this._fsPath}toString(R=!1){return R?a(this,!0):(this._formatted||(this._formatted=a(this,!1)),this._formatted)}toJSON(){const R={$mid:1};return this._fsPath&&(R.fsPath=this._fsPath,R._sep=y),this._formatted&&(R.external=this._formatted),this.path&&(R.path=this.path),this.scheme&&(R.scheme=this.scheme),this.authority&&(R.authority=this.authority),this.query&&(R.query=this.query),this.fragment&&(R.fragment=this.fragment),R}}const p={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function f(L,R){let T,j=-1;for(let q=0;q<L.length;q++){const ie=L.charCodeAt(q);if(ie>=97&&ie<=122||ie>=65&&ie<=90||ie>=48&&ie<=57||ie===45||ie===46||ie===95||ie===126||R&&ie===47)j!==-1&&(T+=encodeURIComponent(L.substring(j,q)),j=-1),T!==void 0&&(T+=L.charAt(q));else{T===void 0&&(T=L.substr(0,q));const ne=p[ie];ne!==void 0?(j!==-1&&(T+=encodeURIComponent(L.substring(j,q)),j=-1),T+=ne):j===-1&&(j=q)}}return j!==-1&&(T+=encodeURIComponent(L.substring(j))),T!==void 0?T:L}function v(L){let R;for(let T=0;T<L.length;T++){const j=L.charCodeAt(T);j===35||j===63?(R===void 0&&(R=L.substr(0,T)),R+=p[j]):R!==void 0&&(R+=L[T])}return R!==void 0?R:L}function d(L,R){let T;return L.authority&&L.path.length>1&&L.scheme==="file"?T=`//${L.authority}${L.path}`:L.path.charCodeAt(0)===47&&(L.path.charCodeAt(1)>=65&&L.path.charCodeAt(1)<=90||L.path.charCodeAt(1)>=97&&L.path.charCodeAt(1)<=122)&&L.path.charCodeAt(2)===58?R?T=L.path.substr(1):T=L.path[1].toLowerCase()+L.path.substr(2):T=L.path,W.ED&&(T=T.replace(/\//g,"\\")),T}function a(L,R){const T=R?v:f;let j="",{scheme:q,authority:ie,path:ne,query:he,fragment:$}=L;if(q&&(j+=q,j+=":"),(ie||q==="file")&&(j+=C,j+=C),ie){let V=ie.indexOf("@");if(V!==-1){const z=ie.substr(0,V);ie=ie.substr(V+1),V=z.indexOf(":"),V===-1?j+=T(z,!1):(j+=T(z.substr(0,V),!1),j+=":",j+=T(z.substr(V+1),!1)),j+="@"}ie=ie.toLowerCase(),V=ie.indexOf(":"),V===-1?j+=T(ie,!1):(j+=T(ie.substr(0,V),!1),j+=ie.substr(V))}if(ne){if(ne.length>=3&&ne.charCodeAt(0)===47&&ne.charCodeAt(2)===58){const V=ne.charCodeAt(1);V>=65&&V<=90&&(ne=`/${String.fromCharCode(V+32)}:${ne.substr(3)}`)}else if(ne.length>=2&&ne.charCodeAt(1)===58){const V=ne.charCodeAt(0);V>=65&&V<=90&&(ne=`${String.fromCharCode(V+32)}:${ne.substr(2)}`)}j+=T(ne,!0)}return he&&(j+="?",j+=T(he,!1)),$&&(j+="#",j+=R?$:f($,!1)),j}function u(L){try{return decodeURIComponent(L)}catch(R){return L.length>3?L.substr(0,3)+u(L.substr(3)):L}}const c=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function b(L){return L.match(c)?L.replace(c,R=>u(R)):L}},67746:function(Ct,we,t){"use strict";t.d(we,{Jq:function(){return W},X5:function(){return h},jG:function(){return k}});const h={ctrlCmd:!1,alt:!1};var W;(function(O){O[O.Blur=1]="Blur",O[O.Gesture=2]="Gesture",O[O.Other=3]="Other"})(W||(W={}));var k;(function(O){O[O.NONE=0]="NONE",O[O.FIRST=1]="FIRST",O[O.SECOND=2]="SECOND",O[O.LAST=3]="LAST"})(k||(k={}))},25552:function(Ct,we,t){"use strict";t.d(we,{H:function(){return G}});var h=t(89587),W={},k={},O=function(){function x(N){var s=this;this._languageId=N,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(C,l){s._lazyLoadPromiseResolve=C,s._lazyLoadPromiseReject=l})}return x.getOrCreate=function(N){return k[N]||(k[N]=new x(N)),k[N]},x.prototype.whenLoaded=function(){return this._lazyLoadPromise},x.prototype.load=function(){var N=this;return this._loadingTriggered||(this._loadingTriggered=!0,W[this._languageId].loader().then(function(s){return N._lazyLoadPromiseResolve(s)},function(s){return N._lazyLoadPromiseReject(s)})),this._lazyLoadPromise},x}();function w(x){return O.getOrCreate(x).load()}function G(x){var N=x.id;W[N]=x,h.Mj.register(x);var s=O.getOrCreate(N);h.Mj.setMonarchTokensProvider(N,s.whenLoaded().then(function(C){return C.language})),h.Mj.onLanguage(N,function(){s.load().then(function(C){h.Mj.setLanguageConfiguration(N,C.conf)})})}},29126:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return t.e(848).then(t.bind(t,40848))}})},89808:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return t.e(4386).then(t.bind(t,54386))}})},13598:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return t.e(1471).then(t.bind(t,31471))}})},52042:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return t.e(4129).then(t.bind(t,84129))}})},50497:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return t.e(7131).then(t.bind(t,47131))}})},11336:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return t.e(1448).then(t.bind(t,11448))}})},76334:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return t.e(3036).then(t.bind(t,33036))}})},30253:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return t.e(1147).then(t.bind(t,21147))}})},47940:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return t.e(1960).then(t.bind(t,71960))}}),(0,h.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return t.e(1960).then(t.bind(t,71960))}})},18162:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return t.e(8719).then(t.bind(t,18719))}})},79556:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return t.e(8946).then(t.bind(t,68946))}})},56292:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return t.e(2075).then(t.bind(t,62075))}})},42429:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return t.e(9343).then(t.bind(t,39343))}})},24129:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return t.e(5849).then(t.bind(t,25849))}})},88765:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return t.e(2814).then(t.bind(t,12814))}})},43814:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return t.e(2240).then(t.bind(t,92240))}})},89587:function(Ct,we,t){"use strict";t.d(we,{Mj:function(){return h.languages}});var h=t(50048)},45067:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:function(){return t.e(4188).then(t.bind(t,14188))}})},97820:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return t.e(6241).then(t.bind(t,96241))}})},40927:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return t.e(249).then(t.bind(t,80249))}})},26220:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return t.e(6489).then(t.bind(t,66489))}})},1526:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return t.e(5703).then(t.bind(t,15703))}})},64091:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return t.e(3632).then(t.bind(t,53632))}})},40902:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return t.e(3878).then(t.bind(t,2571))}})},17476:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return t.e(2798).then(t.bind(t,52798))}})},16745:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return t.e(7043).then(t.bind(t,17043))}})},43763:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return t.e(1134).then(t.bind(t,41134))}})},46595:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return t.e(4946).then(t.bind(t,34946))}})},36831:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return t.e(4368).then(t.bind(t,84368))}})},66079:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return t.e(5593).then(t.bind(t,35593))}})},90158:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return t.e(4912).then(t.bind(t,64912))}})},38698:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return t.e(4028).then(t.bind(t,94028))}})},82665:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return t.e(911).then(t.bind(t,20911))}})},51944:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return t.e(8906).then(t.bind(t,38906))}})},77365:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return t.e(2954).then(t.bind(t,42954))}})},6595:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return t.e(854).then(t.bind(t,60854))}})},75769:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return t.e(9398).then(t.bind(t,79398))}})},51714:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return t.e(1961).then(t.bind(t,31961))}})},2521:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return t.e(9537).then(t.bind(t,79537))}})},62893:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return t.e(6082).then(t.bind(t,86082))}})},27616:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return t.e(8084).then(t.bind(t,98084))}})},83335:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return t.e(8070).then(t.bind(t,8070))}})},46266:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return t.e(996).then(t.bind(t,20996))}})},89723:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return t.e(7835).then(t.bind(t,47835))}})},55788:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"pla",extensions:[".pla"],loader:function(){return t.e(3682).then(t.bind(t,23682))}})},48746:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return t.e(8180).then(t.bind(t,48180))}})},94992:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return t.e(4407).then(t.bind(t,94407))}})},16563:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return t.e(7562).then(t.bind(t,37562))}})},57296:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:function(){return t.e(3760).then(t.bind(t,63760))}})},85098:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return t.e(2892).then(t.bind(t,22892))}})},83187:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return t.e(7287).then(t.bind(t,37287))}})},12026:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return t.e(9400).then(t.bind(t,69400))}})},76194:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return t.e(2140).then(t.bind(t,22140))}})},5566:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return t.e(6424).then(t.bind(t,76424))}})},26254:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return t.e(1259).then(t.bind(t,91259))}})},5734:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return t.e(6449).then(t.bind(t,56449))}})},40191:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return t.e(1065).then(t.bind(t,71065))}})},93127:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return t.e(9684).then(t.bind(t,69684))}})},34483:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return t.e(8715).then(t.bind(t,8715))}})},40840:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return t.e(5062).then(t.bind(t,78))}})},37266:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return t.e(180).then(t.bind(t,90180))}})},2375:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return t.e(2060).then(t.bind(t,32060))}})},96461:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return t.e(525).then(t.bind(t,90525))}})},76628:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return t.e(8670).then(t.bind(t,88670))}})},40185:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return t.e(1156).then(t.bind(t,1156))}})},27776:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return t.e(3919).then(t.bind(t,63919))}})},28118:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return t.e(5962).then(t.bind(t,85962))}})},96337:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return t.e(7778).then(t.bind(t,27778))}})},87530:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return t.e(6587).then(t.bind(t,86587))}})},25929:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return t.e(2911).then(t.bind(t,42911))}})},17918:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return t.e(1886).then(t.bind(t,47618))}}),(0,h.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return t.e(1886).then(t.bind(t,47618))}})},6205:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return t.e(7637).then(t.bind(t,57637))}})},46837:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return t.e(8424).then(t.bind(t,71698))}})},88307:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return t.e(6717).then(t.bind(t,96717))}})},58203:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return t.e(9907).then(t.bind(t,39907))}})},81905:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return t.e(4902).then(t.bind(t,4902))}})},94199:function(Ct,we,t){"use strict";t.r(we);var h=t(25552);(0,h.H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return t.e(3585).then(t.bind(t,23585))}})},87917:function(Ct,we,t){"use strict";t.d(we,{V:function(){return p},P:function(){return y}});var h=t(16268),W=t(4669),k=t(9917),O=t(1432),w=t(64141);class G{constructor(v,d){this.chr=v,this.type=d,this.width=0}fulfill(v){this.width=v}}class x{constructor(v,d){this._bareFontInfo=v,this._requests=d,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const v=this._bareFontInfo.getMassagedFontFamily(h.G6?w.hL.fontFamily:null),d=document.createElement("div");d.style.position="absolute",d.style.top="-50000px",d.style.width="50000px";const a=document.createElement("div");a.style.fontFamily=v,a.style.fontWeight=this._bareFontInfo.fontWeight,a.style.fontSize=this._bareFontInfo.fontSize+"px",a.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,a.style.lineHeight=this._bareFontInfo.lineHeight+"px",a.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",d.appendChild(a);const u=document.createElement("div");u.style.fontFamily=v,u.style.fontWeight="bold",u.style.fontSize=this._bareFontInfo.fontSize+"px",u.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,u.style.lineHeight=this._bareFontInfo.lineHeight+"px",u.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",d.appendChild(u);const c=document.createElement("div");c.style.fontFamily=v,c.style.fontWeight=this._bareFontInfo.fontWeight,c.style.fontSize=this._bareFontInfo.fontSize+"px",c.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,c.style.lineHeight=this._bareFontInfo.lineHeight+"px",c.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",c.style.fontStyle="italic",d.appendChild(c);const b=[];for(const L of this._requests){let R;L.type===0&&(R=a),L.type===2&&(R=u),L.type===1&&(R=c),R.appendChild(document.createElement("br"));const T=document.createElement("span");x._render(T,L),R.appendChild(T),b.push(T)}this._container=d,this._testElements=b}static _render(v,d){if(d.chr===" "){let a="\xA0";for(let u=0;u<8;u++)a+=a;v.innerText=a}else{let a=d.chr;for(let u=0;u<8;u++)a+=a;v.textContent=a}}_readFromDomElements(){for(let v=0,d=this._requests.length;v<d;v++){const a=this._requests[v],u=this._testElements[v];a.fulfill(u.offsetWidth/256)}}}function N(f,v){new x(f,v).read()}var s=t(54534),C=t(56345),l=t(27374);class m{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(v){const d=v.getId();return!!this._values[d]}get(v){const d=v.getId();return this._values[d]}put(v,d){const a=v.getId();this._keys[a]=v,this._values[a]=d}remove(v){const d=v.getId();delete this._keys[d],delete this._values[d]}getValues(){return Object.keys(this._keys).map(v=>this._values[v])}}function y(){n.INSTANCE.clearCache()}class n extends k.JT{constructor(){super(),this._onDidChange=this._register(new W.Q5),this.onDidChange=this._onDidChange.event,this._cache=new m,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new m,this._onDidChange.fire()}_writeToCache(v,d){this._cache.put(v,d),!d.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const v=this._cache.getValues();let d=!1;for(const a of v)a.isTrusted||(d=!0,this._cache.remove(a));d&&this._onDidChange.fire()}readConfiguration(v){if(!this._cache.has(v)){let d=n._actualReadConfiguration(v);(d.typicalHalfwidthCharacterWidth<=2||d.typicalFullwidthCharacterWidth<=2||d.spaceWidth<=2||d.maxDigitWidth<=2)&&(d=new l.pR({zoomLevel:h.px(),pixelRatio:h.mX(),fontFamily:d.fontFamily,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFeatureSettings:d.fontFeatureSettings,lineHeight:d.lineHeight,letterSpacing:d.letterSpacing,isMonospace:d.isMonospace,typicalHalfwidthCharacterWidth:Math.max(d.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(d.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:d.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(d.spaceWidth,5),middotWidth:Math.max(d.middotWidth,5),wsmiddotWidth:Math.max(d.wsmiddotWidth,5),maxDigitWidth:Math.max(d.maxDigitWidth,5)},!1)),this._writeToCache(v,d)}return this._cache.get(v)}static createRequest(v,d,a,u){const c=new G(v,d);return a.push(c),u&&u.push(c),c}static _actualReadConfiguration(v){const d=[],a=[],u=this.createRequest("n",0,d,a),c=this.createRequest("\uFF4D",0,d,null),b=this.createRequest(" ",0,d,a),L=this.createRequest("0",0,d,a),R=this.createRequest("1",0,d,a),T=this.createRequest("2",0,d,a),j=this.createRequest("3",0,d,a),q=this.createRequest("4",0,d,a),ie=this.createRequest("5",0,d,a),ne=this.createRequest("6",0,d,a),he=this.createRequest("7",0,d,a),$=this.createRequest("8",0,d,a),V=this.createRequest("9",0,d,a),z=this.createRequest("\u2192",0,d,a),Q=this.createRequest("\uFFEB",0,d,null),le=this.createRequest("\xB7",0,d,a),E=this.createRequest(String.fromCharCode(11825),0,d,null),I="|/-_ilm%";for(let fe=0,ue=I.length;fe<ue;fe++)this.createRequest(I.charAt(fe),0,d,a),this.createRequest(I.charAt(fe),1,d,a),this.createRequest(I.charAt(fe),2,d,a);N(v,d);const A=Math.max(L.width,R.width,T.width,j.width,q.width,ie.width,ne.width,he.width,$.width,V.width);let H=v.fontFeatureSettings===w.n0.OFF;const Y=a[0].width;for(let fe=1,ue=a.length;H&&fe<ue;fe++){const Oe=Y-a[fe].width;if(Oe<-.001||Oe>.001){H=!1;break}}let X=!0;H&&Q.width!==Y&&(X=!1),Q.width>z.width&&(X=!1);const re=h.WP()>2e3;return new l.pR({zoomLevel:h.px(),pixelRatio:h.mX(),fontFamily:v.fontFamily,fontWeight:v.fontWeight,fontSize:v.fontSize,fontFeatureSettings:v.fontFeatureSettings,lineHeight:v.lineHeight,letterSpacing:v.letterSpacing,isMonospace:H,typicalHalfwidthCharacterWidth:u.width,typicalFullwidthCharacterWidth:c.width,canUseHalfwidthRightwardsArrow:X,spaceWidth:b.width,middotWidth:le.width,wsmiddotWidth:E.width,maxDigitWidth:A},re)}}n.INSTANCE=new n;class p extends C.fv{constructor(v,d,a=null,u){super(v,d),this.accessibilityService=u,this._elementSizeObserver=this._register(new s.I(a,d.dimension,()=>this._recomputeOptions())),this._register(n.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(h.fX(c=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(v,d){v.style.fontFamily=d.getMassagedFontFamily(h.G6?w.hL.fontFamily:null),v.style.fontWeight=d.fontWeight,v.style.fontSize=d.fontSize+"px",v.style.fontFeatureSettings=d.fontFeatureSettings,v.style.lineHeight=d.lineHeight+"px",v.style.letterSpacing=d.letterSpacing+"px"}static applyFontInfo(v,d){v.setFontFamily(d.getMassagedFontFamily(h.G6?w.hL.fontFamily:null)),v.setFontWeight(d.fontWeight),v.setFontSize(d.fontSize),v.setFontFeatureSettings(d.fontFeatureSettings),v.setLineHeight(d.lineHeight),v.setLetterSpacing(d.letterSpacing)}observeReferenceElement(v){this._elementSizeObserver.observe(v)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let v="";return!h.G6&&!h.MG&&(v+="no-user-select "),h.G6&&(v+="no-minimap-shadow "),O.dz&&(v+="mac "),v}_getEnvConfiguration(){return{extraEditorClassName:p._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:h.Pf||h.vU,pixelRatio:h.mX(),zoomLevel:h.px(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(v){return n.INSTANCE.readConfiguration(v)}}},54534:function(Ct,we,t){"use strict";t.d(we,{I:function(){return W}});var h=t(9917);class W extends h.JT{constructor(O,w,G){super(),this.referenceDomElement=O,this.changeCallback=G,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,w)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(O=>{O&&O[0]&&O[0].contentRect?this.observe({width:O[0].contentRect.width,height:O[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(O){this.measureReferenceDomElement(!0,O)}measureReferenceDomElement(O,w){let G=0,x=0;w?(G=w.width,x=w.height):this.referenceDomElement&&(G=this.referenceDomElement.clientWidth,x=this.referenceDomElement.clientHeight),G=Math.max(5,G),x=Math.max(5,x),(this.width!==G||this.height!==x)&&(this.width=G,this.height=x,O&&this.changeCallback())}}},68770:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CoreEditingCommands:function(){return j},CoreEditorCommand:function(){return d},CoreNavigationCommands:function(){return b},EditorScroll_:function(){return a},RevealLine_:function(){return u}});var h=t(63580),W=t(16268),k=t(98401),O=t(35996),w=t(16830),G=t(11640),x=t(33181),N=t(50187),s=t(24314);class C{static columnSelect(he,$,V,z,Q,le){let E=Math.abs(Q-V)+1,I=V>Q,A=z>le,H=z<le,Y=[];for(let X=0;X<E;X++){let re=V+(I?-X:X),fe=x.io.columnFromVisibleColumn2(he,$,re,z),ue=x.io.columnFromVisibleColumn2(he,$,re,le),Oe=x.io.visibleColumnFromColumn2(he,$,new N.L(re,fe)),Ce=x.io.visibleColumnFromColumn2(he,$,new N.L(re,ue));H&&(Oe>le||Ce<z)||A&&(Ce>z||Oe<le)||Y.push(new x.rS(new s.e(re,fe,re,fe),0,new N.L(re,ue),0))}if(Y.length===0)for(let X=0;X<E;X++){const re=V+(I?-X:X),fe=$.getLineMaxColumn(re);Y.push(new x.rS(new s.e(re,fe,re,fe),0,new N.L(re,fe),0))}return{viewStates:Y,reversed:I,fromLineNumber:V,fromVisualColumn:z,toLineNumber:Q,toVisualColumn:le}}static columnSelectLeft(he,$,V){let z=V.toViewVisualColumn;return z>0&&z--,C.columnSelect(he,$,V.fromViewLineNumber,V.fromViewVisualColumn,V.toViewLineNumber,z)}static columnSelectRight(he,$,V){let z=0;const Q=Math.min(V.fromViewLineNumber,V.toViewLineNumber),le=Math.max(V.fromViewLineNumber,V.toViewLineNumber);for(let I=Q;I<=le;I++){const A=$.getLineMaxColumn(I),H=x.io.visibleColumnFromColumn2(he,$,new N.L(I,A));z=Math.max(z,H)}let E=V.toViewVisualColumn;return E<z&&E++,this.columnSelect(he,$,V.fromViewLineNumber,V.fromViewVisualColumn,V.toViewLineNumber,E)}static columnSelectUp(he,$,V,z){const Q=z?he.pageSize:1,le=Math.max(1,V.toViewLineNumber-Q);return this.columnSelect(he,$,V.fromViewLineNumber,V.fromViewVisualColumn,le,V.toViewVisualColumn)}static columnSelectDown(he,$,V,z){const Q=z?he.pageSize:1,le=Math.min($.getLineCount(),V.toViewLineNumber+Q);return this.columnSelect(he,$,V.fromViewLineNumber,V.fromViewVisualColumn,le,V.toViewVisualColumn)}}var l=t(31380),m=t(83814),y=t(28792),n=t(29102),p=t(38819),f=t(49989);const v=0;class d extends w._l{runEditorCommand(he,$,V){const z=$._getViewModel();z&&this.runCoreEditorCommand(z,V||{})}}var a;(function(ne){const he=function(V){if(!k.Kn(V))return!1;const z=V;return!(!k.HD(z.to)||!k.o8(z.by)&&!k.HD(z.by)||!k.o8(z.value)&&!k.hj(z.value)||!k.o8(z.revealCursor)&&!k.jn(z.revealCursor))};ne.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:he,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},ne.RawDirection={Up:"up",Down:"down"},ne.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function $(V){let z;switch(V.to){case ne.RawDirection.Up:z=1;break;case ne.RawDirection.Down:z=2;break;default:return null}let Q;switch(V.by){case ne.RawUnit.Line:Q=1;break;case ne.RawUnit.WrappedLine:Q=2;break;case ne.RawUnit.Page:Q=3;break;case ne.RawUnit.HalfPage:Q=4;break;default:Q=2}const le=Math.floor(V.value||1),E=!!V.revealCursor;return{direction:z,unit:Q,value:le,revealCursor:E,select:!!V.select}}ne.parse=$})(a||(a={}));var u;(function(ne){const he=function($){if(!k.Kn($))return!1;const V=$;return!(!k.hj(V.lineNumber)&&!k.HD(V.lineNumber)||!k.o8(V.at)&&!k.HD(V.at))};ne.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:he,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},ne.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(u||(u={}));class c{constructor(he){he.addImplementation(1e4,"code-editor",($,V)=>{const z=$.get(G.$).getFocusedCodeEditor();return z&&z.hasTextFocus()?this._runEditorCommand($,z,V):!1}),he.addImplementation(1e3,"generic-dom-input-textarea",($,V)=>{const z=document.activeElement;return z&&["input","textarea"].indexOf(z.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),he.addImplementation(0,"generic-dom",($,V)=>{const z=$.get(G.$).getActiveCodeEditor();return z?(z.focus(),this._runEditorCommand($,z,V)):!1})}_runEditorCommand(he,$,V){const z=this.runEditorCommand(he,$,V);return z||!0}}var b;(function(ne){class he extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,[m.P.moveTo(oe,oe.getPrimaryCursorState(),this._inSelectionMode,ae.position,ae.viewPosition)]),oe.revealPrimaryCursor(ae.source,!0)}}ne.MoveTo=(0,w.fK)(new he({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),ne.MoveToSelect=(0,w.fK)(new he({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class $ extends d{runCoreEditorCommand(oe,ae){oe.model.pushStackElement();const Be=this._getColumnSelectResult(oe,oe.getPrimaryCursorState(),oe.getCursorColumnSelectData(),ae);oe.setCursorStates(ae.source,3,Be.viewStates.map(Ve=>x.Vi.fromViewState(Ve))),oe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Be.fromLineNumber,fromViewVisualColumn:Be.fromVisualColumn,toViewLineNumber:Be.toLineNumber,toViewVisualColumn:Be.toVisualColumn}),Be.reversed?oe.revealTopMostCursor(ae.source):oe.revealBottomMostCursor(ae.source)}}ne.ColumnSelect=(0,w.fK)(new class extends ${constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Ce,oe,ae,Be){const Ve=Ce.model.validatePosition(Be.position),se=Ce.coordinatesConverter.validateViewPosition(new N.L(Be.viewPosition.lineNumber,Be.viewPosition.column),Ve);let ce=Be.doColumnSelect?ae.fromViewLineNumber:se.lineNumber,Te=Be.doColumnSelect?ae.fromViewVisualColumn:Be.mouseColumn-1;return C.columnSelect(Ce.cursorConfig,Ce,ce,Te,se.lineNumber,Be.mouseColumn-1)}}),ne.CursorColumnSelectLeft=(0,w.fK)(new class extends ${constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Ce,oe,ae,Be){return C.columnSelectLeft(Ce.cursorConfig,Ce,ae)}}),ne.CursorColumnSelectRight=(0,w.fK)(new class extends ${constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Ce,oe,ae,Be){return C.columnSelectRight(Ce.cursorConfig,Ce,ae)}});class V extends ${constructor(oe){super(oe),this._isPaged=oe.isPaged}_getColumnSelectResult(oe,ae,Be,Ve){return C.columnSelectUp(oe.cursorConfig,oe,Be,this._isPaged)}}ne.CursorColumnSelectUp=(0,w.fK)(new V({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:3600,linux:{primary:0}}})),ne.CursorColumnSelectPageUp=(0,w.fK)(new V({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:3595,linux:{primary:0}}}));class z extends ${constructor(oe){super(oe),this._isPaged=oe.isPaged}_getColumnSelectResult(oe,ae,Be,Ve){return C.columnSelectDown(oe.cursorConfig,oe,Be,this._isPaged)}}ne.CursorColumnSelectDown=(0,w.fK)(new z({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:3602,linux:{primary:0}}})),ne.CursorColumnSelectPageDown=(0,w.fK)(new z({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:3596,linux:{primary:0}}}));class Q extends d{constructor(){super({id:"cursorMove",precondition:void 0,description:m.N.description})}runCoreEditorCommand(oe,ae){const Be=m.N.parse(ae);Be&&this._runCursorMove(oe,ae.source,Be)}_runCursorMove(oe,ae,Be){oe.model.pushStackElement(),oe.setCursorStates(ae,3,Q._move(oe,oe.getCursorStates(),Be)),oe.revealPrimaryCursor(ae,!0)}static _move(oe,ae,Be){const Ve=Be.select,se=Be.value;switch(Be.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return m.P.simpleMove(oe,ae,Be.direction,Ve,se,Be.unit);case 11:case 13:case 12:case 14:return m.P.viewportMove(oe,ae,Be.direction,Ve,se);default:return null}}}ne.CursorMoveImpl=Q,ne.CursorMove=(0,w.fK)(new Q);class le extends d{constructor(oe){super(oe),this._staticArgs=oe.args}runCoreEditorCommand(oe,ae){let Be=this._staticArgs;this._staticArgs.value===-1&&(Be={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:oe.cursorConfig.pageSize}),oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,m.P.simpleMove(oe,oe.getCursorStates(),Be.direction,Be.select,Be.value,Be.unit)),oe.revealPrimaryCursor(ae.source,!0)}}ne.CursorLeft=(0,w.fK)(new le({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),ne.CursorLeftSelect=(0,w.fK)(new le({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:1039}})),ne.CursorRight=(0,w.fK)(new le({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),ne.CursorRightSelect=(0,w.fK)(new le({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:1041}})),ne.CursorUp=(0,w.fK)(new le({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),ne.CursorUpSelect=(0,w.fK)(new le({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),ne.CursorPageUp=(0,w.fK)(new le({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:11}})),ne.CursorPageUpSelect=(0,w.fK)(new le({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:1035}})),ne.CursorDown=(0,w.fK)(new le({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),ne.CursorDownSelect=(0,w.fK)(new le({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),ne.CursorPageDown=(0,w.fK)(new le({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:12}})),ne.CursorPageDownSelect=(0,w.fK)(new le({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:1036}})),ne.CreateCursor=(0,w.fK)(new class extends d{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Ce,oe){let ae;oe.wholeLine?ae=m.P.line(Ce,Ce.getPrimaryCursorState(),!1,oe.position,oe.viewPosition):ae=m.P.moveTo(Ce,Ce.getPrimaryCursorState(),!1,oe.position,oe.viewPosition);const Be=Ce.getCursorStates();if(Be.length>1){const Ve=ae.modelState?ae.modelState.position:null,se=ae.viewState?ae.viewState.position:null;for(let ce=0,Te=Be.length;ce<Te;ce++){const xe=Be[ce];if(!(Ve&&!xe.modelState.selection.containsPosition(Ve))&&!(se&&!xe.viewState.selection.containsPosition(se))){Be.splice(ce,1),Ce.model.pushStackElement(),Ce.setCursorStates(oe.source,3,Be);return}}}Be.push(ae),Ce.model.pushStackElement(),Ce.setCursorStates(oe.source,3,Be)}}),ne.LastCursorMoveToSelect=(0,w.fK)(new class extends d{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Ce,oe){const ae=Ce.getLastAddedCursorIndex(),Be=Ce.getCursorStates(),Ve=Be.slice(0);Ve[ae]=m.P.moveTo(Ce,Be[ae],!0,oe.position,oe.viewPosition),Ce.model.pushStackElement(),Ce.setCursorStates(oe.source,3,Ve)}});class E extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,m.P.moveToBeginningOfLine(oe,oe.getCursorStates(),this._inSelectionMode)),oe.revealPrimaryCursor(ae.source,!0)}}ne.CursorHome=(0,w.fK)(new E({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),ne.CursorHomeSelect=(0,w.fK)(new E({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class I extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,this._exec(oe.getCursorStates())),oe.revealPrimaryCursor(ae.source,!0)}_exec(oe){const ae=[];for(let Be=0,Ve=oe.length;Be<Ve;Be++){const se=oe[Be],ce=se.modelState.position.lineNumber;ae[Be]=x.Vi.fromModelState(se.modelState.move(this._inSelectionMode,ce,1,0))}return ae}}ne.CursorLineStart=(0,w.fK)(new I({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:287}}})),ne.CursorLineStartSelect=(0,w.fK)(new I({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1311}}}));class A extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,m.P.moveToEndOfLine(oe,oe.getCursorStates(),this._inSelectionMode,ae.sticky||!1)),oe.revealPrimaryCursor(ae.source,!0)}}ne.CursorEnd=(0,w.fK)(new A({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:v,kbExpr:n.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:h.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),ne.CursorEndSelect=(0,w.fK)(new A({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:v,kbExpr:n.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:h.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class H extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,this._exec(oe,oe.getCursorStates())),oe.revealPrimaryCursor(ae.source,!0)}_exec(oe,ae){const Be=[];for(let Ve=0,se=ae.length;Ve<se;Ve++){const ce=ae[Ve],Te=ce.modelState.position.lineNumber,xe=oe.model.getLineMaxColumn(Te);Be[Ve]=x.Vi.fromModelState(ce.modelState.move(this._inSelectionMode,Te,xe,0))}return Be}}ne.CursorLineEnd=(0,w.fK)(new H({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:291}}})),ne.CursorLineEndSelect=(0,w.fK)(new H({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1315}}}));class Y extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,m.P.moveToBeginningOfBuffer(oe,oe.getCursorStates(),this._inSelectionMode)),oe.revealPrimaryCursor(ae.source,!0)}}ne.CursorTop=(0,w.fK)(new Y({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:2062,mac:{primary:2064}}})),ne.CursorTopSelect=(0,w.fK)(new Y({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class X extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,m.P.moveToEndOfBuffer(oe,oe.getCursorStates(),this._inSelectionMode)),oe.revealPrimaryCursor(ae.source,!0)}}ne.CursorBottom=(0,w.fK)(new X({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:2061,mac:{primary:2066}}})),ne.CursorBottomSelect=(0,w.fK)(new X({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class re extends d{constructor(){super({id:"editorScroll",precondition:void 0,description:a.description})}runCoreEditorCommand(oe,ae){const Be=a.parse(ae);Be&&this._runEditorScroll(oe,ae.source,Be)}_runEditorScroll(oe,ae,Be){const Ve=this._computeDesiredScrollTop(oe,Be);if(Be.revealCursor){const se=oe.getCompletelyVisibleViewRangeAtScrollTop(Ve);oe.setCursorStates(ae,3,[m.P.findPositionInViewportIfOutside(oe,oe.getPrimaryCursorState(),se,Be.select)])}oe.setScrollTop(Ve,0)}_computeDesiredScrollTop(oe,ae){if(ae.unit===1){const se=oe.getCompletelyVisibleViewRange(),ce=oe.coordinatesConverter.convertViewRangeToModelRange(se);let Te;ae.direction===1?Te=Math.max(1,ce.startLineNumber-ae.value):Te=Math.min(oe.model.getLineCount(),ce.startLineNumber+ae.value);const xe=oe.coordinatesConverter.convertModelPositionToViewPosition(new N.L(Te,1));return oe.getVerticalOffsetForLineNumber(xe.lineNumber)}let Be;ae.unit===3?Be=oe.cursorConfig.pageSize*ae.value:ae.unit===4?Be=Math.round(oe.cursorConfig.pageSize/2)*ae.value:Be=ae.value;const Ve=(ae.direction===1?-1:1)*Be;return oe.getScrollTop()+Ve*oe.cursorConfig.lineHeight}}ne.EditorScrollImpl=re,ne.EditorScroll=(0,w.fK)(new re),ne.ScrollLineUp=(0,w.fK)(new class extends d{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Ce,oe){ne.EditorScroll._runEditorScroll(Ce,oe.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),ne.ScrollPageUp=(0,w.fK)(new class extends d{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Ce,oe){ne.EditorScroll._runEditorScroll(Ce,oe.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),ne.ScrollLineDown=(0,w.fK)(new class extends d{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Ce,oe){ne.EditorScroll._runEditorScroll(Ce,oe.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),ne.ScrollPageDown=(0,w.fK)(new class extends d{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Ce,oe){ne.EditorScroll._runEditorScroll(Ce,oe.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class fe extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,[m.P.word(oe,oe.getPrimaryCursorState(),this._inSelectionMode,ae.position)]),oe.revealPrimaryCursor(ae.source,!0)}}ne.WordSelect=(0,w.fK)(new fe({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),ne.WordSelectDrag=(0,w.fK)(new fe({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),ne.LastCursorWordSelect=(0,w.fK)(new class extends d{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Ce,oe){const ae=Ce.getLastAddedCursorIndex(),Be=Ce.getCursorStates(),Ve=Be.slice(0),se=Be[ae];Ve[ae]=m.P.word(Ce,se,se.modelState.hasSelection(),oe.position),Ce.model.pushStackElement(),Ce.setCursorStates(oe.source,3,Ve)}});class ue extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,[m.P.line(oe,oe.getPrimaryCursorState(),this._inSelectionMode,ae.position,ae.viewPosition)]),oe.revealPrimaryCursor(ae.source,!1)}}ne.LineSelect=(0,w.fK)(new ue({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),ne.LineSelectDrag=(0,w.fK)(new ue({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Oe extends d{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,ae){const Be=oe.getLastAddedCursorIndex(),Ve=oe.getCursorStates(),se=Ve.slice(0);se[Be]=m.P.line(oe,Ve[Be],this._inSelectionMode,ae.position,ae.viewPosition),oe.model.pushStackElement(),oe.setCursorStates(ae.source,3,se)}}ne.LastCursorLineSelect=(0,w.fK)(new Oe({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),ne.LastCursorLineSelectDrag=(0,w.fK)(new Oe({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),ne.ExpandLineSelection=(0,w.fK)(new class extends d{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:2090}})}runCoreEditorCommand(Ce,oe){Ce.model.pushStackElement(),Ce.setCursorStates(oe.source,3,m.P.expandLineSelection(Ce,Ce.getCursorStates())),Ce.revealPrimaryCursor(oe.source,!0)}}),ne.CancelSelection=(0,w.fK)(new class extends d{constructor(){super({id:"cancelSelection",precondition:n.u.hasNonEmptySelection,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ce,oe){Ce.model.pushStackElement(),Ce.setCursorStates(oe.source,3,[m.P.cancelSelection(Ce,Ce.getPrimaryCursorState())]),Ce.revealPrimaryCursor(oe.source,!0)}}),ne.RemoveSecondaryCursors=(0,w.fK)(new class extends d{constructor(){super({id:"removeSecondaryCursors",precondition:n.u.hasMultipleSelections,kbOpts:{weight:v+1,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ce,oe){Ce.model.pushStackElement(),Ce.setCursorStates(oe.source,3,[Ce.getPrimaryCursorState()]),Ce.revealPrimaryCursor(oe.source,!0),(0,O.i7)(h.N("removedCursor","Removed secondary cursors"))}}),ne.RevealLine=(0,w.fK)(new class extends d{constructor(){super({id:"revealLine",precondition:void 0,description:u.description})}runCoreEditorCommand(Ce,oe){const ae=oe,Be=ae.lineNumber||0;let Ve=typeof Be=="number"?Be+1:parseInt(Be)+1;Ve<1&&(Ve=1);const se=Ce.model.getLineCount();Ve>se&&(Ve=se);const ce=new s.e(Ve,1,Ve,Ce.model.getLineMaxColumn(Ve));let Te=0;if(ae.at)switch(ae.at){case u.RawAtArgument.Top:Te=3;break;case u.RawAtArgument.Center:Te=1;break;case u.RawAtArgument.Bottom:Te=4;break;default:break}const xe=Ce.coordinatesConverter.convertModelRangeToViewRange(ce);Ce.revealRange(oe.source,!1,xe,Te,0)}}),ne.SelectAll=new class extends c{constructor(){super(w.Sq)}runDOMCommand(){W.vU&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Ce,oe,ae){const Be=oe._getViewModel();Be&&this.runCoreEditorCommand(Be,ae)}runCoreEditorCommand(Ce,oe){Ce.model.pushStackElement(),Ce.setCursorStates("keyboard",3,[m.P.selectAll(Ce,Ce.getPrimaryCursorState())])}},ne.SetSelection=(0,w.fK)(new class extends d{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Ce,oe){Ce.model.pushStackElement(),Ce.setCursorStates(oe.source,3,[x.Vi.fromModelSelection(oe.selection)])}})})(b||(b={}));const L=p.Ao.and(n.u.textInputFocus,n.u.columnSelection);function R(ne,he){f.W.registerKeybindingRule({id:ne,primary:he,when:L,weight:v+1})}R(b.CursorColumnSelectLeft.id,1039),R(b.CursorColumnSelectRight.id,1041),R(b.CursorColumnSelectUp.id,1040),R(b.CursorColumnSelectPageUp.id,1035),R(b.CursorColumnSelectDown.id,1042),R(b.CursorColumnSelectPageDown.id,1036);function T(ne){return ne.register(),ne}var j;(function(ne){class he extends w._l{runEditorCommand(V,z,Q){const le=z._getViewModel();le&&this.runCoreEditingCommand(z,le,Q||{})}}ne.CoreEditingCommand=he,ne.LineBreakInsert=(0,w.fK)(new class extends he{constructor(){super({id:"lineBreakInsert",precondition:n.u.writable,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand($,V,z){$.pushUndoStop(),$.executeCommands(this.id,y.u.lineBreakInsert(V.cursorConfig,V.model,V.getCursorStates().map(Q=>Q.modelState.selection)))}}),ne.Outdent=(0,w.fK)(new class extends he{constructor(){super({id:"outdent",precondition:n.u.writable,kbOpts:{weight:v,kbExpr:p.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand($,V,z){$.pushUndoStop(),$.executeCommands(this.id,y.u.outdent(V.cursorConfig,V.model,V.getCursorStates().map(Q=>Q.modelState.selection))),$.pushUndoStop()}}),ne.Tab=(0,w.fK)(new class extends he{constructor(){super({id:"tab",precondition:n.u.writable,kbOpts:{weight:v,kbExpr:p.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand($,V,z){$.pushUndoStop(),$.executeCommands(this.id,y.u.tab(V.cursorConfig,V.model,V.getCursorStates().map(Q=>Q.modelState.selection))),$.pushUndoStop()}}),ne.DeleteLeft=(0,w.fK)(new class extends he{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand($,V,z){const[Q,le]=l.A.deleteLeft(V.getPrevEditOperationType(),V.cursorConfig,V.model,V.getCursorStates().map(E=>E.modelState.selection),V.getCursorAutoClosedCharacters());Q&&$.pushUndoStop(),$.executeCommands(this.id,le),V.setPrevEditOperationType(2)}}),ne.DeleteRight=(0,w.fK)(new class extends he{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:v,kbExpr:n.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand($,V,z){const[Q,le]=l.A.deleteRight(V.getPrevEditOperationType(),V.cursorConfig,V.model,V.getCursorStates().map(E=>E.modelState.selection));Q&&$.pushUndoStop(),$.executeCommands(this.id,le),V.setPrevEditOperationType(3)}}),ne.Undo=new class extends c{constructor(){super(w.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand($,V,z){if(!(!V.hasModel()||V.getOption(80)===!0))return V.getModel().undo()}},ne.Redo=new class extends c{constructor(){super(w.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand($,V,z){if(!(!V.hasModel()||V.getOption(80)===!0))return V.getModel().redo()}}})(j||(j={}));class q extends w.mY{constructor(he,$,V){super({id:he,precondition:void 0,description:V}),this._handlerId=$}runCommand(he,$){const V=he.get(G.$).getFocusedCodeEditor();V&&V.trigger("keyboard",this._handlerId,$)}}function ie(ne,he){T(new q("default:"+ne,ne)),T(new q(ne,ne,he))}ie("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),ie("replacePreviousChar"),ie("compositionType"),ie("compositionStart"),ie("compositionEnd"),ie("paste"),ie("cut")},35715:function(Ct,we,t){"use strict";t.d(we,{Fz:function(){return p},Nl:function(){return n},RA:function(){return y},pd:function(){return m}});var h=t(16268),W=t(65321),k=t(15393),O=t(4669),w=t(9917),G=t(81170),x=t(1432),N=t(97295),s=t(15887),C=t(50187),l=t(3860),m;(function(d){d.Tap="-monaco-textarea-synthetic-tap"})(m||(m={}));const y={forceCopyWithSyntaxHighlighting:!1};class n{constructor(){this._lastState=null}set(a,u){this._lastState={lastCopiedValue:a,data:u}}get(a){return this._lastState&&this._lastState.lastCopiedValue===a?this._lastState.data:(this._lastState=null,null)}}n.INSTANCE=new n;class p extends w.JT{constructor(a,u){super(),this.textArea=u,this._onFocus=this._register(new O.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new O.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new O.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new O.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new O.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new O.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new O.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new O.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new O.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new O.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new O.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=a,this._textArea=this._register(new v(u)),this._asyncTriggerCut=this._register(new k.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new k.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=s.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let c=null;this._register(W.mu(u.domNode,"keydown",T=>{(T.keyCode===109||this._isDoingComposition&&T.keyCode===1)&&T.stopPropagation(),T.equals(9)&&T.preventDefault(),c=T,this._onKeyDown.fire(T)})),this._register(W.mu(u.domNode,"keyup",T=>{this._onKeyUp.fire(T)})),this._register(W.nm(u.domNode,"compositionstart",T=>{if(s.al&&console.log("[compositionstart]",T),!this._isDoingComposition){if(this._isDoingComposition=!0,x.dz&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===T.data&&(c&&c.equals(109)&&(c.code==="ArrowRight"||c.code==="ArrowLeft")||h.vU)){s.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",T),this._textAreaState=new s.un(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new C.L(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(h.Dt){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",s.un.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const b=T=>{const j=this._textAreaState,q=s.un.readFromTextArea(this._textArea);return[q,s.un.deduceInput(j,q,T)]},L=()=>{const T=this._textAreaState,j=s.un.readFromTextArea(this._textArea);return[j,s.un.deduceAndroidCompositionInput(T,j)]},R=T=>{const j=this._textAreaState,q=s.un.selectedText(T),ie={text:q.value,replacePrevCharCnt:j.selectionEnd-j.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[q,ie]};this._register(W.nm(u.domNode,"compositionupdate",T=>{if(s.al&&console.log("[compositionupdate]",T),h.Dt){const[ie,ne]=L();this._textAreaState=ie,this._onType.fire(ne),this._onCompositionUpdate.fire(T);return}const[j,q]=R(T.data||"");this._textAreaState=j,this._onType.fire(q),this._onCompositionUpdate.fire(T)})),this._register(W.nm(u.domNode,"compositionend",T=>{if(s.al&&console.log("[compositionend]",T),!this._isDoingComposition)return;if(this._isDoingComposition=!1,h.Dt){const[ie,ne]=L();this._textAreaState=ie,this._onType.fire(ne),this._onCompositionEnd.fire();return}const[j,q]=R(T.data||"");this._textAreaState=j,this._onType.fire(q),(h.i7||h.vU)&&(this._textAreaState=s.un.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(W.nm(u.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[T,j]=b(x.dz);j.replacePrevCharCnt===0&&j.text.length===1&&N.ZG(j.text.charCodeAt(0))||(this._textAreaState=T,this._nextCommand===0?(j.text!==""||j.replacePrevCharCnt!==0)&&this._onType.fire(j):((j.text!==""||j.replacePrevCharCnt!==0)&&this._firePaste(j.text,null),this._nextCommand=0))})),this._register(W.nm(u.domNode,"cut",T=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(T),this._asyncTriggerCut.schedule()})),this._register(W.nm(u.domNode,"copy",T=>{this._ensureClipboardGetsEditorSelection(T)})),this._register(W.nm(u.domNode,"paste",T=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),f.canUseTextData(T)){const[j,q]=f.getTextData(T);j!==""&&this._firePaste(j,q)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",s.un.EMPTY),this._nextCommand=1})),this._register(W.nm(u.domNode,"focus",()=>{const T=this._hasFocus;this._setHasFocus(!0),h.G6&&!T&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(W.nm(u.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(W.nm(u.domNode,m.Tap,()=>{h.Dt&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let a=0;return W.nm(document,"selectionchange",u=>{if(!this._hasFocus||this._isDoingComposition||!h.i7)return;const c=Date.now(),b=c-a;if(a=c,b<5)return;const L=c-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),L<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const R=this._textArea.getValue();if(this._textAreaState.value!==R)return;const T=this._textArea.getSelectionStart(),j=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===T&&this._textAreaState.selectionEnd===j)return;const q=this._textAreaState.deduceEditorPosition(T),ie=this._host.deduceModelPosition(q[0],q[1],q[2]),ne=this._textAreaState.deduceEditorPosition(j),he=this._host.deduceModelPosition(ne[0],ne[1],ne[2]),$=new l.Y(ie.lineNumber,ie.column,he.lineNumber,he.column);this._onSelectionChangeRequest.fire($)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const a=W.Ay(this.textArea.domNode);a?this._setHasFocus(a.activeElement===this.textArea.domNode):W.Uw(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(a){this._hasFocus!==a&&(this._hasFocus=a,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(a,u){this._hasFocus||(u=u.collapseSelection()),u.writeToTextArea(a,this._textArea,this._hasFocus),this._textAreaState=u}writeScreenReaderContent(a){this._isDoingComposition||this._setAndWriteTextAreaState(a,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(a){const u=this._host.getDataToCopy(f.canUseTextData(a)),c={version:1,isFromEmptySelection:u.isFromEmptySelection,multicursorText:u.multicursorText,mode:u.mode};if(n.INSTANCE.set(h.vU?u.text.replace(/\r\n/g,`
`):u.text,c),!f.canUseTextData(a)){this._setAndWriteTextAreaState("copy or cut",s.un.selectedText(u.text));return}f.setTextData(a,u.text,u.html,c)}_firePaste(a,u){u||(u=n.INSTANCE.get(a)),this._onPaste.fire({text:a,metadata:u})}}class f{static canUseTextData(a){return!!a.clipboardData}static getTextData(a){if(a.clipboardData){a.preventDefault();const u=a.clipboardData.getData(G.vW.text);let c=null;const b=a.clipboardData.getData("vscode-editor-data");if(typeof b=="string")try{c=JSON.parse(b),c.version!==1&&(c=null)}catch(L){}return[u,c]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(a,u,c,b){if(a.clipboardData){a.clipboardData.setData(G.vW.text,u),typeof c=="string"&&a.clipboardData.setData("text/html",c),a.clipboardData.setData("vscode-editor-data",JSON.stringify(b)),a.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class v extends w.JT{constructor(a){super(),this._actual=a,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(a){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(a,u){const c=this._actual.domNode;c.value!==u&&(this.setIgnoreSelectionChangeTime("setValue"),c.value=u)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(a,u,c){const b=this._actual.domNode;let L=null;const R=W.Ay(b);R?L=R.activeElement:L=document.activeElement;const T=L===b,j=b.selectionStart,q=b.selectionEnd;if(T&&j===u&&q===c){h.vU&&window.parent!==window&&b.focus();return}if(T){this.setIgnoreSelectionChangeTime("setSelectionRange"),b.setSelectionRange(u,c),h.vU&&window.parent!==window&&b.focus();return}try{const ie=W.vL(b);this.setIgnoreSelectionChangeTime("setSelectionRange"),b.focus(),b.setSelectionRange(u,c),W._0(b,ie)}catch(ie){}}}},15887:function(Ct,we,t){"use strict";t.d(we,{al:function(){return O},ee:function(){return G},un:function(){return w}});var h=t(97295),W=t(50187),k=t(24314);const O=!1;class w{constructor(N,s,C,l,m){this.value=N,this.selectionStart=s,this.selectionEnd=C,this.selectionStartPosition=l,this.selectionEndPosition=m}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(N){return new w(N.getValue(),N.getSelectionStart(),N.getSelectionEnd(),null,null)}collapseSelection(){return new w(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(N,s,C){O&&console.log("writeToTextArea "+N+": "+this.toString()),s.setValue(N,this.value),C&&s.setSelectionRange(N,this.selectionStart,this.selectionEnd)}deduceEditorPosition(N){if(N<=this.selectionStart){const l=this.value.substring(N,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,l,-1)}if(N>=this.selectionEnd){const l=this.value.substring(this.selectionEnd,N);return this._finishDeduceEditorPosition(this.selectionEndPosition,l,1)}const s=this.value.substring(this.selectionStart,N);if(s.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,s,1);const C=this.value.substring(N,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,C,-1)}_finishDeduceEditorPosition(N,s,C){let l=0,m=-1;for(;(m=s.indexOf(`
`,m+1))!==-1;)l++;return[N,C*s.length,l]}static selectedText(N){return new w(N,0,N.length,null,null)}static deduceInput(N,s,C){if(!N)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};O&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+N.toString()),console.log("CURRENT STATE: "+s.toString()));let l=N.value,m=N.selectionStart,y=N.selectionEnd,n=s.value,p=s.selectionStart,f=s.selectionEnd;const v=l.substring(y),d=n.substring(f),a=h.P1(v,d);n=n.substring(0,n.length-a),l=l.substring(0,l.length-a);const u=l.substring(0,m),c=n.substring(0,p),b=h.Mh(u,c);if(n=n.substring(b),l=l.substring(b),p-=b,m-=b,f-=b,y-=b,O&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+l+">, selectionStart: "+m+", selectionEnd: "+y),console.log("AFTER DIFFING CURRENT STATE: <"+n+">, selectionStart: "+p+", selectionEnd: "+f)),C&&p===f&&l.length>0){let R=null;if(p===n.length?n.startsWith(l)&&(R=n.substring(l.length)):n.endsWith(l)&&(R=n.substring(0,n.length-l.length)),R!==null&&R.length>0&&(/\uFE0F/.test(R)||h.RP(R)))return{text:R,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(p===f){if(l===n&&m===0&&y===l.length&&p===n.length&&n.indexOf(`
`)===-1&&h.xe(n))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const R=u.length-b;return O&&console.log("REMOVE PREVIOUS: "+(u.length-b)+" chars"),{text:n,replacePrevCharCnt:R,replaceNextCharCnt:0,positionDelta:0}}const L=y-m;return{text:n,replacePrevCharCnt:L,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(N,s){if(!N)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(O&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+N.toString()),console.log("CURRENT STATE: "+s.toString())),N.value===s.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:s.selectionEnd-N.selectionEnd};const C=Math.min(h.Mh(N.value,s.value),N.selectionEnd),l=Math.min(h.P1(N.value,s.value),N.value.length-N.selectionEnd),m=N.value.substring(C,N.value.length-l),y=s.value.substring(C,s.value.length-l),n=N.selectionStart-C,p=N.selectionEnd-C,f=s.selectionStart-C,v=s.selectionEnd-C;return O&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+m+">, selectionStart: "+n+", selectionEnd: "+p),console.log("AFTER DIFFING CURRENT STATE: <"+y+">, selectionStart: "+f+", selectionEnd: "+v)),{text:y,replacePrevCharCnt:p,replaceNextCharCnt:m.length-p,positionDelta:v-y.length}}}w.EMPTY=new w("",0,0,null,null);class G{static _getPageOfLine(N,s){return Math.floor((N-1)/s)}static _getRangeForPage(N,s){const C=N*s,l=C+1,m=C+s;return new k.e(l,1,m+1,1)}static fromEditorSelection(N,s,C,l,m){const y=G._getPageOfLine(C.startLineNumber,l),n=G._getRangeForPage(y,l),p=G._getPageOfLine(C.endLineNumber,l),f=G._getRangeForPage(p,l),v=n.intersectRanges(new k.e(1,1,C.startLineNumber,C.startColumn));let d=s.getValueInRange(v,1);const a=s.getLineCount(),u=s.getLineMaxColumn(a),c=f.intersectRanges(new k.e(C.endLineNumber,C.endColumn,a,u));let b=s.getValueInRange(c,1),L;if(y===p||y+1===p)L=s.getValueInRange(C,1);else{const R=n.intersectRanges(C),T=f.intersectRanges(C);L=s.getValueInRange(R,1)+String.fromCharCode(8230)+s.getValueInRange(T,1)}return m&&(d.length>500&&(d=d.substring(d.length-500,d.length)),b.length>500&&(b=b.substring(0,500)),L.length>2*500&&(L=L.substring(0,500)+String.fromCharCode(8230)+L.substring(L.length-500,L.length))),new w(d+L+b,d.length,d.length+L.length,new W.L(C.startLineNumber,C.startColumn),new W.L(C.endLineNumber,C.endColumn))}}},55812:function(Ct,we,t){"use strict";t.d(we,{yy:function(){return n},Dl:function(){return p},ZF:function(){return v},YQ:function(){return f}});var h=t(97295),W=t(24314),k=t(71050),O=t(9917),w=t(16830),G=t(38819),x=t(91741),N=t(72065),s=t(65026),C=t(63580);const l=(0,N.yh)("IEditorCancelService"),m=new G.uy("cancellableOperation",!1,(0,C.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,s.z)(l,class{constructor(){this._tokens=new WeakMap}add(d,a){let u=this._tokens.get(d);u||(u=d.invokeWithinContext(b=>{const L=m.bindTo(b.get(G.i6)),R=new x.S;return{key:L,tokens:R}}),this._tokens.set(d,u));let c;return u.key.set(!0),c=u.tokens.push(a),()=>{c&&(c(),u.key.set(!u.tokens.isEmpty()),c=void 0)}}cancel(d){const a=this._tokens.get(d);if(!a)return;const u=a.tokens.pop();u&&(u.cancel(),a.key.set(!a.tokens.isEmpty()))}},!0);class y extends k.A{constructor(a,u){super(u),this.editor=a,this._unregister=a.invokeWithinContext(c=>c.get(l).add(a,this))}dispose(){this._unregister(),super.dispose()}}(0,w.fK)(new class extends w._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:m})}runEditorCommand(d,a){d.get(l).cancel(a)}});class n{constructor(a,u){if(this.flags=u,this.flags&1){const c=a.getModel();this.modelVersionId=c?h.WU("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=a.getPosition():this.position=null,this.flags&2?this.selection=a.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof n))return!1;const u=a;return!(this.modelVersionId!==u.modelVersionId||this.scrollLeft!==u.scrollLeft||this.scrollTop!==u.scrollTop||!this.position&&u.position||this.position&&!u.position||this.position&&u.position&&!this.position.equals(u.position)||!this.selection&&u.selection||this.selection&&!u.selection||this.selection&&u.selection&&!this.selection.equalsRange(u.selection))}validate(a){return this._equals(new n(a,this.flags))}}class p extends y{constructor(a,u,c,b){super(a,b),this._listener=new O.SL,u&4&&this._listener.add(a.onDidChangeCursorPosition(L=>{(!c||!W.e.containsPosition(c,L.position))&&this.cancel()})),u&2&&this._listener.add(a.onDidChangeCursorSelection(L=>{(!c||!W.e.containsRange(c,L.selection))&&this.cancel()})),u&8&&this._listener.add(a.onDidScrollChange(L=>this.cancel())),u&1&&(this._listener.add(a.onDidChangeModel(L=>this.cancel())),this._listener.add(a.onDidChangeModelContent(L=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class f extends k.A{constructor(a,u){super(u),this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class v{constructor(a,u,c){this._visiblePosition=a,this._visiblePositionScrollDelta=u,this._cursorPosition=c}static capture(a){let u=null,c=0;if(a.getScrollTop()!==0){const b=a.getVisibleRanges();if(b.length>0){u=b[0].getStartPosition();const L=a.getTopForPosition(u.lineNumber,u.column);c=a.getScrollTop()-L}}return new v(u,c,a.getPosition())}restore(a){if(this._visiblePosition){const u=a.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);a.setScrollTop(u+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(a){const u=a.getPosition();if(!this._cursorPosition||!u)return;const c=a.getTopForLineNumber(u.lineNumber)-a.getTopForLineNumber(this._cursorPosition.lineNumber);a.setScrollTop(a.getScrollTop()+c)}}},53430:function(Ct,we,t){"use strict";t.d(we,{$:function(){return mi}});var h=t(65321);function W(pt){if(Array.isArray(pt)){for(var ut=0,tt=Array(pt.length);ut<pt.length;ut++)tt[ut]=pt[ut];return tt}else return Array.from(pt)}var k=Object.hasOwnProperty,O=Object.setPrototypeOf,w=Object.isFrozen,G=Object.getPrototypeOf,x=Object.getOwnPropertyDescriptor,N=Object.freeze,s=Object.seal,C=Object.create,l=typeof Reflect!="undefined"&&Reflect,m=l.apply,y=l.construct;m||(m=function(ut,tt,de){return ut.apply(tt,de)}),N||(N=function(ut){return ut}),s||(s=function(ut){return ut}),y||(y=function(ut,tt){return new(Function.prototype.bind.apply(ut,[null].concat(W(tt))))});var n=R(Array.prototype.forEach),p=R(Array.prototype.pop),f=R(Array.prototype.push),v=R(String.prototype.toLowerCase),d=R(String.prototype.match),a=R(String.prototype.replace),u=R(String.prototype.indexOf),c=R(String.prototype.trim),b=R(RegExp.prototype.test),L=T(TypeError);function R(pt){return function(ut){for(var tt=arguments.length,de=Array(tt>1?tt-1:0),be=1;be<tt;be++)de[be-1]=arguments[be];return m(pt,ut,de)}}function T(pt){return function(){for(var ut=arguments.length,tt=Array(ut),de=0;de<ut;de++)tt[de]=arguments[de];return y(pt,tt)}}function j(pt,ut){O&&O(pt,null);for(var tt=ut.length;tt--;){var de=ut[tt];if(typeof de=="string"){var be=v(de);be!==de&&(w(ut)||(ut[tt]=be),de=be)}pt[de]=!0}return pt}function q(pt){var ut=C(null),tt=void 0;for(tt in pt)m(k,pt,[tt])&&(ut[tt]=pt[tt]);return ut}function ie(pt,ut){for(;pt!==null;){var tt=x(pt,ut);if(tt){if(tt.get)return R(tt.get);if(typeof tt.value=="function")return R(tt.value)}pt=G(pt)}function de(be){return console.warn("fallback value for",be),null}return de}var ne=N(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),he=N(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$=N(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),V=N(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z=N(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Q=N(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),le=N(["#text"]),E=N(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),I=N(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),A=N(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=N(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),X=s(/<%[\s\S]*|[\s\S]*%>/gm),re=s(/^data-[\-\w.\u00B7-\uFFFF]/),fe=s(/^aria-[\-\w]+$/),ue=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Oe=s(/^(?:\w+script|data):/i),Ce=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt};function ae(pt){if(Array.isArray(pt)){for(var ut=0,tt=Array(pt.length);ut<pt.length;ut++)tt[ut]=pt[ut];return tt}else return Array.from(pt)}var Be=function(){return typeof window=="undefined"?null:window},Ve=function(ut,tt){if((typeof ut=="undefined"?"undefined":oe(ut))!=="object"||typeof ut.createPolicy!="function")return null;var de=null,be="data-tt-policy-suffix";tt.currentScript&&tt.currentScript.hasAttribute(be)&&(de=tt.currentScript.getAttribute(be));var J="dompurify"+(de?"#"+de:"");try{return ut.createPolicy(J,{createHTML:function(ke){return ke}})}catch(pe){return console.warn("TrustedTypes policy "+J+" could not be created."),null}};function se(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Be(),ut=function(li){return se(li)};if(ut.version="2.3.1",ut.removed=[],!pt||!pt.document||pt.document.nodeType!==9)return ut.isSupported=!1,ut;var tt=pt.document,de=pt.document,be=pt.DocumentFragment,J=pt.HTMLTemplateElement,pe=pt.Node,ke=pt.Element,at=pt.NodeFilter,st=pt.NamedNodeMap,_t=st===void 0?pt.NamedNodeMap||pt.MozNamedAttrMap:st,Et=pt.Text,Wt=pt.Comment,Mt=pt.DOMParser,Jt=pt.trustedTypes,jt=ke.prototype,ui=ie(jt,"cloneNode"),_i=ie(jt,"nextSibling"),bi=ie(jt,"childNodes"),Ai=ie(jt,"parentNode");if(typeof J=="function"){var Ri=de.createElement("template");Ri.content&&Ri.content.ownerDocument&&(de=Ri.content.ownerDocument)}var zi=Ve(Jt,tt),hn=zi&&ii?zi.createHTML(""):"",bn=de,Xi=bn.implementation,xn=bn.createNodeIterator,Sn=bn.createDocumentFragment,en=bn.getElementsByTagName,Pn=tt.importNode,Ln={};try{Ln=q(de).documentMode?de.documentMode:{}}catch(rn){}var Dn={};ut.isSupported=typeof Ai=="function"&&Xi&&typeof Xi.createHTMLDocument!="undefined"&&Ln!==9;var Xn=Y,an=X,zn=re,Kn=fe,is=Oe,mn=Ce,Qn=ue,Bn=null,An=j({},[].concat(ae(ne),ae(he),ae($),ae(z),ae(le))),On=null,qn=j({},[].concat(ae(E),ae(I),ae(A),ae(H))),Hn=null,sn=null,Lt=!0,U=!0,me=!1,Ee=!1,$e=!1,et=!1,wt=!1,Rt=!1,ti=!1,fi=!0,ii=!1,bt=!0,B=!0,_e=!1,We={},rt=null,yt=j({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ht=null,Qt=j({},["audio","video","img","source","image","track"]),ei=null,ri=j({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gi="http://www.w3.org/1998/Math/MathML",Mi="http://www.w3.org/2000/svg",Ei="http://www.w3.org/1999/xhtml",xi=Ei,Pi=!1,ki=null,Bi=de.createElement("form"),on=function(li){ki&&ki===li||((!li||(typeof li=="undefined"?"undefined":oe(li))!=="object")&&(li={}),li=q(li),Bn="ALLOWED_TAGS"in li?j({},li.ALLOWED_TAGS):An,On="ALLOWED_ATTR"in li?j({},li.ALLOWED_ATTR):qn,ei="ADD_URI_SAFE_ATTR"in li?j(q(ri),li.ADD_URI_SAFE_ATTR):ri,Ht="ADD_DATA_URI_TAGS"in li?j(q(Qt),li.ADD_DATA_URI_TAGS):Qt,rt="FORBID_CONTENTS"in li?j({},li.FORBID_CONTENTS):yt,Hn="FORBID_TAGS"in li?j({},li.FORBID_TAGS):{},sn="FORBID_ATTR"in li?j({},li.FORBID_ATTR):{},We="USE_PROFILES"in li?li.USE_PROFILES:!1,Lt=li.ALLOW_ARIA_ATTR!==!1,U=li.ALLOW_DATA_ATTR!==!1,me=li.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=li.SAFE_FOR_TEMPLATES||!1,$e=li.WHOLE_DOCUMENT||!1,Rt=li.RETURN_DOM||!1,ti=li.RETURN_DOM_FRAGMENT||!1,fi=li.RETURN_DOM_IMPORT!==!1,ii=li.RETURN_TRUSTED_TYPE||!1,wt=li.FORCE_BODY||!1,bt=li.SANITIZE_DOM!==!1,B=li.KEEP_CONTENT!==!1,_e=li.IN_PLACE||!1,Qn=li.ALLOWED_URI_REGEXP||Qn,xi=li.NAMESPACE||Ei,Ee&&(U=!1),ti&&(Rt=!0),We&&(Bn=j({},[].concat(ae(le))),On=[],We.html===!0&&(j(Bn,ne),j(On,E)),We.svg===!0&&(j(Bn,he),j(On,I),j(On,H)),We.svgFilters===!0&&(j(Bn,$),j(On,I),j(On,H)),We.mathMl===!0&&(j(Bn,z),j(On,A),j(On,H))),li.ADD_TAGS&&(Bn===An&&(Bn=q(Bn)),j(Bn,li.ADD_TAGS)),li.ADD_ATTR&&(On===qn&&(On=q(On)),j(On,li.ADD_ATTR)),li.ADD_URI_SAFE_ATTR&&j(ei,li.ADD_URI_SAFE_ATTR),li.FORBID_CONTENTS&&(rt===yt&&(rt=q(rt)),j(rt,li.FORBID_CONTENTS)),B&&(Bn["#text"]=!0),$e&&j(Bn,["html","head","body"]),Bn.table&&(j(Bn,["tbody"]),delete Hn.tbody),N&&N(li),ki=li)},jn=j({},["mi","mo","mn","ms","mtext"]),hs=j({},["foreignobject","desc","title","annotation-xml"]),tn=j({},he);j(tn,$),j(tn,V);var pn=j({},z);j(pn,Q);var kn=function(li){var Oi=Ai(li);(!Oi||!Oi.tagName)&&(Oi={namespaceURI:Ei,tagName:"template"});var Hi=v(li.tagName),vn=v(Oi.tagName);if(li.namespaceURI===Mi)return Oi.namespaceURI===Ei?Hi==="svg":Oi.namespaceURI===gi?Hi==="svg"&&(vn==="annotation-xml"||jn[vn]):!!tn[Hi];if(li.namespaceURI===gi)return Oi.namespaceURI===Ei?Hi==="math":Oi.namespaceURI===Mi?Hi==="math"&&hs[vn]:!!pn[Hi];if(li.namespaceURI===Ei){if(Oi.namespaceURI===Mi&&!hs[vn]||Oi.namespaceURI===gi&&!jn[vn])return!1;var ns=j({},["title","style","font","a","script"]);return!pn[Hi]&&(ns[Hi]||!tn[Hi])}return!1},Qi=function(li){f(ut.removed,{element:li});try{li.parentNode.removeChild(li)}catch(Oi){try{li.outerHTML=hn}catch(Hi){li.remove()}}},nn=function(li,Oi){try{f(ut.removed,{attribute:Oi.getAttributeNode(li),from:Oi})}catch(Hi){f(ut.removed,{attribute:null,from:Oi})}if(Oi.removeAttribute(li),li==="is"&&!On[li])if(Rt||ti)try{Qi(Oi)}catch(Hi){}else try{Oi.setAttribute(li,"")}catch(Hi){}},Wn=function(li){var Oi=void 0,Hi=void 0;if(wt)li="<remove></remove>"+li;else{var vn=d(li,/^[\r\n\t ]+/);Hi=vn&&vn[0]}var ns=zi?zi.createHTML(li):li;if(xi===Ei)try{Oi=new Mt().parseFromString(ns,"text/html")}catch(lt){}if(!Oi||!Oi.documentElement){Oi=Xi.createDocument(xi,"template",null);try{Oi.documentElement.innerHTML=Pi?"":ns}catch(lt){}}var Rn=Oi.body||Oi.documentElement;return li&&Hi&&Rn.insertBefore(de.createTextNode(Hi),Rn.childNodes[0]||null),xi===Ei?en.call(Oi,$e?"html":"body")[0]:$e?Oi.documentElement:Rn},vs=function(li){return xn.call(li.ownerDocument||li,li,at.SHOW_ELEMENT|at.SHOW_COMMENT|at.SHOW_TEXT,null,!1)},ys=function(li){return li instanceof Et||li instanceof Wt?!1:typeof li.nodeName!="string"||typeof li.textContent!="string"||typeof li.removeChild!="function"||!(li.attributes instanceof _t)||typeof li.removeAttribute!="function"||typeof li.setAttribute!="function"||typeof li.namespaceURI!="string"||typeof li.insertBefore!="function"},ds=function(li){return(typeof pe=="undefined"?"undefined":oe(pe))==="object"?li instanceof pe:li&&(typeof li=="undefined"?"undefined":oe(li))==="object"&&typeof li.nodeType=="number"&&typeof li.nodeName=="string"},ms=function(li,Oi,Hi){Dn[li]&&n(Dn[li],function(vn){vn.call(ut,Oi,Hi,ki)})},cs=function(li){var Oi=void 0;if(ms("beforeSanitizeElements",li,null),ys(li)||d(li.nodeName,/[\u0080-\uFFFF]/))return Qi(li),!0;var Hi=v(li.nodeName);if(ms("uponSanitizeElement",li,{tagName:Hi,allowedTags:Bn}),!ds(li.firstElementChild)&&(!ds(li.content)||!ds(li.content.firstElementChild))&&b(/<[/\w]/g,li.innerHTML)&&b(/<[/\w]/g,li.textContent)||Hi==="select"&&b(/<template/i,li.innerHTML))return Qi(li),!0;if(!Bn[Hi]||Hn[Hi]){if(B&&!rt[Hi]){var vn=Ai(li)||li.parentNode,ns=bi(li)||li.childNodes;if(ns&&vn)for(var Rn=ns.length,lt=Rn-1;lt>=0;--lt)vn.insertBefore(ui(ns[lt],!0),_i(li))}return Qi(li),!0}return li instanceof ke&&!kn(li)||(Hi==="noscript"||Hi==="noembed")&&b(/<\/no(script|embed)/i,li.innerHTML)?(Qi(li),!0):(Ee&&li.nodeType===3&&(Oi=li.textContent,Oi=a(Oi,Xn," "),Oi=a(Oi,an," "),li.textContent!==Oi&&(f(ut.removed,{element:li.cloneNode()}),li.textContent=Oi)),ms("afterSanitizeElements",li,null),!1)},us=function(li,Oi,Hi){if(bt&&(Oi==="id"||Oi==="name")&&(Hi in de||Hi in Bi))return!1;if(!(U&&!sn[Oi]&&b(zn,Oi))){if(!(Lt&&b(Kn,Oi))){if(!On[Oi]||sn[Oi])return!1;if(!ei[Oi]){if(!b(Qn,a(Hi,mn,""))){if(!((Oi==="src"||Oi==="xlink:href"||Oi==="href")&&li!=="script"&&u(Hi,"data:")===0&&Ht[li])){if(!(me&&!b(is,a(Hi,mn,"")))){if(Hi)return!1}}}}}}return!0},os=function(li){var Oi=void 0,Hi=void 0,vn=void 0,ns=void 0;ms("beforeSanitizeAttributes",li,null);var Rn=li.attributes;if(Rn){var lt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:On};for(ns=Rn.length;ns--;){Oi=Rn[ns];var _=Oi,P=_.name,Z=_.namespaceURI;if(Hi=c(Oi.value),vn=v(P),lt.attrName=vn,lt.attrValue=Hi,lt.keepAttr=!0,lt.forceKeepAttr=void 0,ms("uponSanitizeAttribute",li,lt),Hi=lt.attrValue,!lt.forceKeepAttr&&(nn(P,li),!!lt.keepAttr)){if(b(/\/>/i,Hi)){nn(P,li);continue}Ee&&(Hi=a(Hi,Xn," "),Hi=a(Hi,an," "));var ve=li.nodeName.toLowerCase();if(us(ve,vn,Hi))try{Z?li.setAttributeNS(Z,P,Hi):li.setAttribute(P,Hi),p(ut.removed)}catch(Ne){}}}ms("afterSanitizeAttributes",li,null)}},to=function rn(li){var Oi=void 0,Hi=vs(li);for(ms("beforeSanitizeShadowDOM",li,null);Oi=Hi.nextNode();)ms("uponSanitizeShadowNode",Oi,null),!cs(Oi)&&(Oi.content instanceof be&&rn(Oi.content),os(Oi));ms("afterSanitizeShadowDOM",li,null)};return ut.sanitize=function(rn,li){var Oi=void 0,Hi=void 0,vn=void 0,ns=void 0,Rn=void 0;if(Pi=!rn,Pi&&(rn="<!-->"),typeof rn!="string"&&!ds(rn)){if(typeof rn.toString!="function")throw L("toString is not a function");if(rn=rn.toString(),typeof rn!="string")throw L("dirty is not a string, aborting")}if(!ut.isSupported){if(oe(pt.toStaticHTML)==="object"||typeof pt.toStaticHTML=="function"){if(typeof rn=="string")return pt.toStaticHTML(rn);if(ds(rn))return pt.toStaticHTML(rn.outerHTML)}return rn}if(et||on(li),ut.removed=[],typeof rn=="string"&&(_e=!1),!_e)if(rn instanceof pe)Oi=Wn("<!---->"),Hi=Oi.ownerDocument.importNode(rn,!0),Hi.nodeType===1&&Hi.nodeName==="BODY"||Hi.nodeName==="HTML"?Oi=Hi:Oi.appendChild(Hi);else{if(!Rt&&!Ee&&!$e&&rn.indexOf("<")===-1)return zi&&ii?zi.createHTML(rn):rn;if(Oi=Wn(rn),!Oi)return Rt?null:hn}Oi&&wt&&Qi(Oi.firstChild);for(var lt=vs(_e?rn:Oi);vn=lt.nextNode();)vn.nodeType===3&&vn===ns||cs(vn)||(vn.content instanceof be&&to(vn.content),os(vn),ns=vn);if(ns=null,_e)return rn;if(Rt){if(ti)for(Rn=Sn.call(Oi.ownerDocument);Oi.firstChild;)Rn.appendChild(Oi.firstChild);else Rn=Oi;return fi&&(Rn=Pn.call(tt,Rn,!0)),Rn}var _=$e?Oi.outerHTML:Oi.innerHTML;return Ee&&(_=a(_,Xn," "),_=a(_,an," ")),zi&&ii?zi.createHTML(_):_},ut.setConfig=function(rn){on(rn),et=!0},ut.clearConfig=function(){ki=null,et=!1},ut.isValidAttribute=function(rn,li,Oi){ki||on({});var Hi=v(rn),vn=v(li);return us(Hi,vn,Oi)},ut.addHook=function(rn,li){typeof li=="function"&&(Dn[rn]=Dn[rn]||[],f(Dn[rn],li))},ut.removeHook=function(rn){Dn[rn]&&p(Dn[rn])},ut.removeHooks=function(rn){Dn[rn]&&(Dn[rn]=[])},ut.removeAllHooks=function(){Dn={}},ut}var ce=se(),Te=null;const xe=ce.version,Fe=ce.isSupported,Le=ce.sanitize,Me=ce.setConfig,Se=ce.clearConfig,ze=ce.isValidAttribute,Ye=ce.addHook,qe=ce.removeHook,ht=ce.removeHooks,kt=ce.removeAllHooks;var zt=t(4850),Ke=t(94079),Je=t(23938),Ze=t(56811),Ae=t(15393),He=t(71050),It=t(17301),Bt=t(4669),oi=t(59365),ni=t(21212),hi=t(44742),Di=t(9917),Ti=t(33720),Ii=t(23897),ai=t(66663),Pt=t(36248),Gt=t(95935),ot=t(97295),mt=t(70666);function ft(pt,ut={},tt={}){var de;const be=new Di.SL;let J=!1;const pe=be.add(new He.A),ke=(0,Ke.az)(ut),at=function(jt){let ui;try{ui=(0,Ii.Q)(decodeURIComponent(jt))}catch(_i){}return ui?(ui=(0,Pt.rs)(ui,_i=>{if(pt.uris&&pt.uris[_i])return mt.o.revive(pt.uris[_i])}),encodeURIComponent(JSON.stringify(ui))):jt},st=function(jt,ui){const _i=pt.uris&&pt.uris[jt];if(!_i)return jt;let bi=mt.o.revive(_i);return ui?jt.startsWith(ai.lg.data+":")?jt:ai.Gi.asBrowserUri(bi).toString(!0):mt.o.parse(jt).toString()===bi.toString()?jt:(bi.query&&(bi=bi.with({query:at(bi.query)})),bi.toString())};let _t;const Et=new Promise(jt=>_t=jt),Wt=new Ti.Th;if(Wt.image=(jt,ui,_i)=>{let bi=[],Ai=[];if(jt){({href:jt,dimensions:bi}=(0,oi.v1)(jt)),jt=st(jt,!0);try{const Ri=mt.o.parse(jt);ut.baseUrl&&Ri.scheme===ai.lg.file&&(jt=(0,Gt.i3)(ut.baseUrl,jt).toString())}catch(Ri){}Ai.push(`src="${jt}"`)}return _i&&Ai.push(`alt="${_i}"`),ui&&Ai.push(`title="${ui}"`),bi.length&&(Ai=Ai.concat(bi)),"<img "+Ai.join(" ")+">"},Wt.link=(jt,ui,_i)=>(jt===_i&&(_i=(0,oi.oR)(_i)),jt=st(jt,!1),ut.baseUrl&&(/^\w[\w\d+.-]*:/.test(jt)||(jt=(0,Gt.i3)(ut.baseUrl,jt).toString())),ui=(0,oi.oR)(ui),jt=(0,oi.oR)(jt),!jt||jt.match(/^data:|javascript:/i)||jt.match(/^command:/i)&&!pt.isTrusted||jt.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?_i:(jt=jt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${jt}" title="${ui||jt}">${_i}</a>`)),Wt.paragraph=jt=>`<p>${jt}</p>`,ut.codeBlockRenderer&&(Wt.code=(jt,ui)=>{const _i=ut.codeBlockRenderer(ui,jt),bi=hi.a.nextId();return(0,Ae.eP)(Promise.all([_i,Et]),pe.token).then(Ai=>{var Ri;if(!J&&Ai){const zi=ke.querySelector(`div[data-code="${bi}"]`);zi&&h.mc(zi,Ai[0]),(Ri=ut.asyncRenderCallback)===null||Ri===void 0||Ri.call(ut)}}).catch(()=>{}),`<div class="code" data-code="${bi}">${(0,ot.YU)(jt)}</div>`}),ut.actionHandler){const jt=ut.actionHandler.disposables.add(new zt.Y(ke,"click")),ui=ut.actionHandler.disposables.add(new zt.Y(ke,"auxclick"));ut.actionHandler.disposables.add(Bt.ju.any(jt.event,ui.event)(_i=>{const bi=new Je.n(_i);if(!bi.leftButton&&!bi.middleButton)return;let Ai=bi.target;if(!(Ai.tagName!=="A"&&(Ai=Ai.parentElement,!Ai||Ai.tagName!=="A")))try{const Ri=Ai.dataset.href;Ri&&ut.actionHandler.callback(Ri,bi)}catch(Ri){(0,It.dL)(Ri)}finally{bi.preventDefault()}}))}pt.supportHtml||(tt.sanitizer=jt=>(pt.isTrusted?jt.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?jt:"",tt.sanitize=!0,tt.silent=!0),tt.renderer=Wt;let Mt=(de=pt.value)!==null&&de!==void 0?de:"";Mt.length>1e5&&(Mt=`${Mt.substr(0,1e5)}\u2026`),pt.supportThemeIcons&&(Mt=(0,ni.f$)(Mt));let Jt=Ti.Qc(Mt,tt);if(pt.supportThemeIcons&&(Jt=(0,Ze.T)(Jt).map(ui=>typeof ui=="string"?ui:ui.outerHTML).join("")),ke.innerHTML=Xe(pt,Jt),_t(),ut.asyncRenderCallback)for(const jt of ke.getElementsByTagName("img")){const ui=be.add(h.nm(jt,"load",()=>{ui.dispose(),ut.asyncRenderCallback()}))}return{element:ke,dispose:()=>{J=!0,pe.cancel(),be.dispose()}}}function Xe(pt,ut){const{config:tt,allowedSchemes:de}=Ge(pt);Ye("uponSanitizeAttribute",(J,pe)=>{if(pe.attrName==="style"||pe.attrName==="class"){if(J.tagName==="SPAN"){if(pe.attrName==="style"){pe.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(pe.attrValue);return}else if(pe.attrName==="class"){pe.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(pe.attrValue);return}}pe.keepAttr=!1;return}});const be=document.createElement("a");Ye("afterSanitizeAttributes",J=>{for(const pe of["href","src"])J.hasAttribute(pe)&&(be.href=J.getAttribute(pe),de.includes(be.protocol.replace(/:$/,""))||J.removeAttribute(pe))});try{return Le(ut,Object.assign(Object.assign({},tt),{RETURN_TRUSTED_TYPE:!0}))}finally{qe("uponSanitizeAttribute"),qe("afterSanitizeAttributes")}}function Ge(pt){const ut=[ai.lg.http,ai.lg.https,ai.lg.mailto,ai.lg.data,ai.lg.file,ai.lg.vscodeFileResource,ai.lg.vscodeRemote,ai.lg.vscodeRemoteResource];return pt.isTrusted&&ut.push(ai.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:ut}}var Ie=t(50988),Pe=t(71531),je=t(55713),dt=t(60303),Nt=t(87917),$t=function(pt,ut,tt,de){var be=arguments.length,J=be<3?ut:de===null?de=Object.getOwnPropertyDescriptor(ut,tt):de,pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(pt,ut,tt,de);else for(var ke=pt.length-1;ke>=0;ke--)(pe=pt[ke])&&(J=(be<3?pe(J):be>3?pe(ut,tt,J):pe(ut,tt))||J);return be>3&&J&&Object.defineProperty(ut,tt,J),J},Xt=function(pt,ut){return function(tt,de){ut(tt,de,pt)}},Ci=function(pt,ut,tt,de){function be(J){return J instanceof tt?J:new tt(function(pe){pe(J)})}return new(tt||(tt=Promise))(function(J,pe){function ke(_t){try{st(de.next(_t))}catch(Et){pe(Et)}}function at(_t){try{st(de.throw(_t))}catch(Et){pe(Et)}}function st(_t){_t.done?J(_t.value):be(_t.value).then(ke,at)}st((de=de.apply(pt,ut||[])).next())})},Zt;let mi=class fl{constructor(ut,tt,de){this._options=ut,this._modeService=tt,this._openerService=de,this._onDidRenderAsync=new Bt.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(ut,tt,de){if(!ut)return{element:document.createElement("span"),dispose:()=>{}};const be=new Di.SL;return{element:be.add(ft(ut,Object.assign(Object.assign({},this._getRenderOptions(ut,be)),tt),de)).element,dispose:()=>be.dispose()}}_getRenderOptions(ut,tt){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(de,be)=>Ci(this,void 0,void 0,function*(){var J,pe,ke,at;let st;de?st=this._modeService.getModeIdForLanguageName(de):this._options.editor&&(st=(J=this._options.editor.getModel())===null||J===void 0?void 0:J.getLanguageId()),st||(st="plaintext"),this._modeService.triggerMode(st);const _t=(pe=yield dt.RW.getPromise(st))!==null&&pe!==void 0?pe:void 0,Et=document.createElement("span");if(Et.innerHTML=(at=(ke=fl._ttpTokenizer)===null||ke===void 0?void 0:ke.createHTML(be,this._modeService.languageIdCodec,_t))!==null&&at!==void 0?at:(0,je.C)(be,this._modeService.languageIdCodec,_t),this._options.editor){const Wt=this._options.editor.getOption(43);Nt.V.applyFontInfoSlow(Et,Wt)}else this._options.codeBlockFontFamily&&(Et.style.fontFamily=this._options.codeBlockFontFamily);return Et}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:de=>this._openerService.open(de,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:ut.isTrusted}).catch(It.dL),disposables:tt}}}};mi._ttpTokenizer=(Zt=window.trustedTypes)===null||Zt===void 0?void 0:Zt.createPolicy("tokenizeToString",{createHTML(pt,ut,tt){return(0,je.C)(pt,ut,tt)}}),mi=$t([Xt(1,Pe.h),Xt(2,Ie.v4)],mi)},65520:function(Ct,we,t){"use strict";t.d(we,{CL:function(){return W},Pi:function(){return O},QI:function(){return k}});var h=t(96518);function W(w){return w&&typeof w.getEditorType=="function"?w.getEditorType()===h.g.ICodeEditor:!1}function k(w){return w&&typeof w.getEditorType=="function"?w.getEditorType()===h.g.IDiffEditor:!1}function O(w){return W(w)?w:k(w)?w.getModifiedEditor():null}},16830:function(Ct,we,t){"use strict";t.d(we,{AJ:function(){return f},QG:function(){return j},Qr:function(){return R},R6:function(){return a},Sq:function(){return Q},Uc:function(){return ie},_K:function(){return q},_l:function(){return d},f:function(){return b},fK:function(){return L},jY:function(){return u},kz:function(){return z},mY:function(){return p},n_:function(){return V},rn:function(){return T},sb:function(){return c}});var h=t(63580),W=t(70666),k=t(11640),O=t(50187),w=t(51200),G=t(88216),x=t(84144),N=t(94565),s=t(38819),C=t(49989),l=t(89872),m=t(10829),y=t(98401),n=t(43557);class p{constructor(E){this.id=E.id,this.precondition=E.precondition,this._kbOpts=E.kbOpts,this._menuOpts=E.menuOpts,this._description=E.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const E=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const I of E){let A=I.kbExpr;this.precondition&&(A?A=s.Ao.and(A,this.precondition):A=this.precondition);const H={id:this.id,weight:I.weight,args:I.args,when:A,primary:I.primary,secondary:I.secondary,win:I.win,linux:I.linux,mac:I.mac};C.W.registerKeybindingRule(H)}}N.P.registerCommand({id:this.id,handler:(E,I)=>this.runCommand(E,I),description:this._description})}_registerMenuItem(E){x.BH.appendMenuItem(E.menuId,{group:E.group,command:{id:this.id,title:E.title,icon:E.icon,precondition:this.precondition},when:E.when,order:E.order})}}class f extends p{constructor(){super(...arguments),this._implementations=[]}addImplementation(E,I,A){return this._implementations.push({priority:E,name:I,implementation:A}),this._implementations.sort((H,Y)=>Y.priority-H.priority),{dispose:()=>{for(let H=0;H<this._implementations.length;H++)if(this._implementations[H].implementation===A){this._implementations.splice(H,1);return}}}}runCommand(E,I){const A=E.get(n.VZ);A.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const H of this._implementations){const Y=H.implementation(E,I);if(Y)return A.trace(`Command '${this.id}' was handled by '${H.name}'.`),typeof Y=="boolean"?void 0:Y}A.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class v extends p{constructor(E,I){super(I),this.command=E}runCommand(E,I){return this.command.runCommand(E,I)}}class d extends p{static bindToContribution(E){return class extends d{constructor(A){super(A),this._callback=A.handler}runEditorCommand(A,H,Y){E(H)&&this._callback(E(H),Y)}}}runCommand(E,I){const A=E.get(k.$),H=A.getFocusedCodeEditor()||A.getActiveCodeEditor();if(H)return H.invokeWithinContext(Y=>{if(Y.get(s.i6).contextMatchesRules((0,y.f6)(this.precondition)))return this.runEditorCommand(Y,H,I)})}}class a extends d{constructor(E){super(a.convertOptions(E)),this.label=E.label,this.alias=E.alias}static convertOptions(E){let I;Array.isArray(E.menuOpts)?I=E.menuOpts:E.menuOpts?I=[E.menuOpts]:I=[];function A(H){return H.menuId||(H.menuId=x.eH.EditorContext),H.title||(H.title=E.label),H.when=s.Ao.and(E.precondition,H.when),H}return Array.isArray(E.contextMenuOpts)?I.push(...E.contextMenuOpts.map(A)):E.contextMenuOpts&&I.push(A(E.contextMenuOpts)),E.menuOpts=I,E}runEditorCommand(E,I,A){return this.reportTelemetry(E,I),this.run(E,I,A||{})}reportTelemetry(E,I){E.get(m.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class u extends a{constructor(){super(...arguments),this._implementations=[]}addImplementation(E,I){return this._implementations.push([E,I]),this._implementations.sort((A,H)=>H[0]-A[0]),{dispose:()=>{for(let A=0;A<this._implementations.length;A++)if(this._implementations[A][1]===I){this._implementations.splice(A,1);return}}}}run(E,I,A){for(const H of this._implementations){const Y=H[1](E,I,A);if(Y)return typeof Y=="boolean"?void 0:Y}}}function c(le,E){N.P.registerCommand(le,function(I,...A){const[H,Y]=A;(0,y.p_)(W.o.isUri(H)),(0,y.p_)(O.L.isIPosition(Y));const X=I.get(w.q).getModel(H);if(X){const re=O.L.lift(Y);return E(X,re,...A.slice(2))}return I.get(G.S).createModelReference(H).then(re=>new Promise((fe,ue)=>{try{const Oe=E(re.object.textEditorModel,O.L.lift(Y),A.slice(2));fe(Oe)}catch(Oe){ue(Oe)}}).finally(()=>{re.dispose()}))})}function b(le,E){N.P.registerCommand(le,function(I,...A){const[H]=A;(0,y.p_)(W.o.isUri(H));const Y=I.get(w.q).getModel(H);return Y?E(Y,...A.slice(1)):I.get(G.S).createModelReference(H).then(X=>new Promise((re,fe)=>{try{const ue=E(X.object.textEditorModel,A.slice(1));re(ue)}catch(ue){fe(ue)}}).finally(()=>{X.dispose()}))})}function L(le){return he.INSTANCE.registerEditorCommand(le),le}function R(le){const E=new le;return he.INSTANCE.registerEditorAction(E),E}function T(le){return he.INSTANCE.registerEditorAction(le),le}function j(le){he.INSTANCE.registerEditorAction(le)}function q(le,E){he.INSTANCE.registerEditorContribution(le,E)}var ie;(function(le){function E(X){return he.INSTANCE.getEditorCommand(X)}le.getEditorCommand=E;function I(){return he.INSTANCE.getEditorActions()}le.getEditorActions=I;function A(){return he.INSTANCE.getEditorContributions()}le.getEditorContributions=A;function H(X){return he.INSTANCE.getEditorContributions().filter(re=>X.indexOf(re.id)>=0)}le.getSomeEditorContributions=H;function Y(){return he.INSTANCE.getDiffEditorContributions()}le.getDiffEditorContributions=Y})(ie||(ie={}));const ne={EditorCommonContributions:"editor.contributions"};class he{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(E,I){this.editorContributions.push({id:E,ctor:I})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(E){E.register(),this.editorActions.push(E)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(E){E.register(),this.editorCommands[E.id]=E}getEditorCommand(E){return this.editorCommands[E]||null}}he.INSTANCE=new he,l.B.add(ne.EditorCommonContributions,he.INSTANCE);function $(le){return le.register(),le}const V=$(new f({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:x.eH.MenubarEditMenu,group:"1_do",title:h.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:x.eH.CommandPalette,group:"",title:h.N("undo","Undo"),order:1}]}));$(new v(V,{id:"default:undo",precondition:void 0}));const z=$(new f({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:x.eH.MenubarEditMenu,group:"1_do",title:h.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:x.eH.CommandPalette,group:"",title:h.N("redo","Redo"),order:1}]}));$(new v(z,{id:"default:redo",precondition:void 0}));const Q=$(new f({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:x.eH.MenubarSelectionMenu,group:"1_basic",title:h.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:x.eH.CommandPalette,group:"",title:h.N("selectAll","Select All"),order:1}]}))},66007:function(Ct,we,t){"use strict";t.d(we,{Gl:function(){return N},fo:function(){return x},vu:function(){return O}});var h=t(72065),W=t(70666),k=t(98401);const O=(0,h.yh)("IWorkspaceEditService");function w(C){return(0,k.Kn)(C)&&(!!C.newUri||!!C.oldUri)}function G(C){return(0,k.Kn)(C)&&W.o.isUri(C.resource)&&(0,k.Kn)(C.edit)}class x{constructor(l){this.metadata=l}static convert(l){return l.edits.map(m=>{if(G(m))return new N(m.resource,m.edit,m.modelVersionId,m.metadata);if(w(m))return new s(m.oldUri,m.newUri,m.options,m.metadata);throw new Error("Unsupported edit")})}}class N extends x{constructor(l,m,y,n){super(n),this.resource=l,this.textEdit=m,this.versionId=y}}class s extends x{constructor(l,m,y,n){super(n),this.oldResource=l,this.newResource=m,this.options=y}}},11640:function(Ct,we,t){"use strict";t.d(we,{$:function(){return W}});var h=t(72065);const W=(0,h.yh)("codeEditorService")},50124:function(Ct,we,t){"use strict";t.d(we,{Gm:function(){return Ho}});var h=t(26479),W=t(16830),k=function(Tt,e,o,g){var M=arguments.length,F=M<3?e:g===null?g=Object.getOwnPropertyDescriptor(e,o):g,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(Tt,e,o,g);else for(var ye=Tt.length-1;ye>=0;ye--)(ee=Tt[ye])&&(F=(M<3?ee(F):M>3?ee(e,o,F):ee(e,o))||F);return M>3&&F&&Object.defineProperty(e,o,F),F},O=function(Tt,e){return function(o,g){e(o,g,Tt)}};let w=class{constructor(e,o){}dispose(){}};w.ID="editor.contrib.markerDecorations",w=k([O(1,h.i)],w),(0,W._K)(w.ID,w);var G=t(63580),x=t(65321),N=t(17301),s=t(4669),C=t(9917),l=t(66663),m=t(87917),y=t(11640),n=t(16268),p=t(3860),f=t(38626),v=t(1432),d=t(10553),a=t(23938),u=t(15393),c=t(57974);class b{constructor(e,o){this.x=e,this.y=o,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new L(this.x-x.DI.scrollX,this.y-x.DI.scrollY)}}class L{constructor(e,o){this.clientX=e,this.clientY=o,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new b(this.clientX+x.DI.scrollX,this.clientY+x.DI.scrollY)}}class R{constructor(e,o,g,M){this.x=e,this.y=o,this.width=g,this.height=M,this._editorPagePositionBrand=void 0}}function T(Tt){const e=x.i(Tt);return new R(e.left,e.top,e.width,e.height)}class j extends a.n{constructor(e,o){super(e),this._editorMouseEventBrand=void 0,this.pos=new b(this.posx,this.posy),this.editorPos=T(o)}}class q{constructor(e){this._editorViewDomNode=e}_create(e){return new j(e,this._editorViewDomNode)}onContextMenu(e,o){return x.nm(e,"contextmenu",g=>{o(this._create(g))})}onMouseUp(e,o){return x.nm(e,"mouseup",g=>{o(this._create(g))})}onMouseDown(e,o){return x.nm(e,"mousedown",g=>{o(this._create(g))})}onMouseLeave(e,o){return x.j_(e,g=>{o(this._create(g))})}onMouseMoveThrottled(e,o,g,M){const F=(ee,ye)=>g(ee,this._create(ye));return x.Y_(e,"mousemove",o,F,M)}}class ie{constructor(e){this._editorViewDomNode=e}_create(e){return new j(e,this._editorViewDomNode)}onPointerUp(e,o){return x.nm(e,"pointerup",g=>{o(this._create(g))})}onPointerDown(e,o){return x.nm(e,"pointerdown",g=>{o(this._create(g))})}onPointerLeave(e,o){return x.RE(e,g=>{o(this._create(g))})}onPointerMoveThrottled(e,o,g,M){const F=(ee,ye)=>g(ee,this._create(ye));return x.Y_(e,"pointermove",o,F,M)}}class ne extends C.JT{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new c.Z),this._keydownListener=null}startMonitoring(e,o,g,M,F){this._keydownListener=x.mu(document,"keydown",ye=>{ye.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,ye.browserEvent)},!0);const ee=(ye,Re)=>g(ye,new j(Re,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,o,ee,M,ye=>{this._keydownListener.dispose(),F(ye)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class he extends C.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let o=!1;for(let g=0,M=e.length;g<M;g++){let F=e[g];switch(F.type){case 0:this.onCompositionStart(F)&&(o=!0);break;case 1:this.onCompositionEnd(F)&&(o=!0);break;case 2:this.onConfigurationChanged(F)&&(o=!0);break;case 3:this.onCursorStateChanged(F)&&(o=!0);break;case 4:this.onDecorationsChanged(F)&&(o=!0);break;case 5:this.onFlushed(F)&&(o=!0);break;case 6:this.onFocusChanged(F)&&(o=!0);break;case 7:this.onLanguageConfigurationChanged(F)&&(o=!0);break;case 8:this.onLineMappingChanged(F)&&(o=!0);break;case 9:this.onLinesChanged(F)&&(o=!0);break;case 10:this.onLinesDeleted(F)&&(o=!0);break;case 11:this.onLinesInserted(F)&&(o=!0);break;case 12:this.onRevealRangeRequest(F)&&(o=!0);break;case 13:this.onScrollChanged(F)&&(o=!0);break;case 15:this.onTokensChanged(F)&&(o=!0);break;case 14:this.onThemeChanged(F)&&(o=!0);break;case 16:this.onTokensColorsChanged(F)&&(o=!0);break;case 17:this.onZonesChanged(F)&&(o=!0);break;default:console.info("View received unknown event: "),console.info(F)}}o&&(this._shouldRender=!0)}}class $ extends he{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class V{static write(e,o){e instanceof f.Z,e.setAttribute("data-mprt",String(o))}static read(e){const o=e.getAttribute("data-mprt");return o===null?0:parseInt(o,10)}static collect(e,o){let g=[],M=0;for(;e&&e!==document.body&&e!==o;)e.nodeType===e.ELEMENT_NODE&&(g[M++]=this.read(e)),e=e.parentElement;const F=new Uint8Array(M);for(let ee=0;ee<M;ee++)F[ee]=g[M-ee-1];return F}}class z{constructor(e,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const g=this._viewLayout.getCurrentViewport();this.scrollTop=g.top,this.scrollLeft=g.left,this.viewportWidth=g.width,this.viewportHeight=g.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class Q extends z{constructor(e,o,g){super(e,o),this._renderingContextBrand=void 0,this._viewLines=g}linesVisibleRangesForRange(e,o){return this._viewLines.linesVisibleRangesForRange(e,o)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class le{constructor(e,o,g){this.outsideRenderedLine=e,this.lineNumber=o,this.ranges=g}}class E{constructor(e,o){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(o)}static from(e){const o=new Array(e.length);for(let g=0,M=e.length;g<M;g++){const F=e[g];o[g]=new E(F.left,F.width)}return o}toString(){return`[${this.left},${this.width}]`}}class I{constructor(e,o){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(e,o){return e.left-o.left}}class A{constructor(e,o){this.outsideRenderedLine=e,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}class H{constructor(e,o){this.outsideRenderedLine=e,this.ranges=o}}class Y{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,o){e.selectNodeContents(o)}static _readClientRects(e,o,g,M,F){const ee=this._createRange();try{return ee.setStart(e,o),ee.setEnd(g,M),ee.getClientRects()}catch(ye){return null}finally{this._detachRange(ee,F)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(I.compare);let o=[],g=0,M=e[0];for(let F=1,ee=e.length;F<ee;F++){const ye=e[F];M.left+M.width+.9>=ye.left?M.width=Math.max(M.width,ye.left+ye.width-M.left):(o[g++]=M,M=ye)}return o[g++]=M,o}static _createHorizontalRangesFromClientRects(e,o){if(!e||e.length===0)return null;const g=[];for(let M=0,F=e.length;M<F;M++){const ee=e[M];g[M]=new I(Math.max(0,ee.left-o),ee.width)}return this._mergeAdjacentRanges(g)}static readHorizontalRanges(e,o,g,M,F,ee,ye){const Qe=e.children.length-1;if(0>Qe)return null;if(o=Math.min(Qe,Math.max(0,o)),M=Math.min(Qe,Math.max(0,M)),o===M&&g===F&&g===0&&!e.children[o].firstChild){const xt=e.children[o].getClientRects();return this._createHorizontalRangesFromClientRects(xt,ee)}o!==M&&M>0&&F===0&&(M--,F=1073741824);let nt=e.children[o].firstChild,ct=e.children[M].firstChild;if((!nt||!ct)&&(!nt&&g===0&&o>0&&(nt=e.children[o-1].firstChild,g=1073741824),!ct&&F===0&&M>0&&(ct=e.children[M-1].firstChild,F=1073741824)),!nt||!ct)return null;g=Math.min(nt.textContent.length,Math.max(0,g)),F=Math.min(ct.textContent.length,Math.max(0,F));const Ot=this._readClientRects(nt,g,ct,F,ye);return this._createHorizontalRangesFromClientRects(Ot,ee)}}var X=t(92550),re=t(77736),fe=t(92321),ue=t(64141);const Oe=function(){return v.tY?!0:!(v.IJ||n.vU||n.G6)}();let Ce=!0;class oe{constructor(e,o){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=o}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class ae{constructor(e,o){this.themeType=o;const g=e.options,M=g.get(43);this.renderWhitespace=g.get(87),this.renderControlCharacters=g.get(82),this.spaceWidth=M.spaceWidth,this.middotWidth=M.middotWidth,this.wsmiddotWidth=M.wsmiddotWidth,this.useMonospaceOptimizations=M.isMonospace&&!g.get(29),this.canUseHalfwidthRightwardsArrow=M.canUseHalfwidthRightwardsArrow,this.lineHeight=g.get(58),this.stopRenderingLineAfter=g.get(104),this.fontLigatures=g.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Be{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,f.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===fe.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,o,g,M){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const F=g.getViewLineRenderingData(e),ee=this._options,ye=X.Kp.filter(F.inlineDecorations,e,F.minColumn,F.maxColumn);let Re=null;if(ee.themeType===fe.e.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const Ot=g.selections;for(const xt of Ot){if(xt.endLineNumber<e||xt.startLineNumber>e)continue;const Kt=xt.startLineNumber===e?xt.startColumn:F.minColumn,qt=xt.endLineNumber===e?xt.endColumn:F.maxColumn;Kt<qt&&(ee.themeType===fe.e.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?ye.push(new X.Kp(Kt,qt,"inline-selected-text",0)):(Re||(Re=[]),Re.push(new re.zG(Kt-1,qt-1))))}}const Qe=new re.IJ(ee.useMonospaceOptimizations,ee.canUseHalfwidthRightwardsArrow,F.content,F.continuesWithWrappedLine,F.isBasicASCII,F.containsRTL,F.minColumn-1,F.tokens,ye,F.tabSize,F.startVisibleColumn,ee.spaceWidth,ee.middotWidth,ee.wsmiddotWidth,ee.stopRenderingLineAfter,ee.renderWhitespace,ee.renderControlCharacters,ee.fontLigatures!==ue.n0.OFF,Re);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Qe))return!1;M.appendASCIIString('<div style="top:'),M.appendASCIIString(String(o)),M.appendASCIIString("px;height:"),M.appendASCIIString(String(this._options.lineHeight)),M.appendASCIIString('px;" class="'),M.appendASCIIString(Be.CLASS_NAME),M.appendASCIIString('">');const nt=(0,re.d1)(Qe,M);M.appendASCIIString("</div>");let ct=null;return Ce&&Oe&&F.isBasicASCII&&ee.useMonospaceOptimizations&&nt.containsForeignElements===0&&F.content.length<300&&Qe.lineTokens.getCount()<100&&(ct=new Ve(this._renderedViewLine?this._renderedViewLine.domNode:null,Qe,nt.characterMapping)),ct||(ct=Te(this._renderedViewLine?this._renderedViewLine.domNode:null,Qe,nt.characterMapping,nt.containsRTL,nt.containsForeignElements)),this._renderedViewLine=ct,!0}layoutLine(e,o){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(o),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof Ve:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Ve?this._renderedViewLine.monospaceAssumptionsAreValid():Ce}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Ve&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,o,g,M){if(!this._renderedViewLine)return null;o=o|0,g=g|0,o=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,o)),g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g));const F=this._renderedViewLine.input.stopRenderingLineAfter|0;let ee=!1;F!==-1&&o>F+1&&g>F+1&&(ee=!0),F!==-1&&o>F+1&&(o=F+1),F!==-1&&g>F+1&&(g=F+1);const ye=this._renderedViewLine.getVisibleRangesForRange(e,o,g,M);return ye&&ye.length>0?new H(ee,ye):null}getColumnOfNodeOffset(e,o,g){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,o,g):1}}Be.CLASS_NAME="view-line";class Ve{constructor(e,o,g){this.domNode=e,this.input=o,this._characterMapping=g,this._charWidth=o.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Ce;const e=this.getWidth(),o=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-o)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Ce=!1),Ce}toSlowRenderedLine(){return Te(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,o,g,M){const F=this._getCharPosition(o),ee=this._getCharPosition(g);return[new I(F,ee-F)]}_getCharPosition(e){const o=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*o}getColumnOfNodeOffset(e,o,g){const M=o.textContent.length;let F=-1;for(;o;)o=o.previousSibling,F++;return this._characterMapping.getColumn(new re.Nd(F,g),M)}}class se{constructor(e,o,g,M,F){if(this.domNode=e,this.input=o,this._characterMapping=g,this._isWhitespaceOnly=/^\s*$/.test(o.lineContent),this._containsForeignElements=F,this._cachedWidth=-1,this._pixelOffsetCache=null,!M||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let ee=0,ye=this._characterMapping.length;ee<=ye;ee++)this._pixelOffsetCache[ee]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,o,g,M){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const F=this._readPixelOffset(this.domNode,e,o,M);if(F===-1)return null;const ee=this._readPixelOffset(this.domNode,e,g,M);return ee===-1?null:[new I(F,ee-F)]}return this._readVisibleRangesForRange(this.domNode,e,o,g,M)}_readVisibleRangesForRange(e,o,g,M,F){if(g===M){const ee=this._readPixelOffset(e,o,g,F);return ee===-1?null:[new I(ee,0)]}else return this._readRawVisibleRangesForRange(e,g,M,F)}_readPixelOffset(e,o,g,M){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const F=this._getReadingTarget(e);return F.firstChild?F.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const F=this._pixelOffsetCache[g];if(F!==-1)return F;const ee=this._actualReadPixelOffset(e,o,g,M);return this._pixelOffsetCache[g]=ee,ee}return this._actualReadPixelOffset(e,o,g,M)}_actualReadPixelOffset(e,o,g,M){if(this._characterMapping.length===0){const Re=Y.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,M.clientRectDeltaLeft,M.endNode);return!Re||Re.length===0?-1:Re[0].left}if(g===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const F=this._characterMapping.getDomPosition(g),ee=Y.readHorizontalRanges(this._getReadingTarget(e),F.partIndex,F.charIndex,F.partIndex,F.charIndex,M.clientRectDeltaLeft,M.endNode);if(!ee||ee.length===0)return-1;const ye=ee[0].left;if(this.input.isBasicASCII){const Re=this._characterMapping.getAbsoluteOffset(g),Qe=Math.round(this.input.spaceWidth*Re);if(Math.abs(Qe-ye)<=1)return Qe}return ye}_readRawVisibleRangesForRange(e,o,g,M){if(o===1&&g===this._characterMapping.length)return[new I(0,this.getWidth())];const F=this._characterMapping.getDomPosition(o),ee=this._characterMapping.getDomPosition(g);return Y.readHorizontalRanges(this._getReadingTarget(e),F.partIndex,F.charIndex,ee.partIndex,ee.charIndex,M.clientRectDeltaLeft,M.endNode)}getColumnOfNodeOffset(e,o,g){const M=o.textContent.length;let F=-1;for(;o;)o=o.previousSibling,F++;return this._characterMapping.getColumn(new re.Nd(F,g),M)}}class ce extends se{_readVisibleRangesForRange(e,o,g,M,F){const ee=super._readVisibleRangesForRange(e,o,g,M,F);if(!ee||ee.length===0||g===M||g===1&&M===this._characterMapping.length)return ee;if(!this.input.containsRTL){const ye=this._readPixelOffset(e,o,M,F);if(ye!==-1){const Re=ee[ee.length-1];Re.left<ye&&(Re.width=ye-Re.left)}}return ee}}const Te=function(){return n.Pf?xe:Fe}();function xe(Tt,e,o,g,M){return new ce(Tt,e,o,g,M)}function Fe(Tt,e,o,g,M){return new se(Tt,e,o,g,M)}var Le=t(50187),Me=t(24314),Se=t(33181),ze=t(3675);class Ye{constructor(e=null){this.hitTarget=e,this.type=0}}class qe{constructor(e,o,g){this.position=e,this.spanNode=o,this.injectedText=g,this.type=1}}var ht;(function(Tt){function e(o,g,M){const F=o.getPositionFromDOMInfo(g,M);return F?new qe(F,g,null):new Ye(g)}Tt.createFromDOMInfo=e})(ht||(ht={}));class kt{constructor(e,o){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=o}}class zt{constructor(e,o,g=0,M=null,F=null,ee=null){this.element=e,this.type=o,this.mouseColumn=g,this.position=M,!F&&M&&(F=new Me.e(M.lineNumber,M.column,M.lineNumber,M.column)),this.range=F,this.detail=ee}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return zt.toString(this)}}class Ke{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Je{constructor(e,o,g){this.model=e.model;const M=e.configuration.options;this.layoutInfo=M.get(129),this.viewDomNode=o.viewDomNode,this.lineHeight=M.get(58),this.stickyTabStops=M.get(103),this.typicalHalfwidthCharacterWidth=M.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=g,this._context=e,this._viewHelper=o}getZoneAtCoord(e){return Je.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,o){const g=e.viewLayout.getWhitespaceAtVerticalOffset(o);if(g){const M=g.verticalOffset+g.height/2,F=e.model.getLineCount();let ee=null,ye,Re=null;return g.afterLineNumber!==F&&(Re=new Le.L(g.afterLineNumber+1,1)),g.afterLineNumber>0&&(ee=new Le.L(g.afterLineNumber,e.model.getLineMaxColumn(g.afterLineNumber))),Re===null?ye=ee:ee===null?ye=Re:o<M?ye=ee:ye=Re,{viewZoneId:g.id,afterLineNumber:g.afterLineNumber,positionBefore:ee,positionAfter:Re,position:ye}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const M=this._context.model.getLineCount(),F=this._context.model.getLineMaxColumn(M);return{range:new Me.e(M,F,M,F),isAfterLines:!0}}const o=this._context.viewLayout.getLineNumberAtVerticalOffset(e),g=this._context.model.getLineMaxColumn(o);return{range:new Me.e(o,1,o,g),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,o){return Je._findAttribute(e,o,this._viewHelper.viewDomNode)}static _findAttribute(e,o,g){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(o))return e.getAttribute(o);if(e===g)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,o){return this._viewHelper.visibleRangeForPosition(e,o)}getPositionFromDOMInfo(e,o){return this._viewHelper.getPositionFromDOMInfo(e,o)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Ze{constructor(e,o,g){this.editorPos=o,this.pos=g,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+g.y-o.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+g.x-o.x-e.layoutInfo.contentLeft,this.isInMarginArea=g.x-o.x<e.layoutInfo.contentLeft&&g.x-o.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Bt._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Ae extends Ze{constructor(e,o,g,M){super(e,o,g),this._ctx=e,M?(this.target=M,this.targetPath=V.collect(M,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(e,o=null,g=null,M=null){let F=this.mouseColumn;return o&&o.column<this._ctx.model.getLineMaxColumn(o.lineNumber)&&(F=Se.io.visibleColumnFromColumn(this._ctx.model.getLineContent(o.lineNumber),o.column,this._ctx.model.getTextModelOptions().tabSize)+1),new zt(this.target,e,F,o,g,M)}withTarget(e){return new Ae(this._ctx,this.editorPos,this.pos,e)}}const He={isAfterLines:!0};function It(Tt){return{isAfterLines:!1,horizontalDistanceToText:Tt}}class Bt{constructor(e,o){this._context=e,this._viewHelper=o}mouseTargetIsWidget(e){const o=e.target,g=V.collect(o,this._viewHelper.viewDomNode);return!!(Ke.isChildOfContentWidgets(g)||Ke.isChildOfOverflowingContentWidgets(g)||Ke.isChildOfOverlayWidgets(g))}createMouseTarget(e,o,g,M){const F=new Je(this._context,this._viewHelper,e),ee=new Ae(F,o,g,M);try{return Bt._createMouseTarget(F,ee,!1)}catch(ye){return ee.fulfill(0)}}static _createMouseTarget(e,o,g){if(o.target===null){if(g)return o.fulfill(0);const ee=Bt._doHitTest(e,o);return ee.type===1?Bt.createMouseTargetFromHitTestPosition(e,o,ee.spanNode,ee.position,ee.injectedText):this._createMouseTarget(e,o.withTarget(ee.hitTarget),!0)}const M=o;let F=null;return F=F||Bt._hitTestContentWidget(e,M),F=F||Bt._hitTestOverlayWidget(e,M),F=F||Bt._hitTestMinimap(e,M),F=F||Bt._hitTestScrollbarSlider(e,M),F=F||Bt._hitTestViewZone(e,M),F=F||Bt._hitTestMargin(e,M),F=F||Bt._hitTestViewCursor(e,M),F=F||Bt._hitTestTextArea(e,M),F=F||Bt._hitTestViewLines(e,M,g),F=F||Bt._hitTestScrollbar(e,M),F||o.fulfill(0)}static _hitTestContentWidget(e,o){if(Ke.isChildOfContentWidgets(o.targetPath)||Ke.isChildOfOverflowingContentWidgets(o.targetPath)){const g=e.findAttribute(o.target,"widgetId");return g?o.fulfill(9,null,null,g):o.fulfill(0)}return null}static _hitTestOverlayWidget(e,o){if(Ke.isChildOfOverlayWidgets(o.targetPath)){const g=e.findAttribute(o.target,"widgetId");return g?o.fulfill(12,null,null,g):o.fulfill(0)}return null}static _hitTestViewCursor(e,o){if(o.target){const g=e.lastRenderData.lastViewCursorsRenderData;for(const M of g)if(o.target===M.domNode)return o.fulfill(6,M.position,null,{mightBeForeignElement:!1})}if(o.isInContentArea){const g=e.lastRenderData.lastViewCursorsRenderData,M=o.mouseContentHorizontalOffset,F=o.mouseVerticalOffset;for(const ee of g){if(M<ee.contentLeft||M>ee.contentLeft+ee.width)continue;const ye=e.getVerticalOffsetForLineNumber(ee.position.lineNumber);if(ye<=F&&F<=ye+ee.height)return o.fulfill(6,ee.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,o){const g=e.getZoneAtCoord(o.mouseVerticalOffset);if(g){const M=o.isInContentArea?8:5;return o.fulfill(M,g.position,null,g)}return null}static _hitTestTextArea(e,o){return Ke.isTextArea(o.targetPath)?e.lastRenderData.lastTextareaPosition?o.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):o.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,o){if(o.isInMarginArea){const g=e.getFullLineRangeAtCoord(o.mouseVerticalOffset),M=g.range.getStartPosition();let F=Math.abs(o.pos.x-o.editorPos.x);const ee={isAfterLines:g.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:F};return F-=e.layoutInfo.glyphMarginLeft,F<=e.layoutInfo.glyphMarginWidth?o.fulfill(2,M,g.range,ee):(F-=e.layoutInfo.glyphMarginWidth,F<=e.layoutInfo.lineNumbersWidth?o.fulfill(3,M,g.range,ee):(F-=e.layoutInfo.lineNumbersWidth,o.fulfill(4,M,g.range,ee)))}return null}static _hitTestViewLines(e,o,g){if(!Ke.isChildOfViewLines(o.targetPath))return null;if(e.isInTopPadding(o.mouseVerticalOffset))return o.fulfill(7,new Le.L(1,1),null,He);if(e.isAfterLines(o.mouseVerticalOffset)||e.isInBottomPadding(o.mouseVerticalOffset)){const F=e.model.getLineCount(),ee=e.model.getLineMaxColumn(F);return o.fulfill(7,new Le.L(F,ee),null,He)}if(g){if(Ke.isStrictChildOfViewLines(o.targetPath)){const F=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset);if(e.model.getLineLength(F)===0){const ye=e.getLineWidth(F),Re=It(o.mouseContentHorizontalOffset-ye);return o.fulfill(7,new Le.L(F,1),null,Re)}const ee=e.getLineWidth(F);if(o.mouseContentHorizontalOffset>=ee){const ye=It(o.mouseContentHorizontalOffset-ee),Re=new Le.L(F,e.model.getLineMaxColumn(F));return o.fulfill(7,Re,null,ye)}}return o.fulfill(0)}const M=Bt._doHitTest(e,o);return M.type===1?Bt.createMouseTargetFromHitTestPosition(e,o,M.spanNode,M.position,M.injectedText):this._createMouseTarget(e,o.withTarget(M.hitTarget),!0)}static _hitTestMinimap(e,o){if(Ke.isChildOfMinimap(o.targetPath)){const g=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),M=e.model.getLineMaxColumn(g);return o.fulfill(11,new Le.L(g,M))}return null}static _hitTestScrollbarSlider(e,o){if(Ke.isChildOfScrollableElement(o.targetPath)&&o.target&&o.target.nodeType===1){const g=o.target.className;if(g&&/\b(slider|scrollbar)\b/.test(g)){const M=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),F=e.model.getLineMaxColumn(M);return o.fulfill(11,new Le.L(M,F))}}return null}static _hitTestScrollbar(e,o){if(Ke.isChildOfScrollableElement(o.targetPath)){const g=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),M=e.model.getLineMaxColumn(g);return o.fulfill(11,new Le.L(g,M))}return null}getMouseColumn(e,o){const g=this._context.configuration.options,M=g.get(129),F=this._context.viewLayout.getCurrentScrollLeft()+o.x-e.x-M.contentLeft;return Bt._getMouseColumn(F,g.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,o){return e<0?1:Math.round(e/o)+1}static createMouseTargetFromHitTestPosition(e,o,g,M,F){const ee=M.lineNumber,ye=M.column,Re=e.getLineWidth(ee);if(o.mouseContentHorizontalOffset>Re){const di=It(o.mouseContentHorizontalOffset-Re);return o.fulfill(7,M,null,di)}const Qe=e.visibleRangeForPosition(ee,ye);if(!Qe)return o.fulfill(0,M);const nt=Qe.left;if(o.mouseContentHorizontalOffset===nt)return o.fulfill(6,M,null,{mightBeForeignElement:!!F});const ct=[];if(ct.push({offset:Qe.left,column:ye}),ye>1){const di=e.visibleRangeForPosition(ee,ye-1);di&&ct.push({offset:di.left,column:ye-1})}const Ot=e.model.getLineMaxColumn(ee);if(ye<Ot){const di=e.visibleRangeForPosition(ee,ye+1);di&&ct.push({offset:di.left,column:ye+1})}ct.sort((di,pi)=>di.offset-pi.offset);const xt=o.pos.toClientCoordinates(),Kt=g.getBoundingClientRect(),qt=Kt.left<=xt.clientX&&xt.clientX<=Kt.right;for(let di=1;di<ct.length;di++){const pi=ct[di-1],Li=ct[di];if(pi.offset<=o.mouseContentHorizontalOffset&&o.mouseContentHorizontalOffset<=Li.offset){const Si=new Me.e(ee,pi.column,ee,Li.column);return o.fulfill(6,M,Si,{mightBeForeignElement:!qt||!!F})}}return o.fulfill(6,M,null,{mightBeForeignElement:!qt||!!F})}static _doHitTestWithCaretRangeFromPoint(e,o){const g=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),F=e.getVerticalOffsetForLineNumber(g)+Math.floor(e.lineHeight/2);let ee=o.pos.y+(F-o.mouseVerticalOffset);ee<=o.editorPos.y&&(ee=o.editorPos.y+1),ee>=o.editorPos.y+e.layoutInfo.height&&(ee=o.editorPos.y+e.layoutInfo.height-1);const ye=new b(o.pos.x,ee),Re=this._actualDoHitTestWithCaretRangeFromPoint(e,ye.toClientCoordinates());return Re.type===1?Re:this._actualDoHitTestWithCaretRangeFromPoint(e,o.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,o){const g=x.Ay(e.viewDomNode);let M;if(g?typeof g.caretRangeFromPoint=="undefined"?M=oi(g,o.clientX,o.clientY):M=g.caretRangeFromPoint(o.clientX,o.clientY):M=document.caretRangeFromPoint(o.clientX,o.clientY),!M||!M.startContainer)return new Ye;const F=M.startContainer;if(F.nodeType===F.TEXT_NODE){const ee=F.parentNode,ye=ee?ee.parentNode:null,Re=ye?ye.parentNode:null;return(Re&&Re.nodeType===Re.ELEMENT_NODE?Re.className:null)===Be.CLASS_NAME?ht.createFromDOMInfo(e,ee,M.startOffset):new Ye(F.parentNode)}else if(F.nodeType===F.ELEMENT_NODE){const ee=F.parentNode,ye=ee?ee.parentNode:null;return(ye&&ye.nodeType===ye.ELEMENT_NODE?ye.className:null)===Be.CLASS_NAME?ht.createFromDOMInfo(e,F,F.textContent.length):new Ye(F)}return new Ye}static _doHitTestWithCaretPositionFromPoint(e,o){const g=document.caretPositionFromPoint(o.clientX,o.clientY);if(g.offsetNode.nodeType===g.offsetNode.TEXT_NODE){const M=g.offsetNode.parentNode,F=M?M.parentNode:null,ee=F?F.parentNode:null;return(ee&&ee.nodeType===ee.ELEMENT_NODE?ee.className:null)===Be.CLASS_NAME?ht.createFromDOMInfo(e,g.offsetNode.parentNode,g.offset):new Ye(g.offsetNode.parentNode)}if(g.offsetNode.nodeType===g.offsetNode.ELEMENT_NODE){const M=g.offsetNode.parentNode,F=M&&M.nodeType===M.ELEMENT_NODE?M.className:null,ee=M?M.parentNode:null,ye=ee&&ee.nodeType===ee.ELEMENT_NODE?ee.className:null;if(F===Be.CLASS_NAME){const Re=g.offsetNode.childNodes[Math.min(g.offset,g.offsetNode.childNodes.length-1)];if(Re)return ht.createFromDOMInfo(e,Re,0)}else if(ye===Be.CLASS_NAME)return ht.createFromDOMInfo(e,g.offsetNode,0)}return new Ye(g.offsetNode)}static _snapToSoftTabBoundary(e,o){const g=o.getLineContent(e.lineNumber),{tabSize:M}=o.getTextModelOptions(),F=ze.l.atomicPosition(g,e.column-1,M,2);return F!==-1?new Le.L(e.lineNumber,F+1):e}static _doHitTest(e,o){let g=new Ye;if(typeof document.caretRangeFromPoint=="function"?g=this._doHitTestWithCaretRangeFromPoint(e,o):document.caretPositionFromPoint&&(g=this._doHitTestWithCaretPositionFromPoint(e,o.pos.toClientCoordinates())),g.type===1){const M=e.model.getInjectedTextAt(g.position),F=e.model.normalizePosition(g.position,2);(M||!F.equals(g.position))&&(g=new qe(F,g.spanNode,M))}return g.type===1&&e.stickyTabStops&&(g=new qe(this._snapToSoftTabBoundary(g.position,e.model),g.spanNode,g.injectedText)),g}}function oi(Tt,e,o){const g=document.createRange();let M=Tt.elementFromPoint(e,o);if(M!==null){for(;M&&M.firstChild&&M.firstChild.nodeType!==M.firstChild.TEXT_NODE&&M.lastChild&&M.lastChild.firstChild;)M=M.lastChild;const F=M.getBoundingClientRect(),ee=window.getComputedStyle(M,null).getPropertyValue("font"),ye=M.innerText;let Re=F.left,Qe=0,nt;if(e>F.left+F.width)Qe=ye.length;else{const ct=ni.getInstance();for(let Ot=0;Ot<ye.length+1;Ot++){if(nt=ct.getCharWidth(ye.charAt(Ot),ee)/2,Re+=nt,e<Re){Qe=Ot;break}Re+=nt}}g.setStart(M.firstChild,Qe),g.setEnd(M.firstChild,Qe)}return g}class ni{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return ni._INSTANCE||(ni._INSTANCE=new ni),ni._INSTANCE}getCharWidth(e,o){const g=e+o;if(this._cache[g])return this._cache[g];const M=this._canvas.getContext("2d");M.font=o;const ee=M.measureText(e).width;return this._cache[g]=ee,ee}}ni._INSTANCE=null;var hi=t(82334);function Di(Tt){return function(e,o){let g=!1;return Tt&&(g=Tt.mouseTargetIsWidget(o)),g||o.preventDefault(),o}}class Ti extends he{constructor(e,o,g){super(),this._context=e,this.viewController=o,this.viewHelper=g,this.mouseTargetFactory=new Bt(this._context,g),this._mouseDownOperation=this._register(new Ii(this._context,this.viewController,this.viewHelper,(ee,ye)=>this._createMouseTarget(ee,ye),ee=>this._getMouseColumn(ee))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const M=new q(this.viewHelper.viewDomNode);this._register(M.onContextMenu(this.viewHelper.viewDomNode,ee=>this._onContextMenu(ee,!0))),this._register(M.onMouseMoveThrottled(this.viewHelper.viewDomNode,ee=>this._onMouseMove(ee),Di(this.mouseTargetFactory),Ti.MOUSE_MOVE_MINIMUM_TIME)),this._register(M.onMouseUp(this.viewHelper.viewDomNode,ee=>this._onMouseUp(ee))),this._register(M.onMouseLeave(this.viewHelper.viewDomNode,ee=>this._onMouseLeave(ee))),this._register(M.onMouseDown(this.viewHelper.viewDomNode,ee=>this._onMouseDown(ee)));const F=ee=>{if(this.viewController.emitMouseWheel(ee),!this._context.configuration.options.get(67))return;const ye=new a.q(ee);if(v.dz?(ee.metaKey||ee.ctrlKey)&&!ee.shiftKey&&!ee.altKey:ee.ctrlKey&&!ee.metaKey&&!ee.shiftKey&&!ee.altKey){const Qe=hi.C.getZoomLevel(),nt=ye.deltaY>0?1:-1;hi.C.setZoomLevel(Qe+nt),ye.preventDefault(),ye.stopPropagation()}};this._register(x.nm(this.viewHelper.viewDomNode,x.tw.MOUSE_WHEEL,F,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const o=this._context.configuration.options.get(129).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,o){const M=new L(e,o).toPageCoordinates(),F=T(this.viewHelper.viewDomNode);return M.y<F.y||M.y>F.y+F.height||M.x<F.x||M.x>F.x+F.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),F,M,null)}_createMouseTarget(e,o){let g=e.target;if(!this.viewHelper.viewDomNode.contains(g)){const M=x.Ay(this.viewHelper.viewDomNode);M&&(g=M.elementsFromPoint(e.posx,e.posy).find(F=>this.viewHelper.viewDomNode.contains(F)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,o?g:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,o){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,o)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const o=this._createMouseTarget(e,!0),g=o.type===6||o.type===7,M=o.type===2||o.type===3||o.type===4,F=o.type===3,ee=this._context.configuration.options.get(97),ye=o.type===8||o.type===5,Re=o.type===9;let Qe=e.leftButton||e.middleButton;v.dz&&e.leftButton&&e.ctrlKey&&(Qe=!1);const nt=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(Qe&&(g||F&&ee))nt(),this._mouseDownOperation.start(o.type,e);else if(M)e.preventDefault();else if(ye){const ct=o.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(ct.viewZoneId)&&(nt(),this._mouseDownOperation.start(o.type,e),e.preventDefault())}else Re&&this.viewHelper.shouldSuppressMouseDownOnWidget(o.detail)&&(nt(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:o})}}Ti.MOUSE_MOVE_MINIMUM_TIME=100;class Ii extends C.JT{constructor(e,o,g,M,F){super(),this._context=e,this._viewController=o,this._viewHelper=g,this._createMouseTarget=M,this._getMouseColumn=F,this._mouseMoveMonitor=this._register(new ne(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new u._F),this._mouseState=new ai,this._currentSelection=new p.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const o=this._findMousePosition(e,!0);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:o}):this._dispatchMouse(o,!0))}start(e,o){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const g=this._findMousePosition(o,!0);if(!g||!g.position)return;this._mouseState.trySetCount(o.detail,g.position),o.detail=this._mouseState.count;const M=this._context.configuration.options;if(!M.get(80)&&M.get(31)&&!M.get(18)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&g.type===6&&g.position&&this._currentSelection.containsPosition(g.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(o.target,o.buttons,Di(null),F=>this._onMouseDownThenMove(F),F=>{const ee=this._findMousePosition(this._lastMouseEvent,!0);F&&F instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:ee?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(g,o.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(o.target,o.buttons,Di(null),F=>this._onMouseDownThenMove(F),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const o=e.editorPos,g=this._context.model,M=this._context.viewLayout,F=this._getMouseColumn(e);if(e.posy<o.y){const ye=Math.max(M.getCurrentScrollTop()-(o.y-e.posy),0),Re=Je.getZoneAtCoord(this._context,ye);if(Re){const nt=this._helpPositionJumpOverViewZone(Re);if(nt)return new zt(null,13,F,nt)}const Qe=M.getLineNumberAtVerticalOffset(ye);return new zt(null,13,F,new Le.L(Qe,1))}if(e.posy>o.y+o.height){const ye=M.getCurrentScrollTop()+(e.posy-o.y),Re=Je.getZoneAtCoord(this._context,ye);if(Re){const nt=this._helpPositionJumpOverViewZone(Re);if(nt)return new zt(null,13,F,nt)}const Qe=M.getLineNumberAtVerticalOffset(ye);return new zt(null,13,F,new Le.L(Qe,g.getLineMaxColumn(Qe)))}const ee=M.getLineNumberAtVerticalOffset(M.getCurrentScrollTop()+(e.posy-o.y));return e.posx<o.x?new zt(null,13,F,new Le.L(ee,1)):e.posx>o.x+o.width?new zt(null,13,F,new Le.L(ee,g.getLineMaxColumn(ee))):null}_findMousePosition(e,o){const g=this._getPositionOutsideEditor(e);if(g)return g;const M=this._createMouseTarget(e,o);if(!M.position)return null;if(M.type===8||M.type===5){const ee=this._helpPositionJumpOverViewZone(M.detail);if(ee)return new zt(M.element,M.type,M.mouseColumn,ee,null,M.detail)}return M}_helpPositionJumpOverViewZone(e){const o=new Le.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),g=e.positionBefore,M=e.positionAfter;return g&&M?g.isBefore(o)?g:M:null}_dispatchMouse(e,o){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class ai{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,o){const g=new Date().getTime();g-this._lastSetMouseDownCountTime>ai.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=g,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}ai.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Pt=t(10161),Gt=t(35715);class ot extends Ti{constructor(e,o,g){super(e,o,g),this._register(d.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(x.nm(this.viewHelper.linesContentDomNode,d.t.Tap,F=>this.onTap(F))),this._register(x.nm(this.viewHelper.linesContentDomNode,d.t.Change,F=>this.onChange(F))),this._register(x.nm(this.viewHelper.linesContentDomNode,d.t.Contextmenu,F=>this._onContextMenu(new j(F,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(x.nm(this.viewHelper.linesContentDomNode,"pointerdown",F=>{const ee=F.pointerType;if(ee==="mouse"){this._lastPointerType="mouse";return}else ee==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const M=new ie(this.viewHelper.viewDomNode);this._register(M.onPointerMoveThrottled(this.viewHelper.viewDomNode,F=>this._onMouseMove(F),Di(this.mouseTargetFactory),Ti.MOUSE_MOVE_MINIMUM_TIME)),this._register(M.onPointerUp(this.viewHelper.viewDomNode,F=>this._onMouseUp(F))),this._register(M.onPointerLeave(this.viewHelper.viewDomNode,F=>this._onMouseLeave(F))),this._register(M.onPointerDown(this.viewHelper.viewDomNode,F=>this._onMouseDown(F)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new j(e,this.viewHelper.viewDomNode),!1);o.position&&this.viewController.dispatchMouse({position:o.position,mouseColumn:o.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}}class mt extends Ti{constructor(e,o,g){super(e,o,g),this._register(d.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(x.nm(this.viewHelper.linesContentDomNode,d.t.Tap,M=>this.onTap(M))),this._register(x.nm(this.viewHelper.linesContentDomNode,d.t.Change,M=>this.onChange(M))),this._register(x.nm(this.viewHelper.linesContentDomNode,d.t.Contextmenu,M=>this._onContextMenu(new j(M,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new j(e,this.viewHelper.viewDomNode),!1);if(o.position){const g=document.createEvent("CustomEvent");g.initEvent(Gt.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(g),this.viewController.moveTo(o.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class ft extends C.JT{constructor(e,o,g){super(),v.gn&&Pt.D.pointerEvents?this.handler=this._register(new ot(e,o,g)):window.TouchEvent?this.handler=this._register(new mt(e,o,g)):this.handler=this._register(new Ti(e,o,g))}getTargetAtClientPoint(e,o){return this.handler.getTargetAtClientPoint(e,o)}}var Xe=t(97295),Ge=t(15887);class Ie extends he{}var Pe=t(27869),je=t(97781);class dt extends Ie{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Le.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);const o=e.get(59);this._renderLineNumbers=o.renderType,this._renderCustomLineNumbers=o.renderFn,this._renderFinalNewline=e.get(83);const g=e.get(129);this._lineNumbersLeft=g.lineNumbersLeft,this._lineNumbersWidth=g.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const o=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(o);let g=!1;return this._activeLineNumber!==o.lineNumber&&(this._activeLineNumber=o.lineNumber,g=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(g=!0),g}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const o=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Le.L(e,1));if(o.column!==1)return"";const g=o.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(g);if(this._renderLineNumbers===2){const M=Math.abs(this._lastCursorModelPosition.lineNumber-g);return M===0?'<span class="relative-current-line-number">'+g+"</span>":String(M)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===g||g%10===0?String(g):"":String(g)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const o=v.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",g=e.visibleRange.startLineNumber,M=e.visibleRange.endLineNumber,F='<div class="'+dt.CLASS_NAME+o+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',ee=this._context.model.getLineCount(),ye=[];for(let Re=g;Re<=M;Re++){const Qe=Re-g;if(!this._renderFinalNewline&&Re===ee&&this._context.model.getLineLength(Re)===0){ye[Qe]="";continue}const nt=this._getLineRenderLineNumber(Re);nt?Re===this._activeLineNumber?ye[Qe]='<div class="active-line-number '+dt.CLASS_NAME+o+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+nt+"</div>":ye[Qe]=F+nt+"</div>":ye[Qe]=""}this._renderResult=ye}render(e,o){if(!this._renderResult)return"";const g=o-e;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}dt.CLASS_NAME="line-numbers",(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(Pe.hw);o&&e.addRule(`.monaco-editor .line-numbers { color: ${o}; }`);const g=Tt.getColor(Pe.DD);g&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${g}; }`)});class Nt extends ${constructor(e){super(e);const o=this._context.configuration.options,g=o.get(129);this._canUseLayerHinting=!o.get(28),this._contentLeft=g.contentLeft,this._glyphMarginLeft=g.glyphMarginLeft,this._glyphMarginWidth=g.glyphMarginWidth,this._domNode=(0,f.X)(document.createElement("div")),this._domNode.setClassName(Nt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,f.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Nt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const o=this._context.configuration.options,g=o.get(129);return this._canUseLayerHinting=!o.get(28),this._contentLeft=g.contentLeft,this._glyphMarginLeft=g.glyphMarginLeft,this._glyphMarginWidth=g.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const o=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-o);const g=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(g),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(g)}}Nt.CLASS_NAME="glyph-margin",Nt.OUTER_CLASS_NAME="margin";var $t=t(59410),Xt=t(49335);class Ci{constructor(e,o,g){this._visibleTextAreaBrand=void 0,this.top=e,this.left=o,this.width=g}setWidth(e){return new Ci(this.top,this.left,e)}}const Zt=n.vU;class mi extends ${constructor(e,o,g){super(e),this._primaryCursorPosition=new Le.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=o,this._viewHelper=g,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,F=M.get(129);this._setAccessibilityOptions(M),this._contentLeft=F.contentLeft,this._contentWidth=F.contentWidth,this._contentHeight=F.height,this._fontInfo=M.get(43),this._lineHeight=M.get(58),this._emptySelectionClipboard=M.get(32),this._copyWithSyntaxHighlighting=M.get(21),this._visibleTextArea=null,this._selections=[new p.Y(1,1,1,1)],this._modelSelections=[new p.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,f.X)(document.createElement("textarea")),V.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Xt.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("tabindex",String(M.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",G.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),M.get(30)&&M.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,f.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const ee={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:Re=>this._context.model.getLineMaxColumn(Re),getValueInRange:(Re,Qe)=>this._context.model.getValueInRange(Re,Qe)},ye={getDataToCopy:Re=>{const Qe=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,v.ED),nt=this._context.model.getEOL(),ct=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Ot=Array.isArray(Qe)?Qe:null,xt=Array.isArray(Qe)?Qe.join(nt):Qe;let Kt,qt=null;if(Re&&(Gt.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&xt.length<65536)){const di=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);di&&(Kt=di.html,qt=di.mode)}return{isFromEmptySelection:ct,multicursorText:Ot,text:xt,html:Kt,mode:qt}},getScreenReaderContent:Re=>{if(this._accessibilitySupport===1){if(v.dz){const Qe=this._selections[0];if(Qe.isEmpty()){const nt=Qe.getStartPosition();let ct=this._getWordBeforePosition(nt);if(ct.length===0&&(ct=this._getCharacterBeforePosition(nt)),ct.length>0)return new Ge.un(ct,ct.length,ct.length,nt,nt)}}return Ge.un.EMPTY}if(n.Dt){const Qe=this._selections[0];if(Qe.isEmpty()){const nt=Qe.getStartPosition(),[ct,Ot]=this._getAndroidWordAtPosition(nt);if(ct.length>0)return new Ge.un(ct,Ot,Ot,nt,nt)}return Ge.un.EMPTY}return Ge.ee.fromEditorSelection(Re,ee,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(Re,Qe,nt)=>this._context.model.deduceModelPositionRelativeToViewPosition(Re,Qe,nt)};this._textAreaInput=this._register(new Gt.Fz(ye,this.textArea)),this._register(this._textAreaInput.onKeyDown(Re=>{this._viewController.emitKeyDown(Re)})),this._register(this._textAreaInput.onKeyUp(Re=>{this._viewController.emitKeyUp(Re)})),this._register(this._textAreaInput.onPaste(Re=>{let Qe=!1,nt=null,ct=null;Re.metadata&&(Qe=this._emptySelectionClipboard&&!!Re.metadata.isFromEmptySelection,nt=typeof Re.metadata.multicursorText!="undefined"?Re.metadata.multicursorText:null,ct=Re.metadata.mode),this._viewController.paste(Re.text,Qe,nt,ct)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Re=>{Re.replacePrevCharCnt||Re.replaceNextCharCnt||Re.positionDelta?(Ge.al&&console.log(` => compositionType: <<${Re.text}>>, ${Re.replacePrevCharCnt}, ${Re.replaceNextCharCnt}, ${Re.positionDelta}`),this._viewController.compositionType(Re.text,Re.replacePrevCharCnt,Re.replaceNextCharCnt,Re.positionDelta)):(Ge.al&&console.log(` => type: <<${Re.text}>>`),this._viewController.type(Re.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Re=>{this._viewController.setSelection(Re)})),this._register(this._textAreaInput.onCompositionStart(Re=>{const Qe=this._selections[0].startLineNumber,nt=this._selections[0].startColumn+Re.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new Me.e(Qe,nt,Qe,nt),0,1);const ct=this._viewHelper.visibleRangeForPositionRelativeToEditor(Qe,nt);ct&&(this._visibleTextArea=new Ci(this._context.viewLayout.getVerticalOffsetForLineNumber(Qe),ct.left,Zt?0:1),this._render()),this.textArea.setClassName(`inputarea ${Xt.S} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Re=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(pt(Re.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Xt.S}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const o='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',g=this._context.model.getLineContent(e.lineNumber),M=(0,$t.u)(o);let F=!0,ee=e.column,ye=!0,Re=e.column,Qe=0;for(;Qe<50&&(F||ye);){if(F&&ee<=1&&(F=!1),F){const nt=g.charCodeAt(ee-2);M.get(nt)!==0?F=!1:ee--}if(ye&&Re>g.length&&(ye=!1),ye){const nt=g.charCodeAt(Re-1);M.get(nt)!==0?ye=!1:Re++}Qe++}return[g.substring(ee-1,Re-1),e.column-ee]}_getWordBeforePosition(e){const o=this._context.model.getLineContent(e.lineNumber),g=(0,$t.u)(this._context.configuration.options.get(115));let M=e.column,F=0;for(;M>1;){const ee=o.charCodeAt(M-2);if(g.get(ee)!==0||F>50)return o.substring(M-1,e.column-1);F++,M--}return o.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const g=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!Xe.ZG(g.charCodeAt(0)))return g}return""}_getAriaLabel(e){return e.get(2)===1?G.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",v.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const o=e.get(3);this._accessibilitySupport===2&&o===ue.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=o}onConfigurationChanged(e){const o=this._context.configuration.options,g=o.get(129);return this._setAccessibilityOptions(o),this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,this._contentHeight=g.height,this._fontInfo=o.get(43),this._lineHeight=o.get(58),this._emptySelectionClipboard=o.get(32),this._copyWithSyntaxHighlighting=o.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(o.get(30)&&o.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Le.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(o<0||o>this._contentHeight){this._renderAtTopLeft();return}if(v.dz){this._renderInsideEditor(this._primaryCursorPosition,o,e,Zt?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,o,e,Zt?0:1,Zt?0:1)}_renderInsideEditor(e,o,g,M,F){this._lastRenderPosition=e;const ee=this.textArea,ye=this.textAreaCover;m.V.applyFontInfo(ee,this._fontInfo),ee.setTop(o),ee.setLeft(g),ee.setWidth(M),ee.setHeight(F),ye.setTop(0),ye.setLeft(0),ye.setWidth(0),ye.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,o=this.textAreaCover;if(m.V.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),o.setTop(0),o.setLeft(0),Zt){e.setWidth(0),e.setHeight(0),o.setWidth(0),o.setHeight(0);return}e.setWidth(1),e.setHeight(1),o.setWidth(1),o.setHeight(1);const g=this._context.configuration.options;g.get(49)?o.setClassName("monaco-editor-background textAreaCover "+Nt.OUTER_CLASS_NAME):g.get(59).renderType!==0?o.setClassName("monaco-editor-background textAreaCover "+dt.CLASS_NAME):o.setClassName("monaco-editor-background textAreaCover")}}function pt(Tt,e){const g=document.createElement("canvas").getContext("2d");g.font=ut(e);const M=g.measureText(Tt);return n.vU?M.width+2:M.width}function ut(Tt){return tt("normal",Tt.fontWeight,Tt.fontSize,Tt.lineHeight,Tt.fontFamily)}function tt(Tt,e,o,g,M){return`${Tt} normal ${e} ${o}px / ${g}px ${M}`}var de=t(68770);class be{constructor(e,o,g,M){this.configuration=e,this.viewModel=o,this.userInputEvents=g,this.commandDelegate=M}paste(e,o,g,M){this.commandDelegate.paste(e,o,g,M)}type(e){this.commandDelegate.type(e)}compositionType(e,o,g,M){this.commandDelegate.compositionType(e,o,g,M)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){de.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const o=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<o?new Le.L(e.lineNumber,o):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const o=this.configuration.options,g=v.IJ&&o.get(95),M=o.get(18);e.middleButton&&!g?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):M?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){de.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){de.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,o,g){e=this._validateViewColumn(e),de.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:o,doColumnSelect:g})}_createCursor(e,o){e=this._validateViewColumn(e),de.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:o})}_lastCursorMoveToSelect(e){de.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){de.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){de.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){de.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){de.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){de.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){de.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){de.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){de.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class J{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return J.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,o){return new pe(e.element,e.type,e.mouseColumn,e.position?o.convertViewPositionToModelPosition(e.position):null,e.range?o.convertViewRangeToModelRange(e.range):null,e.detail)}}class pe{constructor(e,o,g,M,F,ee){this.element=e,this.type=o,this.mouseColumn=g,this.position=M,this.range=F,this.detail=ee}toString(){return zt.toString(this)}}var ke=t(50072),at;class st{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,o){this._lines=o,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const o=e-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(e,o){if(this.getCount()===0)return null;const g=this.getStartLineNumber(),M=this.getEndLineNumber();if(o<g){const Re=o-e+1;return this._rendLineNumberStart-=Re,null}if(e>M)return null;let F=0,ee=0;for(let Re=g;Re<=M;Re++){const Qe=Re-this._rendLineNumberStart;e<=Re&&Re<=o&&(ee===0?(F=Qe,ee=1):ee++)}if(e<g){let Re=0;o<g?Re=o-e+1:Re=g-e,this._rendLineNumberStart-=Re}return this._lines.splice(F,ee)}onLinesChanged(e,o){if(this.getCount()===0)return!1;const g=this.getStartLineNumber(),M=this.getEndLineNumber();let F=!1;for(let ee=e;ee<=o;ee++)ee>=g&&ee<=M&&(this._lines[ee-this._rendLineNumberStart].onContentChanged(),F=!0);return F}onLinesInserted(e,o){if(this.getCount()===0)return null;const g=o-e+1,M=this.getStartLineNumber(),F=this.getEndLineNumber();if(e<=M)return this._rendLineNumberStart+=g,null;if(e>F)return null;if(g+e>F)return this._lines.splice(e-this._rendLineNumberStart,F-e+1);const ee=[];for(let ct=0;ct<g;ct++)ee[ct]=this._createLine();const ye=e-this._rendLineNumberStart,Re=this._lines.slice(0,ye),Qe=this._lines.slice(ye,this._lines.length-g),nt=this._lines.slice(this._lines.length-g,this._lines.length);return this._lines=Re.concat(ee).concat(Qe),nt}onTokensChanged(e){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),g=this.getEndLineNumber();let M=!1;for(let F=0,ee=e.length;F<ee;F++){const ye=e[F];if(ye.toLineNumber<o||ye.fromLineNumber>g)continue;const Re=Math.max(o,ye.fromLineNumber),Qe=Math.min(g,ye.toLineNumber);for(let nt=Re;nt<=Qe;nt++){const ct=nt-this._rendLineNumberStart;this._lines[ct].onTokensChanged(),M=!0}}return M}}class _t{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new st(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,f.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const o=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(o)for(let g=0,M=o.length;g<M;g++){const F=o[g].getDomNode();F&&this.domNode.domNode.removeChild(F)}return!0}onLinesInserted(e){const o=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(o)for(let g=0,M=o.length;g<M;g++){const F=o[g].getDomNode();F&&this.domNode.domNode.removeChild(F)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const o=this._linesCollection._get(),g=new Et(this.domNode.domNode,this._host,e),M={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},F=g.render(M,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(F.rendLineNumberStart,F.lines)}}class Et{constructor(e,o,g){this.domNode=e,this.host=o,this.viewportData=g}render(e,o,g,M){const F={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(F.rendLineNumberStart+F.linesLength-1<o||g<F.rendLineNumberStart){F.rendLineNumberStart=o,F.linesLength=g-o+1,F.lines=[];for(let ee=o;ee<=g;ee++)F.lines[ee-o]=this.host.createVisibleLine();return this._finishRendering(F,!0,M),F}if(this._renderUntouchedLines(F,Math.max(o-F.rendLineNumberStart,0),Math.min(g-F.rendLineNumberStart,F.linesLength-1),M,o),F.rendLineNumberStart>o){const ee=o,ye=Math.min(g,F.rendLineNumberStart-1);ee<=ye&&(this._insertLinesBefore(F,ee,ye,M,o),F.linesLength+=ye-ee+1)}else if(F.rendLineNumberStart<o){const ee=Math.min(F.linesLength,o-F.rendLineNumberStart);ee>0&&(this._removeLinesBefore(F,ee),F.linesLength-=ee)}if(F.rendLineNumberStart=o,F.rendLineNumberStart+F.linesLength-1<g){const ee=F.rendLineNumberStart+F.linesLength,ye=g;ee<=ye&&(this._insertLinesAfter(F,ee,ye,M,o),F.linesLength+=ye-ee+1)}else if(F.rendLineNumberStart+F.linesLength-1>g){const ee=Math.max(0,g-F.rendLineNumberStart+1),Re=F.linesLength-1-ee+1;Re>0&&(this._removeLinesAfter(F,Re),F.linesLength-=Re)}return this._finishRendering(F,!1,M),F}_renderUntouchedLines(e,o,g,M,F){const ee=e.rendLineNumberStart,ye=e.lines;for(let Re=o;Re<=g;Re++){const Qe=ee+Re;ye[Re].layoutLine(Qe,M[Qe-F])}}_insertLinesBefore(e,o,g,M,F){const ee=[];let ye=0;for(let Re=o;Re<=g;Re++)ee[ye++]=this.host.createVisibleLine();e.lines=ee.concat(e.lines)}_removeLinesBefore(e,o){for(let g=0;g<o;g++){const M=e.lines[g].getDomNode();M&&this.domNode.removeChild(M)}e.lines.splice(0,o)}_insertLinesAfter(e,o,g,M,F){const ee=[];let ye=0;for(let Re=o;Re<=g;Re++)ee[ye++]=this.host.createVisibleLine();e.lines=e.lines.concat(ee)}_removeLinesAfter(e,o){const g=e.linesLength-o;for(let M=0;M<o;M++){const F=e.lines[g+M].getDomNode();F&&this.domNode.removeChild(F)}e.lines.splice(g,o)}_finishRenderingNewLines(e,o,g,M){Et._ttPolicy&&(g=Et._ttPolicy.createHTML(g));const F=this.domNode.lastChild;o||!F?this.domNode.innerHTML=g:F.insertAdjacentHTML("afterend",g);let ee=this.domNode.lastChild;for(let ye=e.linesLength-1;ye>=0;ye--){const Re=e.lines[ye];M[ye]&&(Re.setDomNode(ee),ee=ee.previousSibling)}}_finishRenderingInvalidLines(e,o,g){const M=document.createElement("div");Et._ttPolicy&&(o=Et._ttPolicy.createHTML(o)),M.innerHTML=o;for(let F=0;F<e.linesLength;F++){const ee=e.lines[F];if(g[F]){const ye=M.firstChild,Re=ee.getDomNode();Re.parentNode.replaceChild(ye,Re),ee.setDomNode(ye)}}}_finishRendering(e,o,g){const M=Et._sb,F=e.linesLength,ee=e.lines,ye=e.rendLineNumberStart,Re=[];{M.reset();let Qe=!1;for(let nt=0;nt<F;nt++){const ct=ee[nt];Re[nt]=!1,!(ct.getDomNode()||!ct.renderLine(nt+ye,g[nt],this.viewportData,M))&&(Re[nt]=!0,Qe=!0)}Qe&&this._finishRenderingNewLines(e,o,M.build(),Re)}{M.reset();let Qe=!1;const nt=[];for(let ct=0;ct<F;ct++){const Ot=ee[ct];nt[ct]=!1,!(Re[ct]||!Ot.renderLine(ct+ye,g[ct],this.viewportData,M))&&(nt[ct]=!0,Qe=!0)}Qe&&this._finishRenderingInvalidLines(e,M.build(),nt)}}}Et._ttPolicy=(at=window.trustedTypes)===null||at===void 0?void 0:at.createPolicy("editorViewLayer",{createHTML:Tt=>Tt}),Et._sb=(0,ke.l$)(1e5);class Wt extends ${constructor(e){super(e),this._visibleLines=new _t(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,o=this._dynamicOverlays.length;e<o;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,o=this._dynamicOverlays.length;e<o;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Mt(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();for(let M=o;M<=g;M++)this._visibleLines.getVisibleLine(M).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const o=this._dynamicOverlays.filter(g=>g.shouldRender());for(let g=0,M=o.length;g<M;g++){const F=o[g];F.prepareRender(e),F.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Mt{constructor(e,o){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,f.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,o,g,M){let F="";for(let ee=0,ye=this._dynamicOverlays.length;ee<ye;ee++){const Re=this._dynamicOverlays[ee];F+=Re.render(g.startLineNumber,e)}return this._renderedContent===F?!1:(this._renderedContent=F,M.appendASCIIString('<div style="position:absolute;top:'),M.appendASCIIString(String(o)),M.appendASCIIString("px;width:100%;height:"),M.appendASCIIString(String(this._lineHeight)),M.appendASCIIString('px;">'),M.appendASCIIString(F),M.appendASCIIString("</div>"),!0)}layoutLine(e,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}class Jt extends Wt{constructor(e){super(e);const g=this._context.configuration.options.get(129);this._contentWidth=g.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const g=this._context.configuration.options.get(129);return this._contentWidth=g.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class jt extends Wt{constructor(e){super(e);const o=this._context.configuration.options,g=o.get(129);this._contentLeft=g.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),m.V.applyFontInfo(this.domNode,o.get(43))}onConfigurationChanged(e){const o=this._context.configuration.options;m.V.applyFontInfo(this.domNode,o.get(43));const g=o.get(129);return this._contentLeft=g.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const o=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}class ui{constructor(e,o){this._coordinateBrand=void 0,this.top=e,this.left=o}}class _i extends ${constructor(e,o){super(e),this._viewDomNode=o,this._widgets={},this.domNode=(0,f.X)(document.createElement("div")),V.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,f.X)(document.createElement("div")),V.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const o=new bi(this._context,this._viewDomNode,e);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(e,o,g){this._widgets[e.getId()].setPosition(o,g),this.setShouldRender()}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const g=this._widgets[o];delete this._widgets[o];const M=g.domNode.domNode;M.parentNode.removeChild(M),M.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].onBeforeRender(e)}prepareRender(e){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].prepareRender(e)}render(e){const o=Object.keys(this._widgets);for(const g of o)this._widgets[g].render(e)}}class bi{constructor(e,o,g){this._context=e,this._viewDomNode=o,this._actual=g,this.domNode=(0,f.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const M=this._context.configuration.options,F=M.get(129);this._fixedOverflowWidgets=M.get(36),this._contentWidth=F.contentWidth,this._contentLeft=F.contentLeft,this._lineHeight=M.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const o=this._context.configuration.options;if(this._lineHeight=o.get(58),e.hasChanged(129)){const g=o.get(129);this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const o=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(o.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(o.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(o))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,o){this._setPosition(e),this._preference=o,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,o,g,M,F){const ee=e.top,ye=ee,Re=o.top+this._lineHeight,Qe=F.viewportHeight-Re,nt=ee-M,ct=ye>=M,Ot=Re,xt=Qe>=M;let Kt=e.left,qt=o.left;return Kt+g>F.scrollLeft+F.viewportWidth&&(Kt=F.scrollLeft+F.viewportWidth-g),qt+g>F.scrollLeft+F.viewportWidth&&(qt=F.scrollLeft+F.viewportWidth-g),Kt<F.scrollLeft&&(Kt=F.scrollLeft),qt<F.scrollLeft&&(qt=F.scrollLeft),{fitsAbove:ct,aboveTop:nt,aboveLeft:Kt,fitsBelow:xt,belowTop:Ot,belowLeft:qt}}_layoutHorizontalSegmentInPage(e,o,g,M){const F=Math.max(0,o.left-M),ee=Math.min(o.left+o.width+M,e.width);let ye=o.left+g-x.DI.scrollX;if(ye+M>ee){const Re=ye-(ee-M);ye-=Re,g-=Re}if(ye<F){const Re=ye-F;ye-=Re,g-=Re}return[g,ye]}_layoutBoxInPage(e,o,g,M,F){const ee=e.top-M,ye=o.top+this._lineHeight,Re=x.i(this._viewDomNode.domNode),Qe=Re.top+ee-x.DI.scrollY,nt=Re.top+ye-x.DI.scrollY,ct=x.D6(document.body),[Ot,xt]=this._layoutHorizontalSegmentInPage(ct,Re,e.left-F.scrollLeft+this._contentLeft,g),[Kt,qt]=this._layoutHorizontalSegmentInPage(ct,Re,o.left-F.scrollLeft+this._contentLeft,g),di=22,pi=22,Li=Qe>=di,Si=nt+M<=ct.height-pi;return this._fixedOverflowWidgets?{fitsAbove:Li,aboveTop:Math.max(Qe,di),aboveLeft:xt,fitsBelow:Si,belowTop:nt,belowLeft:qt}:{fitsAbove:Li,aboveTop:ee,aboveLeft:Ot,fitsBelow:Si,belowTop:ye,belowLeft:Kt}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new ui(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const o=e.linesVisibleRangesForRange(this._viewRange,!1);if(!o||o.length===0)return[null,null];let g=o[0],M=o[0];for(const ct of o)ct.lineNumber<g.lineNumber&&(g=ct),ct.lineNumber>M.lineNumber&&(M=ct);let F=1073741824;for(const ct of g.ranges)ct.left<F&&(F=ct.left);let ee=1073741824;for(const ct of M.ranges)ct.left<ee&&(ee=ct.left);const ye=e.getVerticalOffsetForLineNumber(g.lineNumber)-e.scrollTop,Re=new ui(ye,F),Qe=e.getVerticalOffsetForLineNumber(M.lineNumber)-e.scrollTop,nt=new ui(Qe,ee);return[Re,nt]}_prepareRenderWidget(e){const[o,g]=this._getTopAndBottomLeft(e);if(!o||!g)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let F=null;if(typeof this._actual.beforeRender=="function"&&(F=Ai(this._actual.beforeRender,this._actual)),F)this._cachedDomNodeClientWidth=F.width,this._cachedDomNodeClientHeight=F.height;else{const ee=this.domNode.domNode;this._cachedDomNodeClientWidth=ee.clientWidth,this._cachedDomNodeClientHeight=ee.clientHeight}}let M;if(this.allowEditorOverflow?M=this._layoutBoxInPage(o,g,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):M=this._layoutBoxInViewport(o,g,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let F=1;F<=2;F++)for(const ee of this._preference)if(ee===1){if(!M)return null;if(F===2||M.fitsAbove)return{coordinate:new ui(M.aboveTop,M.aboveLeft),position:1}}else if(ee===2){if(!M)return null;if(F===2||M.fitsBelow)return{coordinate:new ui(M.belowTop,M.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(o),position:0}:{coordinate:o,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&Ai(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&Ai(this._actual.afterRender,this._actual,this._renderData.position)}}function Ai(Tt,e,...o){try{return Tt.call(e,...o)}catch(g){return null}}var Ri=t(9488);let zi=!0;class hn extends Ie{constructor(e){super(),this._context=e;const o=this._context.configuration.options,g=o.get(129);this._lineHeight=o.get(58),this._renderLineHighlight=o.get(84),this._renderLineHighlightOnlyWhenFocus=o.get(85),this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new p.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const o=zi?this._selections.slice(0,1):this._selections,g=o.map(F=>F.positionLineNumber);g.sort((F,ee)=>F-ee),Ri.fS(this._cursorLineNumbers,g)||(this._cursorLineNumbers=g,e=!0);const M=o.every(F=>F.isEmpty());return this._selectionIsEmpty!==M&&(this._selectionIsEmpty=M,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const o=this._context.configuration.options,g=o.get(129);return this._lineHeight=o.get(58),this._renderLineHighlight=o.get(84),this._renderLineHighlightOnlyWhenFocus=o.get(85),this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const o=this._renderOne(e),g=e.visibleRange.startLineNumber,M=e.visibleRange.endLineNumber,F=this._cursorLineNumbers.length;let ee=0;const ye=[];for(let Re=g;Re<=M;Re++){const Qe=Re-g;for(;ee<F&&this._cursorLineNumbers[ee]<Re;)ee++;ee<F&&this._cursorLineNumbers[ee]===Re?ye[Qe]=o:ye[Qe]=""}this._renderData=ye}render(e,o){if(!this._renderData)return"";const g=o-e;return g>=this._renderData.length?"":this._renderData[g]}}class bn extends hn{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Xi extends hn{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}(0,je.Ic)((Tt,e)=>{zi=!1;const o=Tt.getColor(Pe.Kh);if(o&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${o}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${o}; border: none; }`)),!o||o.isTransparent()||Tt.defines(Pe.Mm)){const g=Tt.getColor(Pe.Mm);g&&(zi=!0,e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${g}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${g}; }`),Tt.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class xn extends Ie{constructor(e){super(),this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(58),this._typicalHalfwidthCharacterWidth=o.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(58),this._typicalHalfwidthCharacterWidth=o.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const o=e.getDecorationsInViewport();let g=[],M=0;for(let Re=0,Qe=o.length;Re<Qe;Re++){const nt=o[Re];nt.options.className&&(g[M++]=nt)}g=g.sort((Re,Qe)=>{if(Re.options.zIndex<Qe.options.zIndex)return-1;if(Re.options.zIndex>Qe.options.zIndex)return 1;const nt=Re.options.className,ct=Qe.options.className;return nt<ct?-1:nt>ct?1:Me.e.compareRangesUsingStarts(Re.range,Qe.range)});const F=e.visibleRange.startLineNumber,ee=e.visibleRange.endLineNumber,ye=[];for(let Re=F;Re<=ee;Re++){const Qe=Re-F;ye[Qe]=""}this._renderWholeLineDecorations(e,g,ye),this._renderNormalDecorations(e,g,ye),this._renderResult=ye}_renderWholeLineDecorations(e,o,g){const M=String(this._lineHeight),F=e.visibleRange.startLineNumber,ee=e.visibleRange.endLineNumber;for(let ye=0,Re=o.length;ye<Re;ye++){const Qe=o[ye];if(!Qe.options.isWholeLine)continue;const nt='<div class="cdr '+Qe.options.className+'" style="left:0;width:100%;height:'+M+'px;"></div>',ct=Math.max(Qe.range.startLineNumber,F),Ot=Math.min(Qe.range.endLineNumber,ee);for(let xt=ct;xt<=Ot;xt++){const Kt=xt-F;g[Kt]+=nt}}}_renderNormalDecorations(e,o,g){const M=String(this._lineHeight),F=e.visibleRange.startLineNumber;let ee=null,ye=!1,Re=null;for(let Qe=0,nt=o.length;Qe<nt;Qe++){const ct=o[Qe];if(ct.options.isWholeLine)continue;const Ot=ct.options.className,xt=!!ct.options.showIfCollapsed;let Kt=ct.range;if(xt&&Kt.endColumn===1&&Kt.endLineNumber!==Kt.startLineNumber&&(Kt=new Me.e(Kt.startLineNumber,Kt.startColumn,Kt.endLineNumber-1,this._context.model.getLineMaxColumn(Kt.endLineNumber-1))),ee===Ot&&ye===xt&&Me.e.areIntersectingOrTouching(Re,Kt)){Re=Me.e.plusRange(Re,Kt);continue}ee!==null&&this._renderNormalDecoration(e,Re,ee,ye,M,F,g),ee=Ot,ye=xt,Re=Kt}ee!==null&&this._renderNormalDecoration(e,Re,ee,ye,M,F,g)}_renderNormalDecoration(e,o,g,M,F,ee,ye){const Re=e.linesVisibleRangesForRange(o,g==="findMatch");if(Re)for(let Qe=0,nt=Re.length;Qe<nt;Qe++){const ct=Re[Qe];if(ct.outsideRenderedLine)continue;const Ot=ct.lineNumber-ee;if(M&&ct.ranges.length===1){const xt=ct.ranges[0];xt.width===0&&(ct.ranges[0]=new E(xt.left,this._typicalHalfwidthCharacterWidth))}for(let xt=0,Kt=ct.ranges.length;xt<Kt;xt++){const qt=ct.ranges[xt],di='<div class="cdr '+g+'" style="left:'+String(qt.left)+"px;width:"+String(qt.width)+"px;height:"+F+'px;"></div>';ye[Ot]+=di}}}render(e,o){if(!this._renderResult)return"";const g=o-e;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}var Sn=t(13433),en=t(73910);class Pn extends ${constructor(e,o,g,M){super(e);const F=this._context.configuration.options,ee=F.get(91),ye=F.get(66),Re=F.get(34),Qe=F.get(94),nt={listenOnDomNode:g.domNode,className:"editor-scrollable "+(0,je.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:ee.vertical,horizontal:ee.horizontal,verticalHasArrows:ee.verticalHasArrows,horizontalHasArrows:ee.horizontalHasArrows,verticalScrollbarSize:ee.verticalScrollbarSize,verticalSliderSize:ee.verticalSliderSize,horizontalScrollbarSize:ee.horizontalScrollbarSize,horizontalSliderSize:ee.horizontalSliderSize,handleMouseWheel:ee.handleMouseWheel,alwaysConsumeMouseWheel:ee.alwaysConsumeMouseWheel,arrowSize:ee.arrowSize,mouseWheelScrollSensitivity:ye,fastScrollSensitivity:Re,scrollPredominantAxis:Qe,scrollByPage:ee.scrollByPage};this.scrollbar=this._register(new Sn.$Z(o.domNode,nt,this._context.viewLayout.getScrollable())),V.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,f.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const ct=(Ot,xt,Kt)=>{const qt={};if(xt){const di=Ot.scrollTop;di&&(qt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+di,Ot.scrollTop=0)}if(Kt){const di=Ot.scrollLeft;di&&(qt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+di,Ot.scrollLeft=0)}this._context.model.setScrollPosition(qt,1)};this._register(x.nm(g.domNode,"scroll",Ot=>ct(g.domNode,!0,!0))),this._register(x.nm(o.domNode,"scroll",Ot=>ct(o.domNode,!0,!1))),this._register(x.nm(M.domNode,"scroll",Ot=>ct(M.domNode,!0,!1))),this._register(x.nm(this.scrollbarDomNode.domNode,"scroll",Ot=>ct(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,o=e.get(129);this.scrollbarDomNode.setLeft(o.contentLeft),e.get(64).side==="right"?this.scrollbarDomNode.setWidth(o.contentWidth+o.minimap.minimapWidth):this.scrollbarDomNode.setWidth(o.contentWidth),this.scrollbarDomNode.setHeight(o.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const o=this._context.configuration.options,g=o.get(91),M=o.get(66),F=o.get(34),ee=o.get(94),ye={vertical:g.vertical,horizontal:g.horizontal,verticalScrollbarSize:g.verticalScrollbarSize,horizontalScrollbarSize:g.horizontalScrollbarSize,scrollByPage:g.scrollByPage,handleMouseWheel:g.handleMouseWheel,mouseWheelScrollSensitivity:M,fastScrollSensitivity:F,scrollPredominantAxis:ee};this.scrollbar.updateOptions(ye)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,je.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(en._w);o&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${o} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${o} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${o} 6px 6px 6px -6px inset;
			}
		`);const g=Tt.getColor(en.et);g&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${g};
			}
		`);const M=Tt.getColor(en.AB);M&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${M};
			}
		`);const F=Tt.getColor(en.yn);F&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${F};
			}
		`)});class Ln{constructor(e,o,g){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+o,this.className=String(g)}}class Dn extends Ie{_render(e,o,g){const M=[];for(let ye=e;ye<=o;ye++){const Re=ye-e;M[Re]=[]}if(g.length===0)return M;g.sort((ye,Re)=>ye.className===Re.className?ye.startLineNumber===Re.startLineNumber?ye.endLineNumber-Re.endLineNumber:ye.startLineNumber-Re.startLineNumber:ye.className<Re.className?-1:1);let F=null,ee=0;for(let ye=0,Re=g.length;ye<Re;ye++){const Qe=g[ye],nt=Qe.className;let ct=Math.max(Qe.startLineNumber,e)-e;const Ot=Math.min(Qe.endLineNumber,o)-e;F===nt?(ct=Math.max(ee+1,ct),ee=Math.max(ee,Ot)):(F=nt,ee=Ot);for(let xt=ct;xt<=ee;xt++)M[xt].push(F)}return M}}class Xn extends Dn{constructor(e){super(),this._context=e;const o=this._context.configuration.options,g=o.get(129);this._lineHeight=o.get(58),this._glyphMargin=o.get(49),this._glyphMarginLeft=g.glyphMarginLeft,this._glyphMarginWidth=g.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,g=o.get(129);return this._lineHeight=o.get(58),this._glyphMargin=o.get(49),this._glyphMarginLeft=g.glyphMarginLeft,this._glyphMarginWidth=g.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport();let g=[],M=0;for(let F=0,ee=o.length;F<ee;F++){const ye=o[F],Re=ye.options.glyphMarginClassName;Re&&(g[M++]=new Ln(ye.range.startLineNumber,ye.range.endLineNumber,Re))}return g}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,g=e.visibleRange.endLineNumber,M=this._render(o,g,this._getDecorations(e)),F=this._lineHeight.toString(),ee=this._glyphMarginLeft.toString(),ye=this._glyphMarginWidth.toString(),Re='" style="left:'+ee+"px;width:"+ye+"px;height:"+F+'px;"></div>',Qe=[];for(let nt=o;nt<=g;nt++){const ct=nt-o,Ot=M[ct];Ot.length===0?Qe[ct]="":Qe[ct]='<div class="cgmr codicon '+Ot.join(" ")+Re}this._renderResult=Qe}render(e,o){if(!this._renderResult)return"";const g=o-e;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}var an=t(84973),zn=t(24979),Kn=t(98401);class is extends Ie{constructor(e){super(),this._context=e,this._primaryPosition=null;const o=this._context.configuration.options,g=o.get(130),M=o.get(43);this._lineHeight=o.get(58),this._spaceWidth=M.spaceWidth,this._maxIndentLeft=g.wrappingColumn===-1?-1:g.wrappingColumn*M.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,g=o.get(130),M=o.get(43);return this._lineHeight=o.get(58),this._spaceWidth=M.spaceWidth,this._maxIndentLeft=g.wrappingColumn===-1?-1:g.wrappingColumn*M.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(e){var o;const M=e.selections[0].getPosition();return!((o=this._primaryPosition)===null||o===void 0)&&o.equals(M)?!1:(this._primaryPosition=M,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var o,g,M,F;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const ee=e.visibleRange.startLineNumber,ye=e.visibleRange.endLineNumber,Re=e.scrollWidth,Qe=this._lineHeight,nt=this._primaryPosition,ct=this.getGuidesByLine(ee,ye,nt),Ot=[];for(let xt=ee;xt<=ye;xt++){const Kt=xt-ee,qt=ct[Kt];let di="";const pi=(g=(o=e.visibleRangeForPosition(new Le.L(xt,1)))===null||o===void 0?void 0:o.left)!==null&&g!==void 0?g:0;for(const Li of qt){const Si=pi+(Li.visibleColumn-1)*this._spaceWidth;if(Si>Re||this._maxIndentLeft>0&&Si>this._maxIndentLeft)break;const Ki=Li.horizontalLine?Li.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Wi=Li.horizontalLine?((F=(M=e.visibleRangeForPosition(new Le.L(xt,Li.horizontalLine.endColumn)))===null||M===void 0?void 0:M.left)!==null&&F!==void 0?F:Si+this._spaceWidth)-Si:this._spaceWidth;di+=`<div class="core-guide ${Li.className} ${Ki}" style="left:${Si}px;height:${Qe}px;width:${Wi}px"></div>`}Ot[Kt]=di}this._renderResult=Ot}getGuidesByLine(e,o,g){const M=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.model.getBracketGuidesInRangeByLine(e,o,g,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?an.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?an.s6.EnabledForActive:an.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,F=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,o):null;let ee=0,ye=0,Re=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&g){const ct=this._context.model.getActiveIndentGuide(g.lineNumber,e,o);ee=ct.startLineNumber,ye=ct.endLineNumber,Re=ct.indent}const{indentSize:Qe}=this._context.model.getTextModelOptions(),nt=[];for(let ct=e;ct<=o;ct++){const Ot=new Array;nt.push(Ot);const xt=M?M[ct-e]:[],Kt=new Ri.H9(xt),qt=F?F[ct-e]:[];for(let di=1;di<=qt;di++){const pi=(di-1)*Qe+1,Li=xt.length===0&&ee<=ct&&ct<=ye&&di===Re;Ot.push(...Kt.takeWhile(Ki=>Ki.visibleColumn<pi)||[]);const Si=Kt.peek();(!Si||Si.visibleColumn!==pi||Si.horizontalLine)&&Ot.push(new an.UO(pi,Li?"core-guide-indent-active":"core-guide-indent",null))}Ot.push(...Kt.takeWhile(di=>!0)||[])}return nt}render(e,o){if(!this._renderResult)return"";const g=o-e;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}function mn(Tt){if(!(Tt&&Tt.isTransparent()))return Tt}(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(Pe.tR);o&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${o} inset; }`);const g=Tt.getColor(Pe.Ym)||o;g&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${g} inset; }`);const M=[{bracketColor:Pe.zJ,guideColor:Pe.oV,guideColorActive:Pe.Qb},{bracketColor:Pe.Vs,guideColor:Pe.m$,guideColorActive:Pe.m3},{bracketColor:Pe.CE,guideColor:Pe.DS,guideColorActive:Pe.To},{bracketColor:Pe.UP,guideColor:Pe.lS,guideColorActive:Pe.L7},{bracketColor:Pe.r0,guideColor:Pe.Jn,guideColorActive:Pe.HV},{bracketColor:Pe.m1,guideColor:Pe.YF,guideColorActive:Pe.f9}],F=new zn.WE;let ee=M.map(ye=>{var Re,Qe;const nt=Tt.getColor(ye.bracketColor),ct=Tt.getColor(ye.guideColor),Ot=Tt.getColor(ye.guideColorActive),xt=mn((Re=mn(ct))!==null&&Re!==void 0?Re:nt==null?void 0:nt.transparent(.3)),Kt=mn((Qe=mn(Ot))!==null&&Qe!==void 0?Qe:nt);if(!(!xt||!Kt))return{guideColor:xt,guideColorActive:Kt}}).filter(Kn.$K);if(ee.length>0){for(let ye=0;ye<30;ye++){const Re=ee[ye%ee.length];e.addRule(`.monaco-editor .${F.getInlineClassNameOfLevel(ye).replace(/ /g,".")} { --guide-color: ${Re.guideColor}; --guide-color-active: ${Re.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${F.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${F.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${F.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class Qn{constructor(){this._currentVisibleRange=new Me.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class Bn{constructor(e,o,g,M,F,ee){this.lineNumber=e,this.startColumn=o,this.endColumn=g,this.startScrollTop=M,this.stopScrollTop=F,this.scrollType=ee,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class An{constructor(e,o,g,M){this.selections=e,this.startScrollTop=o,this.stopScrollTop=g,this.scrollType=M,this.type="selections";let F=e[0].startLineNumber,ee=e[0].endLineNumber;for(let ye=1,Re=e.length;ye<Re;ye++){const Qe=e[ye];F=Math.min(F,Qe.startLineNumber),ee=Math.max(ee,Qe.endLineNumber)}this.minLineNumber=F,this.maxLineNumber=ee}}class On extends ${constructor(e,o){super(e),this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new _t(this),this.domNode=this._visibleLines.domNode;const g=this._context.configuration,M=this._context.configuration.options,F=M.get(43),ee=M.get(130);this._lineHeight=M.get(58),this._typicalHalfwidthCharacterWidth=F.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ee.isViewportWrapping,this._revealHorizontalRightPadding=M.get(88),this._cursorSurroundingLines=M.get(25),this._cursorSurroundingLinesStyle=M.get(26),this._canUseLayerHinting=!M.get(28),this._viewLineOptions=new ae(g,this._context.theme.type),V.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Xt.S}`),m.V.applyFontInfo(this.domNode,F),this._maxLineWidth=0,this._asyncUpdateLineWidths=new u.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new u.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Qn,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Be(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const o=this._context.configuration.options,g=o.get(43),M=o.get(130);return this._lineHeight=o.get(58),this._typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this._isViewportWrapping=M.isViewportWrapping,this._revealHorizontalRightPadding=o.get(88),this._cursorSurroundingLines=o.get(25),this._cursorSurroundingLinesStyle=o.get(26),this._canUseLayerHinting=!o.get(28),m.V.applyFontInfo(this.domNode,g),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,o=new ae(e,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const g=this._visibleLines.getStartLineNumber(),M=this._visibleLines.getEndLineNumber();for(let F=g;F<=M;F++)this._visibleLines.getVisibleLine(F).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();let M=!1;for(let F=o;F<=g;F++)M=this._visibleLines.getVisibleLine(F).onSelectionChanged()||M;return M}onDecorationsChanged(e){{const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();for(let M=o;M<=g;M++)this._visibleLines.getVisibleLine(M).onDecorationsChanged()}return!0}onFlushed(e){const o=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,o}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(o===-1)return!1;let g=this._context.viewLayout.validateScrollPosition({scrollTop:o});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?g={scrollTop:g.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new Bn(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),g.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new An(e.selections,this._context.viewLayout.getCurrentScrollTop(),g.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const F=Math.abs(this._context.viewLayout.getCurrentScrollTop()-g.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(g,F),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),g=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<o||e.scrollTop>g)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,o){const g=this._getViewLineDomNode(e);if(g===null)return null;const M=this._getLineNumberFor(g);if(M===-1||M<1||M>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(M)===1)return new Le.L(M,1);const F=this._visibleLines.getStartLineNumber(),ee=this._visibleLines.getEndLineNumber();if(M<F||M>ee)return null;let ye=this._visibleLines.getVisibleLine(M).getColumnOfNodeOffset(M,e,o);const Re=this._context.model.getLineMinColumn(M);return ye<Re&&(ye=Re),new Le.L(M,ye)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Be.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();for(let M=o;M<=g;M++){const F=this._visibleLines.getVisibleLine(M);if(e===F.getDomNode())return M}return-1}getLineWidth(e){const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();return e<o||e>g?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,o){if(this.shouldRender())return null;const g=e.endLineNumber,M=Me.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!M)return null;let F=[],ee=0;const ye=new oe(this.domNode.domNode,this._textRangeRestingSpot);let Re=0;o&&(Re=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Le.L(M.startLineNumber,1)).lineNumber);const Qe=this._visibleLines.getStartLineNumber(),nt=this._visibleLines.getEndLineNumber();for(let ct=M.startLineNumber;ct<=M.endLineNumber;ct++){if(ct<Qe||ct>nt)continue;const Ot=ct===M.startLineNumber?M.startColumn:1,xt=ct===M.endLineNumber?M.endColumn:this._context.model.getLineMaxColumn(ct),Kt=this._visibleLines.getVisibleLine(ct).getVisibleRangesForRange(ct,Ot,xt,ye);if(Kt){if(o&&ct<g){const qt=Re;Re=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Le.L(ct+1,1)).lineNumber,qt!==Re&&(Kt.ranges[Kt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}F[ee++]=new le(Kt.outsideRenderedLine,ct,E.from(Kt.ranges))}}return ee===0?null:F}_visibleRangesForLineRange(e,o,g){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,o,g,new oe(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const o=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return o?new A(o.outsideRenderedLine,o.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const o=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();let M=1,F=!0;for(let ee=o;ee<=g;ee++){const ye=this._visibleLines.getVisibleLine(ee);if(e&&!ye.getWidthIsFast()){F=!1;continue}M=Math.max(M,ye.getWidth())}return F&&o===1&&g===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(M),F}_checkMonospaceFontAssumptions(){let e=-1,o=-1;const g=this._visibleLines.getStartLineNumber(),M=this._visibleLines.getEndLineNumber();for(let F=g;F<=M;F++){const ee=this._visibleLines.getVisibleLine(F);if(ee.needsMonospaceFontCheck()){const ye=ee.getWidth();ye>o&&(o=ye,e=F)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let F=g;F<=M;F++)this._visibleLines.getVisibleLine(F).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const g=this._horizontalRevealRequest;if(e.startLineNumber<=g.minLineNumber&&g.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const M=this._computeScrollLeftToReveal(g);M&&(this._isViewportWrapping||this._ensureMaxLineWidth(M.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:M.scrollLeft},g.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),v.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const g=this._visibleLines.getStartLineNumber(),M=this._visibleLines.getEndLineNumber();for(let F=g;F<=M;F++)if(this._visibleLines.getVisibleLine(F).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const o=Math.ceil(e);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,o,g,M,F){const ee=e.top,ye=e.height,Re=ee+ye;let Qe,nt,ct;if(M&&M.length>0){let Kt=M[0].startLineNumber,qt=M[0].endLineNumber;for(let di=1,pi=M.length;di<pi;di++){const Li=M[di];Kt=Math.min(Kt,Li.startLineNumber),qt=Math.max(qt,Li.endLineNumber)}Qe=!1,nt=this._context.viewLayout.getVerticalOffsetForLineNumber(Kt),ct=this._context.viewLayout.getVerticalOffsetForLineNumber(qt)+this._lineHeight}else if(g)Qe=!0,nt=this._context.viewLayout.getVerticalOffsetForLineNumber(g.startLineNumber),ct=this._context.viewLayout.getVerticalOffsetForLineNumber(g.endLineNumber)+this._lineHeight;else return-1;if(!(o==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const Kt=Math.min(ye/this._lineHeight/2,this._cursorSurroundingLines);nt-=Kt*this._lineHeight,ct+=Math.max(0,Kt-1)*this._lineHeight}(F===0||F===4)&&(ct+=this._lineHeight);let xt;if(ct-nt>ye){if(!Qe)return-1;xt=nt}else if(F===5||F===6)if(F===6&&ee<=nt&&ct<=Re)xt=ee;else{const Kt=Math.max(5*this._lineHeight,ye*.2),qt=nt-Kt,di=ct-ye;xt=Math.max(di,qt)}else if(F===1||F===2)if(F===2&&ee<=nt&&ct<=Re)xt=ee;else{const Kt=(nt+ct)/2;xt=Math.max(0,Kt-ye/2)}else xt=this._computeMinimumScrolling(ee,Re,nt,ct,F===3,F===4);return xt}_computeScrollLeftToReveal(e){const o=this._context.viewLayout.getCurrentViewport(),g=o.left,M=g+o.width;let F=1073741824,ee=0;if(e.type==="range"){const Re=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!Re)return null;for(const Qe of Re.ranges)F=Math.min(F,Math.round(Qe.left)),ee=Math.max(ee,Math.round(Qe.left+Qe.width))}else for(const Re of e.selections){if(Re.startLineNumber!==Re.endLineNumber)return null;const Qe=this._visibleRangesForLineRange(Re.startLineNumber,Re.startColumn,Re.endColumn);if(!Qe)return null;for(const nt of Qe.ranges)F=Math.min(F,Math.round(nt.left)),ee=Math.max(ee,Math.round(nt.left+nt.width))}return F=Math.max(0,F-On.HORIZONTAL_EXTRA_PX),ee+=this._revealHorizontalRightPadding,e.type==="selections"&&ee-F>o.width?null:{scrollLeft:this._computeMinimumScrolling(g,M,F,ee),maxHorizontalOffset:ee}}_computeMinimumScrolling(e,o,g,M,F,ee){e=e|0,o=o|0,g=g|0,M=M|0,F=!!F,ee=!!ee;const ye=o-e;if(M-g<ye){if(F)return g;if(ee)return Math.max(0,M-ye);if(g<e)return g;if(M>o)return Math.max(0,M-ye)}else return g;return e}}On.HORIZONTAL_EXTRA_PX=30;class qn extends Dn{constructor(e){super(),this._context=e;const g=this._context.configuration.options.get(129);this._decorationsLeft=g.decorationsLeft,this._decorationsWidth=g.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const g=this._context.configuration.options.get(129);return this._decorationsLeft=g.decorationsLeft,this._decorationsWidth=g.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport();let g=[],M=0;for(let F=0,ee=o.length;F<ee;F++){const ye=o[F],Re=ye.options.linesDecorationsClassName;Re&&(g[M++]=new Ln(ye.range.startLineNumber,ye.range.endLineNumber,Re));const Qe=ye.options.firstLineDecorationClassName;Qe&&(g[M++]=new Ln(ye.range.startLineNumber,ye.range.startLineNumber,Qe))}return g}prepareRender(e){const o=e.visibleRange.startLineNumber,g=e.visibleRange.endLineNumber,M=this._render(o,g,this._getDecorations(e)),F=this._decorationsLeft.toString(),ee=this._decorationsWidth.toString(),ye='" style="left:'+F+"px;width:"+ee+'px;"></div>',Re=[];for(let Qe=o;Qe<=g;Qe++){const nt=Qe-o,ct=M[nt];let Ot="";for(let xt=0,Kt=ct.length;xt<Kt;xt++)Ot+='<div class="cldr '+ct[xt]+ye;Re[nt]=Ot}this._renderResult=Re}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}class Hn extends Dn{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport();let g=[],M=0;for(let F=0,ee=o.length;F<ee;F++){const ye=o[F],Re=ye.options.marginClassName;Re&&(g[M++]=new Ln(ye.range.startLineNumber,ye.range.endLineNumber,Re))}return g}prepareRender(e){const o=e.visibleRange.startLineNumber,g=e.visibleRange.endLineNumber,M=this._render(o,g,this._getDecorations(e)),F=[];for(let ee=o;ee<=g;ee++){const ye=ee-o,Re=M[ye];let Qe="";for(let nt=0,ct=Re.length;nt<ct;nt++)Qe+='<div class="cmdr '+Re[nt]+'" style=""></div>';F[ye]=Qe}this._renderResult=F}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}class sn{constructor(e,o,g,M){this._rgba8Brand=void 0,this.r=sn._clamp(e),this.g=sn._clamp(o),this.b=sn._clamp(g),this.a=sn._clamp(M)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}sn.Empty=new sn(0,0,0,0);var Lt=t(60303);class U extends C.JT{constructor(){super(),this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Lt.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,C.dk)(new U)),this._INSTANCE}_updateColorMap(){const e=Lt.RW.getColorMap();if(!e){this._colors=[sn.Empty],this._backgroundIsLight=!0;return}this._colors=[sn.Empty];for(let g=1;g<e.length;g++){const M=e[g].rgba;this._colors[g]=new sn(M.r,M.g,M.b,Math.round(M.a*255))}let o=e[2].getRelativeLuminance();this._backgroundIsLight=o>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}U._INSTANCE=null;var me=t(13824);const Ee=(()=>{const Tt=[];for(let e=32;e<=126;e++)Tt.push(e);return Tt.push(65533),Tt})(),$e=(Tt,e)=>(Tt-=32,Tt<0||Tt>96?e<=2?(Tt+96)%96:96-1:Tt);var et=t(85427);class wt{constructor(e,o){this.scale=o,this._minimapCharRendererBrand=void 0,this.charDataNormal=wt.soften(e,12/15),this.charDataLight=wt.soften(e,50/60)}static soften(e,o){let g=new Uint8ClampedArray(e.length);for(let M=0,F=e.length;M<F;M++)g[M]=(0,et.K)(e[M]*o);return g}renderChar(e,o,g,M,F,ee,ye,Re,Qe,nt,ct){const Ot=1*this.scale,xt=2*this.scale,Kt=ct?1:xt;if(o+Ot>e.width||g+Kt>e.height){console.warn("bad render request outside image data");return}const qt=nt?this.charDataLight:this.charDataNormal,di=$e(M,Qe),pi=e.width*4,Li=ye.r,Si=ye.g,Ki=ye.b,Wi=F.r-Li,Zi=F.g-Si,ji=F.b-Ki,Fi=Math.max(ee,Re),Gi=e.data;let _n=di*Ot*xt,Ji=g*pi+o*4;for(let $n=0;$n<Kt;$n++){let Zn=Ji;for(let Yn=0;Yn<Ot;Yn++){const wn=qt[_n++]/255*(ee/255);Gi[Zn++]=Li+Wi*wn,Gi[Zn++]=Si+Zi*wn,Gi[Zn++]=Ki+ji*wn,Gi[Zn++]=Fi}Ji+=pi}}blockRenderChar(e,o,g,M,F,ee,ye,Re){const Qe=1*this.scale,nt=2*this.scale,ct=Re?1:nt;if(o+Qe>e.width||g+ct>e.height){console.warn("bad render request outside image data");return}const Ot=e.width*4,xt=.5*(F/255),Kt=ee.r,qt=ee.g,di=ee.b,pi=M.r-Kt,Li=M.g-qt,Si=M.b-di,Ki=Kt+pi*xt,Wi=qt+Li*xt,Zi=di+Si*xt,ji=Math.max(F,ye),Fi=e.data;let Gi=g*Ot+o*4;for(let _n=0;_n<ct;_n++){let Ji=Gi;for(let $n=0;$n<Qe;$n++)Fi[Ji++]=Ki,Fi[Ji++]=Wi,Fi[Ji++]=Zi,Fi[Ji++]=ji;Gi+=Ot}}}var Rt=t(88289);const ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},fi=Tt=>{const e=new Uint8ClampedArray(Tt.length/2);for(let o=0;o<Tt.length;o+=2)e[o>>1]=ti[Tt[o]]<<4|ti[Tt[o+1]]&15;return e},ii={1:(0,Rt.I)(()=>fi("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Rt.I)(()=>fi("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class bt{static create(e,o){if(this.lastCreated&&e===this.lastCreated.scale&&o===this.lastFontFamily)return this.lastCreated;let g;return ii[e]?g=new wt(ii[e](),e):g=bt.createFromSampleData(bt.createSampleData(o).data,e),this.lastFontFamily=o,this.lastCreated=g,g}static createSampleData(e){const o=document.createElement("canvas"),g=o.getContext("2d");o.style.height="16px",o.height=16,o.width=96*10,o.style.width=96*10+"px",g.fillStyle="#ffffff",g.font=`bold 16px ${e}`,g.textBaseline="middle";let M=0;for(const F of Ee)g.fillText(String.fromCharCode(F),M,16/2),M+=10;return g.getImageData(0,0,96*10,16)}static createFromSampleData(e,o){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let M=bt._downsample(e,o);return new wt(M,o)}static _downsampleChar(e,o,g,M,F){const ee=1*F,ye=2*F;let Re=M,Qe=0;for(let nt=0;nt<ye;nt++){const ct=nt/ye*16,Ot=(nt+1)/ye*16;for(let xt=0;xt<ee;xt++){const Kt=xt/ee*10,qt=(xt+1)/ee*10;let di=0,pi=0;for(let Si=ct;Si<Ot;Si++){const Ki=o+Math.floor(Si)*3840,Wi=1-(Si-Math.floor(Si));for(let Zi=Kt;Zi<qt;Zi++){const ji=1-(Zi-Math.floor(Zi)),Fi=Ki+Math.floor(Zi)*4,Gi=ji*Wi;pi+=Gi,di+=e[Fi]*e[Fi+3]/255*Gi}}const Li=di/pi;Qe=Math.max(Qe,Li),g[Re++]=(0,et.K)(Li)}}return Qe}static _downsample(e,o){const g=2*o*1*o,M=g*96,F=new Uint8ClampedArray(M);let ee=0,ye=0,Re=0;for(let Qe=0;Qe<96;Qe++)Re=Math.max(Re,this._downsampleChar(e,ye,F,ee,o)),ee+=g,ye+=10*4;if(Re>0){const Qe=255/Re;for(let nt=0;nt<M;nt++)F[nt]*=Qe}return F}}const B=140,_e=2;class We{constructor(e,o,g){const M=e.options,F=M.get(127),ee=M.get(129),ye=ee.minimap,Re=M.get(43),Qe=M.get(64);this.renderMinimap=ye.renderMinimap,this.size=Qe.size,this.minimapHeightIsEditorHeight=ye.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=M.get(93),this.showSlider=Qe.showSlider,this.pixelRatio=F,this.typicalHalfwidthCharacterWidth=Re.typicalHalfwidthCharacterWidth,this.lineHeight=M.get(58),this.minimapLeft=ye.minimapLeft,this.minimapWidth=ye.minimapWidth,this.minimapHeight=ee.height,this.canvasInnerWidth=ye.minimapCanvasInnerWidth,this.canvasInnerHeight=ye.minimapCanvasInnerHeight,this.canvasOuterWidth=ye.minimapCanvasOuterWidth,this.canvasOuterHeight=ye.minimapCanvasOuterHeight,this.isSampling=ye.minimapIsSampling,this.editorHeight=ee.height,this.fontScale=ye.minimapScale,this.minimapLineHeight=ye.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Rt.I)(()=>bt.create(this.fontScale,Re.fontFamily)),this.defaultBackgroundColor=g.getColor(2),this.backgroundColor=We._getMinimapBackground(o,this.defaultBackgroundColor),this.foregroundAlpha=We._getMinimapForegroundOpacity(o)}static _getMinimapBackground(e,o){const g=e.getColor(en.kV);return g?new sn(g.rgba.r,g.rgba.g,g.rgba.b,Math.round(255*g.rgba.a)):o}static _getMinimapForegroundOpacity(e){const o=e.getColor(en.It);return o?sn._clamp(Math.round(255*o.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class rt{constructor(e,o,g,M,F,ee,ye,Re){this.scrollTop=e,this.scrollHeight=o,this.sliderNeeded=g,this._computedSliderRatio=M,this.sliderTop=F,this.sliderHeight=ee,this.startLineNumber=ye,this.endLineNumber=Re}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,o,g,M,F,ee,ye,Re,Qe,nt,ct){const Ot=e.pixelRatio,xt=e.minimapLineHeight,Kt=Math.floor(e.canvasInnerHeight/xt),qt=e.lineHeight;if(e.minimapHeightIsEditorHeight){const Wi=Re*e.lineHeight+(e.scrollBeyondLastLine?F-e.lineHeight:0),Zi=Math.max(1,Math.floor(F*F/Wi)),ji=Math.max(0,e.minimapHeight-Zi),Fi=ji/(nt-F),Gi=Qe*Fi,_n=ji>0,Ji=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new rt(Qe,nt,_n,Fi,Gi,Zi,1,Math.min(ye,Ji))}let di;if(ee&&g!==ye){const Wi=g-o+1;di=Math.floor(Wi*xt/Ot)}else{const Wi=F/qt;di=Math.floor(Wi*xt/Ot)}let pi;e.scrollBeyondLastLine?pi=(ye-1)*xt/Ot:pi=Math.max(0,ye*xt/Ot-di),pi=Math.min(e.minimapHeight-di,pi);const Li=pi/(nt-F),Si=Qe*Li;let Ki=0;if(e.scrollBeyondLastLine&&(Ki=F/qt-1),Kt>=ye+Ki){const Zi=ye,ji=pi>0;return new rt(Qe,nt,ji,Li,Si,di,1,Zi)}else{let Wi=Math.max(1,Math.floor(o-Si*Ot/xt));ct&&ct.scrollHeight===nt&&(ct.scrollTop>Qe&&(Wi=Math.min(Wi,ct.startLineNumber)),ct.scrollTop<Qe&&(Wi=Math.max(Wi,ct.startLineNumber)));const Zi=Math.min(ye,Wi+Kt-1),ji=(Qe-M)/qt,Fi=(o-Wi+ji)*xt/Ot;return new rt(Qe,nt,!0,Li,Fi,di,Wi,Zi)}}}class yt{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}yt.INVALID=new yt(-1);class Ht{constructor(e,o,g){this.renderedLayout=e,this._imageData=o,this._renderedLines=new st(()=>yt.INVALID),this._renderedLines._set(e.startLineNumber,g)}linesEquals(e){if(!this.scrollEquals(e))return!1;const g=this._renderedLines._get().lines;for(let M=0,F=g.length;M<F;M++)if(g[M].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,o){return this._renderedLines.onLinesChanged(e,o)}onLinesDeleted(e,o){this._renderedLines.onLinesDeleted(e,o)}onLinesInserted(e,o){this._renderedLines.onLinesInserted(e,o)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class Qt{constructor(e,o,g,M){this._backgroundFillData=Qt._createBackgroundFillData(o,g,M),this._buffers=[e.createImageData(o,g),e.createImageData(o,g)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,o,g){const M=g.r,F=g.g,ee=g.b,ye=g.a,Re=new Uint8ClampedArray(e*o*4);let Qe=0;for(let nt=0;nt<o;nt++)for(let ct=0;ct<e;ct++)Re[Qe]=M,Re[Qe+1]=F,Re[Qe+2]=ee,Re[Qe+3]=ye,Qe+=4;return Re}}class ei{constructor(e,o){this.samplingRatio=e,this.minimapLines=o}static compute(e,o,g){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const M=e.pixelRatio,F=e.lineHeight,ee=e.scrollBeyondLastLine,{minimapLineCount:ye}=ue.gk.computeContainedMinimapLineCount({viewLineCount:o,scrollBeyondLastLine:ee,height:e.editorHeight,lineHeight:F,pixelRatio:M}),Re=o/ye,Qe=Re/2;if(!g||g.minimapLines.length===0){let Si=[];if(Si[0]=1,ye>1){for(let Ki=0,Wi=ye-1;Ki<Wi;Ki++)Si[Ki]=Math.round(Ki*Re+Qe);Si[ye-1]=o}return[new ei(Re,Si),[]]}const nt=g.minimapLines,ct=nt.length;let Ot=[],xt=0,Kt=0,qt=1;const di=10;let pi=[],Li=null;for(let Si=0;Si<ye;Si++){const Ki=Math.max(qt,Math.round(Si*Re)),Wi=Math.max(Ki,Math.round((Si+1)*Re));for(;xt<ct&&nt[xt]<Ki;){if(pi.length<di){const ji=xt+1+Kt;Li&&Li.type==="deleted"&&Li._oldIndex===xt-1?Li.deleteToLineNumber++:(Li={type:"deleted",_oldIndex:xt,deleteFromLineNumber:ji,deleteToLineNumber:ji},pi.push(Li)),Kt--}xt++}let Zi;if(xt<ct&&nt[xt]<=Wi)Zi=nt[xt],xt++;else if(Si===0?Zi=1:Si+1===ye?Zi=o:Zi=Math.round(Si*Re+Qe),pi.length<di){const ji=xt+1+Kt;Li&&Li.type==="inserted"&&Li._i===Si-1?Li.insertToLineNumber++:(Li={type:"inserted",_i:Si,insertFromLineNumber:ji,insertToLineNumber:ji},pi.push(Li)),Kt++}Ot[Si]=Zi,qt=Zi}if(pi.length<di)for(;xt<ct;){const Si=xt+1+Kt;Li&&Li.type==="deleted"&&Li._oldIndex===xt-1?Li.deleteToLineNumber++:(Li={type:"deleted",_oldIndex:xt,deleteFromLineNumber:Si,deleteToLineNumber:Si},pi.push(Li)),Kt--,xt++}else pi=[{type:"flush"}];return[new ei(Re,Ot),pi]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,o){let g=this.modelLineToMinimapLine(e)-1;for(;g>0&&this.minimapLines[g-1]>=e;)g--;let M=this.modelLineToMinimapLine(o)-1;for(;M+1<this.minimapLines.length&&this.minimapLines[M+1]<=o;)M++;if(g===M){const F=this.minimapLines[g];if(F<e||F>o)return null}return[g+1,M+1]}decorationLineRangeToMinimapLineRange(e,o){let g=this.modelLineToMinimapLine(e),M=this.modelLineToMinimapLine(o);return e!==o&&M===g&&(M===this.minimapLines.length?g>1&&g--:M++),[g,M]}onLinesDeleted(e){const o=e.toLineNumber-e.fromLineNumber+1;let g=this.minimapLines.length,M=0;for(let F=this.minimapLines.length-1;F>=0&&!(this.minimapLines[F]<e.fromLineNumber);F--)this.minimapLines[F]<=e.toLineNumber?(this.minimapLines[F]=Math.max(1,e.fromLineNumber-1),g=Math.min(g,F),M=Math.max(M,F)):this.minimapLines[F]-=o;return[g,M]}onLinesInserted(e){const o=e.toLineNumber-e.fromLineNumber+1;for(let g=this.minimapLines.length-1;g>=0&&!(this.minimapLines[g]<e.fromLineNumber);g--)this.minimapLines[g]+=o}}class ri extends ${constructor(e){super(e),this.tokensColorTracker=U.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new We(this._context.configuration,this._context.theme,this.tokensColorTracker);const[o]=ei.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=o,this._shouldCheckSampling=!1,this._actual=new gi(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new We(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const o=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return o?this._actual.onLinesChanged(o[0],o[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[o,g]=this._samplingState.onLinesDeleted(e);return o<=g&&this._actual.onLinesChanged(o+1,g+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let o=[];for(const g of e.ranges){const M=this._samplingState.modelLineRangeToMinimapLineRange(g.fromLineNumber,g.toLineNumber);M&&o.push({fromLineNumber:M[0],toLineNumber:M[1]})}return o.length?this._actual.onTokensChanged(o):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let o=e.visibleRange.startLineNumber,g=e.visibleRange.endLineNumber;this._samplingState&&(o=this._samplingState.modelLineToMinimapLine(o),g=this._samplingState.modelLineToMinimapLine(g));const M={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:o,viewportEndLineNumber:g,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(o),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(M)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[o,g]=ei.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=o,e&&this._samplingState)for(const M of g)switch(M.type){case"deleted":this._actual.onLinesDeleted(M.deleteFromLineNumber,M.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(M.insertFromLineNumber,M.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,o,g){if(this._samplingState){let M=[];for(let F=0,ee=o-e+1;F<ee;F++)g[F]?M[F]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+F-1]):M[F]=null;return M}return this._context.model.getMinimapLinesRenderingData(e,o,g).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[o,g]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new p.Y(o,e.startColumn,g,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,o){let g;if(this._samplingState){const F=this._samplingState.minimapLines[e-1],ee=this._samplingState.minimapLines[o-1];g=new Me.e(F,1,ee,this._context.model.getLineMaxColumn(ee))}else g=new Me.e(e,1,o,this._context.model.getLineMaxColumn(o));const M=this._context.model.getDecorationsInViewport(g);if(this._samplingState){let F=[];for(const ee of M){if(!ee.options.minimap)continue;const ye=ee.range,Re=this._samplingState.modelLineToMinimapLine(ye.startLineNumber),Qe=this._samplingState.modelLineToMinimapLine(ye.endLineNumber);F.push(new me.$l(new Me.e(Re,ye.startColumn,Qe,ye.endColumn),ee.options))}return F}return M}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Me.e(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class gi extends C.JT{constructor(e,o){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=o,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(en.ov),this._domNode=(0,f.X)(document.createElement("div")),V.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,f.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,f.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,f.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,f.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,f.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=x.mu(this._domNode.domNode,"mousedown",g=>{if(g.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(g.leftButton&&this._lastRenderData){const Qe=x.i(this._slider.domNode),nt=Qe.top+Qe.height/2;this._startSliderDragging(g.buttons,g.posx,nt,g.posy,this._lastRenderData.renderedLayout)}return}const F=this._model.options.minimapLineHeight,ee=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*g.browserEvent.offsetY;let Re=Math.floor(ee/F)+this._lastRenderData.renderedLayout.startLineNumber;Re=Math.min(Re,this._model.getLineCount()),this._model.revealLineNumber(Re)}),this._sliderMouseMoveMonitor=new c.Z,this._sliderMouseDownListener=x.mu(this._slider.domNode,"mousedown",g=>{g.preventDefault(),g.stopPropagation(),g.leftButton&&this._lastRenderData&&this._startSliderDragging(g.buttons,g.posx,g.posy,g.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=d.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=x.nm(this._domNode.domNode,d.t.Start,g=>{g.preventDefault(),g.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(g))},{passive:!1}),this._sliderTouchMoveListener=x.nm(this._domNode.domNode,d.t.Change,g=>{g.preventDefault(),g.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(g)},{passive:!1}),this._sliderTouchEndListener=x.mu(this._domNode.domNode,d.t.End,g=>{g.preventDefault(),g.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,o,g,M,F){this._slider.toggleClassName("active",!0);const ee=(ye,Re)=>{const Qe=Math.abs(Re-o);if(v.ED&&Qe>B){this._model.setScrollTop(F.scrollTop);return}const nt=ye-g;this._model.setScrollTop(F.getDesiredScrollTopFromDelta(nt))};M!==g&&ee(M,o),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,c.e,ye=>ee(ye.posy,ye.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const o=this._domNode.domNode.getBoundingClientRect().top,g=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-o);this._model.setScrollTop(g)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Qt(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,o){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,o):!1}onLinesDeleted(e,o){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,o),!0}onLinesInserted(e,o){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,o),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(en.ov),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const g=rt.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(g.sliderNeeded?"block":"none"),this._slider.setTop(g.sliderTop),this._slider.setHeight(g.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(g.sliderHeight),this.renderDecorations(g),this._lastRenderData=this.renderLines(g)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const o=this._model.getSelections();o.sort(Me.e.compareRangesUsingStarts);const g=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);g.sort((Ot,xt)=>(Ot.options.zIndex||0)-(xt.options.zIndex||0));const{canvasInnerWidth:M,canvasInnerHeight:F}=this._model.options,ee=this._model.options.minimapLineHeight,ye=this._model.options.minimapCharWidth,Re=this._model.getOptions().tabSize,Qe=this._decorationsCanvas.domNode.getContext("2d");Qe.clearRect(0,0,M,F);const nt=new Mi(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(Qe,o,nt,e,ee),this._renderDecorationsLineHighlights(Qe,g,nt,e,ee);const ct=new Mi(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(Qe,o,ct,e,ee,Re,ye,M),this._renderDecorationsHighlights(Qe,g,ct,e,ee,Re,ye,M)}}_renderSelectionLineHighlights(e,o,g,M,F){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let ee=0,ye=0;for(const Re of o){const Qe=Math.max(M.startLineNumber,Re.startLineNumber),nt=Math.min(M.endLineNumber,Re.endLineNumber);if(Qe>nt)continue;for(let xt=Qe;xt<=nt;xt++)g.set(xt,!0);const ct=(Qe-M.startLineNumber)*F,Ot=(nt-M.startLineNumber)*F+F;ye>=ct||(ye>ee&&e.fillRect(ue.y0,ee,e.canvas.width,ye-ee),ee=ct),ye=Ot}ye>ee&&e.fillRect(ue.y0,ee,e.canvas.width,ye-ee)}_renderDecorationsLineHighlights(e,o,g,M,F){const ee=new Map;for(let ye=o.length-1;ye>=0;ye--){const Re=o[ye],Qe=Re.options.minimap;if(!Qe||Qe.position!==an.F5.Inline)continue;const nt=Math.max(M.startLineNumber,Re.range.startLineNumber),ct=Math.min(M.endLineNumber,Re.range.endLineNumber);if(nt>ct)continue;const Ot=Qe.getColor(this._theme);if(!Ot||Ot.isTransparent())continue;let xt=ee.get(Ot.toString());xt||(xt=Ot.transparent(.5).toString(),ee.set(Ot.toString(),xt)),e.fillStyle=xt;for(let Kt=nt;Kt<=ct;Kt++){if(g.has(Kt))continue;g.set(Kt,!0);const qt=(nt-M.startLineNumber)*F;e.fillRect(ue.y0,qt,e.canvas.width,F)}}}_renderSelectionsHighlights(e,o,g,M,F,ee,ye,Re){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Qe of o){const nt=Math.max(M.startLineNumber,Qe.startLineNumber),ct=Math.min(M.endLineNumber,Qe.endLineNumber);if(!(nt>ct))for(let Ot=nt;Ot<=ct;Ot++)this.renderDecorationOnLine(e,g,Qe,this._selectionColor,M,Ot,F,F,ee,ye,Re)}}_renderDecorationsHighlights(e,o,g,M,F,ee,ye,Re){for(const Qe of o){const nt=Qe.options.minimap;if(!nt)continue;const ct=Math.max(M.startLineNumber,Qe.range.startLineNumber),Ot=Math.min(M.endLineNumber,Qe.range.endLineNumber);if(ct>Ot)continue;const xt=nt.getColor(this._theme);if(!(!xt||xt.isTransparent()))for(let Kt=ct;Kt<=Ot;Kt++)switch(nt.position){case an.F5.Inline:this.renderDecorationOnLine(e,g,Qe.range,xt,M,Kt,F,F,ee,ye,Re);continue;case an.F5.Gutter:const qt=(Kt-M.startLineNumber)*F,di=2;this.renderDecoration(e,xt,di,qt,_e,F);continue}}}renderDecorationOnLine(e,o,g,M,F,ee,ye,Re,Qe,nt,ct){const Ot=(ee-F.startLineNumber)*Re;if(Ot+ye<0||Ot>this._model.options.canvasInnerHeight)return;const{startLineNumber:xt,endLineNumber:Kt}=g,qt=xt===ee?g.startColumn:1,di=Kt===ee?g.endColumn:this._model.getLineMaxColumn(ee),pi=this.getXOffsetForPosition(o,ee,qt,Qe,nt,ct),Li=this.getXOffsetForPosition(o,ee,di,Qe,nt,ct);this.renderDecoration(e,M,pi,Ot,Li-pi,ye)}getXOffsetForPosition(e,o,g,M,F,ee){if(g===1)return ue.y0;if((g-1)*F>=ee)return ee;let Re=e.get(o);if(!Re){const Qe=this._model.getLineContent(o);Re=[ue.y0];let nt=ue.y0;for(let ct=1;ct<Qe.length+1;ct++){const Ot=Qe.charCodeAt(ct-1),xt=Ot===9?M*F:Xe.K7(Ot)?2*F:F,Kt=nt+xt;if(Kt>=ee){Re[ct]=ee;break}Re[ct]=Kt,nt=Kt}e.set(o,Re)}return g-1<Re.length?Re[g-1]:ee}renderDecoration(e,o,g,M,F,ee){e.fillStyle=o&&o.toString()||"",e.fillRect(g,M,F,ee)}renderLines(e){const o=e.startLineNumber,g=e.endLineNumber,M=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const wn=this._lastRenderData._get();return new Ht(e,wn.imageData,wn.lines)}const F=this._getBuffer();if(!F)return null;let[ee,ye,Re]=gi._renderUntouchedLines(F,o,g,M,this._lastRenderData);const Qe=this._model.getMinimapLinesRenderingData(o,g,Re),nt=this._model.getOptions().tabSize,ct=this._model.options.defaultBackgroundColor,Ot=this._model.options.backgroundColor,xt=this._model.options.foregroundAlpha,Kt=this._model.tokensColorTracker,qt=Kt.backgroundIsLight(),di=this._model.options.renderMinimap,pi=this._model.options.charRenderer(),Li=this._model.options.fontScale,Si=this._model.options.minimapCharWidth,Wi=(di===1?2:2+1)*Li,Zi=M>Wi?Math.floor((M-Wi)/2):0,ji=Ot.a/255,Fi=new sn(Math.round((Ot.r-ct.r)*ji+ct.r),Math.round((Ot.g-ct.g)*ji+ct.g),Math.round((Ot.b-ct.b)*ji+ct.b),255);let Gi=0;const _n=[];for(let wn=0,rs=g-o+1;wn<rs;wn++)Re[wn]&&gi._renderLine(F,Fi,Ot.a,qt,di,Si,Kt,xt,pi,Gi,Zi,nt,Qe[wn],Li,M),_n[wn]=new yt(Gi),Gi+=M;const Ji=ee===-1?0:ee,Zn=(ye===-1?F.height:ye)-Ji;return this._canvas.domNode.getContext("2d").putImageData(F,0,0,0,Ji,F.width,Zn),new Ht(e,F,_n)}static _renderUntouchedLines(e,o,g,M,F){const ee=[];if(!F){for(let Fi=0,Gi=g-o+1;Fi<Gi;Fi++)ee[Fi]=!0;return[-1,-1,ee]}const ye=F._get(),Re=ye.imageData.data,Qe=ye.rendLineNumberStart,nt=ye.lines,ct=nt.length,Ot=e.width,xt=e.data,Kt=(g-o+1)*M*Ot*4;let qt=-1,di=-1,pi=-1,Li=-1,Si=-1,Ki=-1,Wi=0;for(let Fi=o;Fi<=g;Fi++){const Gi=Fi-o,_n=Fi-Qe,Ji=_n>=0&&_n<ct?nt[_n].dy:-1;if(Ji===-1){ee[Gi]=!0,Wi+=M;continue}const $n=Ji*Ot*4,Zn=(Ji+M)*Ot*4,Yn=Wi*Ot*4,wn=(Wi+M)*Ot*4;Li===$n&&Ki===Yn?(Li=Zn,Ki=wn):(pi!==-1&&(xt.set(Re.subarray(pi,Li),Si),qt===-1&&pi===0&&pi===Si&&(qt=Li),di===-1&&Li===Kt&&pi===Si&&(di=pi)),pi=$n,Li=Zn,Si=Yn,Ki=wn),ee[Gi]=!1,Wi+=M}pi!==-1&&(xt.set(Re.subarray(pi,Li),Si),qt===-1&&pi===0&&pi===Si&&(qt=Li),di===-1&&Li===Kt&&pi===Si&&(di=pi));const Zi=qt===-1?-1:qt/(Ot*4),ji=di===-1?-1:di/(Ot*4);return[Zi,ji,ee]}static _renderLine(e,o,g,M,F,ee,ye,Re,Qe,nt,ct,Ot,xt,Kt,qt){const di=xt.content,pi=xt.tokens,Li=e.width-ee,Si=qt===1;let Ki=ue.y0,Wi=0,Zi=0;for(let ji=0,Fi=pi.getCount();ji<Fi;ji++){const Gi=pi.getEndOffset(ji),_n=pi.getForeground(ji),Ji=ye.getColor(_n);for(;Wi<Gi;Wi++){if(Ki>Li)return;const $n=di.charCodeAt(Wi);if($n===9){const Zn=Ot-(Wi+Zi)%Ot;Zi+=Zn-1,Ki+=Zn*ee}else if($n===32)Ki+=ee;else{const Zn=Xe.K7($n)?2:1;for(let Yn=0;Yn<Zn;Yn++)if(F===2?Qe.blockRenderChar(e,Ki,nt+ct,Ji,Re,o,g,Si):Qe.renderChar(e,Ki,nt+ct,$n,Ji,Re,o,g,Kt,M,Si),Ki+=ee,Ki>Li)return}}}}}class Mi{constructor(e,o,g){this._startLineNumber=e,this._endLineNumber=o,this._defaultValue=g,this._values=[];for(let M=0,F=this._endLineNumber-this._startLineNumber+1;M<F;M++)this._values[M]=g}has(e){return this.get(e)!==this._defaultValue}set(e,o){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=o)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(en.CA);o&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${o}; }`);const g=Tt.getColor(en.Xy);g&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${g}; }`);const M=Tt.getColor(en.br);M&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${M}; }`);const F=Tt.getColor(en._w);F&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${F} -6px 0 6px -6px inset; }`)});class Ei extends ${constructor(e){super(e);const g=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=g.verticalScrollbarWidth,this._minimapWidth=g.minimap.minimapWidth,this._horizontalScrollbarHeight=g.horizontalScrollbarHeight,this._editorHeight=g.height,this._editorWidth=g.width,this._domNode=(0,f.X)(document.createElement("div")),V.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const g=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=g.verticalScrollbarWidth,this._minimapWidth=g.minimap.minimapWidth,this._horizontalScrollbarHeight=g.horizontalScrollbarHeight,this._editorHeight=g.height,this._editorWidth=g.width,!0}addWidget(e){const o=(0,f.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:o},o.setPosition("absolute"),o.setAttribute("widgetId",e.getId()),this._domNode.appendChild(o),this.setShouldRender()}setWidgetPosition(e,o){const g=this._widgets[e.getId()];return g.preference===o?!1:(g.preference=o,this.setShouldRender(),!0)}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const M=this._widgets[o].domNode.domNode;delete this._widgets[o],M.parentNode.removeChild(M),this.setShouldRender()}}_renderWidget(e){const o=e.domNode;if(e.preference===null){o.unsetTop();return}if(e.preference===0)o.setTop(0),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const g=o.domNode.clientHeight;o.setTop(this._editorHeight-g-2*this._horizontalScrollbarHeight),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(o.setTop(0),o.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const o=Object.keys(this._widgets);for(let g=0,M=o.length;g<M;g++){const F=o[g];this._renderWidget(this._widgets[F])}}}var xi=t(41264);class Pi{constructor(e,o){const g=e.options;this.lineHeight=g.get(58),this.pixelRatio=g.get(127),this.overviewRulerLanes=g.get(73),this.renderBorder=g.get(72);const M=o.getColor(Pe.zw);this.borderColor=M?M.toString():null,this.hideCursor=g.get(51);const F=o.getColor(Pe.n0);this.cursorColor=F?F.transparent(.7).toString():null,this.themeType=o.type;const ee=g.get(64),ye=ee.enabled,Re=ee.side,Qe=ye?o.getColor(Pe.e_)||Lt.RW.getDefaultBackground():null;Qe===null||Re==="left"?this.backgroundColor=null:this.backgroundColor=xi.Il.Format.CSS.formatHex(Qe);const ct=g.get(129).overviewRuler;this.top=ct.top,this.right=ct.right,this.domWidth=ct.width,this.domHeight=ct.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Ot,xt]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Ot,this.w=xt}_initLanes(e,o,g){const M=o-e;if(g>=3){const F=Math.floor(M/3),ee=Math.floor(M/3),ye=M-F-ee,Re=e,Qe=Re+F,nt=Re+F+ye;return[[0,Re,Qe,Re,nt,Re,Qe,Re],[0,F,ye,F+ye,ee,F+ye+ee,ye+ee,F+ye+ee]]}else if(g===2){const F=Math.floor(M/2),ee=M-F,ye=e,Re=ye+F;return[[0,ye,ye,ye,Re,ye,ye,ye],[0,F,F,F,ee,F+ee,F+ee,F+ee]]}else{const F=e,ee=M;return[[0,F,F,F,F,F,F,F],[0,ee,ee,ee,ee,ee,ee,ee]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class ki extends ${constructor(e){super(e),this._domNode=(0,f.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Lt.RW.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const o=new Pi(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(o)?!1:(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let o=0,g=e.selections.length;o<g;o++)this._cursorPositions[o]=e.selections[o].getPosition();return this._cursorPositions.sort(Le.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const e=this._settings.canvasWidth,o=this._settings.canvasHeight,g=this._settings.lineHeight,M=this._context.viewLayout,F=this._context.viewLayout.getScrollHeight(),ee=o/F,ye=this._context.model.getAllOverviewRulerDecorations(this._context.theme),Re=6*this._settings.pixelRatio|0,Qe=Re/2|0,nt=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?nt.clearRect(0,0,e,o):(nt.fillStyle=this._settings.backgroundColor,nt.fillRect(0,0,e,o));const ct=this._settings.x,Ot=this._settings.w;ye.sort(me.SQ.cmp);for(const xt of ye){const Kt=xt.color,qt=xt.data;nt.fillStyle=Kt;let di=0,pi=0,Li=0;for(let Si=0,Ki=qt.length/3;Si<Ki;Si++){const Wi=qt[3*Si],Zi=qt[3*Si+1],ji=qt[3*Si+2];let Fi=M.getVerticalOffsetForLineNumber(Zi)*ee|0,Gi=(M.getVerticalOffsetForLineNumber(ji)+g)*ee|0;if(Gi-Fi<Re){let Ji=(Fi+Gi)/2|0;Ji<Qe?Ji=Qe:Ji+Qe>o&&(Ji=o-Qe),Fi=Ji-Qe,Gi=Ji+Qe}Fi>Li+1||Wi!==di?(Si!==0&&nt.fillRect(ct[di],pi,Ot[di],Li-pi),di=Wi,pi=Fi,Li=Gi):Gi>Li&&(Li=Gi)}nt.fillRect(ct[di],pi,Ot[di],Li-pi)}if(!this._settings.hideCursor&&this._settings.cursorColor){const xt=2*this._settings.pixelRatio|0,Kt=xt/2|0,qt=this._settings.x[7],di=this._settings.w[7];nt.fillStyle=this._settings.cursorColor;let pi=-100,Li=-100;for(let Si=0,Ki=this._cursorPositions.length;Si<Ki;Si++){const Wi=this._cursorPositions[Si];let Zi=M.getVerticalOffsetForLineNumber(Wi.lineNumber)*ee|0;Zi<Kt?Zi=Kt:Zi+Kt>o&&(Zi=o-Kt);const ji=Zi-Kt,Fi=ji+xt;ji>Li+1?(Si!==0&&nt.fillRect(qt,pi,di,Li-pi),pi=ji,Li=Fi):Fi>Li&&(Li=Fi)}nt.fillRect(qt,pi,di,Li-pi)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(nt.beginPath(),nt.lineWidth=1,nt.strokeStyle=this._settings.borderColor,nt.moveTo(0,0),nt.lineTo(0,o),nt.stroke(),nt.moveTo(0,0),nt.lineTo(e,0),nt.stroke())}}var Bi=t(92003);class on extends he{constructor(e,o){super(),this._context=e;const g=this._context.configuration.options;this._domNode=(0,f.X)(document.createElement("canvas")),this._domNode.setClassName(o),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Bi.Tj(M=>this._context.viewLayout.getVerticalOffsetForLineNumber(M)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(g.get(58)),this._zoneManager.setPixelRatio(g.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(o.get(58)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(o.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let o=!1;o=this._zoneManager.setDOMWidth(e.width)||o,o=this._zoneManager.setDOMHeight(e.height)||o,o&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),g=this._zoneManager.resolveColorZones(),M=this._zoneManager.getId2Color(),F=this._domNode.domNode.getContext("2d");return F.clearRect(0,0,e,o),g.length>0&&this._renderOneLane(F,g,M,e),!0}_renderOneLane(e,o,g,M){let F=0,ee=0,ye=0;for(const Re of o){const Qe=Re.colorId,nt=Re.from,ct=Re.to;Qe!==F?(e.fillRect(0,ee,M,ye-ee),F=Qe,e.fillStyle=g[F],ee=nt,ye=ct):ye>=nt?ye=Math.max(ye,ct):(e.fillRect(0,ee,M,ye-ee),ee=nt,ye=ct)}e.fillRect(0,ee,M,ye-ee)}}class jn extends ${constructor(e){super(e),this.domNode=(0,f.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const o=this._context.configuration.options;this._rulers=o.get(90),this._typicalHalfwidthCharacterWidth=o.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._rulers=o.get(90),this._typicalHalfwidthCharacterWidth=o.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,o=this._rulers.length;if(e===o)return;if(e<o){const{tabSize:M}=this._context.model.getTextModelOptions(),F=M;let ee=o-e;for(;ee>0;){const ye=(0,f.X)(document.createElement("div"));ye.setClassName("view-ruler"),ye.setWidth(F),this.domNode.appendChild(ye),this._renderedRulers.push(ye),ee--}return}let g=e-o;for(;g>0;){const M=this._renderedRulers.pop();this.domNode.removeChild(M),g--}}render(e){this._ensureRulersCount();for(let o=0,g=this._rulers.length;o<g;o++){const M=this._renderedRulers[o],F=this._rulers[o];M.setBoxShadow(F.color?`1px 0 0 0 ${F.color} inset`:""),M.setHeight(Math.min(e.scrollHeight,1e6)),M.setLeft(F.column*this._typicalHalfwidthCharacterWidth)}}}(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(Pe.zk);o&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${o} inset; }`)});class hs extends ${constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const g=this._context.configuration.options.get(91);this._useShadows=g.useShadows,this._domNode=(0,f.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const o=this._context.configuration.options.get(129);o.minimap.renderMinimap===0||o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?this._width=o.width:this._width=o.width-o.minimap.minimapWidth-o.verticalScrollbarWidth}onConfigurationChanged(e){const g=this._context.configuration.options.get(91);return this._useShadows=g.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(en._w);o&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${o} 0 6px 6px -6px inset; }`)});class tn{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class pn{constructor(e,o){this.lineNumber=e,this.ranges=o}}function kn(Tt){return new tn(Tt)}function Qi(Tt){return new pn(Tt.lineNumber,Tt.ranges.map(kn))}class nn extends Ie{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(58),this._roundedSelection=o.get(89),this._typicalHalfwidthCharacterWidth=o.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(58),this._roundedSelection=o.get(89),this._typicalHalfwidthCharacterWidth=o.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let o=0,g=e.length;o<g;o++)if(e[o].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,o,g){const M=this._typicalHalfwidthCharacterWidth/4;let F=null,ee=null;if(g&&g.length>0&&o.length>0){const ye=o[0].lineNumber;if(ye===e.startLineNumber)for(let Qe=0;!F&&Qe<g.length;Qe++)g[Qe].lineNumber===ye&&(F=g[Qe].ranges[0]);const Re=o[o.length-1].lineNumber;if(Re===e.endLineNumber)for(let Qe=g.length-1;!ee&&Qe>=0;Qe--)g[Qe].lineNumber===Re&&(ee=g[Qe].ranges[0]);F&&!F.startStyle&&(F=null),ee&&!ee.startStyle&&(ee=null)}for(let ye=0,Re=o.length;ye<Re;ye++){const Qe=o[ye].ranges[0],nt=Qe.left,ct=Qe.left+Qe.width,Ot={top:0,bottom:0},xt={top:0,bottom:0};if(ye>0){const Kt=o[ye-1].ranges[0].left,qt=o[ye-1].ranges[0].left+o[ye-1].ranges[0].width;Wn(nt-Kt)<M?Ot.top=2:nt>Kt&&(Ot.top=1),Wn(ct-qt)<M?xt.top=2:Kt<ct&&ct<qt&&(xt.top=1)}else F&&(Ot.top=F.startStyle.top,xt.top=F.endStyle.top);if(ye+1<Re){const Kt=o[ye+1].ranges[0].left,qt=o[ye+1].ranges[0].left+o[ye+1].ranges[0].width;Wn(nt-Kt)<M?Ot.bottom=2:Kt<nt&&nt<qt&&(Ot.bottom=1),Wn(ct-qt)<M?xt.bottom=2:ct<qt&&(xt.bottom=1)}else ee&&(Ot.bottom=ee.startStyle.bottom,xt.bottom=ee.endStyle.bottom);Qe.startStyle=Ot,Qe.endStyle=xt}}_getVisibleRangesWithStyle(e,o,g){const F=(o.linesVisibleRangesForRange(e,!0)||[]).map(Qi);return!this._visibleRangesHaveGaps(F)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(o.visibleRange,F,g),F}_createSelectionPiece(e,o,g,M,F){return'<div class="cslr '+g+'" style="top:'+e.toString()+"px;left:"+M.toString()+"px;width:"+F.toString()+"px;height:"+o+'px;"></div>'}_actualRenderOneSelection(e,o,g,M){if(M.length===0)return;const F=!!M[0].ranges[0].startStyle,ee=this._lineHeight.toString(),ye=(this._lineHeight-1).toString(),Re=M[0].lineNumber,Qe=M[M.length-1].lineNumber;for(let nt=0,ct=M.length;nt<ct;nt++){const Ot=M[nt],xt=Ot.lineNumber,Kt=xt-o,qt=g&&(xt===Qe||xt===Re)?ye:ee,di=g&&xt===Re?1:0;let pi="",Li="";for(let Si=0,Ki=Ot.ranges.length;Si<Ki;Si++){const Wi=Ot.ranges[Si];if(F){const ji=Wi.startStyle,Fi=Wi.endStyle;if(ji.top===1||ji.bottom===1){pi+=this._createSelectionPiece(di,qt,nn.SELECTION_CLASS_NAME,Wi.left-nn.ROUNDED_PIECE_WIDTH,nn.ROUNDED_PIECE_WIDTH);let Gi=nn.EDITOR_BACKGROUND_CLASS_NAME;ji.top===1&&(Gi+=" "+nn.SELECTION_TOP_RIGHT),ji.bottom===1&&(Gi+=" "+nn.SELECTION_BOTTOM_RIGHT),pi+=this._createSelectionPiece(di,qt,Gi,Wi.left-nn.ROUNDED_PIECE_WIDTH,nn.ROUNDED_PIECE_WIDTH)}if(Fi.top===1||Fi.bottom===1){pi+=this._createSelectionPiece(di,qt,nn.SELECTION_CLASS_NAME,Wi.left+Wi.width,nn.ROUNDED_PIECE_WIDTH);let Gi=nn.EDITOR_BACKGROUND_CLASS_NAME;Fi.top===1&&(Gi+=" "+nn.SELECTION_TOP_LEFT),Fi.bottom===1&&(Gi+=" "+nn.SELECTION_BOTTOM_LEFT),pi+=this._createSelectionPiece(di,qt,Gi,Wi.left+Wi.width,nn.ROUNDED_PIECE_WIDTH)}}let Zi=nn.SELECTION_CLASS_NAME;if(F){const ji=Wi.startStyle,Fi=Wi.endStyle;ji.top===0&&(Zi+=" "+nn.SELECTION_TOP_LEFT),ji.bottom===0&&(Zi+=" "+nn.SELECTION_BOTTOM_LEFT),Fi.top===0&&(Zi+=" "+nn.SELECTION_TOP_RIGHT),Fi.bottom===0&&(Zi+=" "+nn.SELECTION_BOTTOM_RIGHT)}Li+=this._createSelectionPiece(di,qt,Zi,Wi.left,Wi.width)}e[Kt][0]+=pi,e[Kt][1]+=Li}}prepareRender(e){const o=[],g=e.visibleRange.startLineNumber,M=e.visibleRange.endLineNumber;for(let ee=g;ee<=M;ee++){const ye=ee-g;o[ye]=["",""]}const F=[];for(let ee=0,ye=this._selections.length;ee<ye;ee++){const Re=this._selections[ee];if(Re.isEmpty()){F[ee]=null;continue}const Qe=this._getVisibleRangesWithStyle(Re,e,this._previousFrameVisibleRangesWithStyle[ee]);F[ee]=Qe,this._actualRenderOneSelection(o,g,this._selections.length>1,Qe)}this._previousFrameVisibleRangesWithStyle=F,this._renderResult=o.map(([ee,ye])=>ee+ye)}render(e,o){if(!this._renderResult)return"";const g=o-e;return g<0||g>=this._renderResult.length?"":this._renderResult[g]}}nn.SELECTION_CLASS_NAME="selected-text",nn.SELECTION_TOP_LEFT="top-left-radius",nn.SELECTION_BOTTOM_LEFT="bottom-left-radius",nn.SELECTION_TOP_RIGHT="top-right-radius",nn.SELECTION_BOTTOM_RIGHT="bottom-right-radius",nn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",nn.ROUNDED_PIECE_WIDTH=10,(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(en.hE);o&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${o}; }`);const g=Tt.getColor(en.ES);g&&e.addRule(`.monaco-editor .selected-text { background-color: ${g}; }`);const M=Tt.getColor(en.yb);M&&!M.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${M}; }`)});function Wn(Tt){return Tt<0?-Tt:Tt}class vs{constructor(e,o,g,M,F,ee){this.top=e,this.left=o,this.width=g,this.height=M,this.textContent=F,this.textContentClassName=ee}}class ys{constructor(e){this._context=e;const o=this._context.configuration.options,g=o.get(43);this._cursorStyle=o.get(24),this._lineHeight=o.get(58),this._typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,f.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Xt.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),m.V.applyFontInfo(this._domNode,g),this._domNode.setDisplay("none"),this._position=new Le.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const o=this._context.configuration.options,g=o.get(43);return this._cursorStyle=o.get(24),this._lineHeight=o.get(58),this._typicalHalfwidthCharacterWidth=g.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),m.V.applyFontInfo(this._domNode,g),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let o="";if(this._cursorStyle===ue.d2.Line||this._cursorStyle===ue.d2.LineThin){const Ot=e.visibleRangeForPosition(this._position);if(!Ot||Ot.outsideRenderedLine)return null;let xt;if(this._cursorStyle===ue.d2.Line){if(xt=x.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),xt>2){const di=this._context.model.getLineContent(this._position.lineNumber),pi=Xe.vH(di,this._position.column-1);o=di.substr(this._position.column-1,pi)}}else xt=x.Uh(1);let Kt=Ot.left;xt>=2&&Kt>=1&&(Kt-=1);const qt=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new vs(qt,Kt,xt,this._lineHeight,o,"")}const g=this._context.model.getLineContent(this._position.lineNumber),M=Xe.vH(g,this._position.column-1),F=e.linesVisibleRangesForRange(new Me.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+M),!1);if(!F||F.length===0)return null;const ee=F[0];if(ee.outsideRenderedLine||ee.ranges.length===0)return null;const ye=ee.ranges[0],Re=ye.width<1?this._typicalHalfwidthCharacterWidth:ye.width;let Qe="";if(this._cursorStyle===ue.d2.Block){const Ot=this._context.model.getViewLineData(this._position.lineNumber);o=g.substr(this._position.column-1,M);const xt=Ot.tokens.findTokenIndexAtOffset(this._position.column-1);Qe=Ot.tokens.getClassName(xt)}let nt=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,ct=this._lineHeight;return(this._cursorStyle===ue.d2.Underline||this._cursorStyle===ue.d2.UnderlineThin)&&(nt+=this._lineHeight-2,ct=2),new vs(nt,ye.left,Re,ct,o,Qe)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Xt.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class ds extends ${constructor(e){super(e);const o=this._context.configuration.options;this._readOnly=o.get(80),this._cursorBlinking=o.get(22),this._cursorStyle=o.get(24),this._cursorSmoothCaretAnimation=o.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new ys(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,f.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new u._F,this._cursorFlatBlinkInterval=new u.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const o=this._context.configuration.options;this._readOnly=o.get(80),this._cursorBlinking=o.get(22),this._cursorStyle=o.get(24),this._cursorSmoothCaretAnimation=o.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let g=0,M=this._secondaryCursors.length;g<M;g++)this._secondaryCursors[g].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,o){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<o.length){const g=o.length-this._secondaryCursors.length;for(let M=0;M<g;M++){const F=new ys(this._context);this._domNode.domNode.insertBefore(F.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(F)}}else if(this._secondaryCursors.length>o.length){const g=this._secondaryCursors.length-o.length;for(let M=0;M<g;M++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let g=0;g<o.length;g++)this._secondaryCursors[g].onCursorPositionChanged(o[g])}onCursorStateChanged(e){const o=[];for(let M=0,F=e.selections.length;M<F;M++)o[M]=e.selections[M].getPosition();this._onCursorPositionChanged(o[0],o.slice(1));const g=e.selections[0].isEmpty();return this._selectionIsEmpty!==g&&(this._selectionIsEmpty=g,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const o=g=>{for(let M=0,F=e.ranges.length;M<F;M++)if(e.ranges[M].fromLineNumber<=g.lineNumber&&g.lineNumber<=e.ranges[M].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(const g of this._secondaryCursors)if(o(g.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),o=e===0,g=e===5;o?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!o&&!g&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},ds.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},ds.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case ue.d2.Line:e+=" cursor-line-style";break;case ue.d2.Block:e+=" cursor-block-style";break;case ue.d2.Underline:e+=" cursor-underline-style";break;case ue.d2.LineThin:e+=" cursor-line-thin-style";break;case ue.d2.BlockOutline:e+=" cursor-block-outline-style";break;case ue.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let o=0,g=this._secondaryCursors.length;o<g;o++)this._secondaryCursors[o].prepareRender(e)}render(e){let o=[],g=0;const M=this._primaryCursor.render(e);M&&(o[g++]=M);for(let F=0,ee=this._secondaryCursors.length;F<ee;F++){const ye=this._secondaryCursors[F].render(e);ye&&(o[g++]=ye)}this._renderData=o}getLastRenderData(){return this._renderData}}ds.BLINK_INTERVAL=500,(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(Pe.n0);if(o){let g=Tt.getColor(Pe.fY);g||(g=o.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${g}; }`),Tt.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${g}; border-right: 1px solid ${g}; }`)}});const ms=()=>{throw new Error("Invalid change accessor")};class cs extends ${constructor(e){super(e);const o=this._context.configuration.options,g=o.get(129);this._lineHeight=o.get(58),this._contentWidth=g.contentWidth,this._contentLeft=g.contentLeft,this.domNode=(0,f.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,f.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),o=new Map;for(const M of e)o.set(M.id,M);let g=!1;return this._context.model.changeWhitespace(M=>{const F=Object.keys(this._zones);for(let ee=0,ye=F.length;ee<ye;ee++){const Re=F[ee],Qe=this._zones[Re],nt=this._computeWhitespaceProps(Qe.delegate);Qe.isInHiddenArea=nt.isInHiddenArea;const ct=o.get(Re);ct&&(ct.afterLineNumber!==nt.afterViewLineNumber||ct.height!==nt.heightInPx)&&(M.changeOneWhitespace(Re,nt.afterViewLineNumber,nt.heightInPx),this._safeCallOnComputedHeight(Qe.delegate,nt.heightInPx),g=!0)}}),g}onConfigurationChanged(e){const o=this._context.configuration.options,g=o.get(129);return this._lineHeight=o.get(58),this._contentWidth=g.contentWidth,this._contentLeft=g.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn!="undefined"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let o;if(typeof e.afterColumn!="undefined")o=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const ee=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;o=new Le.L(ee,this._context.model.getModelLineMaxColumn(ee))}let g;o.column===this._context.model.getModelLineMaxColumn(o.lineNumber)?g=this._context.model.validateModelPosition({lineNumber:o.lineNumber+1,column:1}):g=this._context.model.validateModelPosition({lineNumber:o.lineNumber,column:o.column+1});const M=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(o),F=this._context.model.coordinatesConverter.modelPositionIsVisible(g);return{isInHiddenArea:!F,afterViewLineNumber:M.lineNumber,heightInPx:F?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let o=!1;return this._context.model.changeWhitespace(g=>{const M={addZone:F=>(o=!0,this._addZone(g,F)),removeZone:F=>{F&&(o=this._removeZone(g,F)||o)},layoutZone:F=>{F&&(o=this._layoutZone(g,F)||o)}};us(e,M),M.addZone=ms,M.removeZone=ms,M.layoutZone=ms}),o}_addZone(e,o){const g=this._computeWhitespaceProps(o),F={whitespaceId:e.insertWhitespace(g.afterViewLineNumber,this._getZoneOrdinal(o),g.heightInPx,g.minWidthInPx),delegate:o,isInHiddenArea:g.isInHiddenArea,isVisible:!1,domNode:(0,f.X)(o.domNode),marginDomNode:o.marginDomNode?(0,f.X)(o.marginDomNode):null};return this._safeCallOnComputedHeight(F.delegate,g.heightInPx),F.domNode.setPosition("absolute"),F.domNode.domNode.style.width="100%",F.domNode.setDisplay("none"),F.domNode.setAttribute("monaco-view-zone",F.whitespaceId),this.domNode.appendChild(F.domNode),F.marginDomNode&&(F.marginDomNode.setPosition("absolute"),F.marginDomNode.domNode.style.width="100%",F.marginDomNode.setDisplay("none"),F.marginDomNode.setAttribute("monaco-view-zone",F.whitespaceId),this.marginDomNode.appendChild(F.marginDomNode)),this._zones[F.whitespaceId]=F,this.setShouldRender(),F.whitespaceId}_removeZone(e,o){if(this._zones.hasOwnProperty(o)){const g=this._zones[o];return delete this._zones[o],e.removeWhitespace(g.whitespaceId),g.domNode.removeAttribute("monaco-visible-view-zone"),g.domNode.removeAttribute("monaco-view-zone"),g.domNode.domNode.parentNode.removeChild(g.domNode.domNode),g.marginDomNode&&(g.marginDomNode.removeAttribute("monaco-visible-view-zone"),g.marginDomNode.removeAttribute("monaco-view-zone"),g.marginDomNode.domNode.parentNode.removeChild(g.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,o){if(this._zones.hasOwnProperty(o)){const g=this._zones[o],M=this._computeWhitespaceProps(g.delegate);return g.isInHiddenArea=M.isInHiddenArea,e.changeOneWhitespace(g.whitespaceId,M.afterViewLineNumber,M.heightInPx),this._safeCallOnComputedHeight(g.delegate,M.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,o){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(o)}catch(g){(0,N.dL)(g)}}_safeCallOnDomNodeTop(e,o){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(o)}catch(g){(0,N.dL)(g)}}prepareRender(e){}render(e){const o=e.viewportData.whitespaceViewportData,g={};let M=!1;for(const ee of o)this._zones[ee.id].isInHiddenArea||(g[ee.id]=ee,M=!0);const F=Object.keys(this._zones);for(let ee=0,ye=F.length;ee<ye;ee++){const Re=F[ee],Qe=this._zones[Re];let nt=0,ct=0,Ot="none";g.hasOwnProperty(Re)?(nt=g[Re].verticalOffset-e.bigNumbersDelta,ct=g[Re].height,Ot="block",Qe.isVisible||(Qe.domNode.setAttribute("monaco-visible-view-zone","true"),Qe.isVisible=!0),this._safeCallOnDomNodeTop(Qe.delegate,e.getScrolledTopFromAbsoluteTop(g[Re].verticalOffset))):(Qe.isVisible&&(Qe.domNode.removeAttribute("monaco-visible-view-zone"),Qe.isVisible=!1),this._safeCallOnDomNodeTop(Qe.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),Qe.domNode.setTop(nt),Qe.domNode.setHeight(ct),Qe.domNode.setDisplay(Ot),Qe.marginDomNode&&(Qe.marginDomNode.setTop(nt),Qe.marginDomNode.setHeight(ct),Qe.marginDomNode.setDisplay(Ot))}M&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function us(Tt,e){try{return Tt(e)}catch(o){(0,N.dL)(o)}}class os{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class to{constructor(e,o,g){this.configuration=e,this.theme=new os(o),this.model=g,this.viewLayout=g.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class rn{constructor(e,o,g,M){this.selections=e,this.startLineNumber=o.startLineNumber|0,this.endLineNumber=o.endLineNumber|0,this.relativeVerticalOffset=o.relativeVerticalOffset,this.bigNumbersDelta=o.bigNumbersDelta|0,this.whitespaceViewportData=g,this._model=M,this.visibleRange=new Me.e(o.startLineNumber,this._model.getLineMinColumn(o.startLineNumber),o.endLineNumber,this._model.getLineMaxColumn(o.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class li extends he{constructor(e,o,g,M,F,ee){super(),this._selections=[new p.Y(1,1,1,1)],this._renderAnimationFrame=null;const ye=new be(o,M,F,e);this._context=new to(o,g.getColorTheme(),M),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(g.onDidColorThemeChange(qt=>{this._context.theme.update(qt),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new mi(this._context,ye,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,f.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,f.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,f.X)(document.createElement("div")),V.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Pn(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new On(this._context,this._linesContent),this._viewZones=new cs(this._context),this._viewParts.push(this._viewZones);const Re=new ki(this._context);this._viewParts.push(Re);const Qe=new hs(this._context);this._viewParts.push(Qe);const nt=new Jt(this._context);this._viewParts.push(nt),nt.addDynamicOverlay(new bn(this._context)),nt.addDynamicOverlay(new nn(this._context)),nt.addDynamicOverlay(new is(this._context)),nt.addDynamicOverlay(new xn(this._context));const ct=new jt(this._context);this._viewParts.push(ct),ct.addDynamicOverlay(new Xi(this._context)),ct.addDynamicOverlay(new Xn(this._context)),ct.addDynamicOverlay(new Hn(this._context)),ct.addDynamicOverlay(new qn(this._context)),ct.addDynamicOverlay(new dt(this._context));const Ot=new Nt(this._context);Ot.getDomNode().appendChild(this._viewZones.marginDomNode),Ot.getDomNode().appendChild(ct.getDomNode()),this._viewParts.push(Ot),this._contentWidgets=new _i(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new ds(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Ei(this._context),this._viewParts.push(this._overlayWidgets);const xt=new jn(this._context);this._viewParts.push(xt);const Kt=new ri(this._context);if(this._viewParts.push(Kt),Re){const qt=this._scrollbar.getOverviewRulerLayoutInfo();qt.parent.insertBefore(Re.getDomNode(),qt.insertBefore)}this._linesContent.appendChild(nt.getDomNode()),this._linesContent.appendChild(xt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Ot.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Qe.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Kt.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),ee?ee.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new ft(this._context,ye,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],o=this._textAreaHandler.getLastRenderData();return new kt(e,o)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,o)),visibleRangeForPosition:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Le.L(e,o))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Le.L(e,o)))}}_applyLayout(){const o=this._context.configuration.options.get(129);this.domNode.setWidth(o.width),this.domNode.setHeight(o.height),this._overflowGuardContainer.setWidth(o.width),this._overflowGuardContainer.setHeight(o.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+(0,je.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=x.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Oi(()=>this._actualRender())}_getViewPartsToRender(){let e=[],o=0;for(const g of this._viewParts)g.shouldRender()&&(e[o++]=g);return e}_actualRender(){if(!x.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const o=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(o.startLineNumber,o.endLineNumber,o.centeredLineNumber);const g=new rn(this._selections,o,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(g),this._viewLines.shouldRender()&&(this._viewLines.renderText(g),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const M=new Q(this._context.viewLayout,g,this._viewLines);for(const F of e)F.prepareRender(M);for(const F of e)F.render(M),F.onDidRender();Math.abs(n.mX()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,o){const g=this._context.model.validateModelPosition({lineNumber:e,column:o}),M=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(g);this._flushAccumulatedAndRenderNow();const F=this._viewLines.visibleRangeForPosition(new Le.L(M.lineNumber,M.column));return F?F.left:-1}getTargetAtClientPoint(e,o){const g=this._pointerHandler.getTargetAtClientPoint(e,o);return g?J.convertViewToModelMouseTarget(g,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new on(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,o){if(o){this._viewLines.forceShouldRender();for(const g of this._viewParts)g.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let o=e.position&&e.position.range||null;if(o===null){const M=e.position?e.position.position:null;M!==null&&(o=new Me.e(M.lineNumber,M.column,M.lineNumber,M.column))}const g=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,o,g),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const o=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,o)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function Oi(Tt){try{return Tt()}catch(e){(0,N.dL)(e)}}class Hi{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Se.rS(new Me.e(1,1,1,1),0,new Le.L(1,1),0),new Se.rS(new Me.e(1,1,1,1),0,new Le.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Se.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const o=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new p.Y(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn):new p.Y(o.endLineNumber,o.endColumn,o.startLineNumber,o.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,o,g){this._setState(e,o,g)}static _validatePositionWithCache(e,o,g,M){return o.equals(g)?M:e.normalizePosition(o,2)}static _validateViewState(e,o){const g=o.position,M=o.selectionStart.getStartPosition(),F=o.selectionStart.getEndPosition(),ee=e.normalizePosition(g,2),ye=this._validatePositionWithCache(e,M,g,ee),Re=this._validatePositionWithCache(e,F,M,ye);return g.equals(ee)&&M.equals(ye)&&F.equals(Re)?o:new Se.rS(Me.e.fromPositions(ye,Re),o.selectionStartLeftoverVisibleColumns+M.column-ye.column,ee,o.leftoverVisibleColumns+g.column-ee.column)}_setState(e,o,g){if(g&&(g=Hi._validateViewState(e.viewModel,g)),o){const M=e.model.validateRange(o.selectionStart),F=o.selectionStart.equalsRange(M)?o.selectionStartLeftoverVisibleColumns:0,ee=e.model.validatePosition(o.position),ye=o.position.equals(ee)?o.leftoverVisibleColumns:0;o=new Se.rS(M,F,ee,ye)}else{if(!g)return;const M=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(g.selectionStart)),F=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(g.position));o=new Se.rS(M,g.selectionStartLeftoverVisibleColumns,F,g.leftoverVisibleColumns)}if(g){const M=e.coordinatesConverter.validateViewRange(g.selectionStart,o.selectionStart),F=e.coordinatesConverter.validateViewPosition(g.position,o.position);g=new Se.rS(M,o.selectionStartLeftoverVisibleColumns,F,o.leftoverVisibleColumns)}else{const M=e.coordinatesConverter.convertModelPositionToViewPosition(new Le.L(o.selectionStart.startLineNumber,o.selectionStart.startColumn)),F=e.coordinatesConverter.convertModelPositionToViewPosition(new Le.L(o.selectionStart.endLineNumber,o.selectionStart.endColumn)),ee=new Me.e(M.lineNumber,M.column,F.lineNumber,F.column),ye=e.coordinatesConverter.convertModelPositionToViewPosition(o.position);g=new Se.rS(ee,o.selectionStartLeftoverVisibleColumns,ye,o.leftoverVisibleColumns)}this.modelState=o,this.viewState=g,this._updateTrackedRange(e)}}class vn{constructor(e){this.context=e,this.primaryCursor=new Hi(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,o=this.secondaryCursors.length;e<o;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,o=this.secondaryCursors.length;e<o;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,o=this.secondaryCursors.length;e<o;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let o=0,g=this.secondaryCursors.length;o<g;o++)e[o+1]=this.secondaryCursors[o].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let o=0,g=this.secondaryCursors.length;o<g;o++)e[o+1]=this.secondaryCursors[o].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let o=0,g=this.secondaryCursors.length;o<g;o++)e[o+1]=this.secondaryCursors[o].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let o=0,g=this.secondaryCursors.length;o<g;o++){const M=this.secondaryCursors[o].viewState.position;M.isBefore(e)&&(e=M)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let o=0,g=this.secondaryCursors.length;o<g;o++){const M=this.secondaryCursors[o].viewState.position;e.isBeforeOrEqual(M)&&(e=M)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let o=0,g=this.secondaryCursors.length;o<g;o++)e[o+1]=this.secondaryCursors[o].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let o=0,g=this.secondaryCursors.length;o<g;o++)e[o+1]=this.secondaryCursors[o].viewState.selection;return e}setSelections(e){this.setStates(Se.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const o=this.secondaryCursors.length,g=e.length;if(o<g){let M=g-o;for(let F=0;F<M;F++)this._addSecondaryCursor()}else if(o>g){let M=o-g;for(let F=0;F<M;F++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let M=0;M<g;M++)this.secondaryCursors[M].setState(this.context,e[M].modelState,e[M].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new Hi(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let o=0,g=this.secondaryCursors.length;o<g;o++)e[o+1]=this.secondaryCursors[o];return e}normalize(){if(this.secondaryCursors.length===0)return;let e=this._getAll(),o=[];for(let g=0,M=e.length;g<M;g++)o.push({index:g,selection:e[g].modelState.selection});o.sort((g,M)=>g.selection.startLineNumber===M.selection.startLineNumber?g.selection.startColumn-M.selection.startColumn:g.selection.startLineNumber-M.selection.startLineNumber);for(let g=0;g<o.length-1;g++){const M=o[g],F=o[g+1],ee=M.selection,ye=F.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Re;if(ye.isEmpty()||ee.isEmpty()?Re=ye.getStartPosition().isBeforeOrEqual(ee.getEndPosition()):Re=ye.getStartPosition().isBefore(ee.getEndPosition()),Re){const Qe=M.index<F.index?g:g+1,nt=M.index<F.index?g+1:g,ct=o[nt].index,Ot=o[Qe].index,xt=o[nt].selection,Kt=o[Qe].selection;if(!xt.equalsSelection(Kt)){const qt=xt.plusRange(Kt),di=xt.selectionStartLineNumber===xt.startLineNumber&&xt.selectionStartColumn===xt.startColumn,pi=Kt.selectionStartLineNumber===Kt.startLineNumber&&Kt.selectionStartColumn===Kt.startColumn;let Li;ct===this.lastAddedCursorIndex?(Li=di,this.lastAddedCursorIndex=Ot):Li=pi;let Si;Li?Si=new p.Y(qt.startLineNumber,qt.startColumn,qt.endLineNumber,qt.endColumn):Si=new p.Y(qt.endLineNumber,qt.endColumn,qt.startLineNumber,qt.startColumn),o[Qe].selection=Si;const Ki=Se.Vi.fromModelSelection(Si);e[Ot].setState(this.context,Ki.modelState,Ki.viewState)}for(const qt of o)qt.index>ct&&qt.index--;e.splice(ct,1),o.splice(nt,1),this._removeSecondaryCursor(ct-1),g--}}}}var ns=t(31380),Rn=t(28792),lt=t(83256);class _{constructor(){this.type=0}}class P{constructor(){this.type=1}}class Z{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class ve{constructor(e,o){this.type=3,this.selections=e,this.modelSelections=o}}class Ne{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Ue{constructor(){this.type=5}}class vt{constructor(e){this.type=6,this.isFocused=e}}class Dt{constructor(){this.type=7}}class Ft{constructor(){this.type=8}}class At{constructor(e,o){this.type=9,this.fromLineNumber=e,this.toLineNumber=o}}class Ut{constructor(e,o){this.type=10,this.fromLineNumber=e,this.toLineNumber=o}}class Yt{constructor(e,o){this.type=11,this.fromLineNumber=e,this.toLineNumber=o}}class si{constructor(e,o,g,M,F,ee){this.type=12,this.source=e,this.range=o,this.selections=g,this.verticalType=M,this.revealHorizontal=F,this.scrollType=ee}}class ci{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class yi{constructor(){this.type=14}}class wi{constructor(e){this.type=15,this.ranges=e}}class Ni{constructor(){this.type=16}}class Ui{constructor(){this.type=17}}class qi extends C.JT{constructor(){super(),this._onEvent=this._register(new s.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let o=0,g=this._outgoingEvents.length;o<g;o++)if(this._outgoingEvents[o].kind===e.kind){this._outgoingEvents[o]=this._outgoingEvents[o].merge(e);return}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let o=0,g=this._eventHandlers.length;o<g;o++)this._eventHandlers[o]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let o=0;o<this._eventHandlers.length;o++)if(this._eventHandlers[o]===e){this._eventHandlers.splice(o,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Vi),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,o=this._collector.viewEvents;this._collector=null;for(const g of e)this._addOutgoingEvent(g);o.length>0&&this._emitMany(o)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const o=this._eventHandlers.slice(0);for(const g of o)g.handleEvents(e)}}}class Vi{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class ln{constructor(e,o,g,M){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=o,this.contentWidth=g,this.contentHeight=M,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new ln(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class In{constructor(e,o){this.kind=1,this.oldHasFocus=e,this.hasFocus=o}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new In(this.oldHasFocus,e.hasFocus)}}class Cn{constructor(e,o,g,M,F,ee,ye,Re){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=o,this._oldScrollHeight=g,this._oldScrollTop=M,this.scrollWidth=F,this.scrollLeft=ee,this.scrollHeight=ye,this.scrollTop=Re,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new Cn(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class yn{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class Mn{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class as{constructor(e,o,g,M,F,ee,ye){this.kind=6,this.oldSelections=e,this.selections=o,this.oldModelVersionId=g,this.modelVersionId=M,this.source=F,this.reason=ee,this.reachedMaxCursorCount=ye}static _selectionsAreEqual(e,o){if(!e&&!o)return!0;if(!e||!o)return!1;const g=e.length,M=o.length;if(g!==M)return!1;for(let F=0;F<g;F++)if(!e[F].equalsSelection(o[F]))return!1;return!0}isNoOp(){return as._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==6?this:new as(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class bs{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class fs{constructor(e,o){this.modelVersionId=e.getVersionId(),this.cursorState=o.getCursorStates()}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let o=0,g=this.cursorState.length;o<g;o++)if(!this.cursorState[o].equals(e.cursorState[o]))return!1;return!0}}class Ts{constructor(e,o,g){this._model=e,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=g}static getAllAutoClosedCharacters(e){let o=[];for(const g of e)o=o.concat(g.getAutoClosedCharactersRanges());return o}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const g=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);g&&e.push(g)}return e}isValid(e){let o=[];for(let g=0;g<this._autoClosedEnclosingDecorations.length;g++){const M=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[g]);if(M&&(o.push(M),M.startLineNumber!==M.endLineNumber))return!1}o.sort(Me.e.compareRangesUsingStarts),e.sort(Me.e.compareRangesUsingStarts);for(let g=0;g<e.length;g++)if(g>=o.length||!o[g].strictContainsRange(e[g]))return!1;return!0}}class Ns extends C.JT{constructor(e,o,g,M){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=g,this.context=new Se.zp(this._model,this._viewModel,this._coordinatesConverter,M),this._cursors=new vn(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,C.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Se.zp(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const g=this._autoClosedActions[o];g.isValid(e)||(g.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,o,g,M){let F=!1;M!==null&&M.length>Ns.MAX_CURSOR_COUNT&&(M=M.slice(0,Ns.MAX_CURSOR_COUNT),F=!0);const ee=new fs(this._model,this);return this._cursors.setStates(M),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,o,g,ee,F)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,o,g,M){const F=this._cursors.getViewPositions();if(F.length>1){this._emitCursorRevealRange(e,o,null,this._cursors.getViewSelections(),0,g,M);return}else{const ee=F[0],ye=new Me.e(ee.lineNumber,ee.column,ee.lineNumber,ee.column);this._emitCursorRevealRange(e,o,ye,null,0,g,M)}}_revealPrimaryCursor(e,o,g,M,F){const ee=this._cursors.getViewPositions();if(ee.length>1)this._emitCursorRevealRange(e,o,null,this._cursors.getViewSelections(),g,M,F);else{const ye=ee[0],Re=new Me.e(ye.lineNumber,ye.column,ye.lineNumber,ye.column);this._emitCursorRevealRange(e,o,Re,null,g,M,F)}}_emitCursorRevealRange(e,o,g,M,F,ee,ye){e.emitViewEvent(new si(o,g,M,F,ee,ye))}saveState(){let e=[];const o=this._cursors.getSelections();for(let g=0,M=o.length;g<M;g++){const F=o[g];e.push({inSelectionMode:!F.isEmpty(),selectionStart:{lineNumber:F.selectionStartLineNumber,column:F.selectionStartColumn},position:{lineNumber:F.positionLineNumber,column:F.positionColumn}})}return e}restoreState(e,o){let g=[];for(let M=0,F=o.length;M<F;M++){const ee=o[M];let ye=1,Re=1;ee.position&&ee.position.lineNumber&&(ye=ee.position.lineNumber),ee.position&&ee.position.column&&(Re=ee.position.column);let Qe=ye,nt=Re;ee.selectionStart&&ee.selectionStart.lineNumber&&(Qe=ee.selectionStart.lineNumber),ee.selectionStart&&ee.selectionStart.column&&(nt=ee.selectionStart.column),g.push({selectionStartLineNumber:Qe,selectionStartColumn:nt,positionLineNumber:ye,positionColumn:Re})}this.setStates(e,"restoreState",0,Se.Vi.fromModelSelections(g)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,o){if(o instanceof lt.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=o.versionId,this._isHandling)return;const g=o.containsEvent(1);if(this._prevEditOperationType=0,g)this._cursors.dispose(),this._cursors=new vn(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&o.resultingSelection&&o.resultingSelection.length>0){const M=Se.Vi.fromModelSelections(o.resultingSelection);this.setStates(e,"modelChange",o.isUndoing?5:o.isRedoing?6:2,M)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const M=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Se.Vi.fromModelSelections(M))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),o=e.viewState.selectionStart.getStartPosition(),g=e.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:Se.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,o),toViewLineNumber:g.lineNumber,toViewVisualColumn:Se.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,g)}}getSelections(){return this._cursors.getSelections()}setSelections(e,o,g,M){this.setStates(e,o,M,Se.Vi.fromModelSelections(g))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,o){let g=[],M=[];for(let ye=0,Re=e.length;ye<Re;ye++)g.push({range:e[ye],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),M.push({range:o[ye],options:{description:"auto-closed-enclosing",stickiness:1}});const F=this._model.deltaDecorations([],g),ee=this._model.deltaDecorations([],M);this._autoClosedActions.push(new Ts(this._model,F,ee))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const o=Os.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(o){this._interpretCommandResult(o);let g=[],M=[];for(let F=0;F<e.commands.length;F++){const ee=e.commands[F];ee instanceof Rn.g&&ee.enclosingRange&&ee.closeCharacterRange&&(g.push(ee.closeCharacterRange),M.push(ee.enclosingRange))}g.length>0&&this._pushAutoClosedAction(g,M),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,o,g,M,F){const ee=new fs(this._model,this);if(ee.equals(M))return!1;const ye=this._cursors.getSelections(),Re=this._cursors.getViewSelections();if(e.emitViewEvent(new ve(Re,ye)),!M||M.cursorState.length!==ee.cursorState.length||ee.cursorState.some((Qe,nt)=>!Qe.modelState.equals(M.cursorState[nt].modelState))){const Qe=M?M.cursorState.map(ct=>ct.modelState.selection):null,nt=M?M.modelVersionId:0;e.emitOutgoingEvent(new as(Qe,ye,nt,ee.modelVersionId,o||"keyboard",g,F))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let o=[];for(let g=0,M=e.length;g<M;g++){const F=e[g];if(!F.text||F.text.indexOf(`
`)>=0)return null;const ee=F.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!ee)return null;const ye=ee[1],Re=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(ye);if(!Re||Re.length!==1)return null;const Qe=Re[0].open,nt=F.text.length-ee[2].length-1,ct=F.text.lastIndexOf(Qe,nt-1);if(ct===-1)return null;o.push([ct,nt])}return o}executeEdits(e,o,g,M){let F=null;o==="snippet"&&(F=this._findAutoClosingPairs(g)),F&&(g[0]._isTracked=!0);let ee=[],ye=[];const Re=this._model.pushEditOperations(this.getSelections(),g,Qe=>{if(F)for(let ct=0,Ot=F.length;ct<Ot;ct++){const[xt,Kt]=F[ct],qt=Qe[ct],di=qt.range.startLineNumber,pi=qt.range.startColumn-1+xt,Li=qt.range.startColumn-1+Kt;ee.push(new Me.e(di,Li+1,di,Li+2)),ye.push(new Me.e(di,pi+1,di,Li+2))}const nt=M(Qe);return nt&&(this._isHandling=!0),nt});Re&&(this._isHandling=!1,this.setSelections(e,o,Re,0)),ee.length>0&&this._pushAutoClosedAction(ee,ye)}_executeEdit(e,o,g,M=0){if(this.context.cursorConfig.readOnly)return;const F=new fs(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(ee){(0,N.dL)(ee)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,g,M,F,!1)&&this._revealPrimaryCursor(o,g,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return Ts.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,o){this._executeEdit(()=>{o==="keyboard"&&(this._executeEditOperation(Rn.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,o)}type(e,o,g){this._executeEdit(()=>{if(g==="keyboard"){const M=o.length;let F=0;for(;F<M;){const ee=Xe.vH(o,F),ye=o.substr(F,ee);this._executeEditOperation(Rn.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),ye)),F+=ee}}else this._executeEditOperation(Rn.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},e,g)}compositionType(e,o,g,M,F,ee){if(o.length===0&&g===0&&M===0){if(F!==0){const ye=this.getSelections().map(Re=>{const Qe=Re.getPosition();return new p.Y(Qe.lineNumber,Qe.column+F,Qe.lineNumber,Qe.column+F)});this.setSelections(e,ee,ye,0)}return}this._executeEdit(()=>{this._executeEditOperation(Rn.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,g,M,F))},e,ee)}paste(e,o,g,M,F){this._executeEdit(()=>{this._executeEditOperation(Rn.u.paste(this.context.cursorConfig,this._model,this.getSelections(),o,g,M||[]))},e,F,4)}cut(e,o){this._executeEdit(()=>{this._executeEditOperation(ns.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,o)}executeCommand(e,o,g){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Se.Tp(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,g)}executeCommands(e,o,g){this._executeEdit(()=>{this._executeEditOperation(new Se.Tp(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,g)}}Ns.MAX_CURSOR_COUNT=1e4;class Os{static executeCommands(e,o,g){const M={model:e,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},F=this._innerExecuteCommands(M,g);for(let ee=0,ye=M.trackedRanges.length;ee<ye;ee++)M.model._setTrackedRange(M.trackedRanges[ee],null,0);return F}static _innerExecuteCommands(e,o){if(this._arrayIsEmpty(o))return null;const g=this._getEditOperations(e,o);if(g.operations.length===0)return null;const M=g.operations,F=this._getLoserCursorMap(M);if(F.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let ee=[];for(let Qe=0,nt=M.length;Qe<nt;Qe++)F.hasOwnProperty(M[Qe].identifier.major.toString())||ee.push(M[Qe]);g.hadTrackedEditOperation&&ee.length>0&&(ee[0]._isTracked=!0);let ye=e.model.pushEditOperations(e.selectionsBefore,ee,Qe=>{let nt=[];for(let xt=0;xt<e.selectionsBefore.length;xt++)nt[xt]=[];for(const xt of Qe)xt.identifier&&nt[xt.identifier.major].push(xt);const ct=(xt,Kt)=>xt.identifier.minor-Kt.identifier.minor;let Ot=[];for(let xt=0;xt<e.selectionsBefore.length;xt++)nt[xt].length>0?(nt[xt].sort(ct),Ot[xt]=o[xt].computeCursorState(e.model,{getInverseEditOperations:()=>nt[xt],getTrackedSelection:Kt=>{const qt=parseInt(Kt,10),di=e.model._getTrackedRange(e.trackedRanges[qt]);return e.trackedRangesDirection[qt]===0?new p.Y(di.startLineNumber,di.startColumn,di.endLineNumber,di.endColumn):new p.Y(di.endLineNumber,di.endColumn,di.startLineNumber,di.startColumn)}})):Ot[xt]=e.selectionsBefore[xt];return Ot});ye||(ye=e.selectionsBefore);let Re=[];for(let Qe in F)F.hasOwnProperty(Qe)&&Re.push(parseInt(Qe,10));Re.sort((Qe,nt)=>nt-Qe);for(const Qe of Re)ye.splice(Qe,1);return ye}static _arrayIsEmpty(e){for(let o=0,g=e.length;o<g;o++)if(e[o])return!1;return!0}static _getEditOperations(e,o){let g=[],M=!1;for(let F=0,ee=o.length;F<ee;F++){const ye=o[F];if(ye){const Re=this._getEditOperationsFromCommand(e,F,ye);g=g.concat(Re.operations),M=M||Re.hadTrackedEditOperation}}return{operations:g,hadTrackedEditOperation:M}}static _getEditOperationsFromCommand(e,o,g){let M=[],F=0;const ee=(ct,Ot,xt=!1)=>{Me.e.isEmpty(ct)&&Ot===""||M.push({identifier:{major:o,minor:F++},range:ct,text:Ot,forceMoveMarkers:xt,isAutoWhitespaceEdit:g.insertsAutoWhitespace})};let ye=!1;const nt={addEditOperation:ee,addTrackedEditOperation:(ct,Ot,xt)=>{ye=!0,ee(ct,Ot,xt)},trackSelection:(ct,Ot)=>{const xt=p.Y.liftSelection(ct);let Kt;if(xt.isEmpty())if(typeof Ot=="boolean")Ot?Kt=2:Kt=3;else{const pi=e.model.getLineMaxColumn(xt.startLineNumber);xt.startColumn===pi?Kt=2:Kt=3}else Kt=1;const qt=e.trackedRanges.length,di=e.model._setTrackedRange(null,xt,Kt);return e.trackedRanges[qt]=di,e.trackedRangesDirection[qt]=xt.getDirection(),qt.toString()}};try{g.getEditOperations(e.model,nt)}catch(ct){return(0,N.dL)(ct),{operations:[],hadTrackedEditOperation:!1}}return{operations:M,hadTrackedEditOperation:ye}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((g,M)=>-Me.e.compareRangesUsingEnds(g.range,M.range));let o={};for(let g=1;g<e.length;g++){const M=e[g-1],F=e[g];if(Me.e.getStartPosition(M.range).isBefore(Me.e.getEndPosition(F.range))){let ee;M.identifier.major>F.identifier.major?ee=M.identifier.major:ee=F.identifier.major,o[ee.toString()]=!0;for(let ye=0;ye<e.length;ye++)e[ye].identifier.major===ee&&(e.splice(ye,1),ye<g&&g--,ye--);g>0&&g--}}return o}}var Gs=t(30653),io=t(96518),Fn=t(29102),xr=t(55713),po=t(76633);class _o{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const o=this._inserts,g=this._changes,M=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(o,g,M)}}class Mr{constructor(e,o,g,M,F){this.id=e,this.afterLineNumber=o,this.ordinal=g,this.height=M,this.minWidth=F,this.prefixSum=0}}class no{constructor(e,o,g,M){this._instanceId=Xe.PJ(++no.INSTANCE_COUNT),this._pendingChanges=new _o,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=o,this._paddingTop=g,this._paddingBottom=M}static findInsertionIndex(e,o,g){let M=0,F=e.length;for(;M<F;){const ee=M+F>>>1;o===e[ee].afterLineNumber?g<e[ee].ordinal?F=ee:M=ee+1:o<e[ee].afterLineNumber?F=ee:M=ee+1}return M}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,o){this._paddingTop=e,this._paddingBottom=o}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let o=!1;try{e({insertWhitespace:(M,F,ee,ye)=>{o=!0,M=M|0,F=F|0,ee=ee|0,ye=ye|0;const Re=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Mr(Re,M,F,ee,ye)),Re},changeOneWhitespace:(M,F,ee)=>{o=!0,F=F|0,ee=ee|0,this._pendingChanges.change({id:M,newAfterLineNumber:F,newHeight:ee})},removeWhitespace:M=>{o=!0,this._pendingChanges.remove({id:M})}})}finally{this._pendingChanges.commit(this)}return o}_commitPendingChanges(e,o,g){if((e.length>0||g.length>0)&&(this._minWidth=-1),e.length+o.length+g.length<=1){for(const Re of e)this._insertWhitespace(Re);for(const Re of o)this._changeOneWhitespace(Re.id,Re.newAfterLineNumber,Re.newHeight);for(const Re of g){const Qe=this._findWhitespaceIndex(Re.id);Qe!==-1&&this._removeWhitespace(Qe)}return}const M=new Set;for(const Re of g)M.add(Re.id);const F=new Map;for(const Re of o)F.set(Re.id,Re);const ee=Re=>{let Qe=[];for(const nt of Re)if(!M.has(nt.id)){if(F.has(nt.id)){const ct=F.get(nt.id);nt.afterLineNumber=ct.newAfterLineNumber,nt.height=ct.newHeight}Qe.push(nt)}return Qe},ye=ee(this._arr).concat(ee(e));ye.sort((Re,Qe)=>Re.afterLineNumber===Qe.afterLineNumber?Re.ordinal-Qe.ordinal:Re.afterLineNumber-Qe.afterLineNumber),this._arr=ye,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const o=no.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(o,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)}_findWhitespaceIndex(e){const o=this._arr;for(let g=0,M=o.length;g<M;g++)if(o[g].id===e)return g;return-1}_changeOneWhitespace(e,o,g){const M=this._findWhitespaceIndex(e);if(M!==-1&&(this._arr[M].height!==g&&(this._arr[M].height=g,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,M-1)),this._arr[M].afterLineNumber!==o)){const F=this._arr[M];this._removeWhitespace(M),F.afterLineNumber=o,this._insertWhitespace(F)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount-=o-e+1;for(let g=0,M=this._arr.length;g<M;g++){const F=this._arr[g].afterLineNumber;e<=F&&F<=o?this._arr[g].afterLineNumber=e-1:F>o&&(this._arr[g].afterLineNumber-=o-e+1)}}onLinesInserted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount+=o-e+1;for(let g=0,M=this._arr.length;g<M;g++){const F=this._arr[g].afterLineNumber;e<=F&&(this._arr[g].afterLineNumber+=o-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let o=Math.max(0,this._prefixSumValidIndex+1);o===0&&(this._arr[0].prefixSum=this._arr[0].height,o++);for(let g=o;g<=e;g++)this._arr[g].prefixSum=this._arr[g-1].prefixSum+this._arr[g].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,o=this.getWhitespacesTotalHeight();return e+o+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const o=this._findLastWhitespaceBeforeLineNumber(e);return o===-1?0:this.getWhitespacesAccumulatedHeight(o)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const o=this._arr;let g=0,M=o.length-1;for(;g<=M;){const ee=(M-g|0)/2|0,ye=g+ee|0;if(o[ye].afterLineNumber<e){if(ye+1>=o.length||o[ye+1].afterLineNumber>=e)return ye;g=ye+1|0}else M=ye-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const g=this._findLastWhitespaceBeforeLineNumber(e)+1;return g<this._arr.length?g:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let o;e>1?o=this._lineHeight*(e-1):o=0;const g=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return o+g+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let o=0,g=this._arr.length;o<g;o++)e=Math.max(e,this._arr[o].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>o}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>=o-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const o=this._lineCount|0,g=this._lineHeight;let M=1,F=o;for(;M<F;){const ee=(M+F)/2|0,ye=this.getVerticalOffsetForLineNumber(ee)|0;if(e>=ye+g)M=ee+1;else{if(e>=ye)return ee;F=ee}}return M>o?o:M}getLinesViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const g=this._lineHeight,M=this.getLineNumberAtOrAfterVerticalOffset(e)|0,F=this.getVerticalOffsetForLineNumber(M)|0;let ee=this._lineCount|0,ye=this.getFirstWhitespaceIndexAfterLineNumber(M)|0;const Re=this.getWhitespacesCount()|0;let Qe,nt;ye===-1?(ye=Re,nt=ee+1,Qe=0):(nt=this.getAfterLineNumberForWhitespaceIndex(ye)|0,Qe=this.getHeightForWhitespaceIndex(ye)|0);let ct=F,Ot=ct;const xt=5e5;let Kt=0;F>=xt&&(Kt=Math.floor(F/xt)*xt,Kt=Math.floor(Kt/g)*g,Ot-=Kt);const qt=[],di=e+(o-e)/2;let pi=-1;for(let Wi=M;Wi<=ee;Wi++){if(pi===-1){const Zi=ct,ji=ct+g;(Zi<=di&&di<ji||Zi>di)&&(pi=Wi)}for(ct+=g,qt[Wi-M]=Ot,Ot+=g;nt===Wi;)Ot+=Qe,ct+=Qe,ye++,ye>=Re?nt=ee+1:(nt=this.getAfterLineNumberForWhitespaceIndex(ye)|0,Qe=this.getHeightForWhitespaceIndex(ye)|0);if(ct>=o){ee=Wi;break}}pi===-1&&(pi=ee);const Li=this.getVerticalOffsetForLineNumber(ee)|0;let Si=M,Ki=ee;return Si<Ki&&F<e&&Si++,Si<Ki&&Li+g>o&&Ki--,{bigNumbersDelta:Kt,startLineNumber:M,endLineNumber:ee,relativeVerticalOffset:qt,centeredLineNumber:pi,completelyVisibleStartLineNumber:Si,completelyVisibleEndLineNumber:Ki}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const o=this.getAfterLineNumberForWhitespaceIndex(e);let g;o>=1?g=this._lineHeight*o:g=0;let M;return e>0?M=this.getWhitespacesAccumulatedHeight(e-1):M=0,g+M+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let o=0,g=this.getWhitespacesCount()-1;if(g<0)return-1;const M=this.getVerticalOffsetForWhitespaceIndex(g),F=this.getHeightForWhitespaceIndex(g);if(e>=M+F)return-1;for(;o<g;){const ee=Math.floor((o+g)/2),ye=this.getVerticalOffsetForWhitespaceIndex(ee),Re=this.getHeightForWhitespaceIndex(ee);if(e>=ye+Re)o=ee+1;else{if(e>=ye)return ee;g=ee}}return o}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const o=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(o<0||o>=this.getWhitespacesCount())return null;const g=this.getVerticalOffsetForWhitespaceIndex(o);if(g>e)return null;const M=this.getHeightForWhitespaceIndex(o),F=this.getIdForWhitespaceIndex(o),ee=this.getAfterLineNumberForWhitespaceIndex(o);return{id:F,afterLineNumber:ee,verticalOffset:g,height:M}}getWhitespaceViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const g=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),M=this.getWhitespacesCount()-1;if(g<0)return[];let F=[];for(let ee=g;ee<=M;ee++){const ye=this.getVerticalOffsetForWhitespaceIndex(ee),Re=this.getHeightForWhitespaceIndex(ee);if(ye>=o)break;F.push({id:this.getIdForWhitespaceIndex(ee),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(ee),verticalOffset:ye,height:Re})}return F}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}no.INSTANCE_COUNT=0;const Tr=125;class so{constructor(e,o,g,M){e=e|0,o=o|0,g=g|0,M=M|0,e<0&&(e=0),o<0&&(o=0),g<0&&(g=0),M<0&&(M=0),this.width=e,this.contentWidth=o,this.scrollWidth=Math.max(e,o),this.height=g,this.contentHeight=M,this.scrollHeight=Math.max(g,M)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Rr extends C.JT{constructor(e,o){super(),this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new so(0,0,0,0),this._scrollable=this._register(new po.Rm(e,o)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const o=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const g=o.contentWidth!==e.contentWidth,M=o.contentHeight!==e.contentHeight;(g||M)&&this._onDidContentSizeChange.fire(new ln(o.contentWidth,o.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class Ar extends C.JT{constructor(e,o,g){super(),this._configuration=e;const M=this._configuration.options,F=M.get(129),ee=M.get(74);this._linesLayout=new no(o,M.get(58),ee.top,ee.bottom),this._scrollable=this._register(new Rr(0,g)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new so(F.contentWidth,0,F.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?Tr:0)}onConfigurationChanged(e){const o=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(o.get(58)),e.hasChanged(74)){const g=o.get(74);this._linesLayout.setPadding(g.top,g.bottom)}if(e.hasChanged(129)){const g=o.get(129),M=g.contentWidth,F=g.height,ee=this._scrollable.getScrollDimensions(),ye=ee.contentWidth;this._scrollable.setScrollDimensions(new so(M,ee.contentWidth,F,this._getContentHeight(M,F,ye)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,o){this._linesLayout.onLinesDeleted(e,o)}onLinesInserted(e,o){this._linesLayout.onLinesInserted(e,o)}_getHorizontalScrollbarHeight(e,o){const M=this._configuration.options.get(91);return M.horizontal===2||e>=o?0:M.horizontalScrollbarSize}_getContentHeight(e,o,g){const M=this._configuration.options;let F=this._linesLayout.getLinesTotalHeight();return M.get(93)?F+=Math.max(0,o-M.get(58)-M.get(74).bottom):F+=this._getHorizontalScrollbarHeight(e,g),F}_updateHeight(){const e=this._scrollable.getScrollDimensions(),o=e.width,g=e.height,M=e.contentWidth;this._scrollable.setScrollDimensions(new so(o,e.contentWidth,g,this._getContentHeight(o,g,M)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new me.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new me.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}_computeContentWidth(e){const o=this._configuration.options,g=o.get(130),M=o.get(43);if(g.isViewportWrapping){const F=o.get(129),ee=o.get(64);return e>F.contentWidth+M.typicalHalfwidthCharacterWidth&&ee.enabled&&ee.side==="right"?e+F.verticalScrollbarWidth:e}else{const F=o.get(92)*M.typicalHalfwidthCharacterWidth,ee=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+F,ee)}}setMaxLineWidth(e){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new so(o.width,this._computeContentWidth(e),o.height,o.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let o=e.scrollTop,g=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),M=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(g);return{scrollTop:o,scrollTopWithoutViewZones:o-M,scrollLeft:e.scrollLeft}}changeWhitespace(e){const o=this._linesLayout.changeWhitespace(e);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const o=this._scrollable.getScrollDimensions();return e+o.height>o.scrollHeight&&(e=o.scrollHeight-o.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+o.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,o){o===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,o){const g=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:g.scrollLeft+e,scrollTop:g.scrollTop+o})}}var Or=t(78411),oo=t(3544);class ws{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,o){return this._lines.validateViewPosition(e.lineNumber,e.column,o)}validateViewRange(e,o){return this._lines.validateViewRange(e,o)}convertModelPositionToViewPosition(e,o){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,o)}convertModelRangeToViewRange(e,o){return this._lines.convertModelRangeToViewRange(e,o)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,o){return this._lines.getViewLineNumberOfModelPosition(e,o)}}class Rs{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,o=this._counts.length;e<o;e++){const g=this._counts[e],M=e>0?this._modelToView[e-1]:0;this._modelToView[e]=M+g;for(let F=0;F<g;F++)this._viewToModel[M+F]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,o){this._counts[e]!==o&&(this._counts[e]=o,this._invalidate(e))}removeValues(e,o){this._counts.splice(e,o),this._invalidate(e)}insertValues(e,o){this._counts=Ri.Zv(this._counts,e,o),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const o=this._viewToModel[e],g=o>0?this._modelToView[o-1]:0;return new oo.T(o,e-g)}}class ps{constructor(e,o,g,M,F,ee,ye,Re,Qe){this._editorId=e,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=g,this._monospaceLineBreaksComputerFactory=M,this.fontInfo=F,this.tabSize=ee,this.wrappingStrategy=ye,this.wrappingColumn=Re,this.wrappingIndent=Qe,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new ws(this)}_constructLines(e,o){this.lines=[],e&&(this.hiddenAreasIds=[]);const g=this.model.getLinesContent(),M=this.model.getInjectedTextDecorations(this._editorId),F=g.length,ee=this.createLineBreaksComputer(),ye=new Ri.H9(lt.gk.fromDecorations(M));for(let qt=0;qt<F;qt++){const di=ye.takeWhile(pi=>pi.lineNumber===qt+1);ee.addRequest(g[qt],di,o?o[qt]:null)}const Re=ee.finalize();let Qe=[],nt=this.hiddenAreasIds.map(qt=>this.model.getDecorationRange(qt)).sort(Me.e.compareRangesUsingStarts),ct=1,Ot=0,xt=-1,Kt=xt+1<nt.length?Ot+1:F+2;for(let qt=0;qt<F;qt++){let di=qt+1;di===Kt&&(xt++,ct=nt[xt].startLineNumber,Ot=nt[xt].endLineNumber,Kt=xt+1<nt.length?Ot+1:F+2);let pi=di>=ct&&di<=Ot,Li=To(Re[qt],!pi);Qe[qt]=Li.getViewLineCount(),this.lines[qt]=Li}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new Rs(Qe)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(e.length===0)return[];let o=e.map(ee=>this.model.validateRange(ee)).sort(Me.e.compareRangesUsingStarts),g=[],M=o[0].startLineNumber,F=o[0].endLineNumber;for(let ee=1,ye=o.length;ee<ye;ee++){let Re=o[ee];Re.startLineNumber>F+1?(g.push(new Me.e(M,1,F,1)),M=Re.startLineNumber,F=Re.endLineNumber):Re.endLineNumber>F&&(F=Re.endLineNumber)}return g.push(new Me.e(M,1,F,1)),g}setHiddenAreas(e){let o=this._reduceRanges(e),g=this.hiddenAreasIds.map(ct=>this.model.getDecorationRange(ct)).sort(Me.e.compareRangesUsingStarts);if(o.length===g.length){let ct=!1;for(let Ot=0;Ot<o.length;Ot++)if(!o[Ot].equalsRange(g[Ot])){ct=!0;break}if(!ct)return!1}let M=[];for(const ct of o)M.push({range:ct,options:zn.qx.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,M);let F=o,ee=1,ye=0,Re=-1,Qe=Re+1<F.length?ye+1:this.lines.length+2,nt=!1;for(let ct=0;ct<this.lines.length;ct++){let Ot=ct+1;Ot===Qe&&(Re++,ee=F[Re].startLineNumber,ye=F[Re].endLineNumber,Qe=Re+1<F.length?ye+1:this.lines.length+2);let xt=!1;if(Ot>=ee&&Ot<=ye?this.lines[ct].isVisible()&&(this.lines[ct]=this.lines[ct].setVisible(!1),xt=!0):(nt=!0,this.lines[ct].isVisible()||(this.lines[ct]=this.lines[ct].setVisible(!0),xt=!0)),xt){let Kt=this.lines[ct].getViewLineCount();this.prefixSumComputer.changeValue(ct,Kt)}}return nt||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,o){return e<1||e>this.lines.length?!1:this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,o,g,M){const F=this.fontInfo.equals(e),ee=this.wrappingStrategy===o,ye=this.wrappingColumn===g,Re=this.wrappingIndent===M;if(F&&ee&&ye&&Re)return!1;const Qe=F&&ee&&!ye&&Re;this.fontInfo=e,this.wrappingStrategy=o,this.wrappingColumn=g,this.wrappingIndent=M;let nt=null;if(Qe){nt=[];for(let ct=0,Ot=this.lines.length;ct<Ot;ct++)nt[ct]=this.lines[ct].getLineBreakData()}return this._constructLines(!1,nt),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,o,g){if(!e||e<=this._validModelVersionId)return null;let M=o===1?1:this.prefixSumComputer.getAccumulatedValue(o-2)+1,F=this.prefixSumComputer.getAccumulatedValue(g-1);return this.lines.splice(o-1,g-o+1),this.prefixSumComputer.removeValues(o-1,g-o+1),new Ut(M,F)}onModelLinesInserted(e,o,g,M){if(!e||e<=this._validModelVersionId)return null;const F=o>2&&!this.lines[o-2].isVisible();let ee=o===1?1:this.prefixSumComputer.getAccumulatedValue(o-2)+1,ye=0,Re=[],Qe=[];for(let nt=0,ct=M.length;nt<ct;nt++){let Ot=To(M[nt],!F);Re.push(Ot);let xt=Ot.getViewLineCount();ye+=xt,Qe[nt]=xt}return this.lines=this.lines.slice(0,o-1).concat(Re).concat(this.lines.slice(o-1)),this.prefixSumComputer.insertValues(o-1,Qe),new Yt(ee,ee+ye-1)}onModelLineChanged(e,o,g){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let M=o-1,F=this.lines[M].getViewLineCount(),ee=this.lines[M].isVisible(),ye=To(g,ee);this.lines[M]=ye;let Re=this.lines[M].getViewLineCount(),Qe=!1,nt=0,ct=-1,Ot=0,xt=-1,Kt=0,qt=-1;F>Re?(nt=o===1?1:this.prefixSumComputer.getAccumulatedValue(o-2)+1,ct=nt+Re-1,Kt=ct+1,qt=Kt+(F-Re)-1,Qe=!0):F<Re?(nt=o===1?1:this.prefixSumComputer.getAccumulatedValue(o-2)+1,ct=nt+F-1,Ot=ct+1,xt=Ot+(Re-F)-1,Qe=!0):(nt=o===1?1:this.prefixSumComputer.getAccumulatedValue(o-2)+1,ct=nt+Re-1),this.prefixSumComputer.changeValue(M,Re);const di=nt<=ct?new At(nt,ct):null,pi=Ot<=xt?new Yt(Ot,xt):null,Li=Kt<=qt?new Ut(Kt,qt):null;return[Qe,di,pi,Li]}acceptVersionId(e){this._validModelVersionId=e,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const o=this.getViewLineCount();return e>o?o:e|0}getActiveIndentGuide(e,o,g){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o),g=this._toValidViewLineNumber(g);const M=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),F=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),ee=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),ye=this.model.getActiveIndentGuide(M.lineNumber,F.lineNumber,ee.lineNumber),Re=this.convertModelPositionToViewPosition(ye.startLineNumber,1),Qe=this.convertModelPositionToViewPosition(ye.endLineNumber,this.model.getLineMaxColumn(ye.endLineNumber));return{startLineNumber:Re.lineNumber,endLineNumber:Qe.lineNumber,indent:ye.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let o=this.prefixSumComputer.getIndexOf(e-1),g=o.index,M=o.remainder;return new Ps(g+1,M)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const o=this.lines[e.modelLineNumber-1],g=o.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),M=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,g);return new Le.L(e.modelLineNumber,M)}getModelEndPositionOfViewLine(e){const o=this.lines[e.modelLineNumber-1],g=o.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),M=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,g);return new Le.L(e.modelLineNumber,M)}getViewLineInfosGroupedByModelRanges(e,o){const g=this.getViewLineInfo(e),M=this.getViewLineInfo(o),F=new Array;let ee=this.getModelStartPositionOfViewLine(g),ye=new Array;for(let Re=g.modelLineNumber;Re<=M.modelLineNumber;Re++){const Qe=this.lines[Re-1];if(Qe.isVisible()){let nt=Re===g.modelLineNumber?g.modelLineWrappedLineIdx:0,ct=Re===M.modelLineNumber?M.modelLineWrappedLineIdx+1:Qe.getViewLineCount();for(let Ot=nt;Ot<ct;Ot++)ye.push(new Ps(Re,Ot))}if(!Qe.isVisible()&&ee){const nt=new Le.L(Re-1,this.model.getLineMaxColumn(Re-1)+1),ct=Me.e.fromPositions(ee,nt);F.push(new Cs(ct,ye)),ye=[],ee=null}else Qe.isVisible()&&!ee&&(ee=new Le.L(Re,1))}if(ee){const Re=Me.e.fromPositions(ee,this.getModelEndPositionOfViewLine(M));F.push(new Cs(Re,ye))}return F}getViewLinesBracketGuides(e,o,g,M){const F=g?this.convertViewPositionToModelPosition(g.lineNumber,g.column):null,ee=[];for(const ye of this.getViewLineInfosGroupedByModelRanges(e,o)){const Re=ye.modelRange.startLineNumber,Qe=this.model.getLinesBracketGuides(Re,ye.modelRange.endLineNumber,F,M);for(const nt of ye.viewLines)if(nt.isWrappedLineContinuation&&this.getMinColumnOfViewLine(nt)===1)ee.push([]);else{let ct=Qe[nt.modelLineNumber-Re];ct=ct.map(Ot=>Ot.horizontalLine?new an.UO(Ot.visibleColumn,Ot.className,new an.vW(Ot.horizontalLine.top,this.convertModelPositionToViewPosition(nt.modelLineNumber,Ot.horizontalLine.endColumn).column)):Ot),ee.push(ct)}}return ee}getViewLinesIndentGuides(e,o){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const g=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),M=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let F=[],ee=[],ye=[];const Re=g.lineNumber-1,Qe=M.lineNumber-1;let nt=null;for(let Kt=Re;Kt<=Qe;Kt++){const qt=this.lines[Kt];if(qt.isVisible()){let di=qt.getViewLineNumberOfModelPosition(0,Kt===Re?g.column:1),pi=qt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Kt+1)),Li=pi-di+1,Si=0;Li>1&&qt.getViewLineMinColumn(this.model,Kt+1,pi)===1&&(Si=di===0?1:2),ee.push(Li),ye.push(Si),nt===null&&(nt=new Le.L(Kt+1,0))}else nt!==null&&(F=F.concat(this.model.getLinesIndentGuides(nt.lineNumber,Kt)),nt=null)}nt!==null&&(F=F.concat(this.model.getLinesIndentGuides(nt.lineNumber,M.lineNumber)),nt=null);const ct=o-e+1;let Ot=new Array(ct),xt=0;for(let Kt=0,qt=F.length;Kt<qt;Kt++){let di=F[Kt],pi=Math.min(ct-xt,ee[Kt]),Li=ye[Kt],Si;Li===2?Si=0:Li===1?Si=1:Si=pi;for(let Ki=0;Ki<pi;Ki++)Ki===Si&&(di=0),Ot[xt++]=di}return Ot}getViewLineContent(e){e=this._toValidViewLineNumber(e);let o=this.prefixSumComputer.getIndexOf(e-1),g=o.index,M=o.remainder;return this.lines[g].getViewLineContent(this.model,g+1,M)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let o=this.prefixSumComputer.getIndexOf(e-1),g=o.index,M=o.remainder;return this.lines[g].getViewLineLength(this.model,g+1,M)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let o=this.prefixSumComputer.getIndexOf(e-1),g=o.index,M=o.remainder;return this.lines[g].getViewLineMinColumn(this.model,g+1,M)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let o=this.prefixSumComputer.getIndexOf(e-1),g=o.index,M=o.remainder;return this.lines[g].getViewLineMaxColumn(this.model,g+1,M)}getViewLineData(e){e=this._toValidViewLineNumber(e);let o=this.prefixSumComputer.getIndexOf(e-1),g=o.index,M=o.remainder;return this.lines[g].getViewLineData(this.model,g+1,M)}getViewLinesData(e,o,g){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);let M=this.prefixSumComputer.getIndexOf(e-1),F=e,ee=M.index,ye=M.remainder,Re=[];for(let Qe=ee,nt=this.model.getLineCount();Qe<nt;Qe++){let ct=this.lines[Qe];if(!ct.isVisible())continue;let Ot=Qe===ee?ye:0,xt=ct.getViewLineCount()-Ot,Kt=!1;F+xt>o&&(Kt=!0,xt=o-F+1);let qt=Ot+xt;if(ct.getViewLinesData(this.model,Qe+1,Ot,qt,F-e,g,Re),F+=xt,Kt)break}return Re}validateViewPosition(e,o,g){e=this._toValidViewLineNumber(e);let M=this.prefixSumComputer.getIndexOf(e-1),F=M.index,ee=M.remainder,ye=this.lines[F],Re=ye.getViewLineMinColumn(this.model,F+1,ee),Qe=ye.getViewLineMaxColumn(this.model,F+1,ee);o<Re&&(o=Re),o>Qe&&(o=Qe);let nt=ye.getModelColumnOfViewPosition(ee,o);return this.model.validatePosition(new Le.L(F+1,nt)).equals(g)?new Le.L(e,o):this.convertModelPositionToViewPosition(g.lineNumber,g.column)}validateViewRange(e,o){const g=this.validateViewPosition(e.startLineNumber,e.startColumn,o.getStartPosition()),M=this.validateViewPosition(e.endLineNumber,e.endColumn,o.getEndPosition());return new Me.e(g.lineNumber,g.column,M.lineNumber,M.column)}convertViewPositionToModelPosition(e,o){e=this._toValidViewLineNumber(e);let g=this.prefixSumComputer.getIndexOf(e-1),M=g.index,F=g.remainder,ee=this.lines[M].getModelColumnOfViewPosition(F,o);return this.model.validatePosition(new Le.L(M+1,ee))}convertViewRangeToModelRange(e){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),g=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Me.e(o.lineNumber,o.column,g.lineNumber,g.column)}convertModelPositionToViewPosition(e,o,g=2){const M=this.model.validatePosition(new Le.L(e,o)),F=M.lineNumber,ee=M.column;let ye=F-1,Re=!1;for(;ye>0&&!this.lines[ye].isVisible();)ye--,Re=!0;if(ye===0&&!this.lines[ye].isVisible())return new Le.L(1,1);const Qe=1+(ye===0?0:this.prefixSumComputer.getAccumulatedValue(ye-1));let nt;return Re?nt=this.lines[ye].getViewPositionOfModelPosition(Qe,this.model.getLineMaxColumn(ye+1),g):nt=this.lines[F-1].getViewPositionOfModelPosition(Qe,ee,g),nt}convertModelRangeToViewRange(e,o=0){if(e.isEmpty()){const g=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,o);return Me.e.fromPositions(g)}else{const g=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),M=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Me.e(g.lineNumber,g.column,M.lineNumber,M.column)}}getViewLineNumberOfModelPosition(e,o){let g=e-1;if(this.lines[g].isVisible()){const F=1+(g===0?0:this.prefixSumComputer.getAccumulatedValue(g-1));return this.lines[g].getViewLineNumberOfModelPosition(F,o)}for(;g>0&&!this.lines[g].isVisible();)g--;if(g===0&&!this.lines[g].isVisible())return 1;const M=1+(g===0?0:this.prefixSumComputer.getAccumulatedValue(g-1));return this.lines[g].getViewLineNumberOfModelPosition(M,this.model.getLineMaxColumn(g+1))}getDecorationsInRange(e,o,g){const M=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),F=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(F.lineNumber-M.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Me.e(M.lineNumber,1,F.lineNumber,F.column),o,g);let ee=[];const ye=M.lineNumber-1,Re=F.lineNumber-1;let Qe=null;for(let xt=ye;xt<=Re;xt++)if(this.lines[xt].isVisible())Qe===null&&(Qe=new Le.L(xt+1,xt===ye?M.column:1));else if(Qe!==null){const qt=this.model.getLineMaxColumn(xt);ee=ee.concat(this.model.getDecorationsInRange(new Me.e(Qe.lineNumber,Qe.column,xt,qt),o,g)),Qe=null}Qe!==null&&(ee=ee.concat(this.model.getDecorationsInRange(new Me.e(Qe.lineNumber,Qe.column,F.lineNumber,F.column),o,g)),Qe=null),ee.sort((xt,Kt)=>{const qt=Me.e.compareRangesUsingStarts(xt.range,Kt.range);return qt===0?xt.id<Kt.id?-1:xt.id>Kt.id?1:0:qt});let nt=[],ct=0,Ot=null;for(const xt of ee){const Kt=xt.id;Ot!==Kt&&(Ot=Kt,nt[ct++]=xt)}return nt}getInjectedTextAt(e){const o=this._toValidViewLineNumber(e.lineNumber),g=this.prefixSumComputer.getIndexOf(o-1),M=g.index,F=g.remainder;return this.lines[M].getInjectedTextAt(F,e.column)}normalizePosition(e,o){const g=this._toValidViewLineNumber(e.lineNumber),M=this.prefixSumComputer.getIndexOf(g-1),F=M.index,ee=M.remainder;return this.lines[F].normalizePosition(this.model,F+1,ee,e,o)}getLineIndentColumn(e){const o=this._toValidViewLineNumber(e),g=this.prefixSumComputer.getIndexOf(o-1),M=g.index;return g.remainder===0?this.model.getLineIndentColumn(M+1):0}}class Ps{constructor(e,o){this.modelLineNumber=e,this.modelLineWrappedLineIdx=o}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class Cs{constructor(e,o){this.modelRange=e,this.viewLines=o}}class xs{constructor(){}isVisible(){return!0}setVisible(e){return e?this:Zs.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,o,g){return e.getLineContent(o)}getViewLineLength(e,o,g){return e.getLineLength(o)}getViewLineMinColumn(e,o,g){return e.getLineMinColumn(o)}getViewLineMaxColumn(e,o,g){return e.getLineMaxColumn(o)}getViewLineData(e,o,g){let M=e.getLineTokens(o),F=M.getLineContent();return new me.IP(F,!1,1,F.length+1,0,M.inflate(),null)}getViewLinesData(e,o,g,M,F,ee,ye){if(!ee[F]){ye[F]=null;return}ye[F]=this.getViewLineData(e,o,0)}getModelColumnOfViewPosition(e,o){return o}getViewPositionOfModelPosition(e,o){return new Le.L(e,o)}getViewLineNumberOfModelPosition(e,o){return e}normalizePosition(e,o,g,M,F){return M}getInjectedTextAt(e,o){return null}}xs.INSTANCE=new xs;class Zs{constructor(){}isVisible(){return!1}setVisible(e){return e?xs.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,o,g){throw new Error("Not supported")}getViewLineLength(e,o,g){throw new Error("Not supported")}getViewLineMinColumn(e,o,g){throw new Error("Not supported")}getViewLineMaxColumn(e,o,g){throw new Error("Not supported")}getViewLineData(e,o,g){throw new Error("Not supported")}getViewLinesData(e,o,g,M,F,ee,ye){throw new Error("Not supported")}getModelColumnOfViewPosition(e,o){throw new Error("Not supported")}getViewPositionOfModelPosition(e,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,o){throw new Error("Not supported")}normalizePosition(e,o,g,M,F){throw new Error("Not supported")}getInjectedTextAt(e,o){throw new Error("Not supported")}}Zs.INSTANCE=new Zs;class xo{constructor(e,o){this._lineBreakData=e,this._isVisible=o}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,o,g){return g+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(o)-1:this._lineBreakData.getInputOffsetOfOutputPosition(g+1,0)}getViewLineContent(e,o,g){if(!this._isVisible)throw new Error("Not supported");const M=g>0?this._lineBreakData.breakOffsets[g-1]:0,F=g<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[g]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let ee;if(this._lineBreakData.injectionOffsets!==null){const ye=this._lineBreakData.injectionOffsets.map((Re,Qe)=>new lt.gk(0,0,Re+1,this._lineBreakData.injectionOptions[Qe],0));ee=lt.gk.applyInjectedText(e.getLineContent(o),ye).substring(M,F)}else ee=e.getValueInRange({startLineNumber:o,startColumn:M+1,endLineNumber:o,endColumn:F+1});return g>0&&(ee=tr(this._lineBreakData.wrappedTextIndentLength)+ee),ee}getViewLineLength(e,o,g){if(!this._isVisible)throw new Error("Not supported");const M=g>0?this._lineBreakData.breakOffsets[g-1]:0;let ee=(g<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[g]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-M;return g>0&&(ee=this._lineBreakData.wrappedTextIndentLength+ee),ee}getViewLineMinColumn(e,o,g){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(g)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,o,g){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,o,g)+1}getViewLineData(e,o,g){if(!this._isVisible)throw new Error("Not supported");const M=this._lineBreakData,F=g>0?M.wrappedTextIndentLength:0,ee=M.injectionOffsets,ye=M.injectionOptions;let Re,Qe,nt;if(ee){const qt=e.getLineTokens(o).withInserted(ee.map((Si,Ki)=>({offset:Si,text:ye[Ki].content,tokenMetadata:Or.A.defaultTokenMetadata}))),di=g>0?M.breakOffsets[g-1]:0,pi=M.breakOffsets[g];Re=qt.getLineContent().substring(di,pi),Qe=qt.sliceAndInflate(di,pi,F),nt=new Array;let Li=0;for(let Si=0;Si<ee.length;Si++){const Ki=ye[Si].content.length,Wi=ee[Si]+Li,Zi=ee[Si]+Li+Ki;if(Wi>pi)break;if(di<Zi){const ji=ye[Si];if(ji.inlineClassName){const Fi=g>0?M.wrappedTextIndentLength:0,Gi=Fi+Math.max(Wi-di,0),_n=Fi+Math.min(Zi-di,pi);Gi!==_n&&nt.push(new me.Wx(Gi,_n,ji.inlineClassName,ji.inlineClassNameAffectsLetterSpacing))}}Li+=Ki}}else{const qt=this.getInputStartOffsetOfOutputLineIndex(g),di=this.getInputEndOffsetOfOutputLineIndex(e,o,g),pi=e.getLineTokens(o);Re=e.getValueInRange({startLineNumber:o,startColumn:qt+1,endLineNumber:o,endColumn:di+1}),Qe=pi.sliceAndInflate(qt,di,F),nt=null}g>0&&(Re=tr(M.wrappedTextIndentLength)+Re);const ct=g>0?M.wrappedTextIndentLength+1:1,Ot=Re.length+1,xt=g+1<this.getViewLineCount(),Kt=g===0?0:M.breakOffsetsVisibleColumn[g-1];return new me.IP(Re,xt,ct,Ot,Kt,Qe,nt)}getViewLinesData(e,o,g,M,F,ee,ye){if(!this._isVisible)throw new Error("Not supported");for(let Re=g;Re<M;Re++){let Qe=F+Re-g;if(!ee[Qe]){ye[Qe]=null;continue}ye[Qe]=this.getViewLineData(e,o,Re)}}getModelColumnOfViewPosition(e,o){if(!this._isVisible)throw new Error("Not supported");let g=o-1;return e>0&&(g<this._lineBreakData.wrappedTextIndentLength?g=0:g-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,g)+1}getViewPositionOfModelPosition(e,o,g=2){if(!this._isVisible)throw new Error("Not supported");let M=this._lineBreakData.getOutputPositionOfInputOffset(o-1,g),F=M.outputLineIndex,ee=M.outputOffset+1;return F>0&&(ee+=this._lineBreakData.wrappedTextIndentLength),new Le.L(e+F,ee)}getViewLineNumberOfModelPosition(e,o){if(!this._isVisible)throw new Error("Not supported");const g=this._lineBreakData.getOutputPositionOfInputOffset(o-1);return e+g.outputLineIndex}normalizePosition(e,o,g,M,F){if(this._lineBreakData.injectionOffsets!==null){const ee=M.lineNumber-g,ye=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(g,M.column-1),Re=this._lineBreakData.normalizeOffsetAroundInjections(ye,F);if(Re!==ye)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(Re,F).toPosition(ee,this._lineBreakData.wrappedTextIndentLength)}if(F===0){if(g>0&&M.column===this._getViewLineMinColumn(g))return new Le.L(M.lineNumber-1,this.getViewLineMaxColumn(e,o,g-1))}else if(F===1){const ee=this.getViewLineCount()-1;if(g<ee&&M.column===this.getViewLineMaxColumn(e,o,g))return new Le.L(M.lineNumber+1,this._getViewLineMinColumn(g+1))}return M}getInjectedTextAt(e,o){return this._lineBreakData.getInjectedText(e,o-1)}}let Mo=[""];function tr(Tt){if(Tt>=Mo.length)for(let e=1;e<=Tt;e++)Mo[e]=Pr(e);return Mo[Tt]}function Pr(Tt){return new Array(Tt+1).join(" ")}function To(Tt,e){return Tt===null?e?xs.INSTANCE:Zs.INSTANCE:new xo(Tt,e)}class kr{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,o){return this._validPosition(o)}validateViewRange(e,o){return this._validRange(o)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const o=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>o)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,o){return e}}class Ro{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new kr(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,o,g,M){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(o,g,M)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,o,g){return new Ut(o,g)}onModelLinesInserted(e,o,g,M){return new Yt(o,g)}onModelLineChanged(e,o,g){return[!1,new At(o,o),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,o,g){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,o,g){return new Array(o-e+1).fill([])}getViewLinesIndentGuides(e,o){const g=o-e+1;let M=new Array(g);for(let F=0;F<g;F++)M[F]=0;return M}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let o=this.model.getLineTokens(e),g=o.getLineContent();return new me.IP(g,!1,1,g.length+1,0,o.inflate(),null)}getViewLinesData(e,o,g){const M=this.model.getLineCount();e=Math.min(Math.max(1,e),M),o=Math.min(Math.max(1,o),M);let F=[];for(let ee=e;ee<=o;ee++){let ye=ee-e;g[ye]||(F[ye]=null),F[ye]=this.getViewLineData(ee)}return F}getDecorationsInRange(e,o,g){return this.model.getDecorationsInRange(e,o,g)}normalizePosition(e,o){return this.model.normalizePosition(e,o)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class Fr{constructor(e,o,g,M,F){this.editorId=e,this.model=o,this.configuration=g,this._linesCollection=M,this._coordinatesConverter=F,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const o=e.id;let g=this._decorationsCache[o];if(!g){const M=e.range,F=e.options;let ee;if(F.isWholeLine){const ye=this._coordinatesConverter.convertModelPositionToViewPosition(new Le.L(M.startLineNumber,1),0),Re=this._coordinatesConverter.convertModelPositionToViewPosition(new Le.L(M.endLineNumber,this.model.getLineMaxColumn(M.endLineNumber)),1);ee=new Me.e(ye.lineNumber,ye.column,Re.lineNumber,Re.column)}else ee=this._coordinatesConverter.convertModelRangeToViewRange(M,1);g=new me.$l(ee,F),this._decorationsCache[o]=g}return g}getDecorationsViewportData(e){let o=this._cachedModelDecorationsResolver!==null;return o=o&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),o||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const o=this._linesCollection.getDecorationsInRange(e,this.editorId,(0,ue.$J)(this.configuration.options)),g=e.startLineNumber,M=e.endLineNumber;let F=[],ee=0,ye=[];for(let Re=g;Re<=M;Re++)ye[Re-g]=[];for(let Re=0,Qe=o.length;Re<Qe;Re++){let nt=o[Re],ct=nt.options,Ot=this._getOrCreateViewModelDecoration(nt),xt=Ot.range;if(F[ee++]=Ot,ct.inlineClassName){let Kt=new me.$t(xt,ct.inlineClassName,ct.inlineClassNameAffectsLetterSpacing?3:0),qt=Math.max(g,xt.startLineNumber),di=Math.min(M,xt.endLineNumber);for(let pi=qt;pi<=di;pi++)ye[pi-g].push(Kt)}if(ct.beforeContentClassName&&g<=xt.startLineNumber&&xt.startLineNumber<=M){let Kt=new me.$t(new Me.e(xt.startLineNumber,xt.startColumn,xt.startLineNumber,xt.startColumn),ct.beforeContentClassName,1);ye[xt.startLineNumber-g].push(Kt)}if(ct.afterContentClassName&&g<=xt.endLineNumber&&xt.endLineNumber<=M){let Kt=new me.$t(new Me.e(xt.endLineNumber,xt.endColumn,xt.endLineNumber,xt.endColumn),ct.afterContentClassName,2);ye[xt.endLineNumber-g].push(Kt)}}return{decorations:F,inlineDecorations:ye}}}var Br=t(71144);const ro=!0;class vo extends C.JT{constructor(e,o,g,M,F,ee){if(super(),this._editorId=e,this._configuration=o,this.model=g,this._eventDispatcher=new qi,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Se.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new u.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new u.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,ro&&this.model.isTooLargeForTokenization())this._lines=new Ro(this.model);else{const ye=this._configuration.options,Re=ye.get(43),Qe=ye.get(123),nt=ye.get(130),ct=ye.get(122);this._lines=new ps(this._editorId,this.model,M,F,Re,this.model.getOptions().tabSize,Qe,nt.wrappingColumn,ct)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Ns(g,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Ar(this._configuration,this.getLineCount(),ee)),this._register(this.viewLayout.onDidScroll(ye=>{ye.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new ci(ye)),this._eventDispatcher.emitOutgoingEvent(new Cn(ye.oldScrollWidth,ye.oldScrollLeft,ye.oldScrollHeight,ye.oldScrollTop,ye.scrollWidth,ye.scrollLeft,ye.scrollHeight,ye.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(ye=>{this._eventDispatcher.emitOutgoingEvent(ye)})),this._decorations=new Fr(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(ye=>{try{const Re=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Re,ye)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(U.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Ni)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),o=new Me.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),g=this._toModelVisibleRanges(o);for(const M of g)this.model.tokenizeViewport(M.startLineNumber,M.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new vt(e)),this._eventDispatcher.emitOutgoingEvent(new In(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new _)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new P)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new yi)}_onConfigurationChanged(e,o){let g=null;if(this._viewportStartLine!==-1){let nt=new Le.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));g=this.coordinatesConverter.convertViewPositionToModelPosition(nt)}let M=!1;const F=this._configuration.options,ee=F.get(43),ye=F.get(123),Re=F.get(130),Qe=F.get(122);if(this._lines.setWrappingSettings(ee,ye,Re.wrappingColumn,Qe)&&(e.emitViewEvent(new Ue),e.emitViewEvent(new Ft),e.emitViewEvent(new Ne(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(M=!0),this._updateConfigurationViewLineCount.schedule()),o.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new Ne(null))),e.emitViewEvent(new Z(o)),this.viewLayout.onConfigurationChanged(o),M&&g){const nt=this.coordinatesConverter.convertModelPositionToViewPosition(g),ct=this.viewLayout.getVerticalOffsetForLineNumber(nt.lineNumber);this.viewLayout.setScrollPosition({scrollTop:ct+this._viewportStartLineDelta},1)}Se.LM.shouldRecreate(o)&&(this.cursorConfig=new Se.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const o=this._eventDispatcher.beginEmitViewEvents();let g=!1,M=!1;const F=e.changes,ee=e instanceof lt.dQ?e.versionId:null,ye=this._lines.createLineBreaksComputer();for(const nt of F)switch(nt.changeType){case 4:{for(let ct=0;ct<nt.detail.length;ct++){const Ot=nt.detail[ct];let xt=nt.injectedTexts[ct];xt&&(xt=xt.filter(Kt=>!Kt.ownerId||Kt.ownerId===this._editorId)),ye.addRequest(Ot,xt,null)}break}case 2:{let ct=null;nt.injectedText&&(ct=nt.injectedText.filter(Ot=>!Ot.ownerId||Ot.ownerId===this._editorId)),ye.addRequest(nt.detail,ct,null);break}}const Re=ye.finalize();let Qe=0;for(const nt of F)switch(nt.changeType){case 1:{this._lines.onModelFlushed(),o.emitViewEvent(new Ue),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),g=!0;break}case 3:{const ct=this._lines.onModelLinesDeleted(ee,nt.fromLineNumber,nt.toLineNumber);ct!==null&&(o.emitViewEvent(ct),this.viewLayout.onLinesDeleted(ct.fromLineNumber,ct.toLineNumber)),g=!0;break}case 4:{const ct=Re.slice(Qe,Qe+nt.detail.length);Qe+=nt.detail.length;const Ot=this._lines.onModelLinesInserted(ee,nt.fromLineNumber,nt.toLineNumber,ct);Ot!==null&&(o.emitViewEvent(Ot),this.viewLayout.onLinesInserted(Ot.fromLineNumber,Ot.toLineNumber)),g=!0;break}case 2:{const ct=Re[Qe];Qe++;const[Ot,xt,Kt,qt]=this._lines.onModelLineChanged(ee,nt.lineNumber,ct);M=Ot,xt&&o.emitViewEvent(xt),Kt&&(o.emitViewEvent(Kt),this.viewLayout.onLinesInserted(Kt.fromLineNumber,Kt.toLineNumber)),qt&&(o.emitViewEvent(qt),this.viewLayout.onLinesDeleted(qt.fromLineNumber,qt.toLineNumber));break}case 5:break}ee!==null&&this._lines.acceptVersionId(ee),this.viewLayout.onHeightMaybeChanged(),!g&&M&&(o.emitViewEvent(new Ft),o.emitViewEvent(new Ne(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const o=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(o){const g=this.coordinatesConverter.convertModelPositionToViewPosition(o.getStartPosition()),M=this.viewLayout.getVerticalOffsetForLineNumber(g.lineNumber);this.viewLayout.setScrollPosition({scrollTop:M+this._viewportStartLineDelta},1)}}try{const o=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(o,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let o=[];for(let g=0,M=e.ranges.length;g<M;g++){const F=e.ranges[g],ee=this.coordinatesConverter.convertModelPositionToViewPosition(new Le.L(F.fromLineNumber,1)).lineNumber,ye=this.coordinatesConverter.convertModelPositionToViewPosition(new Le.L(F.toLineNumber,this.model.getLineMaxColumn(F.toLineNumber))).lineNumber;o[g]={fromLineNumber:ee,toLineNumber:ye}}this._eventDispatcher.emitSingleViewEvent(new wi(o)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new Dt),this.cursorConfig=new Se.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Se.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const o=this._eventDispatcher.beginEmitViewEvents();o.emitViewEvent(new Ue),o.emitViewEvent(new Ft),o.emitViewEvent(new Ne(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Se.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Ne(e))}))}setHiddenAreas(e){let o=!1;try{const g=this._eventDispatcher.beginEmitViewEvents();o=this._lines.setHiddenAreas(e),o&&(g.emitViewEvent(new Ue),g.emitViewEvent(new Ft),g.emitViewEvent(new Ne(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),o&&this._eventDispatcher.emitOutgoingEvent(new yn)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),o=this._configuration.options.get(58),g=Math.max(20,Math.round(e.height/o)),M=this.viewLayout.getLinesViewportData(),F=Math.max(1,M.completelyVisibleStartLineNumber-g),ee=Math.min(this.getLineCount(),M.completelyVisibleEndLineNumber+g);return this._toModelVisibleRanges(new Me.e(F,this.getLineMinColumn(F),ee,this.getLineMaxColumn(ee)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const o=this.coordinatesConverter.convertViewRangeToModelRange(e),g=this._lines.getHiddenAreas();if(g.length===0)return[o];let M=[],F=0,ee=o.startLineNumber,ye=o.startColumn,Re=o.endLineNumber,Qe=o.endColumn;for(let nt=0,ct=g.length;nt<ct;nt++){const Ot=g[nt].startLineNumber,xt=g[nt].endLineNumber;xt<ee||Ot>Re||(ee<Ot&&(M[F++]=new Me.e(ee,ye,Ot-1,this.model.getLineMaxColumn(Ot-1))),ee=xt+1,ye=1)}return(ee<Re||ee===Re&&ye<Qe)&&(M[F++]=new Me.e(ee,ye,Re,Qe)),M}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),o=e.completelyVisibleStartLineNumber,g=e.completelyVisibleEndLineNumber;return new Me.e(o,this.getLineMinColumn(o),g,this.getLineMaxColumn(g))}getCompletelyVisibleViewRangeAtScrollTop(e){const o=this.viewLayout.getLinesViewportDataAtScrollTop(e),g=o.completelyVisibleStartLineNumber,M=o.completelyVisibleEndLineNumber;return new Me.e(g,this.getLineMinColumn(g),M,this.getLineMaxColumn(M))}saveState(){const e=this.viewLayout.saveState(),o=e.scrollTop,g=this.viewLayout.getLineNumberAtVerticalOffset(o),M=this.coordinatesConverter.convertViewPositionToModelPosition(new Le.L(g,this.getLineMinColumn(g))),F=this.viewLayout.getVerticalOffsetForLineNumber(g)-o;return{scrollLeft:e.scrollLeft,firstPosition:M,firstPositionDeltaTop:F}}reduceRestoreState(e){if(typeof e.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(e);const o=this.model.validatePosition(e.firstPosition),g=this.coordinatesConverter.convertModelPositionToViewPosition(o),M=this.viewLayout.getVerticalOffsetForLineNumber(g.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:M}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,o,g){this._viewportStartLine=e;let M=this.coordinatesConverter.convertViewPositionToModelPosition(new Le.L(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Me.e(M.lineNumber,M.column,M.lineNumber,M.column),1);const F=this.viewLayout.getVerticalOffsetForLineNumber(e),ee=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=ee-F}getActiveIndentGuide(e,o,g){return this._lines.getActiveIndentGuide(e,o,g)}getLinesIndentGuides(e,o){return this._lines.getViewLinesIndentGuides(e,o)}getBracketGuidesInRangeByLine(e,o,g,M){return this._lines.getViewLinesBracketGuides(e,o,g,M)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const o=Xe.LC(this.getLineContent(e));return o===-1?0:o+1}getLineLastNonWhitespaceColumn(e){const o=Xe.ow(this.getLineContent(e));return o===-1?0:o+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,o){let g=this.model.mightContainRTL(),M=this.model.mightContainNonBasicASCII(),F=this.getTabSize(),ee=this._lines.getViewLineData(o),Re=this._decorations.getDecorationsViewportData(e).inlineDecorations[o-e.startLineNumber];return ee.inlineDecorations&&(Re=[...Re,...ee.inlineDecorations.map(Qe=>Qe.toInlineDecoration(o))]),new me.wA(ee.minColumn,ee.maxColumn,ee.content,ee.continuesWithWrappedLine,g,M,ee.tokens,Re,F,ee.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,o,g){let M=this._lines.getViewLinesData(e,o,g);return new me.ud(this.getTabSize(),M)}getAllOverviewRulerDecorations(e){const o=this.model.getOverviewRulerDecorations(this._editorId,(0,ue.$J)(this._configuration.options)),g=new Ao;for(const M of o){const F=M.options,ee=F.overviewRuler;if(!ee)continue;const ye=ee.position;if(ye===0)continue;const Re=ee.getColor(e),Qe=this.coordinatesConverter.getViewLineNumberOfModelPosition(M.range.startLineNumber,M.range.startColumn),nt=this.coordinatesConverter.getViewLineNumberOfModelPosition(M.range.endLineNumber,M.range.endColumn);g.accept(Re,F.zIndex,Qe,nt,ye)}return g.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const o of e){const g=o.options.overviewRuler;g&&g.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const o of e){const g=o.options.minimap;g&&g.invalidateCachedColor()}}getValueInRange(e,o){const g=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(g,o)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,o,g){const M=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(o<0?o-=g:o+=g);const ee=this.model.getOffsetAt(M)+o;return this.model.getPositionAt(ee)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,o,g){const M=g?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Me.e.compareRangesUsingStarts);let F=!1,ee=!1;for(const Re of e)Re.isEmpty()?F=!0:ee=!0;if(!ee){if(!o)return"";const Re=e.map(nt=>nt.startLineNumber);let Qe="";for(let nt=0;nt<Re.length;nt++)nt>0&&Re[nt-1]===Re[nt]||(Qe+=this.model.getLineContent(Re[nt])+M);return Qe}if(F&&o){let Re=[],Qe=0;for(const nt of e){const ct=nt.startLineNumber;nt.isEmpty()?ct!==Qe&&Re.push(this.model.getLineContent(ct)):Re.push(this.model.getValueInRange(nt,g?2:0)),Qe=ct}return Re.length===1?Re[0]:Re}let ye=[];for(const Re of e)Re.isEmpty()||ye.push(this.model.getValueInRange(Re,g?2:0));return ye.length===1?ye[0]:ye}getRichTextToCopy(e,o){const g=this.model.getLanguageId();if(g===Br.XT||e.length!==1)return null;let M=e[0];if(M.isEmpty()){if(!o)return null;const nt=M.startLineNumber;M=new Me.e(nt,this.model.getLineMinColumn(nt),nt,this.model.getLineMaxColumn(nt))}const F=this._configuration.options.get(43),ee=this._getColorMap(),Re=/[:;\\\/<>]/.test(F.fontFamily)||F.fontFamily===ue.hL.fontFamily;let Qe;return Re?Qe=ue.hL.fontFamily:(Qe=F.fontFamily,Qe=Qe.replace(/"/g,"'"),/[,']/.test(Qe)||/[+ ]/.test(Qe)&&(Qe=`'${Qe}'`),Qe=`${Qe}, ${ue.hL.fontFamily}`),{mode:g,html:`<div style="color: ${ee[1]};background-color: ${ee[2]};font-family: ${Qe};font-weight: ${F.fontWeight};font-size: ${F.fontSize}px;line-height: ${F.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(M,ee)+"</div>"}}_getHTMLToCopy(e,o){const g=e.startLineNumber,M=e.startColumn,F=e.endLineNumber,ee=e.endColumn,ye=this.getTabSize();let Re="";for(let Qe=g;Qe<=F;Qe++){const nt=this.model.getLineTokens(Qe),ct=nt.getLineContent(),Ot=Qe===g?M-1:0,xt=Qe===F?ee-1:ct.length;ct===""?Re+="<br>":Re+=(0,xr.F)(ct,nt.inflate(),o,Ot,xt,ye,v.ED)}return Re}_getColorMap(){let e=Lt.RW.getColorMap(),o=["#000000"];if(e)for(let g=1,M=e.length;g<M;g++)o[g]=xi.Il.Format.CSS.formatHex(e[g]);return o}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,o,g){this._withViewEventsCollector(M=>this._cursor.setStates(M,e,o,g))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,o,g=0){this._withViewEventsCollector(M=>this._cursor.setSelections(M,e,o,g))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(o=>this._cursor.restoreState(o,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new bs);return}this._withViewEventsCollector(e)}executeEdits(e,o,g){this._executeCursorEdit(M=>this._cursor.executeEdits(M,e,o,g))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(o=>this._cursor.endComposition(o,e))}type(e,o){this._executeCursorEdit(g=>this._cursor.type(g,e,o))}compositionType(e,o,g,M,F){this._executeCursorEdit(ee=>this._cursor.compositionType(ee,e,o,g,M,F))}paste(e,o,g,M){this._executeCursorEdit(F=>this._cursor.paste(F,e,o,g,M))}cut(e){this._executeCursorEdit(o=>this._cursor.cut(o,e))}executeCommand(e,o){this._executeCursorEdit(g=>this._cursor.executeCommand(g,e,o))}executeCommands(e,o){this._executeCursorEdit(g=>this._cursor.executeCommands(g,e,o))}revealPrimaryCursor(e,o){this._withViewEventsCollector(g=>this._cursor.revealPrimary(g,e,o,0))}revealTopMostCursor(e){const o=this._cursor.getTopMostViewPosition(),g=new Me.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(M=>M.emitViewEvent(new si(e,g,null,0,!0,0)))}revealBottomMostCursor(e){const o=this._cursor.getBottomMostViewPosition(),g=new Me.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(M=>M.emitViewEvent(new si(e,g,null,0,!0,0)))}revealRange(e,o,g,M,F){this._withViewEventsCollector(ee=>ee.emitViewEvent(new si(e,g,null,M,o,F)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,o){this.viewLayout.setScrollPosition({scrollTop:e},o)}setScrollPosition(e,o){this.viewLayout.setScrollPosition(e,o)}deltaScrollNow(e,o){this.viewLayout.deltaScrollNow(e,o)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Ui),this._eventDispatcher.emitOutgoingEvent(new yn))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const o=this._eventDispatcher.beginEmitViewEvents();e(o)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,o){return this._lines.normalizePosition(e,o)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Ao{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,o,g,M,F){const ee=this._asMap[e];if(ee){const ye=ee.data,Re=ye[ye.length-3],Qe=ye[ye.length-1];if(Re===F&&Qe+1>=g){M>Qe&&(ye[ye.length-1]=M);return}ye.push(F,g,M)}else{const ye=new me.SQ(e,o,[F,g,M]);this._asMap[e]=ye,this.asArray.push(ye)}}}var Wr=t(94565),Oo=t(38819),Co=t(72065),Us=t(60972),Po=t(59422),Un=t(31106),Vr=t(44906);class ir extends Vr.N{constructor(e,o){super(0);for(let g=0;g<e.length;g++)this.set(e.charCodeAt(g),1);for(let g=0;g<o.length;g++)this.set(o.charCodeAt(g),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let ko=[],Qs=[];class ao{constructor(e,o){this.classifier=new ir(e,o)}static create(e){return new ao(e.get(118),e.get(117))}createLineBreaksComputer(e,o,g,M){o=o|0,g=+g;const F=[],ee=[],ye=[];return{addRequest:(Re,Qe,nt)=>{F.push(Re),ee.push(Qe),ye.push(nt)},finalize:()=>{const Re=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let Qe=[];for(let nt=0,ct=F.length;nt<ct;nt++){const Ot=ee[nt],xt=ye[nt];xt&&!xt.injectionOptions&&!Ot?Qe[nt]=Fo(this.classifier,xt,F[nt],o,g,Re,M):Qe[nt]=nr(this.classifier,F[nt],Ot,o,g,Re,M)}return ko.length=0,Qs.length=0,Qe}}}}function Fo(Tt,e,o,g,M,F,ee){if(M===-1)return null;const ye=o.length;if(ye<=1)return null;const Re=e.breakOffsets,Qe=e.breakOffsetsVisibleColumn,nt=ks(o,g,M,F,ee),ct=M-nt;let Ot=ko,xt=Qs,Kt=0,qt=0,di=0,pi=M;const Li=Re.length;let Si=0;if(Si>=0){let Ki=Math.abs(Qe[Si]-pi);for(;Si+1<Li;){const Wi=Math.abs(Qe[Si+1]-pi);if(Wi>=Ki)break;Ki=Wi,Si++}}for(;Si<Li;){let Ki=Si<0?0:Re[Si],Wi=Si<0?0:Qe[Si];qt>Ki&&(Ki=qt,Wi=di);let Zi=0,ji=0,Fi=0,Gi=0;if(Wi<=pi){let Ji=Wi,$n=Ki===0?0:o.charCodeAt(Ki-1),Zn=Ki===0?0:Tt.get($n),Yn=!0;for(let wn=Ki;wn<ye;wn++){const rs=wn,es=o.charCodeAt(wn);let ss,Ls;if(Xe.ZG(es)?(wn++,ss=0,Ls=2):(ss=Tt.get(es),Ls=Ys(es,Ji,g,F)),rs>qt&&Xs($n,Zn,es,ss)&&(Zi=rs,ji=Ji),Ji+=Ls,Ji>pi){rs>qt?(Fi=rs,Gi=Ji-Ls):(Fi=wn+1,Gi=Ji),Ji-ji>ct&&(Zi=0),Yn=!1;break}$n=es,Zn=ss}if(Yn){Kt>0&&(Ot[Kt]=Re[Re.length-1],xt[Kt]=Qe[Re.length-1],Kt++);break}}if(Zi===0){let Ji=Wi,$n=o.charCodeAt(Ki),Zn=Tt.get($n),Yn=!1;for(let wn=Ki-1;wn>=qt;wn--){const rs=wn+1,es=o.charCodeAt(wn);if(es===9){Yn=!0;break}let ss,Ls;if(Xe.YK(es)?(wn--,ss=0,Ls=2):(ss=Tt.get(es),Ls=Xe.K7(es)?F:1),Ji<=pi){if(Fi===0&&(Fi=rs,Gi=Ji),Ji<=pi-ct)break;if(Xs(es,ss,$n,Zn)){Zi=rs,ji=Ji;break}}Ji-=Ls,$n=es,Zn=ss}if(Zi!==0){const wn=ct-(Gi-ji);if(wn<=g){const rs=o.charCodeAt(Fi);let es;Xe.ZG(rs)?es=2:es=Ys(rs,Gi,g,F),wn-es<0&&(Zi=0)}}if(Yn){Si--;continue}}if(Zi===0&&(Zi=Fi,ji=Gi),Zi<=qt){const Ji=o.charCodeAt(qt);Xe.ZG(Ji)?(Zi=qt+2,ji=di+2):(Zi=qt+1,ji=di+Ys(Ji,di,g,F))}for(qt=Zi,Ot[Kt]=Zi,di=ji,xt[Kt]=ji,Kt++,pi=ji+ct;Si<0||Si<Li&&Qe[Si]<ji;)Si++;let _n=Math.abs(Qe[Si]-pi);for(;Si+1<Li;){const Ji=Math.abs(Qe[Si+1]-pi);if(Ji>=_n)break;_n=Ji,Si++}}return Kt===0?null:(Ot.length=Kt,xt.length=Kt,ko=e.breakOffsets,Qs=e.breakOffsetsVisibleColumn,e.breakOffsets=Ot,e.breakOffsetsVisibleColumn=xt,e.wrappedTextIndentLength=nt,e)}function nr(Tt,e,o,g,M,F,ee){const ye=lt.gk.applyInjectedText(e,o);let Re,Qe;if(o&&o.length>0?(Re=o.map(ji=>ji.options),Qe=o.map(ji=>ji.column-1)):(Re=null,Qe=null),M===-1)return Re?new me.le([ye.length],[],0,Qe,Re):null;const nt=ye.length;if(nt<=1)return Re?new me.le([ye.length],[],0,Qe,Re):null;const ct=ks(ye,g,M,F,ee),Ot=M-ct;let xt=[],Kt=[],qt=0,di=0,pi=0,Li=M,Si=ye.charCodeAt(0),Ki=Tt.get(Si),Wi=Ys(Si,0,g,F),Zi=1;Xe.ZG(Si)&&(Wi+=1,Si=ye.charCodeAt(1),Ki=Tt.get(Si),Zi++);for(let ji=Zi;ji<nt;ji++){const Fi=ji,Gi=ye.charCodeAt(ji);let _n,Ji;Xe.ZG(Gi)?(ji++,_n=0,Ji=2):(_n=Tt.get(Gi),Ji=Ys(Gi,Wi,g,F)),Xs(Si,Ki,Gi,_n)&&(di=Fi,pi=Wi),Wi+=Ji,Wi>Li&&((di===0||Wi-pi>Ot)&&(di=Fi,pi=Wi-Ji),xt[qt]=di,Kt[qt]=pi,qt++,Li=pi+Ot,di=0),Si=Gi,Ki=_n}return qt===0&&(!o||o.length===0)?null:(xt[qt]=nt,Kt[qt]=Wi,new me.le(xt,Kt,ct,Qe,Re))}function Ys(Tt,e,o,g){return Tt===9?o-e%o:Xe.K7(Tt)||Tt<32?g:1}function zs(Tt,e){return e-Tt%e}function Xs(Tt,e,o,g){return o!==32&&(e===2||e===3&&g!==2||g===1||g===3&&e!==1)}function ks(Tt,e,o,g,M){let F=0;if(M!==0){const ee=Xe.LC(Tt);if(ee!==-1){for(let Re=0;Re<ee;Re++){const Qe=Tt.charCodeAt(Re)===9?zs(F,e):1;F+=Qe}const ye=M===3?2:M===2?1:0;for(let Re=0;Re<ye;Re++){const Qe=zs(F,e);F+=Qe}F+g>o&&(F=0)}}return F}var Bo;const Ks=(Bo=window.trustedTypes)===null||Bo===void 0?void 0:Bo.createPolicy("domLineBreaksComputer",{createHTML:Tt=>Tt});class bo{static create(){return new bo}constructor(){}createLineBreaksComputer(e,o,g,M){o=o|0,g=+g;let F=[],ee=[];return{addRequest:(ye,Re,Qe)=>{F.push(ye),ee.push(Re)},finalize:()=>lo(F,e,o,g,M,ee)}}}function lo(Tt,e,o,g,M,F){var ee;function ye(Fi){const Gi=F[Fi];if(Gi){const _n=lt.gk.applyInjectedText(Tt[Fi],Gi),Ji=Gi.map(Zn=>Zn.options),$n=Gi.map(Zn=>Zn.column-1);return new me.le([_n.length],[],0,$n,Ji)}else return null}if(g===-1){const Fi=[];for(let Gi=0,_n=Tt.length;Gi<_n;Gi++)Fi[Gi]=ye(Gi);return Fi}const Re=Math.round(g*e.typicalHalfwidthCharacterWidth),nt=Math.round(o*(M===3?2:M===2?1:0)),ct=Math.ceil(e.spaceWidth*nt),Ot=document.createElement("div");m.V.applyFontInfoSlow(Ot,e);const xt=(0,ke.l$)(1e4),Kt=[],qt=[],di=[],pi=[],Li=[];for(let Fi=0;Fi<Tt.length;Fi++){const Gi=lt.gk.applyInjectedText(Tt[Fi],F[Fi]);let _n=0,Ji=0,$n=Re;if(M!==0)if(_n=Xe.LC(Gi),_n===-1)_n=0;else{for(let rs=0;rs<_n;rs++){const es=Gi.charCodeAt(rs)===9?o-Ji%o:1;Ji+=es}const wn=Math.ceil(e.spaceWidth*Ji);wn+e.typicalFullwidthCharacterWidth>Re?(_n=0,Ji=0):$n=Re-wn}const Zn=Gi.substr(_n),Yn=Hr(Zn,Ji,o,$n,xt,ct);Kt[Fi]=_n,qt[Fi]=Ji,di[Fi]=Zn,pi[Fi]=Yn[0],Li[Fi]=Yn[1]}const Si=xt.build(),Ki=(ee=Ks==null?void 0:Ks.createHTML(Si))!==null&&ee!==void 0?ee:Si;Ot.innerHTML=Ki,Ot.style.position="absolute",Ot.style.top="10000",Ot.style.wordWrap="break-word",document.body.appendChild(Ot);let Wi=document.createRange();const Zi=Array.prototype.slice.call(Ot.children,0);let ji=[];for(let Fi=0;Fi<Tt.length;Fi++){const Gi=Zi[Fi],_n=Fs(Wi,Gi,di[Fi],pi[Fi]);if(_n===null){ji[Fi]=ye(Fi);continue}const Ji=Kt[Fi],$n=qt[Fi]+nt,Zn=Li[Fi],Yn=[];for(let ss=0,Ls=_n.length;ss<Ls;ss++)Yn[ss]=Zn[_n[ss]];if(Ji!==0)for(let ss=0,Ls=_n.length;ss<Ls;ss++)_n[ss]+=Ji;let wn,rs;const es=F[Fi];es?(wn=es.map(ss=>ss.options),rs=es.map(ss=>ss.column-1)):(wn=null,rs=null),ji[Fi]=new me.le(_n,Yn,$n,rs,wn)}return document.body.removeChild(Ot),ji}function Hr(Tt,e,o,g,M,F){if(F!==0){let Ot=String(F);M.appendASCIIString('<div style="text-indent: -'),M.appendASCIIString(Ot),M.appendASCIIString("px; padding-left: "),M.appendASCIIString(Ot),M.appendASCIIString("px; box-sizing: border-box; width:")}else M.appendASCIIString('<div style="width:');M.appendASCIIString(String(g)),M.appendASCIIString('px;">');const ee=Tt.length;let ye=e,Re=0,Qe=[],nt=[],ct=0<ee?Tt.charCodeAt(0):0;M.appendASCIIString("<span>");for(let Ot=0;Ot<ee;Ot++){Ot!==0&&Ot%16384===0&&M.appendASCIIString("</span><span>"),Qe[Ot]=Re,nt[Ot]=ye;const xt=ct;ct=Ot+1<ee?Tt.charCodeAt(Ot+1):0;let Kt=1,qt=1;switch(xt){case 9:Kt=o-ye%o,qt=Kt;for(let di=1;di<=Kt;di++)di<Kt?M.write1(160):M.appendASCII(32);break;case 32:ct===32?M.write1(160):M.appendASCII(32);break;case 60:M.appendASCIIString("&lt;");break;case 62:M.appendASCIIString("&gt;");break;case 38:M.appendASCIIString("&amp;");break;case 0:M.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:M.write1(65533);break;default:Xe.K7(xt)&&qt++,xt<32?M.write1(9216+xt):M.write1(xt)}Re+=Kt,ye+=qt}return M.appendASCIIString("</span>"),Qe[Tt.length]=Re,nt[Tt.length]=ye,M.appendASCIIString("</div>"),[Qe,nt]}function Fs(Tt,e,o,g){if(o.length<=1)return null;const M=Array.prototype.slice.call(e.children,0),F=[];try{Wo(Tt,M,g,0,null,o.length-1,null,F)}catch(ee){return console.log(ee),null}return F.length===0?null:(F.push(o.length),F)}function Wo(Tt,e,o,g,M,F,ee,ye){if(g===F||(M=M||Vo(Tt,e,o[g],o[g+1]),ee=ee||Vo(Tt,e,o[F],o[F+1]),Math.abs(M[0].top-ee[0].top)<=.1))return;if(g+1===F){ye.push(F);return}const Re=g+(F-g)/2|0,Qe=Vo(Tt,e,o[Re],o[Re+1]);Wo(Tt,e,o,g,M,Re,Qe,ye),Wo(Tt,e,o,Re,Qe,F,ee,ye)}function Vo(Tt,e,o,g){return Tt.setStart(e[o/16384|0].firstChild,o%16384),Tt.setEnd(e[g/16384|0].firstChild,g%16384),Tt.getClientRects()}var Ur=t(5795),zr=function(Tt,e,o,g){var M=arguments.length,F=M<3?e:g===null?g=Object.getOwnPropertyDescriptor(e,o):g,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(Tt,e,o,g);else for(var ye=Tt.length-1;ye>=0;ye--)(ee=Tt[ye])&&(F=(M<3?ee(F):M>3?ee(e,o,F):ee(e,o))||F);return M>3&&F&&Object.defineProperty(e,o,F),F},js=function(Tt,e){return function(o,g){e(o,g,Tt)}};let sr=0;class Kr{constructor(e,o,g,M,F){this.model=e,this.viewModel=o,this.view=g,this.hasRealView=M,this.listenersToRemove=F}dispose(){(0,C.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Ho=class Sr extends C.JT{constructor(e,o,g,M,F,ee,ye,Re,Qe,nt){super(),this._onDidDispose=this._register(new s.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new s.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new s.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new s.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new s.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new s.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new s.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new s.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new s.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new s.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new s.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new s.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new or),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new or),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new s.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new s.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new s.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new s.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new s.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new s.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new s.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new s.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new s.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new s.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new s.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new s.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new s.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new s.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new s.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new s.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new s.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new s.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new s.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new s.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event;const ct=Object.assign({},o);this._domElement=e,this._overflowWidgetsDomNode=ct.overflowWidgetsDomNode,delete ct.overflowWidgetsDomNode,this._id=++sr,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=g.isSimpleWidget||!1,this._telemetryData=g.telemetryData,this._configuration=this._register(this._createConfiguration(ct,nt)),this._register(this._configuration.onDidChange(xt=>{this._onDidChangeConfiguration.fire(xt);const Kt=this._configuration.options;if(xt.hasChanged(129)){const qt=Kt.get(129);this._onDidLayoutChange.fire(qt)}})),this._contextKeyService=this._register(ye.createScoped(this._domElement)),this._notificationService=Qe,this._codeEditorService=F,this._commandService=ee,this._themeService=Re,this._register(new Uo(this,this._contextKeyService)),this._register(new zo(this,this._contextKeyService)),this._instantiationService=M.createChild(new Us.y([Oo.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new jr(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Ot;Array.isArray(g.contributions)?Ot=g.contributions:Ot=W.Uc.getEditorContributions();for(const xt of Ot){if(this._contributions[xt.id]){(0,N.dL)(new Error(`Cannot have two contributions with the same id ${xt.id}`));continue}try{const Kt=this._instantiationService.createInstance(xt.ctor,this);this._contributions[xt.id]=Kt}catch(Kt){(0,N.dL)(Kt)}}W.Uc.getEditorActions().forEach(xt=>{if(this._actions[xt.id]){(0,N.dL)(new Error(`Cannot have two actions with the same id ${xt.id}`));return}const Kt=new Gs.p(xt.id,xt.label,xt.alias,(0,Kn.f6)(xt.precondition),()=>this._instantiationService.invokeFunction(qt=>Promise.resolve(xt.runEditorCommand(qt,this,null))),this._contextKeyService);this._actions[Kt.id]=Kt}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,o){return new m.V(this.isSimpleWidget,e,this._domElement,o)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return io.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let o=0,g=e.length;o<g;o++){const M=e[o];this._contributions[M].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Ur.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const o=!!(e&&e.preserveBOM);let g=0;return e&&e.lineEnding&&e.lineEnding===`
`?g=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(g=2),this._modelData.model.getValue(g,o)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const o=e;if(this._modelData===null&&o===null||this._modelData&&this._modelData.model===o)return;const g=this.hasTextFocus(),M=this._detachModel();this._attachModel(o),g&&this.hasModel()&&this.focus();const F={oldModelUrl:M?M.uri:null,newModelUrl:o?o.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(F),this._postDetachModelCleanup(M)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const o=this._decorationTypeSubtypes[e];for(let g in o)this._removeDecorationType(e+"-"+g)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,o,g){const M=e.model.validatePosition({lineNumber:o,column:g}),F=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(M);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber)}getTopForLineNumber(e){return this._modelData?Sr._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,o){return this._modelData?Sr._getVerticalOffsetForPosition(this._modelData,e,o):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(o=>Me.e.lift(o)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const o=this._modelData.model.validatePosition(e),g=this._modelData.model.getOptions().tabSize;return Se.io.visibleColumnFromColumn(this._modelData.model.getLineContent(o.lineNumber),o.column,g)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Le.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,o,g,M){if(!this._modelData)return;if(!Me.e.isIRange(e))throw new Error("Invalid arguments");const F=this._modelData.model.validateRange(e),ee=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(F);this._modelData.viewModel.revealRange("api",g,ee,o,M)}revealLine(e,o=0){this._revealLine(e,0,o)}revealLineInCenter(e,o=0){this._revealLine(e,1,o)}revealLineInCenterIfOutsideViewport(e,o=0){this._revealLine(e,2,o)}revealLineNearTop(e,o=0){this._revealLine(e,5,o)}_revealLine(e,o,g){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Me.e(e,1,e,1),o,!1,g)}revealPosition(e,o=0){this._revealPosition(e,0,!0,o)}revealPositionInCenter(e,o=0){this._revealPosition(e,1,!0,o)}revealPositionInCenterIfOutsideViewport(e,o=0){this._revealPosition(e,2,!0,o)}revealPositionNearTop(e,o=0){this._revealPosition(e,5,!0,o)}_revealPosition(e,o,g,M){if(!Le.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Me.e(e.lineNumber,e.column,e.lineNumber,e.column),o,g,M)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const o=p.Y.isISelection(e),g=Me.e.isIRange(e);if(!o&&!g)throw new Error("Invalid arguments");if(o)this._setSelectionImpl(e);else if(g){const M={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(M)}}_setSelectionImpl(e){if(!this._modelData)return;const o=new p.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[o])}revealLines(e,o,g=0){this._revealLines(e,o,0,g)}revealLinesInCenter(e,o,g=0){this._revealLines(e,o,1,g)}revealLinesInCenterIfOutsideViewport(e,o,g=0){this._revealLines(e,o,2,g)}revealLinesNearTop(e,o,g=0){this._revealLines(e,o,5,g)}_revealLines(e,o,g,M){if(typeof e!="number"||typeof o!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Me.e(e,1,o,1),g,!1,M)}revealRange(e,o=0,g=!1,M=!0){this._revealRange(e,g?1:0,M,o)}revealRangeInCenter(e,o=0){this._revealRange(e,1,!0,o)}revealRangeInCenterIfOutsideViewport(e,o=0){this._revealRange(e,2,!0,o)}revealRangeNearTop(e,o=0){this._revealRange(e,5,!0,o)}revealRangeNearTopIfOutsideViewport(e,o=0){this._revealRange(e,6,!0,o)}revealRangeAtTop(e,o=0){this._revealRange(e,3,!0,o)}_revealRange(e,o,g,M){if(!Me.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Me.e.lift(e),o,g,M)}setSelections(e,o="api",g=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let M=0,F=e.length;M<F;M++)if(!p.Y.isISelection(e[M]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,e,g)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},o)}}setScrollTop(e,o=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},o)}}setScrollPosition(e,o=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,o)}saveViewState(){if(!this._modelData)return null;const e={},o=Object.keys(this._contributions);for(const F of o){const ee=this._contributions[F];typeof ee.saveViewState=="function"&&(e[F]=ee.saveViewState())}const g=this._modelData.viewModel.saveCursorState(),M=this._modelData.viewModel.saveState();return{cursorState:g,viewState:M,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const o=e;if(o&&o.cursorState&&o.viewState){const g=o.cursorState;Array.isArray(g)?this._modelData.viewModel.restoreCursorState(g):this._modelData.viewModel.restoreCursorState([g]);const M=o.contributionsState||{},F=Object.keys(this._contributions);for(let ye=0,Re=F.length;ye<Re;ye++){const Qe=F[ye],nt=this._contributions[Qe];typeof nt.restoreViewState=="function"&&nt.restoreViewState(M[Qe])}const ee=this._modelData.viewModel.reduceRestoreState(o.viewState);this._modelData.view.restoreState(ee)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],o=Object.keys(this._actions);for(let g=0,M=o.length;g<M;g++){const F=o[g];e.push(this._actions[F])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(o=>o.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,o,g){switch(g=g||{},o){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const F=g;this._type(e,F.text||"");return}case"replacePreviousChar":{const F=g;this._compositionType(e,F.text||"",F.replaceCharCnt||0,0,0);return}case"compositionType":{const F=g;this._compositionType(e,F.text||"",F.replacePrevCharCnt||0,F.replaceNextCharCnt||0,F.positionDelta||0);return}case"paste":{const F=g;this._paste(e,F.text||"",F.pasteOnNewLine||!1,F.multicursorText||null,F.mode||null);return}case"cut":this._cut(e);return}const M=this.getAction(o);if(M){Promise.resolve(M.run()).then(void 0,N.dL);return}this._modelData&&(this._triggerEditorCommand(e,o,g)||this._triggerCommand(o,g))}_triggerCommand(e,o){this._commandService.executeCommand(e,o)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,o){!this._modelData||o.length===0||(e==="keyboard"&&this._onWillType.fire(o),this._modelData.viewModel.type(o,e),e==="keyboard"&&this._onDidType.fire(o))}_compositionType(e,o,g,M,F){this._modelData&&this._modelData.viewModel.compositionType(o,g,M,F,e)}_paste(e,o,g,M,F){if(!this._modelData||o.length===0)return;const ee=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(o,g,M,e);const ye=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Me.e(ee.lineNumber,ee.column,ye.lineNumber,ye.column),languageId:F})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,o,g){const M=W.Uc.getEditorCommand(o);return M?(g=g||{},g.source=e,this._instantiationService.invokeFunction(F=>{Promise.resolve(M.runEditorCommand(F,this,g)).then(void 0,N.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(80)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,o,g){if(!this._modelData||this._configuration.options.get(80))return!1;let M;return g?Array.isArray(g)?M=()=>g:M=g:M=()=>null,this._modelData.viewModel.executeEdits(e,o,M),!0}executeCommand(e,o){this._modelData&&this._modelData.viewModel.executeCommand(o,e)}executeCommands(e,o){this._modelData&&this._modelData.viewModel.executeCommands(o,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,ue.$J)(this._configuration.options)):null}deltaDecorations(e,o){return this._modelData?e.length===0&&o.length===0?e:this._modelData.model.deltaDecorations(e,o,this._id):[]}removeDecorations(e){const o=this._decorationTypeKeysToIds[e];o&&this.deltaDecorations(o,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const o={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(o)}layoutContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const g=this._contentWidgets[o];g.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(g)}}removeContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const g=this._contentWidgets[o];delete this._contentWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(g)}}addOverlayWidget(e){const o={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(o)}layoutOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const g=this._overlayWidgets[o];g.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(g)}}removeOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const g=this._overlayWidgets[o];delete this._overlayWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(g)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,o){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,o)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const o=this._modelData.model.validatePosition(e),g=this._configuration.options,M=g.get(129),F=Sr._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),ee=this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+M.glyphMarginWidth+M.lineNumbersWidth+M.decorationsWidth-this.getScrollLeft();return{top:F,left:ee,height:g.get(58)}}getOffsetForColumn(e,o){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,o)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){m.V.applyFontInfoSlow(e,this._configuration.options.get(43))}_attachModel(e){if(!e){this._modelData=null;return}const o=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const g=new vo(this._id,this._configuration,e,bo.create(),ao.create(this._configuration.options),ee=>x.jL(ee));o.push(e.onDidChangeDecorations(ee=>this._onDidChangeModelDecorations.fire(ee))),o.push(e.onDidChangeLanguage(ee=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(ee)})),o.push(e.onDidChangeLanguageConfiguration(ee=>this._onDidChangeModelLanguageConfiguration.fire(ee))),o.push(e.onDidChangeContent(ee=>this._onDidChangeModelContent.fire(ee))),o.push(e.onDidChangeOptions(ee=>this._onDidChangeModelOptions.fire(ee))),o.push(e.onWillDispose(()=>this.setModel(null))),o.push(g.onEvent(ee=>{switch(ee.kind){case 0:this._onDidContentSizeChange.fire(ee);break;case 1:this._editorTextFocus.setValue(ee.hasFocus);break;case 2:this._onDidScrollChange.fire(ee);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ee.reachedMaxCursorCount&&this._notificationService.warn(G.N("cursors.maximum","The number of cursors has been limited to {0}.",Ns.MAX_CURSOR_COUNT));const ye=[];for(let nt=0,ct=ee.selections.length;nt<ct;nt++)ye[nt]=ee.selections[nt].getPosition();const Re={position:ye[0],secondaryPositions:ye.slice(1),reason:ee.reason,source:ee.source};this._onDidChangeCursorPosition.fire(Re);const Qe={selection:ee.selections[0],secondarySelections:ee.selections.slice(1),modelVersionId:ee.modelVersionId,oldSelections:ee.oldSelections,oldModelVersionId:ee.oldModelVersionId,source:ee.source,reason:ee.reason};this._onDidChangeCursorSelection.fire(Qe);break}}}));const[M,F]=this._createView(g);if(F){this._domElement.appendChild(M.domNode.domNode);let ee=Object.keys(this._contentWidgets);for(let ye=0,Re=ee.length;ye<Re;ye++){const Qe=ee[ye];M.addContentWidget(this._contentWidgets[Qe])}ee=Object.keys(this._overlayWidgets);for(let ye=0,Re=ee.length;ye<Re;ye++){const Qe=ee[ye];M.addOverlayWidget(this._overlayWidgets[Qe])}M.render(!1,!0),M.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Kr(e,g,M,F,o)}_createView(e){let o;this.isSimpleWidget?o={paste:(F,ee,ye,Re)=>{this._paste("keyboard",F,ee,ye,Re)},type:F=>{this._type("keyboard",F)},compositionType:(F,ee,ye,Re)=>{this._compositionType("keyboard",F,ee,ye,Re)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:o={paste:(F,ee,ye,Re)=>{const Qe={text:F,pasteOnNewLine:ee,multicursorText:ye,mode:Re};this._commandService.executeCommand("paste",Qe)},type:F=>{const ee={text:F};this._commandService.executeCommand("type",ee)},compositionType:(F,ee,ye,Re)=>{if(ye||Re){const Qe={text:F,replacePrevCharCnt:ee,replaceNextCharCnt:ye,positionDelta:Re};this._commandService.executeCommand("compositionType",Qe)}else{const Qe={text:F,replaceCharCnt:ee};this._commandService.executeCommand("replacePreviousChar",Qe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const g=new J(e.coordinatesConverter);return g.onKeyDown=F=>this._onKeyDown.fire(F),g.onKeyUp=F=>this._onKeyUp.fire(F),g.onContextMenu=F=>this._onContextMenu.fire(F),g.onMouseMove=F=>this._onMouseMove.fire(F),g.onMouseLeave=F=>this._onMouseLeave.fire(F),g.onMouseDown=F=>this._onMouseDown.fire(F),g.onMouseUp=F=>this._onMouseUp.fire(F),g.onMouseDrag=F=>this._onMouseDrag.fire(F),g.onMouseDrop=F=>this._onMouseDrop.fire(F),g.onMouseDropCanceled=F=>this._onMouseDropCanceled.fire(F),g.onMouseWheel=F=>this._onMouseWheel.fire(F),[new li(o,this._configuration,this._themeService,e,g,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,o=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),o&&this._domElement.contains(o)&&this._domElement.removeChild(o),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};Ho=zr([js(3,Co.TG),js(4,y.$),js(5,Wr.H),js(6,Oo.i6),js(7,je.XE),js(8,Po.lT),js(9,Un.F)],Ho);class or extends C.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new s.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new s.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const o=e?2:1;this._value!==o&&(this._value=o,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Uo extends C.JT{constructor(e,o){super(),this._editor=e,o.createKey("editorId",e.getId()),this._editorSimpleInput=Fn.u.editorSimpleInput.bindTo(o),this._editorFocus=Fn.u.focus.bindTo(o),this._textInputFocus=Fn.u.textInputFocus.bindTo(o),this._editorTextFocus=Fn.u.editorTextFocus.bindTo(o),this._editorTabMovesFocus=Fn.u.tabMovesFocus.bindTo(o),this._editorReadonly=Fn.u.readOnly.bindTo(o),this._inDiffEditor=Fn.u.inDiffEditor.bindTo(o),this._editorColumnSelection=Fn.u.columnSelection.bindTo(o),this._hasMultipleSelections=Fn.u.hasMultipleSelections.bindTo(o),this._hasNonEmptySelection=Fn.u.hasNonEmptySelection.bindTo(o),this._canUndo=Fn.u.canUndo.bindTo(o),this._canRedo=Fn.u.canRedo.bindTo(o),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(o=>!o.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class zo extends C.JT{constructor(e,o){super(),this._editor=e,this._contextKeyService=o,this._langId=Fn.u.languageId.bindTo(o),this._hasCompletionItemProvider=Fn.u.hasCompletionItemProvider.bindTo(o),this._hasCodeActionsProvider=Fn.u.hasCodeActionsProvider.bindTo(o),this._hasCodeLensProvider=Fn.u.hasCodeLensProvider.bindTo(o),this._hasDefinitionProvider=Fn.u.hasDefinitionProvider.bindTo(o),this._hasDeclarationProvider=Fn.u.hasDeclarationProvider.bindTo(o),this._hasImplementationProvider=Fn.u.hasImplementationProvider.bindTo(o),this._hasTypeDefinitionProvider=Fn.u.hasTypeDefinitionProvider.bindTo(o),this._hasHoverProvider=Fn.u.hasHoverProvider.bindTo(o),this._hasDocumentHighlightProvider=Fn.u.hasDocumentHighlightProvider.bindTo(o),this._hasDocumentSymbolProvider=Fn.u.hasDocumentSymbolProvider.bindTo(o),this._hasReferenceProvider=Fn.u.hasReferenceProvider.bindTo(o),this._hasRenameProvider=Fn.u.hasRenameProvider.bindTo(o),this._hasSignatureHelpProvider=Fn.u.hasSignatureHelpProvider.bindTo(o),this._hasInlayHintsProvider=Fn.u.hasInlayHintsProvider.bindTo(o),this._hasDocumentFormattingProvider=Fn.u.hasDocumentFormattingProvider.bindTo(o),this._hasDocumentSelectionFormattingProvider=Fn.u.hasDocumentSelectionFormattingProvider.bindTo(o),this._hasMultipleDocumentFormattingProvider=Fn.u.hasMultipleDocumentFormattingProvider.bindTo(o),this._hasMultipleDocumentSelectionFormattingProvider=Fn.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),this._isInWalkThrough=Fn.u.isInWalkThroughSnippet.bindTo(o);const g=()=>this._update();this._register(e.onDidChangeModel(g)),this._register(e.onDidChangeModelLanguage(g)),this._register(Lt.KZ.onDidChange(g)),this._register(Lt.H9.onDidChange(g)),this._register(Lt.He.onDidChange(g)),this._register(Lt.Ct.onDidChange(g)),this._register(Lt.RN.onDidChange(g)),this._register(Lt.vI.onDidChange(g)),this._register(Lt.tA.onDidChange(g)),this._register(Lt.xp.onDidChange(g)),this._register(Lt.vH.onDidChange(g)),this._register(Lt.vJ.onDidChange(g)),this._register(Lt.FL.onDidChange(g)),this._register(Lt.G0.onDidChange(g)),this._register(Lt.Az.onDidChange(g)),this._register(Lt.vN.onDidChange(g)),this._register(Lt.nD.onDidChange(g)),this._register(Lt.mX.onDidChange(g)),g()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(Lt.KZ.has(e)),this._hasCodeActionsProvider.set(Lt.H9.has(e)),this._hasCodeLensProvider.set(Lt.He.has(e)),this._hasDefinitionProvider.set(Lt.Ct.has(e)),this._hasDeclarationProvider.set(Lt.RN.has(e)),this._hasImplementationProvider.set(Lt.vI.has(e)),this._hasTypeDefinitionProvider.set(Lt.tA.has(e)),this._hasHoverProvider.set(Lt.xp.has(e)),this._hasDocumentHighlightProvider.set(Lt.vH.has(e)),this._hasDocumentSymbolProvider.set(Lt.vJ.has(e)),this._hasReferenceProvider.set(Lt.FL.has(e)),this._hasRenameProvider.set(Lt.G0.has(e)),this._hasSignatureHelpProvider.set(Lt.nD.has(e)),this._hasInlayHintsProvider.set(Lt.mX.has(e)),this._hasDocumentFormattingProvider.set(Lt.Az.has(e)||Lt.vN.has(e)),this._hasDocumentSelectionFormattingProvider.set(Lt.vN.has(e)),this._hasMultipleDocumentFormattingProvider.set(Lt.Az.all(e).length+Lt.vN.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(Lt.vN.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===l.lg.walkThroughSnippet)})}}class jr extends C.JT{constructor(e){super(),this._onChange=this._register(new s.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(x.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const As=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),dn=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Ko(Tt){return As+encodeURIComponent(Tt.toString())+dn}const $r=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Gr=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function jo(Tt){return $r+encodeURIComponent(Tt.toString())+Gr}(0,je.Ic)((Tt,e)=>{const o=Tt.getColor(en.b6);o&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${o}; }`);const g=Tt.getColor(en.lX);g&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Ko(g)}") repeat-x bottom left; }`);const M=Tt.getColor(en.A2);M&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${M}; }`);const F=Tt.getColor(en.pW);F&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${F}; }`);const ee=Tt.getColor(en.uo);ee&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Ko(ee)}") repeat-x bottom left; }`);const ye=Tt.getColor(en.gp);ye&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ye}; }`);const Re=Tt.getColor(en.T8);Re&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${Re}; }`);const Qe=Tt.getColor(en.c6);Qe&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Ko(Qe)}") repeat-x bottom left; }`);const nt=Tt.getColor(en.fe);nt&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${nt}; }`);const ct=Tt.getColor(en.fE);ct&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ct}; }`);const Ot=Tt.getColor(en.Du);Ot&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${jo(Ot)}") no-repeat bottom left; }`);const xt=Tt.getColor(Pe.zu);xt&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${xt.rgba.a}; }`);const Kt=Tt.getColor(Pe.kp);Kt&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Kt}; }`);const qt=Tt.getColor(en.NO)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${qt}}`)})},92913:function(Ct,we,t){"use strict";t.d(we,{p:function(){return Ae}});var h=t(63580),W=t(65321),k=t(38626),O=t(83080),w=t(15393),G=t(4669),x=t(9917),N=t(87917),s=t(55812),C=t(11640),l=t(50124),m=t(90317),y=t(13433),n=t(74741),p=t(16830),f=t(64141),v=t(78411),d=t(50187),a=t(27869),u=t(77736),c=t(13824),b=t(38819),L=t(73910),R=t(97781),T=t(73046),j=t(59554),q=t(71531),ie=function(Ge,Ie,Pe,je){var dt=arguments.length,Nt=dt<3?Ie:je===null?je=Object.getOwnPropertyDescriptor(Ie,Pe):je,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Nt=Reflect.decorate(Ge,Ie,Pe,je);else for(var Xt=Ge.length-1;Xt>=0;Xt--)($t=Ge[Xt])&&(Nt=(dt<3?$t(Nt):dt>3?$t(Ie,Pe,Nt):$t(Ie,Pe))||Nt);return dt>3&&Nt&&Object.defineProperty(Ie,Pe,Nt),Nt},ne=function(Ge,Ie){return function(Pe,je){Ie(Pe,je,Ge)}},he=function(Ge,Ie,Pe,je){function dt(Nt){return Nt instanceof Pe?Nt:new Pe(function($t){$t(Nt)})}return new(Pe||(Pe=Promise))(function(Nt,$t){function Xt(mi){try{Zt(je.next(mi))}catch(pt){$t(pt)}}function Ci(mi){try{Zt(je.throw(mi))}catch(pt){$t(pt)}}function Zt(mi){mi.done?Nt(mi.value):dt(mi.value).then(Xt,Ci)}Zt((je=je.apply(Ge,Ie||[])).next())})},$;const V=3;class z{constructor(Ie,Pe,je,dt){this.originalLineStart=Ie,this.originalLineEnd=Pe,this.modifiedLineStart=je,this.modifiedLineEnd=dt}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class Q{constructor(Ie){this.entries=Ie}}const le=(0,j.q5)("diff-review-insert",T.lA.add,h.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),E=(0,j.q5)("diff-review-remove",T.lA.remove,h.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),I=(0,j.q5)("diff-review-close",T.lA.close,h.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let A=class mo extends x.JT{constructor(Ie,Pe){super(),this._modeService=Pe,this._width=0,this._diffEditor=Ie,this._isVisible=!1,this.shadow=(0,k.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new m.o(this.actionBarContainer.domNode)),this._actionBar.push(new n.aU("diffreview.close",h.N("label.close","Close"),"close-diff-review "+R.kS.asClassName(I),!0,()=>he(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new y.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(Ie.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(Ie.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(W.mu(this.domNode.domNode,"click",je=>{je.preventDefault();let dt=W.Fx(je.target,"diff-review-row");dt&&this._goToRow(dt)})),this._register(W.mu(this.domNode.domNode,"keydown",je=>{(je.equals(18)||je.equals(2066)||je.equals(530))&&(je.preventDefault(),this._goToRow(this._getNextRow())),(je.equals(16)||je.equals(2064)||je.equals(528))&&(je.preventDefault(),this._goToRow(this._getPrevRow())),(je.equals(9)||je.equals(2057)||je.equals(521)||je.equals(1033))&&(je.preventDefault(),this.hide()),(je.equals(10)||je.equals(3))&&(je.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let Ie=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let je=-1;for(let dt=0,Nt=this._diffs.length;dt<Nt;dt++)if(this._diffs[dt]===this._currentDiff){je=dt;break}Ie=this._diffs.length+je-1}else Ie=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;Ie=Ie%this._diffs.length;const Pe=this._diffs[Ie].entries;this._diffEditor.setPosition(new d.L(Pe[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Pe[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Pe[Pe.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let Ie=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let je=-1;for(let dt=0,Nt=this._diffs.length;dt<Nt;dt++)if(this._diffs[dt]===this._currentDiff){je=dt;break}Ie=je+1}else Ie=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;Ie=Ie%this._diffs.length;const Pe=this._diffs[Ie].entries;this._diffEditor.setPosition(new d.L(Pe[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Pe[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Pe[Pe.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let Ie=-1,Pe=this._getCurrentFocusedRow();if(Pe){let je=parseInt(Pe.getAttribute("data-line"),10);isNaN(je)||(Ie=je)}this.hide(),Ie!==-1&&(this._diffEditor.setPosition(new d.L(Ie,1)),this._diffEditor.revealPosition(new d.L(Ie,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let Ie=this._getCurrentFocusedRow();return Ie?Ie.previousElementSibling?Ie.previousElementSibling:Ie:this._getFirstRow()}_getNextRow(){let Ie=this._getCurrentFocusedRow();return Ie?Ie.nextElementSibling?Ie.nextElementSibling:Ie:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let Ie=document.activeElement;return Ie&&/diff-review-row/.test(Ie.className)?Ie:null}_goToRow(Ie){let Pe=this._getCurrentFocusedRow();Ie.tabIndex=0,Ie.focus(),Pe&&Pe!==Ie&&(Pe.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(Ie,Pe,je){this._width=Pe,this.shadow.setTop(Ie-6),this.shadow.setWidth(Pe),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Ie),this.domNode.setWidth(Pe),this.domNode.setHeight(je),this._content.setHeight(je),this._content.setWidth(Pe),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const Ie=this._diffEditor.getLineChanges();if(!Ie||Ie.length===0)return[];const Pe=this._diffEditor.getOriginalEditor().getModel(),je=this._diffEditor.getModifiedEditor().getModel();return!Pe||!je?[]:mo._mergeAdjacent(Ie,Pe.getLineCount(),je.getLineCount())}static _mergeAdjacent(Ie,Pe,je){if(!Ie||Ie.length===0)return[];let dt=[],Nt=0;for(let Zt=0,mi=Ie.length;Zt<mi;Zt++){const pt=Ie[Zt],ut=pt.originalStartLineNumber,tt=pt.originalEndLineNumber,de=pt.modifiedStartLineNumber,be=pt.modifiedEndLineNumber;let J=[],pe=0;{const ke=tt===0?ut:ut-1,at=be===0?de:de-1;let st=1,_t=1;if(Zt>0){const Mt=Ie[Zt-1];Mt.originalEndLineNumber===0?st=Mt.originalStartLineNumber+1:st=Mt.originalEndLineNumber+1,Mt.modifiedEndLineNumber===0?_t=Mt.modifiedStartLineNumber+1:_t=Mt.modifiedEndLineNumber+1}let Et=ke-V+1,Wt=at-V+1;if(Et<st){const Mt=st-Et;Et=Et+Mt,Wt=Wt+Mt}if(Wt<_t){const Mt=_t-Wt;Et=Et+Mt,Wt=Wt+Mt}J[pe++]=new z(Et,ke,Wt,at)}tt!==0&&(J[pe++]=new z(ut,tt,0,0)),be!==0&&(J[pe++]=new z(0,0,de,be));{const ke=tt===0?ut+1:tt+1,at=be===0?de+1:be+1;let st=Pe,_t=je;if(Zt+1<mi){const Mt=Ie[Zt+1];Mt.originalEndLineNumber===0?st=Mt.originalStartLineNumber:st=Mt.originalStartLineNumber-1,Mt.modifiedEndLineNumber===0?_t=Mt.modifiedStartLineNumber:_t=Mt.modifiedStartLineNumber-1}let Et=ke+V-1,Wt=at+V-1;if(Et>st){const Mt=st-Et;Et=Et+Mt,Wt=Wt+Mt}if(Wt>_t){const Mt=_t-Wt;Et=Et+Mt,Wt=Wt+Mt}J[pe++]=new z(ke,Et,at,Wt)}dt[Nt++]=new Q(J)}let $t=dt[0].entries,Xt=[],Ci=0;for(let Zt=1,mi=dt.length;Zt<mi;Zt++){const pt=dt[Zt].entries,ut=$t[$t.length-1],tt=pt[0];if(ut.getType()===0&&tt.getType()===0&&tt.originalLineStart<=ut.originalLineEnd){$t[$t.length-1]=new z(ut.originalLineStart,tt.originalLineEnd,ut.modifiedLineStart,tt.modifiedLineEnd),$t=$t.concat(pt.slice(1));continue}Xt[Ci++]=new Q($t),$t=pt}return Xt[Ci++]=new Q($t),Xt}_findDiffIndex(Ie){const Pe=Ie.lineNumber;for(let je=0,dt=this._diffs.length;je<dt;je++){const Nt=this._diffs[je].entries,$t=Nt[Nt.length-1].modifiedLineEnd;if(Pe<=$t)return je}return 0}_render(){const Ie=this._diffEditor.getOriginalEditor().getOptions(),Pe=this._diffEditor.getModifiedEditor().getOptions(),je=this._diffEditor.getOriginalEditor().getModel(),dt=this._diffEditor.getModifiedEditor().getModel(),Nt=je.getOptions(),$t=dt.getOptions();if(!this._isVisible||!je||!dt){W.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const Xt=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Xt]===this._currentDiff)return;this._currentDiff=this._diffs[Xt];const Ci=this._diffs[Xt].entries;let Zt=document.createElement("div");Zt.className="diff-review-table",Zt.setAttribute("role","list"),Zt.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),N.V.applyFontInfoSlow(Zt,Pe.get(43));let mi=0,pt=0,ut=0,tt=0;for(let Wt=0,Mt=Ci.length;Wt<Mt;Wt++){const Jt=Ci[Wt],jt=Jt.originalLineStart,ui=Jt.originalLineEnd,_i=Jt.modifiedLineStart,bi=Jt.modifiedLineEnd;jt!==0&&(mi===0||jt<mi)&&(mi=jt),ui!==0&&(pt===0||ui>pt)&&(pt=ui),_i!==0&&(ut===0||_i<ut)&&(ut=_i),bi!==0&&(tt===0||bi>tt)&&(tt=bi)}let de=document.createElement("div");de.className="diff-review-row";let be=document.createElement("div");be.className="diff-review-cell diff-review-summary";const J=pt-mi+1,pe=tt-ut+1;be.appendChild(document.createTextNode(`${Xt+1}/${this._diffs.length}: @@ -${mi},${J} +${ut},${pe} @@`)),de.setAttribute("data-line",String(ut));const ke=Wt=>Wt===0?h.N("no_lines_changed","no lines changed"):Wt===1?h.N("one_line_changed","1 line changed"):h.N("more_lines_changed","{0} lines changed",Wt),at=ke(J),st=ke(pe);de.setAttribute("aria-label",h.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Xt+1,this._diffs.length,mi,at,ut,st)),de.appendChild(be),de.setAttribute("role","listitem"),Zt.appendChild(de);const _t=Pe.get(58);let Et=ut;for(let Wt=0,Mt=Ci.length;Wt<Mt;Wt++){const Jt=Ci[Wt];mo._renderSection(Zt,Jt,Et,_t,this._width,Ie,je,Nt,Pe,dt,$t,this._modeService.languageIdCodec),Jt.modifiedLineStart!==0&&(Et=Jt.modifiedLineEnd)}W.PO(this._content.domNode),this._content.domNode.appendChild(Zt),this.scrollbar.scanDomNode()}static _renderSection(Ie,Pe,je,dt,Nt,$t,Xt,Ci,Zt,mi,pt,ut){const tt=Pe.getType();let de="diff-review-row",be="";const J="diff-review-spacer";let pe=null;switch(tt){case 1:de="diff-review-row line-insert",be=" char-insert",pe=le;break;case 2:de="diff-review-row line-delete",be=" char-delete",pe=E;break}const ke=Pe.originalLineStart,at=Pe.originalLineEnd,st=Pe.modifiedLineStart,_t=Pe.modifiedLineEnd,Et=Math.max(_t-st,at-ke),Wt=$t.get(129),Mt=Wt.glyphMarginWidth+Wt.lineNumbersWidth,Jt=Zt.get(129),jt=10+Jt.glyphMarginWidth+Jt.lineNumbersWidth;for(let ui=0;ui<=Et;ui++){const _i=ke===0?0:ke+ui,bi=st===0?0:st+ui,Ai=document.createElement("div");Ai.style.minWidth=Nt+"px",Ai.className=de,Ai.setAttribute("role","listitem"),bi!==0&&(je=bi),Ai.setAttribute("data-line",String(je));let Ri=document.createElement("div");Ri.className="diff-review-cell",Ri.style.height=`${dt}px`,Ai.appendChild(Ri);const zi=document.createElement("span");zi.style.width=Mt+"px",zi.style.minWidth=Mt+"px",zi.className="diff-review-line-number"+be,_i!==0?zi.appendChild(document.createTextNode(String(_i))):zi.innerText="\xA0",Ri.appendChild(zi);const hn=document.createElement("span");hn.style.width=jt+"px",hn.style.minWidth=jt+"px",hn.style.paddingRight="10px",hn.className="diff-review-line-number"+be,bi!==0?hn.appendChild(document.createTextNode(String(bi))):hn.innerText="\xA0",Ri.appendChild(hn);const bn=document.createElement("span");if(bn.className=J,pe){const Sn=document.createElement("span");Sn.className=R.kS.asClassName(pe),Sn.innerText="\xA0\xA0",bn.appendChild(Sn)}else bn.innerText="\xA0\xA0";Ri.appendChild(bn);let Xi;if(bi!==0){let Sn=this._renderLine(mi,Zt,pt.tabSize,bi,ut);mo._ttPolicy&&(Sn=mo._ttPolicy.createHTML(Sn)),Ri.insertAdjacentHTML("beforeend",Sn),Xi=mi.getLineContent(bi)}else{let Sn=this._renderLine(Xt,$t,Ci.tabSize,_i,ut);mo._ttPolicy&&(Sn=mo._ttPolicy.createHTML(Sn)),Ri.insertAdjacentHTML("beforeend",Sn),Xi=Xt.getLineContent(_i)}Xi.length===0&&(Xi=h.N("blankLine","blank"));let xn="";switch(tt){case 0:_i===bi?xn=h.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Xi,_i):xn=h.N("equalLine","{0} original line {1} modified line {2}",Xi,_i,bi);break;case 1:xn=h.N("insertLine","+ {0} modified line {1}",Xi,bi);break;case 2:xn=h.N("deleteLine","- {0} original line {1}",Xi,_i);break}Ai.setAttribute("aria-label",xn),Ie.appendChild(Ai)}}static _renderLine(Ie,Pe,je,dt,Nt){const $t=Ie.getLineContent(dt),Xt=Pe.get(43),Ci=v.A.createEmpty($t,Nt),Zt=c.wA.isBasicASCII($t,Ie.mightContainNonBasicASCII()),mi=c.wA.containsRTL($t,Zt,Ie.mightContainRTL());return(0,u.tF)(new u.IJ(Xt.isMonospace&&!Pe.get(29),Xt.canUseHalfwidthRightwardsArrow,$t,!1,Zt,mi,0,Ci,[],je,0,Xt.spaceWidth,Xt.middotWidth,Xt.wsmiddotWidth,Pe.get(104),Pe.get(87),Pe.get(82),Pe.get(44)!==f.n0.OFF,null)).html}};A._ttPolicy=($=window.trustedTypes)===null||$===void 0?void 0:$.createPolicy("diffReview",{createHTML:Ge=>Ge}),A=ie([ne(1,q.h)],A),(0,R.Ic)((Ge,Ie)=>{const Pe=Ge.getColor(a.hw);Pe&&Ie.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Pe}; }`);const je=Ge.getColor(L._w);je&&Ie.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${je} 0 -6px 6px -6px inset; }`)});class H extends p.R6{constructor(){super({id:"editor.action.diffReview.next",label:h.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:b.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(Ie,Pe){const je=X(Ie);je&&je.diffReviewNext()}}class Y extends p.R6{constructor(){super({id:"editor.action.diffReview.prev",label:h.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:b.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(Ie,Pe){const je=X(Ie);je&&je.diffReviewPrev()}}function X(Ge){const Ie=Ge.get(C.$),Pe=Ie.listDiffEditors(),je=Ie.getActiveCodeEditor();if(!je)return null;for(let dt=0,Nt=Pe.length;dt<Nt;dt++){const $t=Pe[dt];if($t.getModifiedEditor().getId()===je.getId()||$t.getOriginalEditor().getId()===je.getId())return $t}return null}(0,p.Qr)(H),(0,p.Qr)(Y);var re=t(24314),fe=t(50072),ue=t(96518),Oe=t(24979),Ce=t(90469),oe=t(92003),ae=t(92550),Be=t(72065),Ve=t(60972),se=t(59422),ce=t(5606),Te=function(Ge,Ie,Pe,je){function dt(Nt){return Nt instanceof Pe?Nt:new Pe(function($t){$t(Nt)})}return new(Pe||(Pe=Promise))(function(Nt,$t){function Xt(mi){try{Zt(je.next(mi))}catch(pt){$t(pt)}}function Ci(mi){try{Zt(je.throw(mi))}catch(pt){$t(pt)}}function Zt(mi){mi.done?Nt(mi.value):dt(mi.value).then(Xt,Ci)}Zt((je=je.apply(Ge,Ie||[])).next())})};class xe extends x.JT{constructor(Ie,Pe,je,dt,Nt,$t){super(),this._viewZoneId=Ie,this._marginDomNode=Pe,this.editor=je,this.diff=dt,this._contextMenuService=Nt,this._clipboardService=$t,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=T.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const Xt=je.getOption(58),Ci=je.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Xt}px`,this._diffActions.style.lineHeight=`${Xt}px`,this._marginDomNode.appendChild(this._diffActions);const Zt=[],mi=dt.modifiedEndLineNumber===0;Zt.push(new n.aU("diff.clipboard.copyDeletedContent",mi?dt.originalEndLineNumber>dt.modifiedStartLineNumber?h.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):h.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):dt.originalEndLineNumber>dt.modifiedStartLineNumber?h.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):h.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Te(this,void 0,void 0,function*(){const be=new re.e(dt.originalStartLineNumber,1,dt.originalEndLineNumber+1,1),J=dt.originalModel.getValueInRange(be);yield this._clipboardService.writeText(J)})));let pt=0,ut;dt.originalEndLineNumber>dt.modifiedStartLineNumber&&(ut=new n.aU("diff.clipboard.copyDeletedLineContent",mi?h.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",dt.originalStartLineNumber):h.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",dt.originalStartLineNumber),void 0,!0,()=>Te(this,void 0,void 0,function*(){const be=dt.originalModel.getLineContent(dt.originalStartLineNumber+pt);if(be===""){const J=dt.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(J===0?`
`:`\r
`)}else yield this._clipboardService.writeText(be)})),Zt.push(ut)),je.getOption(80)||Zt.push(new n.aU("diff.inline.revertChange",h.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Te(this,void 0,void 0,function*(){const be=new re.e(dt.originalStartLineNumber,1,dt.originalEndLineNumber,dt.originalModel.getLineMaxColumn(dt.originalEndLineNumber)),J=dt.originalModel.getValueInRange(be);if(dt.modifiedEndLineNumber===0){const pe=je.getModel().getLineMaxColumn(dt.modifiedStartLineNumber);je.executeEdits("diffEditor",[{range:new re.e(dt.modifiedStartLineNumber,pe,dt.modifiedStartLineNumber,pe),text:Ci+J}])}else{const pe=je.getModel().getLineMaxColumn(dt.modifiedEndLineNumber);je.executeEdits("diffEditor",[{range:new re.e(dt.modifiedStartLineNumber,1,dt.modifiedEndLineNumber,pe),text:J}])}})));const de=(be,J)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:be,y:J}),getActions:()=>(ut&&(ut.label=mi?h.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",dt.originalStartLineNumber+pt):h.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",dt.originalStartLineNumber+pt)),Zt),autoSelectFirstItem:!0})};this._register(W.mu(this._diffActions,"mousedown",be=>{const{top:J,height:pe}=W.i(this._diffActions);let ke=Math.floor(Xt/3);be.preventDefault(),de(be.posx,J+pe+ke)})),this._register(je.onMouseMove(be=>{be.target.type===8||be.target.type===5?be.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,pt=this._updateLightBulbPosition(this._marginDomNode,be.event.browserEvent.y,Xt)):this.visibility=!1:this.visibility=!1})),this._register(je.onMouseDown(be=>{be.event.rightButton&&(be.target.type===8||be.target.type===5)&&be.target.detail.viewZoneId===this._viewZoneId&&(be.event.preventDefault(),pt=this._updateLightBulbPosition(this._marginDomNode,be.event.browserEvent.y,Xt),de(be.event.posx,be.event.posy+Xt))}))}get visibility(){return this._visibility}set visibility(Ie){this._visibility!==Ie&&(this._visibility=Ie,Ie?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(Ie,Pe,je){const{top:dt}=W.i(Ie),Nt=Pe-dt,$t=Math.floor(Nt/je),Xt=$t*je;if(this._diffActions.style.top=`${Xt}px`,this.diff.viewLineCounts){let Ci=0;for(let Zt=0;Zt<this.diff.viewLineCounts.length;Zt++)if(Ci+=this.diff.viewLineCounts[Zt],$t<Ci)return Zt}return $t}}var Fe=t(84972),Le=t(17301),Me=t(90535),Se=t(54534),ze=t(49335),Ye=function(Ge,Ie,Pe,je){var dt=arguments.length,Nt=dt<3?Ie:je===null?je=Object.getOwnPropertyDescriptor(Ie,Pe):je,$t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Nt=Reflect.decorate(Ge,Ie,Pe,je);else for(var Xt=Ge.length-1;Xt>=0;Xt--)($t=Ge[Xt])&&(Nt=(dt<3?$t(Nt):dt>3?$t(Ie,Pe,Nt):$t(Ie,Pe))||Nt);return dt>3&&Nt&&Object.defineProperty(Ie,Pe,Nt),Nt},qe=function(Ge,Ie){return function(Pe,je){Ie(Pe,je,Ge)}},ht;class kt{constructor(Ie,Pe){this._contextMenuService=Ie,this._clipboardService=Pe,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Ie){return Ie.filter(Pe=>!this._zonesMap[String(Pe.id)])}clean(Ie){this._zones.length>0&&Ie.changeViewZones(Pe=>{for(const je of this._zones)Pe.removeZone(je)}),this._zones=[],this._zonesMap={},this._decorations=Ie.deltaDecorations(this._decorations,[])}apply(Ie,Pe,je,dt){const Nt=dt?s.ZF.capture(Ie):null;Ie.changeViewZones($t=>{var Xt;for(const Ci of this._zones)$t.removeZone(Ci);for(const Ci of this._inlineDiffMargins)Ci.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ci=0,Zt=je.zones.length;Ci<Zt;Ci++){const mi=je.zones[Ci];mi.suppressMouseDown=!0;const pt=$t.addZone(mi);this._zones.push(pt),this._zonesMap[String(pt)]=!0,je.zones[Ci].diff&&mi.marginDomNode&&(mi.suppressMouseDown=!1,((Xt=je.zones[Ci].diff)===null||Xt===void 0?void 0:Xt.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new xe(pt,mi.marginDomNode,Ie,je.zones[Ci].diff,this._contextMenuService,this._clipboardService)))}}),Nt&&Nt.restore(Ie),this._decorations=Ie.deltaDecorations(this._decorations,je.decorations),Pe&&Pe.setZones(je.overviewZones)}}let zt=0;const Ke=(0,j.q5)("diff-insert",T.lA.add,h.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),Je=(0,j.q5)("diff-remove",T.lA.remove,h.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),Ze=(ht=window.trustedTypes)===null||ht===void 0?void 0:ht.createPolicy("diffEditorWidget",{createHTML:Ge=>Ge});let Ae=class _s extends x.JT{constructor(Ie,Pe,je,dt,Nt,$t,Xt,Ci,Zt,mi,pt,ut){super(),this._editorProgressService=ut,this._onDidDispose=this._register(new G.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new G.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new G.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Nt,this._codeEditorService=Ci,this._contextKeyService=this._register($t.createScoped(Ie)),this._instantiationService=Xt.createChild(new Ve.y([b.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Zt,this._notificationService=mi,this._id=++zt,this._state=0,this._updatingDiffProgress=null,this._domElement=Ie,Pe=Pe||{},this._options=ft(Pe,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof Pe.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",Pe.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new w.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=_s._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,k.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(W.mu(this._overviewDomElement,"mousedown",de=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(de)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new kt(pt,dt),this._modifiedEditorState=new kt(pt,dt),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Se.I(this._containerDomElement,Pe.dimension,()=>this._onDidContainerSizeChanged())),Pe.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Pe,je.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Pe,je.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Xt.createInstance(A,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new hi(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Ti(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Zt.onDidColorThemeChange(de=>{this._strategy&&this._strategy.applyColors(de)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=_s._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const tt=p.Uc.getDiffEditorContributions();for(const de of tt)try{this._register(Xt.createInstance(de.ctor,this))}catch(be){(0,Le.dL)(be)}this._codeEditorService.addDiffEditor(this)}_setState(Ie){this._state!==Ie&&(this._state=Ie,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Ie,Pe){let je="monaco-diff-editor monaco-editor-background ";return Pe&&(je+="side-by-side "),je+=(0,R.m6)(Ie.type),je}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Ie,Pe){const je=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Ie),Pe);this._register(je.onDidScrollChange(Nt=>{this._isHandlingScrollEvent||!Nt.scrollTopChanged&&!Nt.scrollLeftChanged&&!Nt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Nt.scrollLeft,scrollTop:Nt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(je.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(je.onDidChangeConfiguration(Nt=>{je.getModel()&&(Nt.hasChanged(43)&&this._updateDecorationsRunner.schedule(),Nt.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(je.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(je.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const dt=this._contextKeyService.createKey("isInDiffLeftEditor",je.hasWidgetFocus());return this._register(je.onDidFocusEditorWidget(()=>dt.set(!0))),this._register(je.onDidBlurEditorWidget(()=>dt.set(!1))),this._register(je.onDidContentSizeChange(Nt=>{const $t=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_s.ONE_OVERVIEW_WIDTH,Xt=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Xt,contentWidth:$t,contentHeightChanged:Nt.contentHeightChanged,contentWidthChanged:Nt.contentWidthChanged})})),je}_createRightHandSideEditor(Ie,Pe){const je=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Ie),Pe);this._register(je.onDidScrollChange(Nt=>{this._isHandlingScrollEvent||!Nt.scrollTopChanged&&!Nt.scrollLeftChanged&&!Nt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Nt.scrollLeft,scrollTop:Nt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(je.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(je.onDidChangeConfiguration(Nt=>{je.getModel()&&(Nt.hasChanged(43)&&this._updateDecorationsRunner.schedule(),Nt.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(je.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(je.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(je.onDidChangeModelOptions(Nt=>{Nt.tabSize&&this._updateDecorationsRunner.schedule()}));const dt=this._contextKeyService.createKey("isInDiffRightEditor",je.hasWidgetFocus());return this._register(je.onDidFocusEditorWidget(()=>dt.set(!0))),this._register(je.onDidBlurEditorWidget(()=>dt.set(!1))),this._register(je.onDidContentSizeChange(Nt=>{const $t=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+_s.ONE_OVERVIEW_WIDTH,Xt=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Xt,contentWidth:$t,contentHeightChanged:Nt.contentHeightChanged,contentWidthChanged:Nt.contentWidthChanged})})),je}_createInnerEditor(Ie,Pe,je,dt){return Ie.createInstance(l.Gm,Pe,je,dt)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return ue.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Ie){const Pe=ft(Ie,this._options),je=Xe(this._options,Pe);this._options=Pe;const dt=je.ignoreTrimWhitespace||je.renderIndicators,Nt=this._isVisible&&(je.maxComputationTime||je.maxFileSize);dt?this._beginUpdateDecorations():Nt&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Ie)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Ie)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),je.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new hi(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Ti(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=_s._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),je.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Ie){if(Ie&&(!Ie.original||!Ie.modified))throw new Error(Ie.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Ie?Ie.original:null),this._modifiedEditor.setModel(Ie?Ie.modified:null),this._updateDecorationsRunner.cancel(),Ie&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Ie&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(Ie){return this._modifiedEditor.getVisibleColumnFromPosition(Ie)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Ie){this._modifiedEditor.setPosition(Ie)}revealLine(Ie,Pe=0){this._modifiedEditor.revealLine(Ie,Pe)}revealLineInCenter(Ie,Pe=0){this._modifiedEditor.revealLineInCenter(Ie,Pe)}revealLineInCenterIfOutsideViewport(Ie,Pe=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Ie,Pe)}revealLineNearTop(Ie,Pe=0){this._modifiedEditor.revealLineNearTop(Ie,Pe)}revealPosition(Ie,Pe=0){this._modifiedEditor.revealPosition(Ie,Pe)}revealPositionInCenter(Ie,Pe=0){this._modifiedEditor.revealPositionInCenter(Ie,Pe)}revealPositionInCenterIfOutsideViewport(Ie,Pe=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Ie,Pe)}revealPositionNearTop(Ie,Pe=0){this._modifiedEditor.revealPositionNearTop(Ie,Pe)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Ie){this._modifiedEditor.setSelection(Ie)}setSelections(Ie){this._modifiedEditor.setSelections(Ie)}revealLines(Ie,Pe,je=0){this._modifiedEditor.revealLines(Ie,Pe,je)}revealLinesInCenter(Ie,Pe,je=0){this._modifiedEditor.revealLinesInCenter(Ie,Pe,je)}revealLinesInCenterIfOutsideViewport(Ie,Pe,je=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Ie,Pe,je)}revealLinesNearTop(Ie,Pe,je=0){this._modifiedEditor.revealLinesNearTop(Ie,Pe,je)}revealRange(Ie,Pe=0,je=!1,dt=!0){this._modifiedEditor.revealRange(Ie,Pe,je,dt)}revealRangeInCenter(Ie,Pe=0){this._modifiedEditor.revealRangeInCenter(Ie,Pe)}revealRangeInCenterIfOutsideViewport(Ie,Pe=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Ie,Pe)}revealRangeNearTop(Ie,Pe=0){this._modifiedEditor.revealRangeNearTop(Ie,Pe)}revealRangeNearTopIfOutsideViewport(Ie,Pe=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Ie,Pe)}revealRangeAtTop(Ie,Pe=0){this._modifiedEditor.revealRangeAtTop(Ie,Pe)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const Ie=this._originalEditor.saveViewState(),Pe=this._modifiedEditor.saveViewState();return{original:Ie,modified:Pe}}restoreViewState(Ie){if(Ie&&Ie.original&&Ie.modified){const Pe=Ie;this._originalEditor.restoreViewState(Pe.original),this._modifiedEditor.restoreViewState(Pe.modified)}}layout(Ie){this._elementSizeObserver.observe(Ie)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Ie,Pe,je){this._modifiedEditor.trigger(Ie,Pe,je)}changeDecorations(Ie){return this._modifiedEditor.changeDecorations(Ie)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Ie=this._elementSizeObserver.getHeight(),Pe=this._getReviewHeight(),je=_s.ENTIRE_DIFF_OVERVIEW_WIDTH-2*_s.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:_s.ONE_OVERVIEW_WIDTH,right:je+_s.ONE_OVERVIEW_WIDTH,height:Ie-Pe}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:_s.ONE_OVERVIEW_WIDTH,height:Ie-Pe}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),_s.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Ie,Pe){return!Ie&&!Pe?!0:!Ie||!Pe?!1:Ie.toString()===Pe.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Ie=this._originalEditor.getModel(),Pe=this._modifiedEditor.getModel();if(!Ie||!Pe)return;this._diffComputationToken++;const je=this._diffComputationToken,dt=this._options.maxFileSize*1024*1024,Nt=$t=>{const Xt=$t.getValueLength();return dt===0||Xt<=dt};if(!Nt(Ie)||!Nt(Pe)){(!_s._equals(Ie.uri,this._lastOriginalWarning)||!_s._equals(Pe.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Ie.uri,this._lastModifiedWarning=Pe.uri,this._notificationService.warn(h.N("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(Ie.uri,Pe.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then($t=>{je===this._diffComputationToken&&Ie===this._originalEditor.getModel()&&Pe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=$t,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},$t=>{je===this._diffComputationToken&&Ie===this._originalEditor.getModel()&&Pe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Ie=this._diffComputationResult?this._diffComputationResult.changes:[],Pe=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),je=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),dt=this._strategy.getEditorsDiffDecorations(Ie,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Pe,je);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,dt.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,dt.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Ie){const Pe=Object.assign({},Ie);return Pe.inDiffEditor=!0,Pe.automaticLayout=!1,Pe.scrollbar=Object.assign({},Pe.scrollbar||{}),Pe.scrollbar.vertical="visible",Pe.folding=!1,Pe.codeLens=this._options.diffCodeLens,Pe.fixedOverflowWidgets=!0,Pe.minimap=Object.assign({},Pe.minimap||{}),Pe.minimap.enabled=!1,Pe}_adjustOptionsForLeftHandSide(Ie){const Pe=this._adjustOptionsForSubEditor(Ie);return this._options.renderSideBySide?Pe.wordWrapOverride1=this._options.diffWordWrap:Pe.wordWrapOverride1="off",Ie.originalAriaLabel&&(Pe.ariaLabel=Ie.originalAriaLabel),Pe.readOnly=!this._options.originalEditable,Pe.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Pe),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Ie){const Pe=this._adjustOptionsForSubEditor(Ie);return Ie.modifiedAriaLabel&&(Pe.ariaLabel=Ie.modifiedAriaLabel),Pe.wordWrapOverride1=this._options.diffWordWrap,Pe.revealHorizontalRightPadding=f.BH.revealHorizontalRightPadding.defaultValue+_s.ENTIRE_DIFF_OVERVIEW_WIDTH,Pe.scrollbar.verticalHasArrows=!1,Pe.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Pe),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Ie=this._elementSizeObserver.getWidth(),Pe=this._elementSizeObserver.getHeight(),je=this._getReviewHeight(),dt=this._strategy.layout();this._originalDomNode.style.width=dt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Ie-dt+"px",this._modifiedDomNode.style.left=dt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Pe-je+"px",this._overviewDomElement.style.width=_s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Ie-_s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(_s.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:dt,height:Pe-je}),this._modifiedEditor.layout({width:Ie-dt-(this._options.renderOverviewRuler?_s.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Pe-je}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Pe-je,Ie,je),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Ie=this._computeOverviewViewport();Ie?(this._overviewViewportDomElement.setTop(Ie.top),this._overviewViewportDomElement.setHeight(Ie.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Ie=this._modifiedEditor.getLayoutInfo();if(!Ie)return null;const Pe=this._modifiedEditor.getScrollTop(),je=this._modifiedEditor.getScrollHeight(),dt=Math.max(0,Ie.height),Nt=Math.max(0,dt-2*0),$t=je>0?Nt/je:0,Xt=Math.max(0,Math.floor(Ie.height*$t)),Ci=Math.floor(Pe*$t);return{height:Xt,top:Ci}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Ie){this._strategy&&this._strategy.dispose(),this._strategy=Ie,Ie.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Ie,Pe){const je=this._diffComputationResult?this._diffComputationResult.changes:[];if(je.length===0||Ie<Pe(je[0]))return null;let dt=0,Nt=je.length-1;for(;dt<Nt;){const $t=Math.floor((dt+Nt)/2),Xt=Pe(je[$t]),Ci=$t+1<=Nt?Pe(je[$t+1]):1073741824;Ie<Xt?Nt=$t-1:Ie>=Ci?dt=$t+1:(dt=$t,Nt=$t)}return je[dt]}_getEquivalentLineForOriginalLineNumber(Ie){const Pe=this._getLineChangeAtOrBeforeLineNumber(Ie,Ci=>Ci.originalStartLineNumber);if(!Pe)return Ie;const je=Pe.originalStartLineNumber+(Pe.originalEndLineNumber>0?-1:0),dt=Pe.modifiedStartLineNumber+(Pe.modifiedEndLineNumber>0?-1:0),Nt=Pe.originalEndLineNumber>0?Pe.originalEndLineNumber-Pe.originalStartLineNumber+1:0,$t=Pe.modifiedEndLineNumber>0?Pe.modifiedEndLineNumber-Pe.modifiedStartLineNumber+1:0,Xt=Ie-je;return Xt<=Nt?dt+Math.min(Xt,$t):dt+$t-Nt+Xt}_getEquivalentLineForModifiedLineNumber(Ie){const Pe=this._getLineChangeAtOrBeforeLineNumber(Ie,Ci=>Ci.modifiedStartLineNumber);if(!Pe)return Ie;const je=Pe.originalStartLineNumber+(Pe.originalEndLineNumber>0?-1:0),dt=Pe.modifiedStartLineNumber+(Pe.modifiedEndLineNumber>0?-1:0),Nt=Pe.originalEndLineNumber>0?Pe.originalEndLineNumber-Pe.originalStartLineNumber+1:0,$t=Pe.modifiedEndLineNumber>0?Pe.modifiedEndLineNumber-Pe.modifiedStartLineNumber+1:0,Xt=Ie-dt;return Xt<=$t?je+Math.min(Xt,Nt):je+Nt-$t+Xt}getDiffLineInformationForOriginal(Ie){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Ie)}:null}getDiffLineInformationForModified(Ie){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Ie)}:null}};Ae.ONE_OVERVIEW_WIDTH=15,Ae.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Ae.UPDATE_DIFF_DECORATIONS_DELAY=200,Ae=Ye([qe(3,Fe.p),qe(4,Ce.p),qe(5,b.i6),qe(6,Be.TG),qe(7,C.$),qe(8,R.XE),qe(9,se.lT),qe(10,ce.i),qe(11,Me.e)],Ae);class He extends x.JT{constructor(Ie){super(),this._dataSource=Ie,this._insertColor=null,this._removeColor=null}applyColors(Ie){const Pe=(Ie.getColor(L.yp)||L.Cz).transparent(2),je=(Ie.getColor(L.P4)||L.ke).transparent(2),dt=!Pe.equals(this._insertColor)||!je.equals(this._removeColor);return this._insertColor=Pe,this._removeColor=je,dt}getEditorsDiffDecorations(Ie,Pe,je,dt,Nt){Nt=Nt.sort((Zt,mi)=>Zt.afterLineNumber-mi.afterLineNumber),dt=dt.sort((Zt,mi)=>Zt.afterLineNumber-mi.afterLineNumber);const $t=this._getViewZones(Ie,dt,Nt,je),Xt=this._getOriginalEditorDecorations(Ie,Pe,je),Ci=this._getModifiedEditorDecorations(Ie,Pe,je);return{original:{decorations:Xt.decorations,overviewZones:Xt.overviewZones,zones:$t.original},modified:{decorations:Ci.decorations,overviewZones:Ci.overviewZones,zones:$t.modified}}}}class It{constructor(Ie){this._source=Ie,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class Bt{constructor(Ie,Pe,je,dt,Nt){this._lineChanges=Ie,this._originalForeignVZ=Pe,this._modifiedForeignVZ=je,this._originalEditor=dt,this._modifiedEditor=Nt}static _getViewLineCount(Ie,Pe,je){const dt=Ie.getModel(),Nt=Ie._getViewModel();if(dt&&Nt){const $t=mt(dt,Nt,Pe,je);return $t.endLineNumber-$t.startLineNumber+1}return je-Pe+1}getViewZones(){const Ie=this._originalEditor.getOption(58),Pe=this._modifiedEditor.getOption(58),je=this._originalEditor.getOption(130).wrappingColumn!==-1,dt=this._modifiedEditor.getOption(130).wrappingColumn!==-1,Nt=je||dt,$t=this._originalEditor.getModel(),Xt=this._originalEditor._getViewModel().coordinatesConverter,Ci=this._modifiedEditor._getViewModel().coordinatesConverter,Zt={original:[],modified:[]};let mi=0,pt=0,ut=0,tt=0,de=0,be=0;const J=(Et,Wt)=>Et.afterLineNumber-Wt.afterLineNumber,pe=(Et,Wt)=>{if(Wt.domNode===null&&Et.length>0){const Mt=Et[Et.length-1];if(Mt.afterLineNumber===Wt.afterLineNumber&&Mt.domNode===null){Mt.heightInLines+=Wt.heightInLines;return}}Et.push(Wt)},ke=new It(this._modifiedForeignVZ),at=new It(this._originalForeignVZ);let st=1,_t=1;for(let Et=0,Wt=this._lineChanges.length;Et<=Wt;Et++){const Mt=Et<Wt?this._lineChanges[Et]:null;Mt!==null?(ut=Mt.originalStartLineNumber+(Mt.originalEndLineNumber>0?-1:0),tt=Mt.modifiedStartLineNumber+(Mt.modifiedEndLineNumber>0?-1:0),pt=Mt.originalEndLineNumber>0?Bt._getViewLineCount(this._originalEditor,Mt.originalStartLineNumber,Mt.originalEndLineNumber):0,mi=Mt.modifiedEndLineNumber>0?Bt._getViewLineCount(this._modifiedEditor,Mt.modifiedStartLineNumber,Mt.modifiedEndLineNumber):0,de=Math.max(Mt.originalStartLineNumber,Mt.originalEndLineNumber),be=Math.max(Mt.modifiedStartLineNumber,Mt.modifiedEndLineNumber)):(ut+=1e7+pt,tt+=1e7+mi,de=ut,be=tt);let Jt=[],jt=[];if(Nt){let bi;Mt?Mt.originalEndLineNumber>0?bi=Mt.originalStartLineNumber-st:bi=Mt.modifiedStartLineNumber-_t:bi=$t.getLineCount()-st;for(let Ai=0;Ai<bi;Ai++){const Ri=st+Ai,zi=_t+Ai,hn=Xt.getModelLineViewLineCount(Ri),bn=Ci.getModelLineViewLineCount(zi);hn<bn?Jt.push({afterLineNumber:Ri,heightInLines:bn-hn,domNode:null,marginDomNode:null}):hn>bn&&jt.push({afterLineNumber:zi,heightInLines:hn-bn,domNode:null,marginDomNode:null})}Mt&&(st=(Mt.originalEndLineNumber>0?Mt.originalEndLineNumber:Mt.originalStartLineNumber)+1,_t=(Mt.modifiedEndLineNumber>0?Mt.modifiedEndLineNumber:Mt.modifiedStartLineNumber)+1)}for(;ke.current&&ke.current.afterLineNumber<=be;){let bi;ke.current.afterLineNumber<=tt?bi=ut-tt+ke.current.afterLineNumber:bi=de;let Ai=null;Mt&&Mt.modifiedStartLineNumber<=ke.current.afterLineNumber&&ke.current.afterLineNumber<=Mt.modifiedEndLineNumber&&(Ai=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Jt.push({afterLineNumber:bi,heightInLines:ke.current.height/Pe,domNode:null,marginDomNode:Ai}),ke.advance()}for(;at.current&&at.current.afterLineNumber<=de;){let bi;at.current.afterLineNumber<=ut?bi=tt-ut+at.current.afterLineNumber:bi=be,jt.push({afterLineNumber:bi,heightInLines:at.current.height/Ie,domNode:null}),at.advance()}if(Mt!==null&&Pt(Mt)){const bi=this._produceOriginalFromDiff(Mt,pt,mi);bi&&Jt.push(bi)}if(Mt!==null&&Gt(Mt)){const bi=this._produceModifiedFromDiff(Mt,pt,mi);bi&&jt.push(bi)}let ui=0,_i=0;for(Jt=Jt.sort(J),jt=jt.sort(J);ui<Jt.length&&_i<jt.length;){const bi=Jt[ui],Ai=jt[_i],Ri=bi.afterLineNumber-ut,zi=Ai.afterLineNumber-tt;Ri<zi?(pe(Zt.original,bi),ui++):zi<Ri?(pe(Zt.modified,Ai),_i++):bi.shouldNotShrink?(pe(Zt.original,bi),ui++):Ai.shouldNotShrink?(pe(Zt.modified,Ai),_i++):bi.heightInLines>=Ai.heightInLines?(bi.heightInLines-=Ai.heightInLines,_i++):(Ai.heightInLines-=bi.heightInLines,ui++)}for(;ui<Jt.length;)pe(Zt.original,Jt[ui]),ui++;for(;_i<jt.length;)pe(Zt.modified,jt[_i]),_i++}return{original:Bt._ensureDomNodes(Zt.original),modified:Bt._ensureDomNodes(Zt.modified)}}static _ensureDomNodes(Ie){return Ie.map(Pe=>(Pe.domNode||(Pe.domNode=ot()),Pe))}}function oi(Ge,Ie,Pe,je,dt){return{range:new re.e(Ge,Ie,Pe,je),options:dt}}const ni={charDelete:Oe.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Oe.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Oe.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Oe.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Oe.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:Oe.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+R.kS.asClassName(Ke),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:Oe.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:Oe.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+R.kS.asClassName(Je),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:Oe.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class hi extends He{constructor(Ie,Pe){super(Ie),this._disableSash=Pe===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new O.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(je=>this._onSashDrag(je)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Ie){const Pe=Ie===!1;this._disableSash!==Pe&&(this._disableSash=Pe,this._sash.state=this._disableSash?0:3)}layout(Ie=this._sashRatio){const je=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Ae.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let dt=Math.floor((Ie||.5)*je);const Nt=Math.floor(.5*je);return dt=this._disableSash?Nt:dt||Nt,je>hi.MINIMUM_EDITOR_WIDTH*2?(dt<hi.MINIMUM_EDITOR_WIDTH&&(dt=hi.MINIMUM_EDITOR_WIDTH),dt>je-hi.MINIMUM_EDITOR_WIDTH&&(dt=je-hi.MINIMUM_EDITOR_WIDTH)):dt=Nt,this._sashPosition!==dt&&(this._sashPosition=dt,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Ie){const je=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Ae.ENTIRE_DIFF_OVERVIEW_WIDTH:0),dt=this.layout((this._startSashPosition+(Ie.currentX-Ie.startX))/je);this._sashRatio=dt/je,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Ie){return 0}getVerticalSashLeft(Ie){return this._sashPosition}getVerticalSashHeight(Ie){return this._dataSource.getHeight()}_getViewZones(Ie,Pe,je){const dt=this._dataSource.getOriginalEditor(),Nt=this._dataSource.getModifiedEditor();return new Di(Ie,Pe,je,dt,Nt).getViewZones()}_getOriginalEditorDecorations(Ie,Pe,je){const dt=this._dataSource.getOriginalEditor(),Nt=String(this._removeColor),$t={decorations:[],overviewZones:[]},Xt=dt.getModel(),Ci=dt._getViewModel();for(const Zt of Ie)if(Gt(Zt)){$t.decorations.push({range:new re.e(Zt.originalStartLineNumber,1,Zt.originalEndLineNumber,1073741824),options:je?ni.lineDeleteWithSign:ni.lineDelete}),(!Pt(Zt)||!Zt.charChanges)&&$t.decorations.push(oi(Zt.originalStartLineNumber,1,Zt.originalEndLineNumber,1073741824,ni.charDeleteWholeLine));const mi=mt(Xt,Ci,Zt.originalStartLineNumber,Zt.originalEndLineNumber);if($t.overviewZones.push(new oe.EY(mi.startLineNumber,mi.endLineNumber,Nt)),Zt.charChanges){for(const pt of Zt.charChanges)if(Gt(pt))if(Pe)for(let ut=pt.originalStartLineNumber;ut<=pt.originalEndLineNumber;ut++){let tt,de;ut===pt.originalStartLineNumber?tt=pt.originalStartColumn:tt=Xt.getLineFirstNonWhitespaceColumn(ut),ut===pt.originalEndLineNumber?de=pt.originalEndColumn:de=Xt.getLineLastNonWhitespaceColumn(ut),$t.decorations.push(oi(ut,tt,ut,de,ni.charDelete))}else $t.decorations.push(oi(pt.originalStartLineNumber,pt.originalStartColumn,pt.originalEndLineNumber,pt.originalEndColumn,ni.charDelete))}}return $t}_getModifiedEditorDecorations(Ie,Pe,je){const dt=this._dataSource.getModifiedEditor(),Nt=String(this._insertColor),$t={decorations:[],overviewZones:[]},Xt=dt.getModel(),Ci=dt._getViewModel();for(const Zt of Ie)if(Pt(Zt)){$t.decorations.push({range:new re.e(Zt.modifiedStartLineNumber,1,Zt.modifiedEndLineNumber,1073741824),options:je?ni.lineInsertWithSign:ni.lineInsert}),(!Gt(Zt)||!Zt.charChanges)&&$t.decorations.push(oi(Zt.modifiedStartLineNumber,1,Zt.modifiedEndLineNumber,1073741824,ni.charInsertWholeLine));const mi=mt(Xt,Ci,Zt.modifiedStartLineNumber,Zt.modifiedEndLineNumber);if($t.overviewZones.push(new oe.EY(mi.startLineNumber,mi.endLineNumber,Nt)),Zt.charChanges){for(const pt of Zt.charChanges)if(Pt(pt))if(Pe)for(let ut=pt.modifiedStartLineNumber;ut<=pt.modifiedEndLineNumber;ut++){let tt,de;ut===pt.modifiedStartLineNumber?tt=pt.modifiedStartColumn:tt=Xt.getLineFirstNonWhitespaceColumn(ut),ut===pt.modifiedEndLineNumber?de=pt.modifiedEndColumn:de=Xt.getLineLastNonWhitespaceColumn(ut),$t.decorations.push(oi(ut,tt,ut,de,ni.charInsert))}else $t.decorations.push(oi(pt.modifiedStartLineNumber,pt.modifiedStartColumn,pt.modifiedEndLineNumber,pt.modifiedEndColumn,ni.charInsert))}}return $t}}hi.MINIMUM_EDITOR_WIDTH=100;class Di extends Bt{constructor(Ie,Pe,je,dt,Nt){super(Ie,Pe,je,dt,Nt)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Ie,Pe,je){return je>Pe?{afterLineNumber:Math.max(Ie.originalStartLineNumber,Ie.originalEndLineNumber),heightInLines:je-Pe,domNode:null}:null}_produceModifiedFromDiff(Ie,Pe,je){return Pe>je?{afterLineNumber:Math.max(Ie.modifiedStartLineNumber,Ie.modifiedEndLineNumber),heightInLines:Pe-je,domNode:null}:null}}class Ti extends He{constructor(Ie,Pe){super(Ie),this._decorationsLeft=Ie.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Ie.getOriginalEditor().onDidLayoutChange(je=>{this._decorationsLeft!==je.decorationsLeft&&(this._decorationsLeft=je.decorationsLeft,Ie.relayoutEditors())}))}setEnableSplitViewResizing(Ie){}_getViewZones(Ie,Pe,je,dt){const Nt=this._dataSource.getOriginalEditor(),$t=this._dataSource.getModifiedEditor();return new Ii(Ie,Pe,je,Nt,$t,dt).getViewZones()}_getOriginalEditorDecorations(Ie,Pe,je){const dt=String(this._removeColor),Nt={decorations:[],overviewZones:[]},$t=this._dataSource.getOriginalEditor(),Xt=$t.getModel(),Ci=$t._getViewModel();for(const Zt of Ie)if(Gt(Zt)){Nt.decorations.push({range:new re.e(Zt.originalStartLineNumber,1,Zt.originalEndLineNumber,1073741824),options:ni.lineDeleteMargin});const mi=mt(Xt,Ci,Zt.originalStartLineNumber,Zt.originalEndLineNumber);Nt.overviewZones.push(new oe.EY(mi.startLineNumber,mi.endLineNumber,dt))}return Nt}_getModifiedEditorDecorations(Ie,Pe,je){const dt=this._dataSource.getModifiedEditor(),Nt=String(this._insertColor),$t={decorations:[],overviewZones:[]},Xt=dt.getModel(),Ci=dt._getViewModel();for(const Zt of Ie)if(Pt(Zt)){$t.decorations.push({range:new re.e(Zt.modifiedStartLineNumber,1,Zt.modifiedEndLineNumber,1073741824),options:je?ni.lineInsertWithSign:ni.lineInsert});const mi=mt(Xt,Ci,Zt.modifiedStartLineNumber,Zt.modifiedEndLineNumber);if($t.overviewZones.push(new oe.EY(mi.startLineNumber,mi.endLineNumber,Nt)),Zt.charChanges){for(const pt of Zt.charChanges)if(Pt(pt))if(Pe)for(let ut=pt.modifiedStartLineNumber;ut<=pt.modifiedEndLineNumber;ut++){let tt,de;ut===pt.modifiedStartLineNumber?tt=pt.modifiedStartColumn:tt=Xt.getLineFirstNonWhitespaceColumn(ut),ut===pt.modifiedEndLineNumber?de=pt.modifiedEndColumn:de=Xt.getLineLastNonWhitespaceColumn(ut),$t.decorations.push(oi(ut,tt,ut,de,ni.charInsert))}else $t.decorations.push(oi(pt.modifiedStartLineNumber,pt.modifiedStartColumn,pt.modifiedEndLineNumber,pt.modifiedEndColumn,ni.charInsert))}else $t.decorations.push(oi(Zt.modifiedStartLineNumber,1,Zt.modifiedEndLineNumber,1073741824,ni.charInsertWholeLine))}return $t}layout(){return Math.max(5,this._decorationsLeft)}}class Ii extends Bt{constructor(Ie,Pe,je,dt,Nt,$t){super(Ie,Pe,je,dt,Nt),this._originalModel=dt.getModel(),this._renderIndicators=$t,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Ie=super.getViewZones();return this._finalize(Ie),Ie}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Ie=document.createElement("div");return Ie.className="inline-added-margin-view-zone",Ie}_produceOriginalFromDiff(Ie,Pe,je){const dt=document.createElement("div");return dt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Ie.originalStartLineNumber,Ie.originalEndLineNumber),heightInLines:je,domNode:document.createElement("div"),marginDomNode:dt}}_produceModifiedFromDiff(Ie,Pe,je){const dt=document.createElement("div");dt.className=`view-lines line-delete ${ze.S}`;const Nt=document.createElement("div");Nt.className="inline-deleted-margin-view-zone";const $t={shouldNotShrink:!0,afterLineNumber:Ie.modifiedEndLineNumber===0?Ie.modifiedStartLineNumber:Ie.modifiedStartLineNumber-1,heightInLines:Pe,minWidthInPx:0,domNode:dt,marginDomNode:Nt,diff:{originalStartLineNumber:Ie.originalStartLineNumber,originalEndLineNumber:Ie.originalEndLineNumber,modifiedStartLineNumber:Ie.modifiedStartLineNumber,modifiedEndLineNumber:Ie.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Xt=Ie.originalStartLineNumber;Xt<=Ie.originalEndLineNumber;Xt++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Xt),null,null);return this._pendingLineChange.push(Ie),this._pendingViewZones.push($t),$t}_finalize(Ie){const Pe=this._modifiedEditor.getOptions(),je=this._modifiedEditor.getModel().getOptions().tabSize,dt=Pe.get(43),Nt=Pe.get(29),$t=dt.typicalHalfwidthCharacterWidth,Xt=Pe.get(92),Ci=this._originalModel.mightContainNonBasicASCII(),Zt=this._originalModel.mightContainRTL(),mi=Pe.get(58),ut=Pe.get(129).decorationsWidth,tt=Pe.get(104),de=Pe.get(87),be=Pe.get(82),J=Pe.get(44),pe=this._lineBreaksComputer.finalize();let ke=0;for(let at=0;at<this._pendingLineChange.length;at++){const st=this._pendingLineChange[at],_t=this._pendingViewZones[at],Et=_t.domNode;N.V.applyFontInfoSlow(Et,dt);const Wt=_t.marginDomNode;N.V.applyFontInfoSlow(Wt,dt);const Mt=[];if(st.charChanges)for(const zi of st.charChanges)Gt(zi)&&Mt.push(new c.$t(new re.e(zi.originalStartLineNumber,zi.originalStartColumn,zi.originalEndLineNumber,zi.originalEndColumn),"char-delete",0));const Jt=Mt.length>0,jt=(0,fe.l$)(1e4);let ui=0,_i=0,bi=null;for(let zi=st.originalStartLineNumber;zi<=st.originalEndLineNumber;zi++){const hn=zi-st.originalStartLineNumber,bn=this._originalModel.getLineTokens(zi),Xi=bn.getLineContent(),xn=pe[ke++],Sn=ae.Kp.filter(Mt,zi,1,Xi.length+1);if(xn){let en=0;for(const Ln of xn.breakOffsets){const Dn=bn.sliceAndInflate(en,Ln,0),Xn=Xi.substring(en,Ln);ui=Math.max(ui,this._renderOriginalLine(_i++,Xn,Dn,ae.Kp.extractWrapped(Sn,en,Ln),Jt,Ci,Zt,dt,Nt,mi,ut,tt,de,be,J,je,jt,Wt)),en=Ln}for(bi||(bi=[]);bi.length<hn;)bi[bi.length]=1;bi[hn]=xn.breakOffsets.length,_t.heightInLines+=xn.breakOffsets.length-1;const Pn=document.createElement("div");Pn.className="line-delete",Ie.original.push({afterLineNumber:zi,afterColumn:0,heightInLines:xn.breakOffsets.length-1,domNode:ot(),marginDomNode:Pn})}else ui=Math.max(ui,this._renderOriginalLine(_i++,Xi,bn,Sn,Jt,Ci,Zt,dt,Nt,mi,ut,tt,de,be,J,je,jt,Wt))}ui+=Xt;const Ai=jt.build(),Ri=Ze?Ze.createHTML(Ai):Ai;if(Et.innerHTML=Ri,_t.minWidthInPx=ui*$t,bi){const zi=st.originalEndLineNumber-st.originalStartLineNumber;for(;bi.length<=zi;)bi[bi.length]=1}_t.diff.viewLineCounts=bi}Ie.original.sort((at,st)=>at.afterLineNumber-st.afterLineNumber)}_renderOriginalLine(Ie,Pe,je,dt,Nt,$t,Xt,Ci,Zt,mi,pt,ut,tt,de,be,J,pe,ke){pe.appendASCIIString('<div class="view-line'),Nt||pe.appendASCIIString(" char-delete"),pe.appendASCIIString('" style="top:'),pe.appendASCIIString(String(Ie*mi)),pe.appendASCIIString('px;width:1000000px;">');const at=c.wA.isBasicASCII(Pe,$t),st=c.wA.containsRTL(Pe,at,Xt),_t=(0,u.d1)(new u.IJ(Ci.isMonospace&&!Zt,Ci.canUseHalfwidthRightwardsArrow,Pe,!1,at,st,0,je,dt,J,0,Ci.spaceWidth,Ci.middotWidth,Ci.wsmiddotWidth,ut,tt,de,be!==f.n0.OFF,null),pe);if(pe.appendASCIIString("</div>"),this._renderIndicators){const Et=document.createElement("div");Et.className=`delete-sign ${R.kS.asClassName(Je)}`,Et.setAttribute("style",`position:absolute;top:${Ie*mi}px;width:${pt}px;height:${mi}px;right:0;`),ke.appendChild(Et)}return _t.characterMapping.getAbsoluteOffset(_t.characterMapping.length)}}function ai(Ge,Ie){return(0,f.NY)(Ge,Ie,["off","on","inherit"])}function Pt(Ge){return Ge.modifiedEndLineNumber>0}function Gt(Ge){return Ge.originalEndLineNumber>0}function ot(){const Ge=document.createElement("div");return Ge.className="diagonal-fill",Ge}function mt(Ge,Ie,Pe,je){const dt=Ge.getLineCount();return Pe=Math.min(dt,Math.max(1,Pe)),je=Math.min(dt,Math.max(1,je)),Ie.coordinatesConverter.convertModelRangeToViewRange(new re.e(Pe,Ge.getLineMinColumn(Pe),je,Ge.getLineMaxColumn(je)))}function ft(Ge,Ie){return{enableSplitViewResizing:(0,f.O7)(Ge.enableSplitViewResizing,Ie.enableSplitViewResizing),renderSideBySide:(0,f.O7)(Ge.renderSideBySide,Ie.renderSideBySide),maxComputationTime:(0,f.Zc)(Ge.maxComputationTime,Ie.maxComputationTime,0,1073741824),maxFileSize:(0,f.Zc)(Ge.maxFileSize,Ie.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,f.O7)(Ge.ignoreTrimWhitespace,Ie.ignoreTrimWhitespace),renderIndicators:(0,f.O7)(Ge.renderIndicators,Ie.renderIndicators),originalEditable:(0,f.O7)(Ge.originalEditable,Ie.originalEditable),diffCodeLens:(0,f.O7)(Ge.diffCodeLens,Ie.diffCodeLens),renderOverviewRuler:(0,f.O7)(Ge.renderOverviewRuler,Ie.renderOverviewRuler),diffWordWrap:ai(Ge.diffWordWrap,Ie.diffWordWrap)}}function Xe(Ge,Ie){return{enableSplitViewResizing:Ge.enableSplitViewResizing!==Ie.enableSplitViewResizing,renderSideBySide:Ge.renderSideBySide!==Ie.renderSideBySide,maxComputationTime:Ge.maxComputationTime!==Ie.maxComputationTime,maxFileSize:Ge.maxFileSize!==Ie.maxFileSize,ignoreTrimWhitespace:Ge.ignoreTrimWhitespace!==Ie.ignoreTrimWhitespace,renderIndicators:Ge.renderIndicators!==Ie.renderIndicators,originalEditable:Ge.originalEditable!==Ie.originalEditable,diffCodeLens:Ge.diffCodeLens!==Ie.diffCodeLens,renderOverviewRuler:Ge.renderOverviewRuler!==Ie.renderOverviewRuler,diffWordWrap:Ge.diffWordWrap!==Ie.diffWordWrap}}(0,R.Ic)((Ge,Ie)=>{const Pe=Ge.getColor(L.yp);Pe&&(Ie.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${Pe}; }`),Ie.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${Pe}; }`),Ie.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${Pe}; }`));const je=Ge.getColor(L.P4);je&&(Ie.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${je}; }`),Ie.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${je}; }`),Ie.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${je}; }`));const dt=Ge.getColor(L.XL);dt&&Ie.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${Ge.type==="hc"?"dashed":"solid"} ${dt}; }`);const Nt=Ge.getColor(L.mH);Nt&&Ie.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${Ge.type==="hc"?"dashed":"solid"} ${Nt}; }`);const $t=Ge.getColor(L._w);$t&&Ie.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${$t}; }`);const Xt=Ge.getColor(L.LL);Xt&&Ie.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Xt}; }`);const Ci=Ge.getColor(L.et);Ci&&Ie.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Ci};
			}
		`);const Zt=Ge.getColor(L.AB);Zt&&Ie.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Zt};
			}
		`);const mi=Ge.getColor(L.yn);mi&&Ie.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${mi};
			}
		`);const pt=Ge.getColor(L.L_);Ie.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${pt} 12.5%,
			#0000 12.5%, #0000 50%,
			${pt} 50%, ${pt} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})},75623:function(Ct,we,t){"use strict";t.d(we,{F:function(){return x}});var h=t(35146),W=t(4669),k=t(9917),O=t(36248),w=t(24314);const G={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class x extends k.JT{constructor(s,C={}){super(),this._onDidUpdate=this._register(new W.Q5),this._editor=s,this._options=O.jB(C,G,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(l=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(l=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(s){this.ranges=[],s&&s.forEach(C=>{!this._options.ignoreCharChanges&&C.charChanges?C.charChanges.forEach(l=>{this.ranges.push({rhs:!0,range:new w.e(l.modifiedStartLineNumber,l.modifiedStartColumn,l.modifiedEndLineNumber,l.modifiedEndColumn)})}):C.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new w.e(C.modifiedStartLineNumber,1,C.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new w.e(C.modifiedStartLineNumber,1,C.modifiedEndLineNumber+1,1)})}),this.ranges.sort((C,l)=>w.e.compareRangesUsingStarts(C.range,l.range)),this._onDidUpdate.fire(this)}_initIdx(s){let C=!1,l=this._editor.getPosition();if(!l){this.nextIdx=0;return}for(let m=0,y=this.ranges.length;m<y&&!C;m++){let n=this.ranges[m].range;l.isBeforeOrEqual(n.getStartPosition())&&(this.nextIdx=m+(s?0:-1),C=!0)}C||(this.nextIdx=s?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(s,C){if(h.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(s):s?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let l=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let m=l.range.getStartPosition();this._editor.setPosition(m),this._editor.revealRangeInCenter(l.range,C)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(s=0){this._move(!0,s)}previous(s=0){this._move(!1,s)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},84527:function(Ct,we,t){"use strict";t.d(we,{H:function(){return m}});var h=t(36248),W=t(11640),k=t(50124),O=t(94565),w=t(38819),G=t(72065),x=t(59422),N=t(97781),s=t(31106),C=function(y,n,p,f){var v=arguments.length,d=v<3?n:f===null?f=Object.getOwnPropertyDescriptor(n,p):f,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(y,n,p,f);else for(var u=y.length-1;u>=0;u--)(a=y[u])&&(d=(v<3?a(d):v>3?a(n,p,d):a(n,p))||d);return v>3&&d&&Object.defineProperty(n,p,d),d},l=function(y,n){return function(p,f){n(p,f,y)}};let m=class extends k.Gm{constructor(n,p,f,v,d,a,u,c,b,L){super(n,Object.assign(Object.assign({},f.getRawOptions()),{overflowWidgetsDomNode:f.getOverflowWidgetsDomNode()}),{},v,d,a,u,c,b,L),this._parentEditor=f,this._overwriteOptions=p,super.updateOptions(this._overwriteOptions),this._register(f.onDidChangeConfiguration(R=>this._onParentConfigurationChanged(R)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(n){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(n){h.jB(this._overwriteOptions,n,!0),super.updateOptions(this._overwriteOptions)}};m=C([l(3,G.TG),l(4,W.$),l(5,O.H),l(6,w.i6),l(7,N.XE),l(8,x.lT),l(9,s.F)],m)},61329:function(Ct,we,t){"use strict";t.d(we,{OY:function(){return k},Sj:function(){return O},T4:function(){return W},Uo:function(){return w},hP:function(){return G}});var h=t(3860);class W{constructor(N,s,C=!1){this._range=N,this._text=s,this.insertsAutoWhitespace=C}getEditOperations(N,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(N,s){let l=s.getInverseEditOperations()[0].range;return new h.Y(l.endLineNumber,l.endColumn,l.endLineNumber,l.endColumn)}}class k{constructor(N,s){this._range=N,this._text=s}getEditOperations(N,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(N,s){const l=s.getInverseEditOperations()[0].range;return new h.Y(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn)}}class O{constructor(N,s,C=!1){this._range=N,this._text=s,this.insertsAutoWhitespace=C}getEditOperations(N,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(N,s){let l=s.getInverseEditOperations()[0].range;return new h.Y(l.startLineNumber,l.startColumn,l.startLineNumber,l.startColumn)}}class w{constructor(N,s,C,l,m=!1){this._range=N,this._text=s,this._columnDeltaOffset=l,this._lineNumberDeltaOffset=C,this.insertsAutoWhitespace=m}getEditOperations(N,s){s.addTrackedEditOperation(this._range,this._text)}computeCursorState(N,s){let l=s.getInverseEditOperations()[0].range;return new h.Y(l.endLineNumber+this._lineNumberDeltaOffset,l.endColumn+this._columnDeltaOffset,l.endLineNumber+this._lineNumberDeltaOffset,l.endColumn+this._columnDeltaOffset)}}class G{constructor(N,s,C,l=!1){this._range=N,this._text=s,this._initialSelection=C,this._forceMoveMarkers=l,this._selectionId=null}getEditOperations(N,s){s.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=s.trackSelection(this._initialSelection)}computeCursorState(N,s){return s.getTrackedSelection(this._selectionId)}}},10291:function(Ct,we,t){"use strict";t.d(we,{U:function(){return N}});var h=t(97295),W=t(33181),k=t(24314),O=t(3860),w=t(94660);const G=Object.create(null);function x(s,C){if(C<=0)return"";G[s]||(G[s]=["",s]);const l=G[s];for(let m=l.length;m<=C;m++)l[m]=l[m-1]+s;return l[C]}class N{constructor(C,l){this._opts=l,this._selection=C,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(C,l,m,y,n){const p=W.io.visibleColumnFromColumn(C,l,m);if(n){const f=x(" ",y),d=W.io.prevIndentTabStop(p,y)/y;return x(f,d)}else{const f="	",d=W.io.prevRenderTabStop(p,m)/m;return x(f,d)}}static shiftIndent(C,l,m,y,n){const p=W.io.visibleColumnFromColumn(C,l,m);if(n){const f=x(" ",y),d=W.io.nextIndentTabStop(p,y)/y;return x(f,d)}else{const f="	",d=W.io.nextRenderTabStop(p,m)/m;return x(f,d)}}_addEditOperation(C,l,m){this._useLastEditRangeForCursorEndPosition?C.addTrackedEditOperation(l,m):C.addEditOperation(l,m)}getEditOperations(C,l){const m=this._selection.startLineNumber;let y=this._selection.endLineNumber;this._selection.endColumn===1&&m!==y&&(y=y-1);const{tabSize:n,indentSize:p,insertSpaces:f}=this._opts,v=m===y;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(C.getLineContent(m))&&(this._useLastEditRangeForCursorEndPosition=!0);let d=0,a=0;for(let u=m;u<=y;u++,d=a){a=0;let c=C.getLineContent(u),b=h.LC(c);if(this._opts.isUnshift&&(c.length===0||b===0)||!v&&!this._opts.isUnshift&&c.length===0)continue;if(b===-1&&(b=c.length),u>1&&W.io.visibleColumnFromColumn(c,b+1,n)%p!==0&&C.isCheapToTokenize(u-1)){let T=w.zu.getEnterAction(this._opts.autoIndent,C,new k.e(u-1,C.getLineMaxColumn(u-1),u-1,C.getLineMaxColumn(u-1)));if(T){if(a=d,T.appendText)for(let j=0,q=T.appendText.length;j<q&&a<p&&T.appendText.charCodeAt(j)===32;j++)a++;T.removeText&&(a=Math.max(0,a-T.removeText));for(let j=0;j<a&&!(b===0||c.charCodeAt(b-1)!==32);j++)b--}}if(this._opts.isUnshift&&b===0)continue;let L;this._opts.isUnshift?L=N.unshiftIndent(c,b+1,n,p,f):L=N.shiftIndent(c,b+1,n,p,f),this._addEditOperation(l,new k.e(u,1,u,b+1),L),u===m&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=b+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&C.getLineLength(m)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const d=f?x(" ",p):"	";for(let a=m;a<=y;a++){const u=C.getLineContent(a);let c=h.LC(u);if(!(this._opts.isUnshift&&(u.length===0||c===0))&&!(!v&&!this._opts.isUnshift&&u.length===0)&&(c===-1&&(c=u.length),!(this._opts.isUnshift&&c===0)))if(this._opts.isUnshift){c=Math.min(c,p);for(let b=0;b<c;b++)if(u.charCodeAt(b)===9){c=b+1;break}this._addEditOperation(l,new k.e(a,1,a,c+1),"")}else this._addEditOperation(l,new k.e(a,1,a,1),d),a===m&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=l.trackSelection(this._selection)}computeCursorState(C,l){if(this._useLastEditRangeForCursorEndPosition){let y=l.getInverseEditOperations()[0];return new O.Y(y.range.endLineNumber,y.range.endColumn,y.range.endLineNumber,y.range.endColumn)}const m=l.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let y=this._selection.startColumn;return m.startColumn<=y?m:m.getDirection()===0?new O.Y(m.startLineNumber,y,m.endLineNumber,m.endColumn):new O.Y(m.endLineNumber,m.endColumn,m.startLineNumber,y)}return m}}},56345:function(Ct,we,t){"use strict";t.d(we,{Pe:function(){return q},ei:function(){return j},fv:function(){return a},nG:function(){return m}});var h=t(63580),W=t(4669),k=t(9917),O=t(36248),w=t(9488),G=t(64141),x=t(82334),N=t(27374),s=t(23193),C=t(89872),l=t(6626);const m=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new W.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(ie){this._tabFocus!==ie&&(this._tabFocus=ie,this._onDidChangeTabFocus.fire(this._tabFocus))}},y=Object.hasOwnProperty;class n{constructor(){this._values=[]}_read(ne){return this._values[ne]}get(ne){return this._values[ne]}_write(ne,he){this._values[ne]=he}}class p{constructor(){this._values=[]}_read(ne){return this._values[ne]}_write(ne,he){this._values[ne]=he}}class f{static readOptions(ne){const he=ne,$=new p;for(const V of G.Bc){const z=V.name==="_never_"?void 0:he[V.name];$._write(V.id,z)}return $}static validateOptions(ne){const he=new G.hu;for(const $ of G.Bc)he._write($.id,$.validate(ne._read($.id)));return he}static computeOptions(ne,he){const $=new n;for(const V of G.Bc)$._write(V.id,V.compute(he,$,ne._read(V.id)));return $}static _deepEquals(ne,he){if(typeof ne!="object"||typeof he!="object")return ne===he;if(Array.isArray(ne)||Array.isArray(he))return Array.isArray(ne)&&Array.isArray(he)?w.fS(ne,he):!1;for(let $ in ne)if(!f._deepEquals(ne[$],he[$]))return!1;return!0}static checkEquals(ne,he){const $=[];let V=!1;for(const z of G.Bc){const Q=!f._deepEquals(ne._read(z.id),he._read(z.id));$[z.id]=Q,Q&&(V=!0)}return V?new G.Bb($):null}}function v(ie){const ne=ie.wordWrap;ne===!0?ie.wordWrap="on":ne===!1&&(ie.wordWrap="off");const he=ie.lineNumbers;he===!0?ie.lineNumbers="on":he===!1&&(ie.lineNumbers="off"),ie.autoClosingBrackets===!1&&(ie.autoClosingBrackets="never",ie.autoClosingQuotes="never",ie.autoSurround="never"),ie.cursorBlinking==="visible"&&(ie.cursorBlinking="solid");const z=ie.renderWhitespace;z===!0?ie.renderWhitespace="boundary":z===!1&&(ie.renderWhitespace="none");const Q=ie.renderLineHighlight;Q===!0?ie.renderLineHighlight="line":Q===!1&&(ie.renderLineHighlight="none");const le=ie.acceptSuggestionOnEnter;le===!0?ie.acceptSuggestionOnEnter="on":le===!1&&(ie.acceptSuggestionOnEnter="off");const E=ie.tabCompletion;E===!1?ie.tabCompletion="off":E===!0&&(ie.tabCompletion="onlySnippets");const I=ie.suggest;if(I&&typeof I.filteredTypes=="object"&&I.filteredTypes){const ue={};ue.method="showMethods",ue.function="showFunctions",ue.constructor="showConstructors",ue.deprecated="showDeprecated",ue.field="showFields",ue.variable="showVariables",ue.class="showClasses",ue.struct="showStructs",ue.interface="showInterfaces",ue.module="showModules",ue.property="showProperties",ue.event="showEvents",ue.operator="showOperators",ue.unit="showUnits",ue.value="showValues",ue.constant="showConstants",ue.enum="showEnums",ue.enumMember="showEnumMembers",ue.keyword="showKeywords",ue.text="showWords",ue.color="showColors",ue.file="showFiles",ue.reference="showReferences",ue.folder="showFolders",ue.typeParameter="showTypeParameters",ue.snippet="showSnippets",(0,l.E)(ue,Oe=>{const Ce=I.filteredTypes[Oe.key];Ce===!1&&(I[Oe.value]=Ce)})}const A=ie.hover;A===!0?ie.hover={enabled:!0}:A===!1&&(ie.hover={enabled:!1});const H=ie.parameterHints;H===!0?ie.parameterHints={enabled:!0}:H===!1&&(ie.parameterHints={enabled:!1});const Y=ie.autoIndent;Y===!0?ie.autoIndent="full":Y===!1&&(ie.autoIndent="advanced");const X=ie.matchBrackets;X===!0?ie.matchBrackets="always":X===!1&&(ie.matchBrackets="never");const{renderIndentGuides:re,highlightActiveIndentGuide:fe}=ie;ie.guides||(ie.guides={}),re!==void 0&&(ie.guides.indentation=!!re),fe!==void 0&&(ie.guides.highlightActiveIndentation=!!fe)}function d(ie){const ne=O.I8(ie);return v(ne),ne}class a extends k.JT{constructor(ne,he){super(),this._onDidChange=this._register(new W.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new W.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=ne,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new G.LJ,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=d(he),this._readOptions=f.readOptions(this._rawOptions),this._validatedOptions=f.validateOptions(this._readOptions),this._register(x.C.onDidChangeZoomLevel($=>this._recomputeOptions())),this._register(m.onDidChangeTabFocus($=>this._recomputeOptions()))}observeReferenceElement(ne){}updatePixelRatio(){}_recomputeOptions(){const ne=this.options,he=this._computeInternalOptions();if(!ne)this.options=he;else{const $=f.checkEquals(ne,he);if($===null)return;this.options=he,this._onDidChangeFast.fire($),this._onDidChange.fire($)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const ne=this._getEnvConfiguration(),he=N.E4.createFromValidatedSettings(this._validatedOptions,ne.zoomLevel,ne.pixelRatio,this.isSimpleWidget),$={memory:this._computeOptionsMemory,outerWidth:ne.outerWidth,outerHeight:ne.outerHeight,fontInfo:this.readConfiguration(he),extraEditorClassName:ne.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:ne.emptySelectionClipboard,pixelRatio:ne.pixelRatio,tabFocusMode:m.getTabFocusMode(),accessibilitySupport:ne.accessibilitySupport};return f.computeOptions(this._validatedOptions,$)}static _subsetEquals(ne,he){for(const $ in he)if(y.call(he,$)){const V=he[$],z=ne[$];if(z===V)continue;if(Array.isArray(z)&&Array.isArray(V)){if(!w.fS(z,V))return!1;continue}if(z&&typeof z=="object"&&V&&typeof V=="object"){if(!this._subsetEquals(z,V))return!1;continue}return!1}return!0}updateOptions(ne){if(typeof ne=="undefined")return;const he=d(ne);a._subsetEquals(this._rawOptions,he)||(this._rawOptions=O.jB(this._rawOptions,he||{}),this._readOptions=f.readOptions(this._rawOptions),this._validatedOptions=f.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(ne){this._isDominatedByLongLines=ne,this._recomputeOptions()}setMaxLineNumber(ne){const he=a._digitCount(ne);this._lineNumbersDigitCount!==he&&(this._lineNumbersDigitCount=he,this._recomputeOptions())}setViewLineCount(ne){this._viewLineCount!==ne&&(this._viewLineCount=ne,this._recomputeOptions())}static _digitCount(ne){let he=0;for(;ne;)ne=Math.floor(ne/10),he++;return he||1}}const u=Object.freeze({id:"editor",order:5,type:"object",title:h.N("editorConfigurationTitle","Editor"),scope:5}),c=C.B.as(s.IP.Configuration),b=Object.assign(Object.assign({},u),{properties:{"editor.tabSize":{type:"number",default:G.DB.tabSize,minimum:1,markdownDescription:h.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:G.DB.insertSpaces,markdownDescription:h.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:G.DB.detectIndentation,markdownDescription:h.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:G.DB.trimAutoWhitespace,description:h.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:G.DB.largeFileOptimizations,description:h.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:h.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[h.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),h.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),h.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:h.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[h.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),h.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),h.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:h.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:h.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:h.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:h.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:h.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:h.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:h.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:h.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:h.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:h.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:h.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:h.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:h.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:h.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:h.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[h.N("wordWrap.off","Lines will never wrap."),h.N("wordWrap.on","Lines will wrap at the viewport width."),h.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function L(ie){return typeof ie.type!="undefined"||typeof ie.anyOf!="undefined"}for(const ie of G.Bc){const ne=ie.schema;if(typeof ne!="undefined")if(L(ne))b.properties[`editor.${ie.name}`]=ne;else for(let he in ne)y.call(ne,he)&&(b.properties[he]=ne[he])}let R=null;function T(){return R===null&&(R=Object.create(null),Object.keys(b.properties).forEach(ie=>{R[ie]=!0})),R}function j(ie){return T()[`editor.${ie}`]||!1}function q(ie){return T()[`diffEditor.${ie}`]||!1}c.registerConfiguration(b)},64141:function(Ct,we,t){"use strict";t.d(we,{$J:function(){return Ce},BH:function(){return Je},Bb:function(){return w},Bc:function(){return zt},DB:function(){return kt},LJ:function(){return x},NY:function(){return v},O7:function(){return l},Zc:function(){return y},d2:function(){return R},gk:function(){return le},hL:function(){return ht},hu:function(){return G},n0:function(){return ne},y0:function(){return O}});var h=t(63580),W=t(1432),k=t(97461);const O=8;class w{constructor(Ae){this._values=Ae}hasChanged(Ae){return this._values[Ae]}}class G{constructor(){this._values=[]}_read(Ae){return this._values[Ae]}get(Ae){return this._values[Ae]}_write(Ae,He){this._values[Ae]=He}}class x{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class N{constructor(Ae,He,It,Bt){this.id=Ae,this.name=He,this.defaultValue=It,this.schema=Bt}compute(Ae,He,It){return It}}class s{constructor(Ae,He=null){this.schema=void 0,this.id=Ae,this.name="_never_",this.defaultValue=void 0,this.deps=He}validate(Ae){return this.defaultValue}}class C{constructor(Ae,He,It,Bt){this.id=Ae,this.name=He,this.defaultValue=It,this.schema=Bt}validate(Ae){return typeof Ae=="undefined"?this.defaultValue:Ae}compute(Ae,He,It){return It}}function l(Ze,Ae){return typeof Ze=="undefined"?Ae:Ze==="false"?!1:!!Ze}class m extends C{constructor(Ae,He,It,Bt=void 0){typeof Bt!="undefined"&&(Bt.type="boolean",Bt.default=It),super(Ae,He,It,Bt)}validate(Ae){return l(Ae,this.defaultValue)}}function y(Ze,Ae,He,It){if(typeof Ze=="undefined")return Ae;let Bt=parseInt(Ze,10);return isNaN(Bt)?Ae:(Bt=Math.max(He,Bt),Bt=Math.min(It,Bt),Bt|0)}class n extends C{constructor(Ae,He,It,Bt,oi,ni=void 0){typeof ni!="undefined"&&(ni.type="integer",ni.default=It,ni.minimum=Bt,ni.maximum=oi),super(Ae,He,It,ni),this.minimum=Bt,this.maximum=oi}static clampedInt(Ae,He,It,Bt){return y(Ae,He,It,Bt)}validate(Ae){return n.clampedInt(Ae,this.defaultValue,this.minimum,this.maximum)}}class p extends C{constructor(Ae,He,It,Bt,oi){typeof oi!="undefined"&&(oi.type="number",oi.default=It),super(Ae,He,It,oi),this.validationFn=Bt}static clamp(Ae,He,It){return Ae<He?He:Ae>It?It:Ae}static float(Ae,He){if(typeof Ae=="number")return Ae;if(typeof Ae=="undefined")return He;const It=parseFloat(Ae);return isNaN(It)?He:It}validate(Ae){return this.validationFn(p.float(Ae,this.defaultValue))}}class f extends C{static string(Ae,He){return typeof Ae!="string"?He:Ae}constructor(Ae,He,It,Bt=void 0){typeof Bt!="undefined"&&(Bt.type="string",Bt.default=It),super(Ae,He,It,Bt)}validate(Ae){return f.string(Ae,this.defaultValue)}}function v(Ze,Ae,He){return typeof Ze!="string"||He.indexOf(Ze)===-1?Ae:Ze}class d extends C{constructor(Ae,He,It,Bt,oi=void 0){typeof oi!="undefined"&&(oi.type="string",oi.enum=Bt,oi.default=It),super(Ae,He,It,oi),this._allowedValues=Bt}validate(Ae){return v(Ae,this.defaultValue,this._allowedValues)}}class a extends N{constructor(Ae,He,It,Bt,oi,ni,hi=void 0){typeof hi!="undefined"&&(hi.type="string",hi.enum=oi,hi.default=Bt),super(Ae,He,It,hi),this._allowedValues=oi,this._convert=ni}validate(Ae){return typeof Ae!="string"?this.defaultValue:this._allowedValues.indexOf(Ae)===-1?this.defaultValue:this._convert(Ae)}}function u(Ze){switch(Ze){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class c extends N{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[h.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),h.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),h.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:h.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Ae){switch(Ae){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ae,He,It){return It===0?Ae.accessibilitySupport:It}}class b extends N{constructor(){const Ae={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Ae,{"editor.comments.insertSpace":{type:"boolean",default:Ae.insertSpace,description:h.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ae.ignoreEmptyLines,description:h.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{insertSpace:l(He.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:l(He.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function L(Ze){switch(Ze){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var R;(function(Ze){Ze[Ze.Line=1]="Line",Ze[Ze.Block=2]="Block",Ze[Ze.Underline=3]="Underline",Ze[Ze.LineThin=4]="LineThin",Ze[Ze.BlockOutline=5]="BlockOutline",Ze[Ze.UnderlineThin=6]="UnderlineThin"})(R||(R={}));function T(Ze){switch(Ze){case"line":return R.Line;case"block":return R.Block;case"underline":return R.Underline;case"line-thin":return R.LineThin;case"block-outline":return R.BlockOutline;case"underline-thin":return R.UnderlineThin}}class j extends s{constructor(){super(126,[65,33])}compute(Ae,He,It){const Bt=["monaco-editor"];return He.get(33)&&Bt.push(He.get(33)),Ae.extraEditorClassName&&Bt.push(Ae.extraEditorClassName),He.get(65)==="default"?Bt.push("mouse-default"):He.get(65)==="copy"&&Bt.push("mouse-copy"),He.get(99)&&Bt.push("showUnused"),He.get(124)&&Bt.push("showDeprecated"),Bt.join(" ")}}class q extends m{constructor(){super(32,"emptySelectionClipboard",!0,{description:h.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ae,He,It){return It&&Ae.emptySelectionClipboard}}class ie extends N{constructor(){const Ae={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",Ae,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ae.cursorMoveOnType,description:h.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ae.seedSearchStringFromSelection,enumDescriptions:[h.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),h.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),h.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:h.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ae.autoFindInSelection,enumDescriptions:[h.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),h.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),h.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:h.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ae.globalFindClipboard,description:h.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:W.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ae.addExtraSpaceOnTop,description:h.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ae.loop,description:h.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{cursorMoveOnType:l(He.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Ae.seedSearchStringFromSelection=="boolean"?Ae.seedSearchStringFromSelection?"always":"never":v(He.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Ae.autoFindInSelection=="boolean"?Ae.autoFindInSelection?"always":"never":v(He.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:l(He.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:l(He.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:l(He.loop,this.defaultValue.loop)}}}class ne extends N{constructor(){super(44,"fontLigatures",ne.OFF,{anyOf:[{type:"boolean",description:h.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:h.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:h.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Ae){return typeof Ae=="undefined"?this.defaultValue:typeof Ae=="string"?Ae==="false"?ne.OFF:Ae==="true"?ne.ON:Ae:Ae?ne.ON:ne.OFF}}ne.OFF='"liga" off, "calt" off',ne.ON='"liga" on, "calt" on';class he extends s{constructor(){super(43)}compute(Ae,He,It){return Ae.fontInfo}}class $ extends C{constructor(){super(45,"fontSize",ht.fontSize,{type:"number",minimum:6,maximum:100,default:ht.fontSize,description:h.N("fontSize","Controls the font size in pixels.")})}validate(Ae){let He=p.float(Ae,this.defaultValue);return He===0?ht.fontSize:p.clamp(He,6,100)}compute(Ae,He,It){return Ae.fontInfo.fontSize}}class V extends N{constructor(){super(46,"fontWeight",ht.fontWeight,{anyOf:[{type:"number",minimum:V.MINIMUM_VALUE,maximum:V.MAXIMUM_VALUE,errorMessage:h.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:V.SUGGESTION_VALUES}],default:ht.fontWeight,description:h.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Ae){return Ae==="normal"||Ae==="bold"?Ae:String(n.clampedInt(Ae,ht.fontWeight,V.MINIMUM_VALUE,V.MAXIMUM_VALUE))}}V.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],V.MINIMUM_VALUE=1,V.MAXIMUM_VALUE=1e3;class z extends N{constructor(){const Ae={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},He={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ae.multiple,enumDescriptions:[h.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),h.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),h.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},It=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",Ae,{"editor.gotoLocation.multiple":{deprecationMessage:h.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:h.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},He),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:h.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},He),"editor.gotoLocation.multipleDeclarations":Object.assign({description:h.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},He),"editor.gotoLocation.multipleImplementations":Object.assign({description:h.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},He),"editor.gotoLocation.multipleReferences":Object.assign({description:h.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},He),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ae.alternativeDefinitionCommand,enum:It,description:h.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ae.alternativeTypeDefinitionCommand,enum:It,description:h.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ae.alternativeDeclarationCommand,enum:It,description:h.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ae.alternativeImplementationCommand,enum:It,description:h.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ae.alternativeReferenceCommand,enum:It,description:h.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ae){var He,It,Bt,oi,ni;if(!Ae||typeof Ae!="object")return this.defaultValue;const hi=Ae;return{multiple:v(hi.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(He=hi.multipleDefinitions)!==null&&He!==void 0?He:v(hi.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(It=hi.multipleTypeDefinitions)!==null&&It!==void 0?It:v(hi.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Bt=hi.multipleDeclarations)!==null&&Bt!==void 0?Bt:v(hi.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(oi=hi.multipleImplementations)!==null&&oi!==void 0?oi:v(hi.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(ni=hi.multipleReferences)!==null&&ni!==void 0?ni:v(hi.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:f.string(hi.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:f.string(hi.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:f.string(hi.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:f.string(hi.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:f.string(hi.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class Q extends N{constructor(){const Ae={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",Ae,{"editor.hover.enabled":{type:"boolean",default:Ae.enabled,description:h.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ae.delay,description:h.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ae.sticky,description:h.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ae.above,description:h.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{enabled:l(He.enabled,this.defaultValue.enabled),delay:n.clampedInt(He.delay,this.defaultValue.delay,0,1e4),sticky:l(He.sticky,this.defaultValue.sticky),above:l(He.above,this.defaultValue.above)}}}class le extends s{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute(Ae,He,It){return le.computeLayout(He,{memory:Ae.memory,outerWidth:Ae.outerWidth,outerHeight:Ae.outerHeight,isDominatedByLongLines:Ae.isDominatedByLongLines,lineHeight:Ae.fontInfo.lineHeight,viewLineCount:Ae.viewLineCount,lineNumbersDigitCount:Ae.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ae.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ae.fontInfo.maxDigitWidth,pixelRatio:Ae.pixelRatio})}static computeContainedMinimapLineCount(Ae){const He=Ae.height/Ae.lineHeight,It=Ae.scrollBeyondLastLine?He-1:0,Bt=(Ae.viewLineCount+It)/(Ae.pixelRatio*Ae.height),oi=Math.floor(Ae.viewLineCount/Bt);return{typicalViewportLineCount:He,extraLinesBeyondLastLine:It,desiredRatio:Bt,minimapLineCount:oi}}static _computeMinimapLayout(Ae,He){const It=Ae.outerWidth,Bt=Ae.outerHeight,oi=Ae.pixelRatio;if(!Ae.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(oi*Bt),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Bt};const ni=He.stableMinimapLayoutInput,hi=ni&&Ae.outerHeight===ni.outerHeight&&Ae.lineHeight===ni.lineHeight&&Ae.typicalHalfwidthCharacterWidth===ni.typicalHalfwidthCharacterWidth&&Ae.pixelRatio===ni.pixelRatio&&Ae.scrollBeyondLastLine===ni.scrollBeyondLastLine&&Ae.minimap.enabled===ni.minimap.enabled&&Ae.minimap.side===ni.minimap.side&&Ae.minimap.size===ni.minimap.size&&Ae.minimap.showSlider===ni.minimap.showSlider&&Ae.minimap.renderCharacters===ni.minimap.renderCharacters&&Ae.minimap.maxColumn===ni.minimap.maxColumn&&Ae.minimap.scale===ni.minimap.scale&&Ae.verticalScrollbarWidth===ni.verticalScrollbarWidth&&Ae.isViewportWrapping===ni.isViewportWrapping,Di=Ae.lineHeight,Ti=Ae.typicalHalfwidthCharacterWidth,Ii=Ae.scrollBeyondLastLine,ai=Ae.minimap.renderCharacters;let Pt=oi>=2?Math.round(Ae.minimap.scale*2):Ae.minimap.scale;const Gt=Ae.minimap.maxColumn,ot=Ae.minimap.size,mt=Ae.minimap.side,ft=Ae.verticalScrollbarWidth,Xe=Ae.viewLineCount,Ge=Ae.remainingWidth,Ie=Ae.isViewportWrapping,Pe=ai?2:3;let je=Math.floor(oi*Bt);const dt=je/oi;let Nt=!1,$t=!1,Xt=Pe*Pt,Ci=Pt/oi,Zt=1;if(ot==="fill"||ot==="fit"){const{typicalViewportLineCount:J,extraLinesBeyondLastLine:pe,desiredRatio:ke,minimapLineCount:at}=le.computeContainedMinimapLineCount({viewLineCount:Xe,scrollBeyondLastLine:Ii,height:Bt,lineHeight:Di,pixelRatio:oi});if(Xe/at>1)Nt=!0,$t=!0,Pt=1,Xt=1,Ci=Pt/oi;else{let _t=!1,Et=Pt+1;if(ot==="fit"){const Wt=Math.ceil((Xe+pe)*Xt);Ie&&hi&&Ge<=He.stableFitRemainingWidth?(_t=!0,Et=He.stableFitMaxMinimapScale):_t=Wt>je}if(ot==="fill"||_t){Nt=!0;const Wt=Pt;Xt=Math.min(Di*oi,Math.max(1,Math.floor(1/ke))),Ie&&hi&&Ge<=He.stableFitRemainingWidth&&(Et=He.stableFitMaxMinimapScale),Pt=Math.min(Et,Math.max(1,Math.floor(Xt/Pe))),Pt>Wt&&(Zt=Math.min(2,Pt/Wt)),Ci=Pt/oi/Zt,je=Math.ceil(Math.max(J,Xe+pe)*Xt),Ie?(He.stableMinimapLayoutInput=Ae,He.stableFitRemainingWidth=Ge,He.stableFitMaxMinimapScale=Pt):(He.stableMinimapLayoutInput=null,He.stableFitRemainingWidth=0)}}}const mi=Math.floor(Gt*Ci),pt=Math.min(mi,Math.max(0,Math.floor((Ge-ft-2)*Ci/(Ti+Ci)))+O);let ut=Math.floor(oi*pt);const tt=ut/oi;ut=Math.floor(ut*Zt);const de=ai?1:2,be=mt==="left"?0:It-pt-ft;return{renderMinimap:de,minimapLeft:be,minimapWidth:pt,minimapHeightIsEditorHeight:Nt,minimapIsSampling:$t,minimapScale:Pt,minimapLineHeight:Xt,minimapCanvasInnerWidth:ut,minimapCanvasInnerHeight:je,minimapCanvasOuterWidth:tt,minimapCanvasOuterHeight:dt}}static computeLayout(Ae,He){const It=He.outerWidth|0,Bt=He.outerHeight|0,oi=He.lineHeight|0,ni=He.lineNumbersDigitCount|0,hi=He.typicalHalfwidthCharacterWidth,Di=He.maxDigitWidth,Ti=He.pixelRatio,Ii=He.viewLineCount,ai=Ae.get(121),Pt=ai==="inherit"?Ae.get(120):ai,Gt=Pt==="inherit"?Ae.get(116):Pt,ot=Ae.get(119),mt=Ae.get(2),ft=He.isDominatedByLongLines,Xe=Ae.get(49),Ge=Ae.get(59).renderType!==0,Ie=Ae.get(60),Pe=Ae.get(93),je=Ae.get(64),dt=Ae.get(91),Nt=dt.verticalScrollbarSize,$t=dt.verticalHasArrows,Xt=dt.arrowSize,Ci=dt.horizontalScrollbarSize,Zt=Ae.get(57),mi=Ae.get(37);let pt;if(typeof Zt=="string"&&/^\d+(\.\d+)?ch$/.test(Zt)){const jt=parseFloat(Zt.substr(0,Zt.length-2));pt=n.clampedInt(jt*hi,0,0,1e3)}else pt=n.clampedInt(Zt,0,0,1e3);mi&&(pt+=16);let ut=0;if(Ge){const jt=Math.max(ni,Ie);ut=Math.round(jt*Di)}let tt=0;Xe&&(tt=oi);let de=0,be=de+tt,J=be+ut,pe=J+pt;const ke=It-tt-ut-pt;let at=!1,st=!1,_t=-1;mt!==2&&(Pt==="inherit"&&ft?(at=!0,st=!0):Gt==="on"||Gt==="bounded"?st=!0:Gt==="wordWrapColumn"&&(_t=ot));const Et=le._computeMinimapLayout({outerWidth:It,outerHeight:Bt,lineHeight:oi,typicalHalfwidthCharacterWidth:hi,pixelRatio:Ti,scrollBeyondLastLine:Pe,minimap:je,verticalScrollbarWidth:Nt,viewLineCount:Ii,remainingWidth:ke,isViewportWrapping:st},He.memory||new x);Et.renderMinimap!==0&&Et.minimapLeft===0&&(de+=Et.minimapWidth,be+=Et.minimapWidth,J+=Et.minimapWidth,pe+=Et.minimapWidth);const Wt=ke-Et.minimapWidth,Mt=Math.max(1,Math.floor((Wt-Nt-2)/hi)),Jt=$t?Xt:0;return st&&(_t=Math.max(1,Mt),Gt==="bounded"&&(_t=Math.min(_t,ot))),{width:It,height:Bt,glyphMarginLeft:de,glyphMarginWidth:tt,lineNumbersLeft:be,lineNumbersWidth:ut,decorationsLeft:J,decorationsWidth:pt,contentLeft:pe,contentWidth:Wt,minimap:Et,viewportColumn:Mt,isWordWrapMinified:at,isViewportWrapping:st,wrappingColumn:_t,verticalScrollbarWidth:Nt,horizontalScrollbarHeight:Ci,overviewRuler:{top:Jt,width:Nt,height:Bt-2*Jt,right:0}}}}class E extends N{constructor(){const Ae={enabled:!0};super(56,"lightbulb",Ae,{"editor.lightbulb.enabled":{type:"boolean",default:Ae.enabled,description:h.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Ae){return!Ae||typeof Ae!="object"?this.defaultValue:{enabled:l(Ae.enabled,this.defaultValue.enabled)}}}class I extends N{constructor(){const Ae={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",Ae,{"editor.inlayHints.enabled":{type:"boolean",default:Ae.enabled,description:h.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:Ae.fontSize,markdownDescription:h.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:Ae.fontFamily,markdownDescription:h.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{enabled:l(He.enabled,this.defaultValue.enabled),fontSize:n.clampedInt(He.fontSize,this.defaultValue.fontSize,0,100),fontFamily:f.string(He.fontFamily,this.defaultValue.fontFamily)}}}class A extends p{constructor(){super(58,"lineHeight",ht.lineHeight,Ae=>p.clamp(Ae,0,150),{markdownDescription:h.N("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Ae,He,It){return Ae.fontInfo.lineHeight}}class H extends N{constructor(){const Ae={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",Ae,{"editor.minimap.enabled":{type:"boolean",default:Ae.enabled,description:h.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[h.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),h.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),h.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ae.size,description:h.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ae.side,description:h.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ae.showSlider,description:h.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ae.scale,minimum:1,maximum:3,enum:[1,2,3],description:h.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ae.renderCharacters,description:h.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ae.maxColumn,description:h.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{enabled:l(He.enabled,this.defaultValue.enabled),size:v(He.size,this.defaultValue.size,["proportional","fill","fit"]),side:v(He.side,this.defaultValue.side,["right","left"]),showSlider:v(He.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:l(He.renderCharacters,this.defaultValue.renderCharacters),scale:n.clampedInt(He.scale,1,1,3),maxColumn:n.clampedInt(He.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Y(Ze){return Ze==="ctrlCmd"?W.dz?"metaKey":"ctrlKey":"altKey"}class X extends N{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:h.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:h.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{top:n.clampedInt(He.top,0,0,1e3),bottom:n.clampedInt(He.bottom,0,0,1e3)}}}class re extends N{constructor(){const Ae={enabled:!0,cycle:!1};super(75,"parameterHints",Ae,{"editor.parameterHints.enabled":{type:"boolean",default:Ae.enabled,description:h.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ae.cycle,description:h.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{enabled:l(He.enabled,this.defaultValue.enabled),cycle:l(He.cycle,this.defaultValue.cycle)}}}class fe extends s{constructor(){super(127)}compute(Ae,He,It){return Ae.pixelRatio}}class ue extends N{constructor(){const Ae={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",Ae,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:Ae.strings,description:h.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:Ae.comments,description:h.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:Ae.other,description:h.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:Ae,description:h.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=Ae}validate(Ae){if(typeof Ae=="boolean")return Ae;if(Ae&&typeof Ae=="object"){const He=Ae,It={other:l(He.other,this.defaultValue.other),comments:l(He.comments,this.defaultValue.comments),strings:l(He.strings,this.defaultValue.strings)};return It.other&&It.comments&&It.strings?!0:!It.other&&!It.comments&&!It.strings?!1:It}return this.defaultValue}}class Oe extends N{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[h.N("lineNumbers.off","Line numbers are not rendered."),h.N("lineNumbers.on","Line numbers are rendered as absolute number."),h.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),h.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:h.N("lineNumbers","Controls the display of line numbers.")})}validate(Ae){let He=this.defaultValue.renderType,It=this.defaultValue.renderFn;return typeof Ae!="undefined"&&(typeof Ae=="function"?(He=4,It=Ae):Ae==="interval"?He=3:Ae==="relative"?He=2:Ae==="on"?He=1:He=0),{renderType:He,renderFn:It}}}function Ce(Ze){const Ae=Ze.get(86);return Ae==="editable"?Ze.get(80):Ae!=="on"}class oe extends N{constructor(){const Ae=[],He={type:"number",description:h.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",Ae,{type:"array",items:{anyOf:[He,{type:["object"],properties:{column:He,color:{type:"string",description:h.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ae,description:h.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ae){if(Array.isArray(Ae)){let He=[];for(let It of Ae)if(typeof It=="number")He.push({column:n.clampedInt(It,0,0,1e4),color:null});else if(It&&typeof It=="object"){const Bt=It;He.push({column:n.clampedInt(Bt.column,0,0,1e4),color:Bt.color})}return He.sort((It,Bt)=>It.column-Bt.column),He}return this.defaultValue}}function ae(Ze,Ae){if(typeof Ze!="string")return Ae;switch(Ze){case"hidden":return 2;case"visible":return 3;default:return 1}}class Be extends N{constructor(){const Ae={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",Ae,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[h.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),h.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),h.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:h.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[h.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),h.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),h.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:h.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ae.verticalScrollbarSize,description:h.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ae.horizontalScrollbarSize,description:h.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ae.scrollByPage,description:h.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae,It=n.clampedInt(He.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Bt=n.clampedInt(He.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:n.clampedInt(He.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ae(He.vertical,this.defaultValue.vertical),horizontal:ae(He.horizontal,this.defaultValue.horizontal),useShadows:l(He.useShadows,this.defaultValue.useShadows),verticalHasArrows:l(He.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:l(He.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:l(He.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:l(He.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:It,horizontalSliderSize:n.clampedInt(He.horizontalSliderSize,It,0,1e3),verticalScrollbarSize:Bt,verticalSliderSize:n.clampedInt(He.verticalSliderSize,Bt,0,1e3),scrollByPage:l(He.scrollByPage,this.defaultValue.scrollByPage)}}}class Ve extends N{constructor(){const Ae={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",Ae,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ae.enabled,description:h.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{enabled:l(He.enabled,this.defaultValue.enabled),mode:v(He.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class se extends N{constructor(){const Ae={enabled:kt.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",Ae,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ae.enabled,description:h.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(Ae){return!Ae||typeof Ae!="object"?this.defaultValue:{enabled:l(Ae.enabled,this.defaultValue.enabled)}}}class ce extends N{constructor(){const Ae={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Ae,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[h.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),h.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),h.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ae.bracketPairs,description:h.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[h.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),h.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),h.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ae.bracketPairsHorizontal,description:h.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ae.highlightActiveBracketPair,description:h.N("editor.guides.highlightActiveBracketPair","Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:Ae.indentation,description:h.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:Ae.highlightActiveIndentation,description:h.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{bracketPairs:Te(He.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Te(He.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:l(He.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:l(He.indentation,this.defaultValue.indentation),highlightActiveIndentation:l(He.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}function Te(Ze,Ae,He){const It=He.indexOf(Ze);return It===-1?Ae:He[It]}class xe extends N{constructor(){const Ae={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",Ae,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[h.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),h.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ae.insertMode,description:h.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ae.filterGraceful,description:h.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ae.localityBonus,description:h.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ae.shareSuggestSelections,markdownDescription:h.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ae.snippetsPreventQuickSuggestions,description:h.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ae.showIcons,description:h.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ae.showStatusBar,description:h.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ae.preview,description:h.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ae.showInlineDetails,description:h.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:h.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:h.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:h.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ae){if(!Ae||typeof Ae!="object")return this.defaultValue;const He=Ae;return{insertMode:v(He.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:l(He.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:l(He.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:l(He.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:l(He.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:l(He.showIcons,this.defaultValue.showIcons),showStatusBar:l(He.showStatusBar,this.defaultValue.showStatusBar),preview:l(He.preview,this.defaultValue.preview),previewMode:v(He.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:l(He.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:l(He.showMethods,this.defaultValue.showMethods),showFunctions:l(He.showFunctions,this.defaultValue.showFunctions),showConstructors:l(He.showConstructors,this.defaultValue.showConstructors),showDeprecated:l(He.showDeprecated,this.defaultValue.showDeprecated),showFields:l(He.showFields,this.defaultValue.showFields),showVariables:l(He.showVariables,this.defaultValue.showVariables),showClasses:l(He.showClasses,this.defaultValue.showClasses),showStructs:l(He.showStructs,this.defaultValue.showStructs),showInterfaces:l(He.showInterfaces,this.defaultValue.showInterfaces),showModules:l(He.showModules,this.defaultValue.showModules),showProperties:l(He.showProperties,this.defaultValue.showProperties),showEvents:l(He.showEvents,this.defaultValue.showEvents),showOperators:l(He.showOperators,this.defaultValue.showOperators),showUnits:l(He.showUnits,this.defaultValue.showUnits),showValues:l(He.showValues,this.defaultValue.showValues),showConstants:l(He.showConstants,this.defaultValue.showConstants),showEnums:l(He.showEnums,this.defaultValue.showEnums),showEnumMembers:l(He.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:l(He.showKeywords,this.defaultValue.showKeywords),showWords:l(He.showWords,this.defaultValue.showWords),showColors:l(He.showColors,this.defaultValue.showColors),showFiles:l(He.showFiles,this.defaultValue.showFiles),showReferences:l(He.showReferences,this.defaultValue.showReferences),showFolders:l(He.showFolders,this.defaultValue.showFolders),showTypeParameters:l(He.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:l(He.showSnippets,this.defaultValue.showSnippets),showUsers:l(He.showUsers,this.defaultValue.showUsers),showIssues:l(He.showIssues,this.defaultValue.showIssues)}}}class Fe extends N{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:h.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Ae){return!Ae||typeof Ae!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:l(Ae.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Le extends s{constructor(){super(128,[80])}compute(Ae,He,It){return He.get(80)?!0:Ae.tabFocusMode}}function Me(Ze){switch(Ze){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Se extends s{constructor(){super(130,[129])}compute(Ae,He,It){const Bt=He.get(129);return{isDominatedByLongLines:Ae.isDominatedByLongLines,isWordWrapMinified:Bt.isWordWrapMinified,isViewportWrapping:Bt.isViewportWrapping,wrappingColumn:Bt.wrappingColumn}}}const ze="Consolas, 'Courier New', monospace",Ye="Menlo, Monaco, 'Courier New', monospace",qe="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",ht={fontFamily:W.dz?Ye:W.IJ?qe:ze,fontWeight:"normal",fontSize:W.dz?12:14,lineHeight:0,letterSpacing:0},kt={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},zt=[];function Ke(Ze){return zt[Ze.id]=Ze,Ze}const Je={acceptSuggestionOnCommitCharacter:Ke(new m(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:h.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ke(new d(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",h.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:h.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ke(new c),accessibilityPageSize:Ke(new n(3,"accessibilityPageSize",10,1,1073741824,{description:h.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Ke(new f(4,"ariaLabel",h.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Ke(new d(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",h.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),h.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:h.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Ke(new d(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",h.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:h.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ke(new d(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",h.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:h.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ke(new d(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",h.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),h.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:h.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ke(new a(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],u,{enumDescriptions:[h.N("editor.autoIndent.none","The editor will not insert indentation automatically."),h.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),h.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),h.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),h.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:h.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ke(new m(10,"automaticLayout",!1)),autoSurround:Ke(new d(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[h.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),h.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),h.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:h.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ke(new se),bracketPairGuides:Ke(new ce),stickyTabStops:Ke(new m(103,"stickyTabStops",!1,{description:h.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ke(new m(14,"codeLens",!0,{description:h.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ke(new f(15,"codeLensFontFamily","",{description:h.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ke(new n(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:h.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ke(new m(17,"colorDecorators",!0,{description:h.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Ke(new m(18,"columnSelection",!1,{description:h.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ke(new b),contextmenu:Ke(new m(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Ke(new m(21,"copyWithSyntaxHighlighting",!0,{description:h.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ke(new a(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],L,{description:h.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ke(new m(23,"cursorSmoothCaretAnimation",!1,{description:h.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ke(new a(24,"cursorStyle",R.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:h.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ke(new n(25,"cursorSurroundingLines",0,0,1073741824,{description:h.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ke(new d(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[h.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),h.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:h.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Ke(new n(27,"cursorWidth",0,0,1073741824,{markdownDescription:h.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ke(new m(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ke(new m(29,"disableMonospaceOptimizations",!1)),domReadOnly:Ke(new m(30,"domReadOnly",!1)),dragAndDrop:Ke(new m(31,"dragAndDrop",!0,{description:h.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ke(new q),extraEditorClassName:Ke(new f(33,"extraEditorClassName","")),fastScrollSensitivity:Ke(new p(34,"fastScrollSensitivity",5,Ze=>Ze<=0?5:Ze,{markdownDescription:h.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ke(new ie),fixedOverflowWidgets:Ke(new m(36,"fixedOverflowWidgets",!1)),folding:Ke(new m(37,"folding",!0,{description:h.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ke(new d(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[h.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),h.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:h.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ke(new m(39,"foldingHighlight",!0,{description:h.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ke(new m(40,"foldingImportsByDefault",!1,{description:h.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:Ke(new m(41,"unfoldOnClickAfterEndOfLine",!1,{description:h.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ke(new f(42,"fontFamily",ht.fontFamily,{description:h.N("fontFamily","Controls the font family.")})),fontInfo:Ke(new he),fontLigatures2:Ke(new ne),fontSize:Ke(new $),fontWeight:Ke(new V),formatOnPaste:Ke(new m(47,"formatOnPaste",!1,{description:h.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ke(new m(48,"formatOnType",!1,{description:h.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ke(new m(49,"glyphMargin",!0,{description:h.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ke(new z),hideCursorInOverviewRuler:Ke(new m(51,"hideCursorInOverviewRuler",!1,{description:h.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ke(new Q),inDiffEditor:Ke(new m(53,"inDiffEditor",!1)),letterSpacing:Ke(new p(55,"letterSpacing",ht.letterSpacing,Ze=>p.clamp(Ze,-5,20),{description:h.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ke(new E),lineDecorationsWidth:Ke(new C(57,"lineDecorationsWidth",10)),lineHeight:Ke(new A),lineNumbers:Ke(new Oe),lineNumbersMinChars:Ke(new n(60,"lineNumbersMinChars",5,1,300)),linkedEditing:Ke(new m(61,"linkedEditing",!1,{description:h.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Ke(new m(62,"links",!0,{description:h.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ke(new d(63,"matchBrackets","always",["always","near","never"],{description:h.N("matchBrackets","Highlight matching brackets.")})),minimap:Ke(new H),mouseStyle:Ke(new d(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ke(new p(66,"mouseWheelScrollSensitivity",1,Ze=>Ze===0?1:Ze,{markdownDescription:h.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ke(new m(67,"mouseWheelZoom",!1,{markdownDescription:h.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ke(new m(68,"multiCursorMergeOverlapping",!0,{description:h.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ke(new a(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Y,{markdownEnumDescriptions:[h.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),h.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:h.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ke(new d(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[h.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),h.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:h.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Ke(new m(71,"occurrencesHighlight",!0,{description:h.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Ke(new m(72,"overviewRulerBorder",!0,{description:h.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ke(new n(73,"overviewRulerLanes",3,0,3)),padding:Ke(new X),parameterHints:Ke(new re),peekWidgetDefaultFocus:Ke(new d(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[h.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),h.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:h.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Ke(new m(77,"definitionLinkOpensInPeek",!1,{description:h.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ke(new ue),quickSuggestionsDelay:Ke(new n(79,"quickSuggestionsDelay",10,0,1073741824,{description:h.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ke(new m(80,"readOnly",!1)),renameOnType:Ke(new m(81,"renameOnType",!1,{description:h.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:h.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ke(new m(82,"renderControlCharacters",!0,{description:h.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ke(new m(83,"renderFinalNewline",!0,{description:h.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ke(new d(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",h.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:h.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ke(new m(85,"renderLineHighlightOnlyWhenFocus",!1,{description:h.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ke(new d(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ke(new d(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",h.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),h.N("renderWhitespace.selection","Render whitespace characters only on selected text."),h.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:h.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ke(new n(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Ke(new m(89,"roundedSelection",!0,{description:h.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ke(new oe),scrollbar:Ke(new Be),scrollBeyondLastColumn:Ke(new n(92,"scrollBeyondLastColumn",5,0,1073741824,{description:h.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ke(new m(93,"scrollBeyondLastLine",!0,{description:h.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ke(new m(94,"scrollPredominantAxis",!0,{description:h.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ke(new m(95,"selectionClipboard",!0,{description:h.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:W.IJ})),selectionHighlight:Ke(new m(96,"selectionHighlight",!0,{description:h.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ke(new m(97,"selectOnLineNumbers",!0)),showFoldingControls:Ke(new d(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[h.N("showFoldingControls.always","Always show the folding controls."),h.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:h.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ke(new m(99,"showUnused",!0,{description:h.N("showUnused","Controls fading out of unused code.")})),showDeprecated:Ke(new m(124,"showDeprecated",!0,{description:h.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ke(new I),snippetSuggestions:Ke(new d(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[h.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),h.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),h.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),h.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:h.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ke(new Fe),smoothScrolling:Ke(new m(102,"smoothScrolling",!1,{description:h.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ke(new n(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ke(new xe),inlineSuggest:Ke(new Ve),suggestFontSize:Ke(new n(106,"suggestFontSize",0,0,1e3,{markdownDescription:h.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Ke(new n(107,"suggestLineHeight",0,0,1e3,{markdownDescription:h.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:Ke(new m(108,"suggestOnTriggerCharacters",!0,{description:h.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ke(new d(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[h.N("suggestSelection.first","Always select the first suggestion."),h.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),h.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:h.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ke(new d(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[h.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),h.N("tabCompletion.off","Disable tab completions."),h.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:h.N("tabCompletion","Enables tab completions.")})),tabIndex:Ke(new n(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Ke(new d(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[h.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),h.N("unusualLineTerminators.off","Unusual line terminators are ignored."),h.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:h.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ke(new m(113,"useShadowDOM",!0)),useTabStops:Ke(new m(114,"useTabStops",!0,{description:h.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Ke(new f(115,"wordSeparators",k.vu,{description:h.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ke(new d(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[h.N("wordWrap.off","Lines will never wrap."),h.N("wordWrap.on","Lines will wrap at the viewport width."),h.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),h.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:h.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ke(new f(117,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ke(new f(118,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ke(new n(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:h.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ke(new d(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ke(new d(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Ke(new a(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Me,{enumDescriptions:[h.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),h.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),h.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),h.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:h.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Ke(new d(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[h.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),h.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:h.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Ke(new j),pixelRatio:Ke(new fe),tabFocusMode:Ke(new Le),layoutInfo:Ke(new le),wrappingInfo:Ke(new Se)}},82334:function(Ct,we,t){"use strict";t.d(we,{C:function(){return W}});var h=t(4669);const W=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new h.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},27374:function(Ct,we,t){"use strict";t.d(we,{E4:function(){return w},pR:function(){return x}});var h=t(1432),W=t(82334);const k=h.dz?1.5:1.35,O=8;class w{constructor(s){this._bareFontInfoBrand=void 0,this.zoomLevel=s.zoomLevel,this.pixelRatio=s.pixelRatio,this.fontFamily=String(s.fontFamily),this.fontWeight=String(s.fontWeight),this.fontSize=s.fontSize,this.fontFeatureSettings=s.fontFeatureSettings,this.lineHeight=s.lineHeight|0,this.letterSpacing=s.letterSpacing}static createFromValidatedSettings(s,C,l,m){const y=s.get(42),n=s.get(46),p=s.get(45),f=s.get(44),v=s.get(58),d=s.get(55);return w._create(y,n,p,f,v,d,C,l,m)}static _create(s,C,l,m,y,n,p,f,v){y===0?y=k*l:y<O&&(y=y*l),y=Math.round(y),y<O&&(y=O);const d=1+(v?0:W.C.getZoomLevel()*.1);return l*=d,y*=d,new w({zoomLevel:p,pixelRatio:f,fontFamily:s,fontWeight:C,fontSize:l,fontFeatureSettings:m,lineHeight:y,letterSpacing:n})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(s){const C=w._wrapInQuotes(this.fontFamily);return s&&this.fontFamily!==s?`${C}, ${s}`:C}static _wrapInQuotes(s){return/[,"']/.test(s)?s:/[+ ]/.test(s)?`"${s}"`:s}}const G=1;class x extends w{constructor(s,C){super(s),this._editorStylingBrand=void 0,this.version=G,this.isTrusted=C,this.isMonospace=s.isMonospace,this.typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=s.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=s.canUseHalfwidthRightwardsArrow,this.spaceWidth=s.spaceWidth,this.middotWidth=s.middotWidth,this.wsmiddotWidth=s.wsmiddotWidth,this.maxDigitWidth=s.maxDigitWidth}equals(s){return this.fontFamily===s.fontFamily&&this.fontWeight===s.fontWeight&&this.fontSize===s.fontSize&&this.fontFeatureSettings===s.fontFeatureSettings&&this.lineHeight===s.lineHeight&&this.letterSpacing===s.letterSpacing&&this.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===s.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===s.canUseHalfwidthRightwardsArrow&&this.spaceWidth===s.spaceWidth&&this.middotWidth===s.middotWidth&&this.wsmiddotWidth===s.wsmiddotWidth&&this.maxDigitWidth===s.maxDigitWidth}}},3675:function(Ct,we,t){"use strict";t.d(we,{l:function(){return W}});var h=t(33181);class W{static whitespaceVisibleColumn(O,w,G){const x=O.length;let N=0,s=-1,C=-1;for(let l=0;l<x;l++){if(l===w)return[s,C,N];switch(N%G===0&&(s=l,C=N),O.charCodeAt(l)){case 32:N+=1;break;case 9:N=h.io.nextRenderTabStop(N,G);break;default:return[-1,-1,-1]}}return w===x?[s,C,N]:[-1,-1,-1]}static atomicPosition(O,w,G,x){const N=O.length,[s,C,l]=W.whitespaceVisibleColumn(O,w,G);if(l===-1)return-1;let m;switch(x){case 0:m=!0;break;case 1:m=!1;break;case 2:if(l%G===0)return w;m=l%G<=G/2;break}if(m){if(s===-1)return-1;let p=C;for(let f=s;f<N;++f){if(p===C+G)return s;switch(O.charCodeAt(f)){case 32:p+=1;break;case 9:p=h.io.nextRenderTabStop(p,G);break;default:return-1}}return p===C+G?s:-1}const y=h.io.nextRenderTabStop(l,G);let n=l;for(let p=w;p<N;p++){if(n===y)return p;switch(O.charCodeAt(p)){case 32:n+=1;break;case 9:n=h.io.nextRenderTabStop(n,G);break;default:return-1}}return n===y?N:-1}}},47707:function(Ct,we,t){"use strict";t.d(we,{i:function(){return W}});var h=t(97295);class W{static visibleColumnFromColumn(O,w,G){const x=O.length,N=w-1<x?w-1:x;let s=0,C=0;for(;C<N;){const l=h.ZH(O,N,C);if(C+=l>=65536?2:1,l===9)s=W.nextRenderTabStop(s,G);else{let m=h.S6(l);for(;C<N;){const y=h.ZH(O,N,C),n=h.S6(y);if(h.fi(m,n))break;C+=y>=65536?2:1,m=n}h.K7(l)||h.C8(l)?s=s+2:s=s+1}}return s}static visibleColumnsByColumns(O,w){const G=O.length;let x=new Array;x.push(-1);let N=0,s=0;for(;s<G;){const C=h.ZH(O,G,s);if(s+=C>=65536?2:1,x.push(N),C>=65536&&x.push(N),C===9)N=W.nextRenderTabStop(N,w);else{let l=h.S6(C);for(;s<G;){const m=h.ZH(O,G,s),y=h.S6(m);if(h.fi(l,y))break;s+=m>=65536?2:1,x.push(N),C>=65536&&x.push(N),l=y}h.K7(C)||h.C8(C)?N=N+2:N=N+1}}return x.push(N),x}static visibleColumnFromColumn2(O,w,G){return this.visibleColumnFromColumn(w.getLineContent(G.lineNumber),G.column,O.tabSize)}static columnFromVisibleColumn(O,w,G){if(w<=0)return 1;const x=O.length;let N=0,s=1,C=0;for(;C<x;){const l=h.ZH(O,x,C);C+=l>=65536?2:1;let m;if(l===9)m=W.nextRenderTabStop(N,G);else{let n=h.S6(l);for(;C<x;){const p=h.ZH(O,x,C),f=h.S6(p);if(h.fi(n,f))break;C+=p>=65536?2:1,n=f}h.K7(l)||h.C8(l)?m=N+2:m=N+1}const y=C+1;if(m>=w){const n=w-N;return m-w<n?y:s}N=m,s=y}return x+1}static columnFromVisibleColumn2(O,w,G,x){let N=this.columnFromVisibleColumn(w.getLineContent(G),x,O.tabSize),s=w.getLineMinColumn(G);if(N<s)return s;let C=w.getLineMaxColumn(G);return N>C?C:N}static nextRenderTabStop(O,w){return O+w-O%w}static nextIndentTabStop(O,w){return O+w-O%w}static prevRenderTabStop(O,w){return Math.max(0,O-1-(O-1)%w)}static prevIndentTabStop(O,w){return Math.max(0,O-1-(O-1)%w)}}},33181:function(Ct,we,t){"use strict";t.d(we,{LM:function(){return l},LN:function(){return d},Tp:function(){return v},Vi:function(){return f},io:function(){return x.i},rS:function(){return m},zp:function(){return y}});var h=t(17301),W=t(50187),k=t(24314),O=t(3860),w=t(24979),G=t(94660),x=t(47707);const N=()=>!0,s=()=>!1,C=a=>a===" "||a==="	";class l{constructor(u,c,b){this._cursorMoveConfigurationBrand=void 0,this._languageId=u;const L=b.options,R=L.get(129);this.readOnly=L.get(80),this.tabSize=c.tabSize,this.indentSize=c.indentSize,this.insertSpaces=c.insertSpaces,this.stickyTabStops=L.get(103),this.lineHeight=L.get(58),this.pageSize=Math.max(1,Math.floor(R.height/this.lineHeight)-2),this.useTabStops=L.get(114),this.wordSeparators=L.get(115),this.emptySelectionClipboard=L.get(32),this.copyWithSyntaxHighlighting=L.get(21),this.multiCursorMergeOverlapping=L.get(68),this.multiCursorPaste=L.get(70),this.autoClosingBrackets=L.get(5),this.autoClosingQuotes=L.get(8),this.autoClosingDelete=L.get(6),this.autoClosingOvertype=L.get(7),this.autoSurround=L.get(11),this.autoIndent=L.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:l._getShouldAutoClose(u,this.autoClosingQuotes),bracket:l._getShouldAutoClose(u,this.autoClosingBrackets)},this.autoClosingPairs=G.zu.getAutoClosingPairs(u);let T=l._getSurroundingPairs(u);if(T)for(const j of T)this.surroundingPairs[j.open]=j.close}static shouldRecreate(u){return u.hasChanged(129)||u.hasChanged(115)||u.hasChanged(32)||u.hasChanged(68)||u.hasChanged(70)||u.hasChanged(5)||u.hasChanged(8)||u.hasChanged(6)||u.hasChanged(7)||u.hasChanged(11)||u.hasChanged(114)||u.hasChanged(58)||u.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let u=l._getElectricCharacters(this._languageId);if(u)for(const c of u)this._electricChars[c]=!0}return this._electricChars}normalizeIndentation(u){return w.yO.normalizeIndentation(u,this.indentSize,this.insertSpaces)}static _getElectricCharacters(u){try{return G.zu.getElectricCharacters(u)}catch(c){return(0,h.dL)(c),null}}static _getShouldAutoClose(u,c){switch(c){case"beforeWhitespace":return C;case"languageDefined":return l._getLanguageDefinedShouldAutoClose(u);case"always":return N;case"never":return s}}static _getLanguageDefinedShouldAutoClose(u){try{const c=G.zu.getAutoCloseBeforeSet(u);return b=>c.indexOf(b)!==-1}catch(c){return(0,h.dL)(c),s}}static _getSurroundingPairs(u){try{return G.zu.getSurroundingPairs(u)}catch(c){return(0,h.dL)(c),null}}}class m{constructor(u,c,b,L){this._singleCursorStateBrand=void 0,this.selectionStart=u,this.selectionStartLeftoverVisibleColumns=c,this.position=b,this.leftoverVisibleColumns=L,this.selection=m._computeSelection(this.selectionStart,this.position)}equals(u){return this.selectionStartLeftoverVisibleColumns===u.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===u.leftoverVisibleColumns&&this.position.equals(u.position)&&this.selectionStart.equalsRange(u.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(u,c,b,L){return u?new m(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new W.L(c,b),L):new m(new k.e(c,b,c,b),L,new W.L(c,b),L)}static _computeSelection(u,c){let b,L,R,T;return u.isEmpty()?(b=u.startLineNumber,L=u.startColumn,R=c.lineNumber,T=c.column):c.isBeforeOrEqual(u.getStartPosition())?(b=u.endLineNumber,L=u.endColumn,R=c.lineNumber,T=c.column):(b=u.startLineNumber,L=u.startColumn,R=c.lineNumber,T=c.column),new O.Y(b,L,R,T)}}class y{constructor(u,c,b,L){this._cursorContextBrand=void 0,this.model=u,this.viewModel=c,this.coordinatesConverter=b,this.cursorConfig=L}}class n{constructor(u){this.modelState=u,this.viewState=null}}class p{constructor(u){this.modelState=null,this.viewState=u}}class f{constructor(u,c){this._cursorStateBrand=void 0,this.modelState=u,this.viewState=c}static fromModelState(u){return new n(u)}static fromViewState(u){return new p(u)}static fromModelSelection(u){const c=u.selectionStartLineNumber,b=u.selectionStartColumn,L=u.positionLineNumber,R=u.positionColumn,T=new m(new k.e(c,b,c,b),0,new W.L(L,R),0);return f.fromModelState(T)}static fromModelSelections(u){let c=[];for(let b=0,L=u.length;b<L;b++)c[b]=this.fromModelSelection(u[b]);return c}equals(u){return this.viewState.equals(u.viewState)&&this.modelState.equals(u.modelState)}}class v{constructor(u,c,b){this._editOperationResultBrand=void 0,this.type=u,this.commands=c,this.shouldPushStackElementBefore=b.shouldPushStackElementBefore,this.shouldPushStackElementAfter=b.shouldPushStackElementAfter}}function d(a){return a==="'"||a==='"'||a==="`"}},31380:function(Ct,we,t){"use strict";t.d(we,{A:function(){return x}});var h=t(97295),W=t(61329),k=t(33181),O=t(88784),w=t(24314),G=t(50187);class x{static deleteRight(s,C,l,m){let y=[],n=s!==3;for(let p=0,f=m.length;p<f;p++){const v=m[p];let d=v;if(d.isEmpty()){let a=v.getPosition(),u=O.o.right(C,l,a);d=new w.e(u.lineNumber,u.column,a.lineNumber,a.column)}if(d.isEmpty()){y[p]=null;continue}d.startLineNumber!==d.endLineNumber&&(n=!0),y[p]=new W.T4(d,"")}return[n,y]}static isAutoClosingPairDelete(s,C,l,m,y,n,p){if(C==="never"&&l==="never"||s==="never")return!1;for(let f=0,v=n.length;f<v;f++){const d=n[f],a=d.getPosition();if(!d.isEmpty())return!1;const u=y.getLineContent(a.lineNumber);if(a.column<2||a.column>=u.length+1)return!1;const c=u.charAt(a.column-2),b=m.get(c);if(!b)return!1;if((0,k.LN)(c)){if(l==="never")return!1}else if(C==="never")return!1;const L=u.charAt(a.column-1);let R=!1;for(const T of b)T.open===c&&T.close===L&&(R=!0);if(!R)return!1;if(s==="auto"){let T=!1;for(let j=0,q=p.length;j<q;j++){const ie=p[j];if(a.lineNumber===ie.startLineNumber&&a.column===ie.startColumn){T=!0;break}}if(!T)return!1}}return!0}static _runAutoClosingPairDelete(s,C,l){let m=[];for(let y=0,n=l.length;y<n;y++){const p=l[y].getPosition(),f=new w.e(p.lineNumber,p.column-1,p.lineNumber,p.column+1);m[y]=new W.T4(f,"")}return[!0,m]}static deleteLeft(s,C,l,m,y){if(this.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,l,m,y))return this._runAutoClosingPairDelete(C,l,m);const n=[];let p=s!==2;for(let f=0,v=m.length;f<v;f++){let d=x.getDeleteRange(m[f],l,C);if(d.isEmpty()){n[f]=null;continue}d.startLineNumber!==d.endLineNumber&&(p=!0),n[f]=new W.T4(d,"")}return[p,n]}static getDeleteRange(s,C,l){if(!s.isEmpty())return s;const m=s.getPosition();if(l.useTabStops&&m.column>1){const y=C.getLineContent(m.lineNumber),n=h.LC(y),p=n===-1?y.length+1:n+1;if(m.column<=p){const f=k.io.visibleColumnFromColumn2(l,C,m),v=k.io.prevIndentTabStop(f,l.indentSize),d=k.io.columnFromVisibleColumn2(l,C,m.lineNumber,v);return new w.e(m.lineNumber,d,m.lineNumber,m.column)}}return w.e.fromPositions(x.getPositionAfterDeleteLeft(m,C),m)}static getPositionAfterDeleteLeft(s,C){if(s.column>1){const l=h.oH(s.column-1,C.getLineContent(s.lineNumber));return s.with(void 0,l+1)}else if(s.lineNumber>1){const l=s.lineNumber-1;return new G.L(l,C.getLineMaxColumn(l))}else return s}static cut(s,C,l){let m=[],y=null;l.sort((n,p)=>G.L.compare(n.getStartPosition(),p.getEndPosition()));for(let n=0,p=l.length;n<p;n++){const f=l[n];if(f.isEmpty())if(s.emptySelectionClipboard){let v=f.getPosition(),d,a,u,c;v.lineNumber<C.getLineCount()?(d=v.lineNumber,a=1,u=v.lineNumber+1,c=1):v.lineNumber>1&&(y==null?void 0:y.endLineNumber)!==v.lineNumber?(d=v.lineNumber-1,a=C.getLineMaxColumn(v.lineNumber-1),u=v.lineNumber,c=C.getLineMaxColumn(v.lineNumber)):(d=v.lineNumber,a=1,u=v.lineNumber,c=C.getLineMaxColumn(v.lineNumber));let b=new w.e(d,a,u,c);y=b,b.isEmpty()?m[n]=null:m[n]=new W.T4(b,"")}else m[n]=null;else m[n]=new W.T4(f,"")}return new k.Tp(0,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},83814:function(Ct,we,t){"use strict";t.d(we,{N:function(){return N},P:function(){return x}});var h=t(98401),W=t(33181),k=t(88784),O=t(5795),w=t(50187),G=t(24314);class x{static addCursorDown(C,l,m){let y=[],n=0;for(let p=0,f=l.length;p<f;p++){const v=l[p];y[n++]=new W.Vi(v.modelState,v.viewState),m?y[n++]=W.Vi.fromModelState(k.o.translateDown(C.cursorConfig,C.model,v.modelState)):y[n++]=W.Vi.fromViewState(k.o.translateDown(C.cursorConfig,C,v.viewState))}return y}static addCursorUp(C,l,m){let y=[],n=0;for(let p=0,f=l.length;p<f;p++){const v=l[p];y[n++]=new W.Vi(v.modelState,v.viewState),m?y[n++]=W.Vi.fromModelState(k.o.translateUp(C.cursorConfig,C.model,v.modelState)):y[n++]=W.Vi.fromViewState(k.o.translateUp(C.cursorConfig,C,v.viewState))}return y}static moveToBeginningOfLine(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n];y[n]=this._moveToLineStart(C,f,m)}return y}static _moveToLineStart(C,l,m){const y=l.viewState.position.column,n=l.modelState.position.column,p=y===n,f=l.viewState.position.lineNumber,v=C.getLineFirstNonWhitespaceColumn(f);return!p&&!(y===v)?this._moveToLineStartByView(C,l,m):this._moveToLineStartByModel(C,l,m)}static _moveToLineStartByView(C,l,m){return W.Vi.fromViewState(k.o.moveToBeginningOfLine(C.cursorConfig,C,l.viewState,m))}static _moveToLineStartByModel(C,l,m){return W.Vi.fromModelState(k.o.moveToBeginningOfLine(C.cursorConfig,C.model,l.modelState,m))}static moveToEndOfLine(C,l,m,y){let n=[];for(let p=0,f=l.length;p<f;p++){const v=l[p];n[p]=this._moveToLineEnd(C,v,m,y)}return n}static _moveToLineEnd(C,l,m,y){const n=l.viewState.position,p=C.getLineMaxColumn(n.lineNumber),f=n.column===p,v=l.modelState.position,d=C.model.getLineMaxColumn(v.lineNumber),a=p-n.column===d-v.column;return f||a?this._moveToLineEndByModel(C,l,m,y):this._moveToLineEndByView(C,l,m,y)}static _moveToLineEndByView(C,l,m,y){return W.Vi.fromViewState(k.o.moveToEndOfLine(C.cursorConfig,C,l.viewState,m,y))}static _moveToLineEndByModel(C,l,m,y){return W.Vi.fromModelState(k.o.moveToEndOfLine(C.cursorConfig,C.model,l.modelState,m,y))}static expandLineSelection(C,l){let m=[];for(let y=0,n=l.length;y<n;y++){const p=l[y],f=p.modelState.selection.startLineNumber,v=C.model.getLineCount();let d=p.modelState.selection.endLineNumber,a;d===v?a=C.model.getLineMaxColumn(v):(d++,a=1),m[y]=W.Vi.fromModelState(new W.rS(new G.e(f,1,f,1),0,new w.L(d,a),0))}return m}static moveToBeginningOfBuffer(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n];y[n]=W.Vi.fromModelState(k.o.moveToBeginningOfBuffer(C.cursorConfig,C.model,f.modelState,m))}return y}static moveToEndOfBuffer(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n];y[n]=W.Vi.fromModelState(k.o.moveToEndOfBuffer(C.cursorConfig,C.model,f.modelState,m))}return y}static selectAll(C,l){const m=C.model.getLineCount(),y=C.model.getLineMaxColumn(m);return W.Vi.fromModelState(new W.rS(new G.e(1,1,1,1),0,new w.L(m,y),0))}static line(C,l,m,y,n){const p=C.model.validatePosition(y),f=n?C.coordinatesConverter.validateViewPosition(new w.L(n.lineNumber,n.column),p):C.coordinatesConverter.convertModelPositionToViewPosition(p);if(!m||!l.modelState.hasSelection()){const d=C.model.getLineCount();let a=p.lineNumber+1,u=1;return a>d&&(a=d,u=C.model.getLineMaxColumn(a)),W.Vi.fromModelState(new W.rS(new G.e(p.lineNumber,1,a,u),0,new w.L(a,u),0))}const v=l.modelState.selectionStart.getStartPosition().lineNumber;if(p.lineNumber<v)return W.Vi.fromViewState(l.viewState.move(l.modelState.hasSelection(),f.lineNumber,1,0));if(p.lineNumber>v){const d=C.getLineCount();let a=f.lineNumber+1,u=1;return a>d&&(a=d,u=C.getLineMaxColumn(a)),W.Vi.fromViewState(l.viewState.move(l.modelState.hasSelection(),a,u,0))}else{const d=l.modelState.selectionStart.getEndPosition();return W.Vi.fromModelState(l.modelState.move(l.modelState.hasSelection(),d.lineNumber,d.column,0))}}static word(C,l,m,y){const n=C.model.validatePosition(y);return W.Vi.fromModelState(O.w.word(C.cursorConfig,C.model,l.modelState,m,n))}static cancelSelection(C,l){if(!l.modelState.hasSelection())return new W.Vi(l.modelState,l.viewState);const m=l.viewState.position.lineNumber,y=l.viewState.position.column;return W.Vi.fromViewState(new W.rS(new G.e(m,y,m,y),0,new w.L(m,y),0))}static moveTo(C,l,m,y,n){const p=C.model.validatePosition(y),f=n?C.coordinatesConverter.validateViewPosition(new w.L(n.lineNumber,n.column),p):C.coordinatesConverter.convertModelPositionToViewPosition(p);return W.Vi.fromViewState(l.viewState.move(m,f.lineNumber,f.column,0))}static simpleMove(C,l,m,y,n,p){switch(m){case 0:return p===4?this._moveHalfLineLeft(C,l,y):this._moveLeft(C,l,y,n);case 1:return p===4?this._moveHalfLineRight(C,l,y):this._moveRight(C,l,y,n);case 2:return p===2?this._moveUpByViewLines(C,l,y,n):this._moveUpByModelLines(C,l,y,n);case 3:return p===2?this._moveDownByViewLines(C,l,y,n):this._moveDownByModelLines(C,l,y,n);case 4:return p===2?l.map(f=>W.Vi.fromViewState(k.o.moveToPrevBlankLine(C.cursorConfig,C,f.viewState,y))):l.map(f=>W.Vi.fromModelState(k.o.moveToPrevBlankLine(C.cursorConfig,C.model,f.modelState,y)));case 5:return p===2?l.map(f=>W.Vi.fromViewState(k.o.moveToNextBlankLine(C.cursorConfig,C,f.viewState,y))):l.map(f=>W.Vi.fromModelState(k.o.moveToNextBlankLine(C.cursorConfig,C.model,f.modelState,y)));case 6:return this._moveToViewMinColumn(C,l,y);case 7:return this._moveToViewFirstNonWhitespaceColumn(C,l,y);case 8:return this._moveToViewCenterColumn(C,l,y);case 9:return this._moveToViewMaxColumn(C,l,y);case 10:return this._moveToViewLastNonWhitespaceColumn(C,l,y);default:return null}}static viewportMove(C,l,m,y,n){const p=C.getCompletelyVisibleViewRange(),f=C.coordinatesConverter.convertViewRangeToModelRange(p);switch(m){case 11:{const v=this._firstLineNumberInRange(C.model,f,n),d=C.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(C,l[0],y,v,d)]}case 13:{const v=this._lastLineNumberInRange(C.model,f,n),d=C.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(C,l[0],y,v,d)]}case 12:{const v=Math.round((f.startLineNumber+f.endLineNumber)/2),d=C.model.getLineFirstNonWhitespaceColumn(v);return[this._moveToModelPosition(C,l[0],y,v,d)]}case 14:{let v=[];for(let d=0,a=l.length;d<a;d++){const u=l[d];v[d]=this.findPositionInViewportIfOutside(C,u,p,y)}return v}default:return null}}static findPositionInViewportIfOutside(C,l,m,y){let n=l.viewState.position.lineNumber;if(m.startLineNumber<=n&&n<=m.endLineNumber-1)return new W.Vi(l.modelState,l.viewState);{let p;n>m.endLineNumber-1?p=m.endLineNumber-1:n<m.startLineNumber?p=m.startLineNumber:p=n;const f=k.o.vertical(C.cursorConfig,C,n,l.viewState.position.column,l.viewState.leftoverVisibleColumns,p,!1);return W.Vi.fromViewState(l.viewState.move(y,f.lineNumber,f.column,f.leftoverVisibleColumns))}}static _firstLineNumberInRange(C,l,m){let y=l.startLineNumber;return l.startColumn!==C.getLineMinColumn(y)&&y++,Math.min(l.endLineNumber,y+m-1)}static _lastLineNumberInRange(C,l,m){let y=l.startLineNumber;return l.startColumn!==C.getLineMinColumn(y)&&y++,Math.max(y,l.endLineNumber-m+1)}static _moveLeft(C,l,m,y){return l.map(n=>W.Vi.fromViewState(k.o.moveLeft(C.cursorConfig,C,n.viewState,m,y)))}static _moveHalfLineLeft(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n],v=f.viewState.position.lineNumber,d=Math.round(C.getLineContent(v).length/2);y[n]=W.Vi.fromViewState(k.o.moveLeft(C.cursorConfig,C,f.viewState,m,d))}return y}static _moveRight(C,l,m,y){return l.map(n=>W.Vi.fromViewState(k.o.moveRight(C.cursorConfig,C,n.viewState,m,y)))}static _moveHalfLineRight(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n],v=f.viewState.position.lineNumber,d=Math.round(C.getLineContent(v).length/2);y[n]=W.Vi.fromViewState(k.o.moveRight(C.cursorConfig,C,f.viewState,m,d))}return y}static _moveDownByViewLines(C,l,m,y){let n=[];for(let p=0,f=l.length;p<f;p++){const v=l[p];n[p]=W.Vi.fromViewState(k.o.moveDown(C.cursorConfig,C,v.viewState,m,y))}return n}static _moveDownByModelLines(C,l,m,y){let n=[];for(let p=0,f=l.length;p<f;p++){const v=l[p];n[p]=W.Vi.fromModelState(k.o.moveDown(C.cursorConfig,C.model,v.modelState,m,y))}return n}static _moveUpByViewLines(C,l,m,y){let n=[];for(let p=0,f=l.length;p<f;p++){const v=l[p];n[p]=W.Vi.fromViewState(k.o.moveUp(C.cursorConfig,C,v.viewState,m,y))}return n}static _moveUpByModelLines(C,l,m,y){let n=[];for(let p=0,f=l.length;p<f;p++){const v=l[p];n[p]=W.Vi.fromModelState(k.o.moveUp(C.cursorConfig,C.model,v.modelState,m,y))}return n}static _moveToViewPosition(C,l,m,y,n){return W.Vi.fromViewState(l.viewState.move(m,y,n,0))}static _moveToModelPosition(C,l,m,y,n){return W.Vi.fromModelState(l.modelState.move(m,y,n,0))}static _moveToViewMinColumn(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n],v=f.viewState.position.lineNumber,d=C.getLineMinColumn(v);y[n]=this._moveToViewPosition(C,f,m,v,d)}return y}static _moveToViewFirstNonWhitespaceColumn(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n],v=f.viewState.position.lineNumber,d=C.getLineFirstNonWhitespaceColumn(v);y[n]=this._moveToViewPosition(C,f,m,v,d)}return y}static _moveToViewCenterColumn(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n],v=f.viewState.position.lineNumber,d=Math.round((C.getLineMaxColumn(v)+C.getLineMinColumn(v))/2);y[n]=this._moveToViewPosition(C,f,m,v,d)}return y}static _moveToViewMaxColumn(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n],v=f.viewState.position.lineNumber,d=C.getLineMaxColumn(v);y[n]=this._moveToViewPosition(C,f,m,v,d)}return y}static _moveToViewLastNonWhitespaceColumn(C,l,m){let y=[];for(let n=0,p=l.length;n<p;n++){const f=l[n],v=f.viewState.position.lineNumber,d=C.getLineLastNonWhitespaceColumn(v);y[n]=this._moveToViewPosition(C,f,m,v,d)}return y}}var N;(function(s){const C=function(m){if(!h.Kn(m))return!1;let y=m;return!(!h.HD(y.to)||!h.o8(y.select)&&!h.jn(y.select)||!h.o8(y.by)&&!h.HD(y.by)||!h.o8(y.value)&&!h.hj(y.value))};s.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:C,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},s.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},s.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function l(m){if(!m.to)return null;let y;switch(m.to){case s.RawDirection.Left:y=0;break;case s.RawDirection.Right:y=1;break;case s.RawDirection.Up:y=2;break;case s.RawDirection.Down:y=3;break;case s.RawDirection.PrevBlankLine:y=4;break;case s.RawDirection.NextBlankLine:y=5;break;case s.RawDirection.WrappedLineStart:y=6;break;case s.RawDirection.WrappedLineFirstNonWhitespaceCharacter:y=7;break;case s.RawDirection.WrappedLineColumnCenter:y=8;break;case s.RawDirection.WrappedLineEnd:y=9;break;case s.RawDirection.WrappedLineLastNonWhitespaceCharacter:y=10;break;case s.RawDirection.ViewPortTop:y=11;break;case s.RawDirection.ViewPortBottom:y=13;break;case s.RawDirection.ViewPortCenter:y=12;break;case s.RawDirection.ViewPortIfOutside:y=14;break;default:return null}let n=0;switch(m.by){case s.RawUnit.Line:n=1;break;case s.RawUnit.WrappedLine:n=2;break;case s.RawUnit.Character:n=3;break;case s.RawUnit.HalfLine:n=4;break}return{direction:y,unit:n,select:!!m.select,value:m.value||1}}s.parse=l})(N||(N={}))},88784:function(Ct,we,t){"use strict";t.d(we,{o:function(){return x}});var h=t(33181),W=t(50187),k=t(24314),O=t(97295),w=t(3675);class G{constructor(s,C,l){this._cursorPositionBrand=void 0,this.lineNumber=s,this.column=C,this.leftoverVisibleColumns=l}}class x{static leftPosition(s,C){if(C.column>s.getLineMinColumn(C.lineNumber))return C.delta(void 0,-O.HO(s.getLineContent(C.lineNumber),C.column-1));if(C.lineNumber>1){const l=C.lineNumber-1;return new W.L(l,s.getLineMaxColumn(l))}else return C}static leftPositionAtomicSoftTabs(s,C,l){if(C.column<=s.getLineIndentColumn(C.lineNumber)){const m=s.getLineMinColumn(C.lineNumber),y=s.getLineContent(C.lineNumber),n=w.l.atomicPosition(y,C.column-1,l,0);if(n!==-1&&n+1>=m)return new W.L(C.lineNumber,n+1)}return this.leftPosition(s,C)}static left(s,C,l){const m=s.stickyTabStops?x.leftPositionAtomicSoftTabs(C,l,s.tabSize):x.leftPosition(C,l);return new G(m.lineNumber,m.column,0)}static moveLeft(s,C,l,m,y){let n,p;if(l.hasSelection()&&!m)n=l.selection.startLineNumber,p=l.selection.startColumn;else{const f=l.position.delta(void 0,-(y-1)),v=C.normalizePosition(x.clipPositionColumn(f,C),0),d=x.left(s,C,v);n=d.lineNumber,p=d.column}return l.move(m,n,p,0)}static clipPositionColumn(s,C){return new W.L(s.lineNumber,x.clipRange(s.column,C.getLineMinColumn(s.lineNumber),C.getLineMaxColumn(s.lineNumber)))}static clipRange(s,C,l){return s<C?C:s>l?l:s}static rightPosition(s,C,l){return l<s.getLineMaxColumn(C)?l=l+O.vH(s.getLineContent(C),l-1):C<s.getLineCount()&&(C=C+1,l=s.getLineMinColumn(C)),new W.L(C,l)}static rightPositionAtomicSoftTabs(s,C,l,m,y){if(l<s.getLineIndentColumn(C)){const n=s.getLineContent(C),p=w.l.atomicPosition(n,l-1,m,1);if(p!==-1)return new W.L(C,p+1)}return this.rightPosition(s,C,l)}static right(s,C,l){const m=s.stickyTabStops?x.rightPositionAtomicSoftTabs(C,l.lineNumber,l.column,s.tabSize,s.indentSize):x.rightPosition(C,l.lineNumber,l.column);return new G(m.lineNumber,m.column,0)}static moveRight(s,C,l,m,y){let n,p;if(l.hasSelection()&&!m)n=l.selection.endLineNumber,p=l.selection.endColumn;else{const f=l.position.delta(void 0,y-1),v=C.normalizePosition(x.clipPositionColumn(f,C),1),d=x.right(s,C,v);n=d.lineNumber,p=d.column}return l.move(m,n,p,0)}static vertical(s,C,l,m,y,n,p){const f=h.io.visibleColumnFromColumn(C.getLineContent(l),m,s.tabSize)+y,v=C.getLineCount(),d=l===1&&m===1,a=l===v&&m===C.getLineMaxColumn(l),u=n<l?d:a;return l=n,l<1?(l=1,p?m=C.getLineMinColumn(l):m=Math.min(C.getLineMaxColumn(l),m)):l>v?(l=v,p?m=C.getLineMaxColumn(l):m=Math.min(C.getLineMaxColumn(l),m)):m=h.io.columnFromVisibleColumn2(s,C,l,f),u?y=0:y=f-h.io.visibleColumnFromColumn(C.getLineContent(l),m,s.tabSize),new G(l,m,y)}static down(s,C,l,m,y,n,p){return this.vertical(s,C,l,m,y,l+n,p)}static moveDown(s,C,l,m,y){let n,p;l.hasSelection()&&!m?(n=l.selection.endLineNumber,p=l.selection.endColumn):(n=l.position.lineNumber,p=l.position.column);let f=x.down(s,C,n,p,l.leftoverVisibleColumns,y,!0);return l.move(m,f.lineNumber,f.column,f.leftoverVisibleColumns)}static translateDown(s,C,l){let m=l.selection,y=x.down(s,C,m.selectionStartLineNumber,m.selectionStartColumn,l.selectionStartLeftoverVisibleColumns,1,!1),n=x.down(s,C,m.positionLineNumber,m.positionColumn,l.leftoverVisibleColumns,1,!1);return new h.rS(new k.e(y.lineNumber,y.column,y.lineNumber,y.column),y.leftoverVisibleColumns,new W.L(n.lineNumber,n.column),n.leftoverVisibleColumns)}static up(s,C,l,m,y,n,p){return this.vertical(s,C,l,m,y,l-n,p)}static moveUp(s,C,l,m,y){let n,p;l.hasSelection()&&!m?(n=l.selection.startLineNumber,p=l.selection.startColumn):(n=l.position.lineNumber,p=l.position.column);let f=x.up(s,C,n,p,l.leftoverVisibleColumns,y,!0);return l.move(m,f.lineNumber,f.column,f.leftoverVisibleColumns)}static translateUp(s,C,l){let m=l.selection,y=x.up(s,C,m.selectionStartLineNumber,m.selectionStartColumn,l.selectionStartLeftoverVisibleColumns,1,!1),n=x.up(s,C,m.positionLineNumber,m.positionColumn,l.leftoverVisibleColumns,1,!1);return new h.rS(new k.e(y.lineNumber,y.column,y.lineNumber,y.column),y.leftoverVisibleColumns,new W.L(n.lineNumber,n.column),n.leftoverVisibleColumns)}static _isBlankLine(s,C){return s.getLineFirstNonWhitespaceColumn(C)===0}static moveToPrevBlankLine(s,C,l,m){let y=l.position.lineNumber;for(;y>1&&this._isBlankLine(C,y);)y--;for(;y>1&&!this._isBlankLine(C,y);)y--;return l.move(m,y,C.getLineMinColumn(y),0)}static moveToNextBlankLine(s,C,l,m){const y=C.getLineCount();let n=l.position.lineNumber;for(;n<y&&this._isBlankLine(C,n);)n++;for(;n<y&&!this._isBlankLine(C,n);)n++;return l.move(m,n,C.getLineMinColumn(n),0)}static moveToBeginningOfLine(s,C,l,m){let y=l.position.lineNumber,n=C.getLineMinColumn(y),p=C.getLineFirstNonWhitespaceColumn(y)||n,f;return l.position.column===p?f=n:f=p,l.move(m,y,f,0)}static moveToEndOfLine(s,C,l,m,y){let n=l.position.lineNumber,p=C.getLineMaxColumn(n);return l.move(m,n,p,y?1073741824-p:0)}static moveToBeginningOfBuffer(s,C,l,m){return l.move(m,1,1,0)}static moveToEndOfBuffer(s,C,l,m){let y=C.getLineCount(),n=C.getLineMaxColumn(y);return l.move(m,y,n,0)}}},28792:function(Ct,we,t){"use strict";t.d(we,{u:function(){return m},g:function(){return y}});var h=t(17301),W=t(97295),k=t(61329),O=t(10291),w=t(24314),G=t(3860);class x{constructor(a,u,c){this._range=a,this._charBeforeSelection=u,this._charAfterSelection=c}getEditOperations(a,u){u.addTrackedEditOperation(new w.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),u.addTrackedEditOperation(new w.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(a,u){let c=u.getInverseEditOperations(),b=c[0].range,L=c[1].range;return new G.Y(b.endLineNumber,b.endColumn,L.endLineNumber,L.endColumn-this._charAfterSelection.length)}}var N=t(33181),s=t(59410),C=t(97354),l=t(94660);class m{static indent(a,u,c){if(u===null||c===null)return[];let b=[];for(let L=0,R=c.length;L<R;L++)b[L]=new O.U(c[L],{isUnshift:!1,tabSize:a.tabSize,indentSize:a.indentSize,insertSpaces:a.insertSpaces,useTabStops:a.useTabStops,autoIndent:a.autoIndent});return b}static outdent(a,u,c){let b=[];for(let L=0,R=c.length;L<R;L++)b[L]=new O.U(c[L],{isUnshift:!0,tabSize:a.tabSize,indentSize:a.indentSize,insertSpaces:a.insertSpaces,useTabStops:a.useTabStops,autoIndent:a.autoIndent});return b}static shiftIndent(a,u,c){return c=c||1,O.U.shiftIndent(u,u.length+c,a.tabSize,a.indentSize,a.insertSpaces)}static unshiftIndent(a,u,c){return c=c||1,O.U.unshiftIndent(u,u.length+c,a.tabSize,a.indentSize,a.insertSpaces)}static _distributedPaste(a,u,c,b){let L=[];for(let R=0,T=c.length;R<T;R++)L[R]=new k.T4(c[R],b[R]);return new N.Tp(0,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(a,u,c,b,L){let R=[];for(let T=0,j=c.length;T<j;T++){const q=c[T];let ie=q.getPosition();if(L&&!q.isEmpty()&&(L=!1),L&&b.indexOf(`
`)!==b.length-1&&(L=!1),L){let ne=new w.e(ie.lineNumber,1,ie.lineNumber,1);R[T]=new k.hP(ne,b,q,!0)}else R[T]=new k.T4(q,b)}return new N.Tp(0,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(a,u,c,b,L){if(b||u.length===1)return null;if(L&&L.length===u.length)return L;if(a.multiCursorPaste==="spread"){c.charCodeAt(c.length-1)===10&&(c=c.substr(0,c.length-1)),c.charCodeAt(c.length-1)===13&&(c=c.substr(0,c.length-1));let R=W.uq(c);if(R.length===u.length)return R}return null}static paste(a,u,c,b,L,R){const T=this._distributePasteToCursors(a,c,b,L,R);return T?(c=c.sort(w.e.compareRangesUsingStarts),this._distributedPaste(a,u,c,T)):this._simplePaste(a,u,c,b,L)}static _goodIndentForLine(a,u,c){let b=null,L="";const R=l.zu.getInheritIndentForLine(a.autoIndent,u,c,!1);if(R)b=R.action,L=R.indentation;else if(c>1){let T;for(T=c-1;T>=1;T--){const ie=u.getLineContent(T);if(W.ow(ie)>=0)break}if(T<1)return null;const j=u.getLineMaxColumn(T),q=l.zu.getEnterAction(a.autoIndent,u,new w.e(T,j,T,j));q&&(L=q.indentation+q.appendText)}return b&&(b===C.wU.Indent&&(L=m.shiftIndent(a,L)),b===C.wU.Outdent&&(L=m.unshiftIndent(a,L)),L=a.normalizeIndentation(L)),L||null}static _replaceJumpToNextIndent(a,u,c,b){let L="",R=c.getStartPosition();if(a.insertSpaces){let T=N.io.visibleColumnFromColumn2(a,u,R),j=a.indentSize,q=j-T%j;for(let ie=0;ie<q;ie++)L+=" "}else L="	";return new k.T4(c,L,b)}static tab(a,u,c){let b=[];for(let L=0,R=c.length;L<R;L++){const T=c[L];if(T.isEmpty()){let j=u.getLineContent(T.startLineNumber);if(/^\s*$/.test(j)&&u.isCheapToTokenize(T.startLineNumber)){let q=this._goodIndentForLine(a,u,T.startLineNumber);q=q||"	";let ie=a.normalizeIndentation(q);if(!j.startsWith(ie)){b[L]=new k.T4(new w.e(T.startLineNumber,1,T.startLineNumber,j.length+1),ie,!0);continue}}b[L]=this._replaceJumpToNextIndent(a,u,T,!0)}else{if(T.startLineNumber===T.endLineNumber){let j=u.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==j){b[L]=this._replaceJumpToNextIndent(a,u,T,!1);continue}}b[L]=new O.U(T,{isUnshift:!1,tabSize:a.tabSize,indentSize:a.indentSize,insertSpaces:a.insertSpaces,useTabStops:a.useTabStops,autoIndent:a.autoIndent})}}return b}static compositionType(a,u,c,b,L,R,T,j){const q=b.map(ie=>this._compositionType(c,ie,L,R,T,j));return new N.Tp(4,q,{shouldPushStackElementBefore:p(a,4),shouldPushStackElementAfter:!1})}static _compositionType(a,u,c,b,L,R){if(!u.isEmpty())return null;const T=u.getPosition(),j=Math.max(1,T.column-b),q=Math.min(a.getLineMaxColumn(T.lineNumber),T.column+L),ie=new w.e(T.lineNumber,j,T.lineNumber,q);return a.getValueInRange(ie)===c&&R===0?null:new k.Uo(ie,c,0,R)}static _typeCommand(a,u,c){return c?new k.Sj(a,u,!0):new k.T4(a,u,!0)}static _enter(a,u,c,b){if(a.autoIndent===0)return m._typeCommand(b,`
`,c);if(!u.isCheapToTokenize(b.getStartPosition().lineNumber)||a.autoIndent===1){let j=u.getLineContent(b.startLineNumber),q=W.V8(j).substring(0,b.startColumn-1);return m._typeCommand(b,`
`+a.normalizeIndentation(q),c)}const L=l.zu.getEnterAction(a.autoIndent,u,b);if(L){if(L.indentAction===C.wU.None)return m._typeCommand(b,`
`+a.normalizeIndentation(L.indentation+L.appendText),c);if(L.indentAction===C.wU.Indent)return m._typeCommand(b,`
`+a.normalizeIndentation(L.indentation+L.appendText),c);if(L.indentAction===C.wU.IndentOutdent){const j=a.normalizeIndentation(L.indentation),q=a.normalizeIndentation(L.indentation+L.appendText),ie=`
`+q+`
`+j;return c?new k.Sj(b,ie,!0):new k.Uo(b,ie,-1,q.length-j.length,!0)}else if(L.indentAction===C.wU.Outdent){const j=m.unshiftIndent(a,L.indentation);return m._typeCommand(b,`
`+a.normalizeIndentation(j+L.appendText),c)}}const R=u.getLineContent(b.startLineNumber),T=W.V8(R).substring(0,b.startColumn-1);if(a.autoIndent>=4){const j=l.zu.getIndentForEnter(a.autoIndent,u,b,{unshiftIndent:q=>m.unshiftIndent(a,q),shiftIndent:q=>m.shiftIndent(a,q),normalizeIndentation:q=>a.normalizeIndentation(q)});if(j){let q=N.io.visibleColumnFromColumn2(a,u,b.getEndPosition());const ie=b.endColumn,ne=u.getLineContent(b.endLineNumber),he=W.LC(ne);if(he>=0?b=b.setEndPosition(b.endLineNumber,Math.max(b.endColumn,he+1)):b=b.setEndPosition(b.endLineNumber,u.getLineMaxColumn(b.endLineNumber)),c)return new k.Sj(b,`
`+a.normalizeIndentation(j.afterEnter),!0);{let $=0;return ie<=he+1&&(a.insertSpaces||(q=Math.ceil(q/a.indentSize)),$=Math.min(q+1-a.normalizeIndentation(j.afterEnter).length-1,0)),new k.Uo(b,`
`+a.normalizeIndentation(j.afterEnter),0,$,!0)}}}return m._typeCommand(b,`
`+a.normalizeIndentation(T),c)}static _isAutoIndentType(a,u,c){if(a.autoIndent<4)return!1;for(let b=0,L=c.length;b<L;b++)if(!u.isCheapToTokenize(c[b].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(a,u,c,b){const L=l.zu.getIndentationAtPosition(u,c.startLineNumber,c.startColumn),R=l.zu.getIndentActionForType(a.autoIndent,u,c,b,{shiftIndent:T=>m.shiftIndent(a,T),unshiftIndent:T=>m.unshiftIndent(a,T)});if(R===null)return null;if(R!==a.normalizeIndentation(L)){const T=u.getLineFirstNonWhitespaceColumn(c.startLineNumber);return T===0?m._typeCommand(new w.e(c.startLineNumber,1,c.endLineNumber,c.endColumn),a.normalizeIndentation(R)+b,!1):m._typeCommand(new w.e(c.startLineNumber,1,c.endLineNumber,c.endColumn),a.normalizeIndentation(R)+u.getLineContent(c.startLineNumber).substring(T-1,c.startColumn-1)+b,!1)}return null}static _isAutoClosingOvertype(a,u,c,b,L){if(a.autoClosingOvertype==="never"||!a.autoClosingPairs.autoClosingPairsCloseSingleChar.has(L))return!1;for(let R=0,T=c.length;R<T;R++){const j=c[R];if(!j.isEmpty())return!1;const q=j.getPosition(),ie=u.getLineContent(q.lineNumber);if(ie.charAt(q.column-1)!==L)return!1;const he=(0,N.LN)(L);if((q.column>2?ie.charCodeAt(q.column-2):0)===92&&he)return!1;if(a.autoClosingOvertype==="auto"){let V=!1;for(let z=0,Q=b.length;z<Q;z++){const le=b[z];if(q.lineNumber===le.startLineNumber&&q.column===le.startColumn){V=!0;break}}if(!V)return!1}}return!0}static _runAutoClosingOvertype(a,u,c,b,L){let R=[];for(let T=0,j=b.length;T<j;T++){const ie=b[T].getPosition(),ne=new w.e(ie.lineNumber,ie.column,ie.lineNumber,ie.column+1);R[T]=new k.T4(ne,L)}return new N.Tp(4,R,{shouldPushStackElementBefore:p(a,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(a,u){const c=u.charAt(0),b=a.autoClosingPairs.autoClosingPairsOpenByStart.get(c)||[],L=a.autoClosingPairs.autoClosingPairsCloseByStart.get(c)||[],R=b.some(j=>u.startsWith(j.open)),T=L.some(j=>u.startsWith(j.close));return!R&&T}static _findAutoClosingPairOpen(a,u,c,b){const L=a.autoClosingPairs.autoClosingPairsOpenByEnd.get(b);if(!L)return null;let R=null;for(const T of L)if(R===null||T.open.length>R.open.length){let j=!0;for(const q of c)if(u.getValueInRange(new w.e(q.lineNumber,q.column-T.open.length+1,q.lineNumber,q.column))+b!==T.open){j=!1;break}j&&(R=T)}return R}static _findSubAutoClosingPairClose(a,u){if(u.open.length<=1)return"";const c=u.close.charAt(u.close.length-1),b=a.autoClosingPairs.autoClosingPairsCloseByEnd.get(c)||[];let L=null;for(const R of b)R.open!==u.open&&u.open.includes(R.open)&&u.close.endsWith(R.close)&&(!L||R.open.length>L.open.length)&&(L=R);return L?L.close:""}static _getAutoClosingPairClose(a,u,c,b,L){const R=(0,N.LN)(b),T=R?a.autoClosingQuotes:a.autoClosingBrackets;if(T==="never")return null;const j=this._findAutoClosingPairOpen(a,u,c.map(he=>he.getPosition()),b);if(!j)return null;const q=this._findSubAutoClosingPairClose(a,j);let ie=!0;const ne=R?a.shouldAutoCloseBefore.quote:a.shouldAutoCloseBefore.bracket;for(let he=0,$=c.length;he<$;he++){const V=c[he];if(!V.isEmpty())return null;const z=V.getPosition(),Q=u.getLineContent(z.lineNumber),le=Q.substring(z.column-1);if(le.startsWith(q)||(ie=!1),Q.length>z.column-1){const A=Q.charAt(z.column-1);if(!m._isBeforeClosingBrace(a,le)&&!ne(A))return null}if(!u.isCheapToTokenize(z.lineNumber))return null;if(j.open.length===1&&(b==="'"||b==='"')&&T!=="always"){const A=(0,s.u)(a.wordSeparators);if(L&&z.column>1&&A.get(Q.charCodeAt(z.column-2))===0||!L&&z.column>2&&A.get(Q.charCodeAt(z.column-3))===0)return null}u.forceTokenization(z.lineNumber);const E=u.getLineTokens(z.lineNumber);let I=!1;try{I=l.zu.shouldAutoClosePair(j,E,L?z.column:z.column-1)}catch(A){(0,h.dL)(A)}if(!I)return null}return ie?j.close.substring(0,j.close.length-q.length):j.close}static _runAutoClosingOpenCharType(a,u,c,b,L,R,T){let j=[];for(let q=0,ie=b.length;q<ie;q++){const ne=b[q];j[q]=new y(ne,L,R,T)}return new N.Tp(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(a,u){return(0,N.LN)(u)?a.autoSurround==="quotes"||a.autoSurround==="languageDefined":a.autoSurround==="brackets"||a.autoSurround==="languageDefined"}static _isSurroundSelectionType(a,u,c,b){if(!m._shouldSurroundChar(a,b)||!a.surroundingPairs.hasOwnProperty(b))return!1;const L=(0,N.LN)(b);for(let R=0,T=c.length;R<T;R++){const j=c[R];if(j.isEmpty())return!1;let q=!0;for(let ie=j.startLineNumber;ie<=j.endLineNumber;ie++){const ne=u.getLineContent(ie),he=ie===j.startLineNumber?j.startColumn-1:0,$=ie===j.endLineNumber?j.endColumn-1:ne.length,V=ne.substring(he,$);if(/[^ \t]/.test(V)){q=!1;break}}if(q)return!1;if(L&&j.startLineNumber===j.endLineNumber&&j.startColumn+1===j.endColumn){const ie=u.getValueInRange(j);if((0,N.LN)(ie))return!1}}return!0}static _runSurroundSelectionType(a,u,c,b,L){let R=[];for(let T=0,j=b.length;T<j;T++){const q=b[T],ie=u.surroundingPairs[L];R[T]=new x(q,L,ie)}return new N.Tp(0,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(a,u,c){return!!(c.length===1&&u.isCheapToTokenize(c[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(a,u,c,b,L){if(!u.electricChars.hasOwnProperty(L)||!b.isEmpty())return null;let R=b.getPosition();c.forceTokenization(R.lineNumber);let T=c.getLineTokens(R.lineNumber),j;try{j=l.zu.onElectricCharacter(L,T,R.column)}catch(q){return(0,h.dL)(q),null}if(!j)return null;if(j.matchOpenBracket){let q=(T.getLineContent()+L).lastIndexOf(j.matchOpenBracket)+1,ie=c.findMatchingBracketUp(j.matchOpenBracket,{lineNumber:R.lineNumber,column:q});if(ie){if(ie.startLineNumber===R.lineNumber)return null;let ne=c.getLineContent(ie.startLineNumber),he=W.V8(ne),$=u.normalizeIndentation(he),V=c.getLineContent(R.lineNumber),z=c.getLineFirstNonWhitespaceColumn(R.lineNumber)||R.column,Q=V.substring(z-1,R.column-1),le=$+Q+L,E=new w.e(R.lineNumber,1,R.lineNumber,R.column);const I=new k.T4(E,le);return new N.Tp(n(le,a),[I],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(a,u,c,b,L,R){if(!b||G.Y.selectionsArrEqual(b,L))return null;let T=null;for(const q of L){if(!q.isEmpty())return null;const ie=q.getPosition(),ne=c.getValueInRange(new w.e(ie.lineNumber,ie.column-1,ie.lineNumber,ie.column));if(T===null)T=ne;else if(T!==ne)return null}if(!T)return null;if(this._isAutoClosingOvertype(u,c,L,R,T)){const q=L.map(ie=>new k.T4(new w.e(ie.positionLineNumber,ie.positionColumn,ie.positionLineNumber,ie.positionColumn+1),"",!1));return new N.Tp(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const j=this._getAutoClosingPairClose(u,c,L,T,!1);return j!==null?this._runAutoClosingOpenCharType(a,u,c,L,T,!1,j):null}static typeWithInterceptors(a,u,c,b,L,R,T){if(!a&&T===`
`){let ie=[];for(let ne=0,he=L.length;ne<he;ne++)ie[ne]=m._enter(c,b,!1,L[ne]);return new N.Tp(4,ie,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!a&&this._isAutoIndentType(c,b,L)){let ie=[],ne=!1;for(let he=0,$=L.length;he<$;he++)if(ie[he]=this._runAutoIndentType(c,b,L[he],T),!ie[he]){ne=!0;break}if(!ne)return new N.Tp(4,ie,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!a&&this._isAutoClosingOvertype(c,b,L,R,T))return this._runAutoClosingOvertype(u,c,b,L,T);if(!a){const ie=this._getAutoClosingPairClose(c,b,L,T,!0);if(ie)return this._runAutoClosingOpenCharType(u,c,b,L,T,!0,ie)}if(this._isSurroundSelectionType(c,b,L,T))return this._runSurroundSelectionType(u,c,b,L,T);if(!a&&this._isTypeInterceptorElectricChar(c,b,L)){const ie=this._typeInterceptorElectricChar(u,c,b,L[0],T);if(ie)return ie}let j=[];for(let ie=0,ne=L.length;ie<ne;ie++)j[ie]=new k.T4(L[ie],T);const q=n(T,u);return new N.Tp(q,j,{shouldPushStackElementBefore:p(u,q),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(a,u,c,b,L){let R=[];for(let j=0,q=b.length;j<q;j++)R[j]=new k.T4(b[j],L);const T=n(L,a);return new N.Tp(T,R,{shouldPushStackElementBefore:p(a,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(a,u,c){if(u===null||c===null)return[];let b=[];for(let L=0,R=c.length;L<R;L++){let T=c[L].positionLineNumber;if(T===1)b[L]=new k.Sj(new w.e(1,1,1,1),`
`);else{T--;let j=u.getLineMaxColumn(T);b[L]=this._enter(a,u,!1,new w.e(T,j,T,j))}}return b}static lineInsertAfter(a,u,c){if(u===null||c===null)return[];let b=[];for(let L=0,R=c.length;L<R;L++){const T=c[L].positionLineNumber;let j=u.getLineMaxColumn(T);b[L]=this._enter(a,u,!1,new w.e(T,j,T,j))}return b}static lineBreakInsert(a,u,c){let b=[];for(let L=0,R=c.length;L<R;L++)b[L]=this._enter(a,u,!0,c[L]);return b}}class y extends k.Uo{constructor(a,u,c,b){super(a,(c?u:"")+b,0,-b.length),this._openCharacter=u,this._closeCharacter=b,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(a,u){let b=u.getInverseEditOperations()[0].range;return this.closeCharacterRange=new w.e(b.startLineNumber,b.endColumn-this._closeCharacter.length,b.endLineNumber,b.endColumn),this.enclosingRange=new w.e(b.startLineNumber,b.endColumn-this._openCharacter.length-this._closeCharacter.length,b.endLineNumber,b.endColumn),super.computeCursorState(a,u)}}function n(d,a){return d===" "?a===5||a===6?6:5:4}function p(d,a){return v(d)&&!v(a)?!0:d===5?!1:f(d)!==f(a)}function f(d){return d===6||d===5?"space":d}function v(d){return d===4||d===5||d===6}},5795:function(Ct,we,t){"use strict";t.d(we,{L:function(){return N},w:function(){return x}});var h=t(97295),W=t(33181),k=t(31380),O=t(59410),w=t(50187),G=t(24314);class x{static _createWord(l,m,y,n,p){return{start:n,end:p,wordType:m,nextCharClass:y}}static _findPreviousWordOnLine(l,m,y){let n=m.getLineContent(y.lineNumber);return this._doFindPreviousWordOnLine(n,l,y)}static _doFindPreviousWordOnLine(l,m,y){let n=0;for(let p=y.column-2;p>=0;p--){let f=l.charCodeAt(p),v=m.get(f);if(v===0){if(n===2)return this._createWord(l,n,v,p+1,this._findEndOfWord(l,m,n,p+1));n=1}else if(v===2){if(n===1)return this._createWord(l,n,v,p+1,this._findEndOfWord(l,m,n,p+1));n=2}else if(v===1&&n!==0)return this._createWord(l,n,v,p+1,this._findEndOfWord(l,m,n,p+1))}return n!==0?this._createWord(l,n,1,0,this._findEndOfWord(l,m,n,0)):null}static _findEndOfWord(l,m,y,n){let p=l.length;for(let f=n;f<p;f++){let v=l.charCodeAt(f),d=m.get(v);if(d===1||y===1&&d===2||y===2&&d===0)return f}return p}static _findNextWordOnLine(l,m,y){let n=m.getLineContent(y.lineNumber);return this._doFindNextWordOnLine(n,l,y)}static _doFindNextWordOnLine(l,m,y){let n=0,p=l.length;for(let f=y.column-1;f<p;f++){let v=l.charCodeAt(f),d=m.get(v);if(d===0){if(n===2)return this._createWord(l,n,d,this._findStartOfWord(l,m,n,f-1),f);n=1}else if(d===2){if(n===1)return this._createWord(l,n,d,this._findStartOfWord(l,m,n,f-1),f);n=2}else if(d===1&&n!==0)return this._createWord(l,n,d,this._findStartOfWord(l,m,n,f-1),f)}return n!==0?this._createWord(l,n,1,this._findStartOfWord(l,m,n,p-1),p):null}static _findStartOfWord(l,m,y,n){for(let p=n;p>=0;p--){let f=l.charCodeAt(p),v=m.get(f);if(v===1||y===1&&v===2||y===2&&v===0)return p+1}return 0}static moveWordLeft(l,m,y,n){let p=y.lineNumber,f=y.column;f===1&&p>1&&(p=p-1,f=m.getLineMaxColumn(p));let v=x._findPreviousWordOnLine(l,m,new w.L(p,f));if(n===0)return new w.L(p,v?v.start+1:1);if(n===1)return v&&v.wordType===2&&v.end-v.start===1&&v.nextCharClass===0&&(v=x._findPreviousWordOnLine(l,m,new w.L(p,v.start+1))),new w.L(p,v?v.start+1:1);if(n===3){for(;v&&v.wordType===2;)v=x._findPreviousWordOnLine(l,m,new w.L(p,v.start+1));return new w.L(p,v?v.start+1:1)}return v&&f<=v.end+1&&(v=x._findPreviousWordOnLine(l,m,new w.L(p,v.start+1))),new w.L(p,v?v.end+1:1)}static _moveWordPartLeft(l,m){const y=m.lineNumber,n=l.getLineMaxColumn(y);if(m.column===1)return y>1?new w.L(y-1,l.getLineMaxColumn(y-1)):m;const p=l.getLineContent(y);for(let f=m.column-1;f>1;f--){const v=p.charCodeAt(f-2),d=p.charCodeAt(f-1);if(v===95&&d!==95)return new w.L(y,f);if(h.mK(v)&&h.df(d))return new w.L(y,f);if(h.df(v)&&h.df(d)&&f+1<n){const a=p.charCodeAt(f);if(h.mK(a))return new w.L(y,f)}}return new w.L(y,1)}static moveWordRight(l,m,y,n){let p=y.lineNumber,f=y.column,v=!1;f===m.getLineMaxColumn(p)&&p<m.getLineCount()&&(v=!0,p=p+1,f=1);let d=x._findNextWordOnLine(l,m,new w.L(p,f));if(n===2)d&&d.wordType===2&&d.end-d.start===1&&d.nextCharClass===0&&(d=x._findNextWordOnLine(l,m,new w.L(p,d.end+1))),d?f=d.end+1:f=m.getLineMaxColumn(p);else if(n===3){for(v&&(f=0);d&&(d.wordType===2||d.start+1<=f);)d=x._findNextWordOnLine(l,m,new w.L(p,d.end+1));d?f=d.start+1:f=m.getLineMaxColumn(p)}else d&&!v&&f>=d.start+1&&(d=x._findNextWordOnLine(l,m,new w.L(p,d.end+1))),d?f=d.start+1:f=m.getLineMaxColumn(p);return new w.L(p,f)}static _moveWordPartRight(l,m){const y=m.lineNumber,n=l.getLineMaxColumn(y);if(m.column===n)return y<l.getLineCount()?new w.L(y+1,1):m;const p=l.getLineContent(y);for(let f=m.column+1;f<n;f++){const v=p.charCodeAt(f-2),d=p.charCodeAt(f-1);if(v!==95&&d===95)return new w.L(y,f);if(h.mK(v)&&h.df(d))return new w.L(y,f);if(h.df(v)&&h.df(d)&&f+1<n){const a=p.charCodeAt(f);if(h.mK(a))return new w.L(y,f)}}return new w.L(y,n)}static _deleteWordLeftWhitespace(l,m){const y=l.getLineContent(m.lineNumber),n=m.column-2,p=h.ow(y,n);return p+1<n?new G.e(m.lineNumber,p+2,m.lineNumber,m.column):null}static deleteWordLeft(l,m){const y=l.wordSeparators,n=l.model,p=l.selection,f=l.whitespaceHeuristics;if(!p.isEmpty())return p;if(k.A.isAutoClosingPairDelete(l.autoClosingDelete,l.autoClosingBrackets,l.autoClosingQuotes,l.autoClosingPairs.autoClosingPairsOpenByEnd,l.model,[l.selection],l.autoClosedCharacters)){const c=l.selection.getPosition();return new G.e(c.lineNumber,c.column-1,c.lineNumber,c.column+1)}const v=new w.L(p.positionLineNumber,p.positionColumn);let d=v.lineNumber,a=v.column;if(d===1&&a===1)return null;if(f){let c=this._deleteWordLeftWhitespace(n,v);if(c)return c}let u=x._findPreviousWordOnLine(y,n,v);return m===0?u?a=u.start+1:a>1?a=1:(d--,a=n.getLineMaxColumn(d)):(u&&a<=u.end+1&&(u=x._findPreviousWordOnLine(y,n,new w.L(d,u.start+1))),u?a=u.end+1:a>1?a=1:(d--,a=n.getLineMaxColumn(d))),new G.e(d,a,v.lineNumber,v.column)}static deleteInsideWord(l,m,y){if(!y.isEmpty())return y;const n=new w.L(y.positionLineNumber,y.positionColumn);let p=this._deleteInsideWordWhitespace(m,n);return p||this._deleteInsideWordDetermineDeleteRange(l,m,n)}static _charAtIsWhitespace(l,m){const y=l.charCodeAt(m);return y===32||y===9}static _deleteInsideWordWhitespace(l,m){const y=l.getLineContent(m.lineNumber),n=y.length;if(n===0)return null;let p=Math.max(m.column-2,0);if(!this._charAtIsWhitespace(y,p))return null;let f=Math.min(m.column-1,n-1);if(!this._charAtIsWhitespace(y,f))return null;for(;p>0&&this._charAtIsWhitespace(y,p-1);)p--;for(;f+1<n&&this._charAtIsWhitespace(y,f+1);)f++;return new G.e(m.lineNumber,p+1,m.lineNumber,f+2)}static _deleteInsideWordDetermineDeleteRange(l,m,y){const n=m.getLineContent(y.lineNumber),p=n.length;if(p===0)return y.lineNumber>1?new G.e(y.lineNumber-1,m.getLineMaxColumn(y.lineNumber-1),y.lineNumber,1):y.lineNumber<m.getLineCount()?new G.e(y.lineNumber,1,y.lineNumber+1,1):new G.e(y.lineNumber,1,y.lineNumber,1);const f=c=>c.start+1<=y.column&&y.column<=c.end+1,v=(c,b)=>(c=Math.min(c,y.column),b=Math.max(b,y.column),new G.e(y.lineNumber,c,y.lineNumber,b)),d=c=>{let b=c.start+1,L=c.end+1,R=!1;for(;L-1<p&&this._charAtIsWhitespace(n,L-1);)R=!0,L++;if(!R)for(;b>1&&this._charAtIsWhitespace(n,b-2);)b--;return v(b,L)},a=x._findPreviousWordOnLine(l,m,y);if(a&&f(a))return d(a);const u=x._findNextWordOnLine(l,m,y);return u&&f(u)?d(u):a&&u?v(a.end+1,u.start+1):a?v(a.start+1,a.end+1):u?v(u.start+1,u.end+1):v(1,p+1)}static _deleteWordPartLeft(l,m){if(!m.isEmpty())return m;const y=m.getPosition(),n=x._moveWordPartLeft(l,y);return new G.e(y.lineNumber,y.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(l,m){let y=l.length;for(let n=m;n<y;n++){let p=l.charAt(n);if(p!==" "&&p!=="	")return n}return y}static _deleteWordRightWhitespace(l,m){const y=l.getLineContent(m.lineNumber),n=m.column-1,p=this._findFirstNonWhitespaceChar(y,n);return n+1<p?new G.e(m.lineNumber,m.column,m.lineNumber,p+1):null}static deleteWordRight(l,m){const y=l.wordSeparators,n=l.model,p=l.selection,f=l.whitespaceHeuristics;if(!p.isEmpty())return p;const v=new w.L(p.positionLineNumber,p.positionColumn);let d=v.lineNumber,a=v.column;const u=n.getLineCount(),c=n.getLineMaxColumn(d);if(d===u&&a===c)return null;if(f){let L=this._deleteWordRightWhitespace(n,v);if(L)return L}let b=x._findNextWordOnLine(y,n,v);return m===2?b?a=b.end+1:a<c||d===u?a=c:(d++,b=x._findNextWordOnLine(y,n,new w.L(d,1)),b?a=b.start+1:a=n.getLineMaxColumn(d)):(b&&a>=b.start+1&&(b=x._findNextWordOnLine(y,n,new w.L(d,b.end+1))),b?a=b.start+1:a<c||d===u?a=c:(d++,b=x._findNextWordOnLine(y,n,new w.L(d,1)),b?a=b.start+1:a=n.getLineMaxColumn(d))),new G.e(d,a,v.lineNumber,v.column)}static _deleteWordPartRight(l,m){if(!m.isEmpty())return m;const y=m.getPosition(),n=x._moveWordPartRight(l,y);return new G.e(y.lineNumber,y.column,n.lineNumber,n.column)}static _createWordAtPosition(l,m,y){const n=new G.e(m,y.start+1,m,y.end+1);return{word:l.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(l,m,y){const n=(0,O.u)(m),p=x._findPreviousWordOnLine(n,l,y);if(p&&p.wordType===1&&p.start<=y.column-1&&y.column-1<=p.end)return x._createWordAtPosition(l,y.lineNumber,p);const f=x._findNextWordOnLine(n,l,y);return f&&f.wordType===1&&f.start<=y.column-1&&y.column-1<=f.end?x._createWordAtPosition(l,y.lineNumber,f):null}static word(l,m,y,n,p){const f=(0,O.u)(l.wordSeparators);let v=x._findPreviousWordOnLine(f,m,p),d=x._findNextWordOnLine(f,m,p);if(!n){let L,R;return v&&v.wordType===1&&v.start<=p.column-1&&p.column-1<=v.end?(L=v.start+1,R=v.end+1):d&&d.wordType===1&&d.start<=p.column-1&&p.column-1<=d.end?(L=d.start+1,R=d.end+1):(v?L=v.end+1:L=1,d?R=d.start+1:R=m.getLineMaxColumn(p.lineNumber)),new W.rS(new G.e(p.lineNumber,L,p.lineNumber,R),0,new w.L(p.lineNumber,R),0)}let a,u;v&&v.wordType===1&&v.start<p.column-1&&p.column-1<v.end?(a=v.start+1,u=v.end+1):d&&d.wordType===1&&d.start<p.column-1&&p.column-1<d.end?(a=d.start+1,u=d.end+1):(a=p.column,u=p.column);let c=p.lineNumber,b;if(y.selectionStart.containsPosition(p))b=y.selectionStart.endColumn;else if(p.isBeforeOrEqual(y.selectionStart.getStartPosition())){b=a;let L=new w.L(c,b);y.selectionStart.containsPosition(L)&&(b=y.selectionStart.endColumn)}else{b=u;let L=new w.L(c,b);y.selectionStart.containsPosition(L)&&(b=y.selectionStart.startColumn)}return y.move(!0,c,b,0)}}class N extends x{static deleteWordPartLeft(l){const m=s([x.deleteWordLeft(l,0),x.deleteWordLeft(l,2),x._deleteWordPartLeft(l.model,l.selection)]);return m.sort(G.e.compareRangesUsingEnds),m[2]}static deleteWordPartRight(l){const m=s([x.deleteWordRight(l,0),x.deleteWordRight(l,2),x._deleteWordPartRight(l.model,l.selection)]);return m.sort(G.e.compareRangesUsingStarts),m[0]}static moveWordPartLeft(l,m,y){const n=s([x.moveWordLeft(l,m,y,0),x.moveWordLeft(l,m,y,2),x._moveWordPartLeft(m,y)]);return n.sort(w.L.compare),n[2]}static moveWordPartRight(l,m,y){const n=s([x.moveWordRight(l,m,y,0),x.moveWordRight(l,m,y,2),x._moveWordPartRight(m,y)]);return n.sort(w.L.compare),n[0]}}function s(C){return C.filter(l=>!!l)}},59410:function(Ct,we,t){"use strict";t.d(we,{u:function(){return O}});var h=t(44906);class W extends h.N{constructor(G){super(0);for(let x=0,N=G.length;x<N;x++)this.set(G.charCodeAt(x),2);this.set(32,1),this.set(9,1)}}function k(w){let G={};return x=>(G.hasOwnProperty(x)||(G[x]=w(x)),G[x])}const O=k(w=>new W(w))},44906:function(Ct,we,t){"use strict";t.d(we,{N:function(){return W},q:function(){return k}});var h=t(85427);class W{constructor(w){let G=(0,h.K)(w);this._defaultValue=G,this._asciiMap=W._createAsciiMap(G),this._map=new Map}static _createAsciiMap(w){let G=new Uint8Array(256);for(let x=0;x<256;x++)G[x]=w;return G}set(w,G){let x=(0,h.K)(G);w>=0&&w<256?this._asciiMap[w]=x:this._map.set(w,x)}get(w){return w>=0&&w<256?this._asciiMap[w]:this._map.get(w)||this._defaultValue}}class k{constructor(){this._actual=new W(0)}add(w){this._actual.set(w,1)}has(w){return this._actual.get(w)===1}}},69386:function(Ct,we,t){"use strict";t.d(we,{h:function(){return W}});var h=t(24314);class W{static insert(O,w){return{range:new h.e(O.lineNumber,O.column,O.lineNumber,O.column),text:w,forceMoveMarkers:!0}}static delete(O){return{range:O,text:null}}static replace(O,w){return{range:O,text:w}}static replaceMove(O,w){return{range:O,text:w,forceMoveMarkers:!0}}}},78411:function(Ct,we,t){"use strict";t.d(we,{A:function(){return W}});var h=t(60303);class W{constructor(w,G,x){this._lineTokensBrand=void 0,this._tokens=w,this._tokensCount=this._tokens.length>>>1,this._text=G,this._languageIdCodec=x}static createEmpty(w,G){const x=W.defaultTokenMetadata,N=new Uint32Array(2);return N[0]=w.length,N[1]=x,new W(N,w,G)}equals(w){return w instanceof W?this.slicedEquals(w,0,this._tokensCount):!1}slicedEquals(w,G,x){if(this._text!==w._text||this._tokensCount!==w._tokensCount)return!1;const N=G<<1,s=N+(x<<1);for(let C=N;C<s;C++)if(this._tokens[C]!==w._tokens[C])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(w){return w>0?this._tokens[w-1<<1]:0}getMetadata(w){return this._tokens[(w<<1)+1]}getLanguageId(w){const G=this._tokens[(w<<1)+1],x=h.NX.getLanguageId(G);return this._languageIdCodec.decodeLanguageId(x)}getStandardTokenType(w){const G=this._tokens[(w<<1)+1];return h.NX.getTokenType(G)}getForeground(w){const G=this._tokens[(w<<1)+1];return h.NX.getForeground(G)}getClassName(w){const G=this._tokens[(w<<1)+1];return h.NX.getClassNameFromMetadata(G)}getInlineStyle(w,G){const x=this._tokens[(w<<1)+1];return h.NX.getInlineStyleFromMetadata(x,G)}getEndOffset(w){return this._tokens[w<<1]}findTokenIndexAtOffset(w){return W.findIndexInTokensArray(this._tokens,w)}inflate(){return this}sliceAndInflate(w,G,x){return new k(this,w,G,x)}static convertToEndOffset(w,G){const N=(w.length>>>1)-1;for(let s=0;s<N;s++)w[s<<1]=w[s+1<<1];w[N<<1]=G}static findIndexInTokensArray(w,G){if(w.length<=2)return 0;let x=0,N=(w.length>>>1)-1;for(;x<N;){const s=x+Math.floor((N-x)/2),C=w[s<<1];if(C===G)return s+1;C<G?x=s+1:C>G&&(N=s)}return x}withInserted(w){if(w.length===0)return this;let G=0,x=0,N="";const s=new Array;let C=0;for(;;){let l=G<this._tokensCount?this._tokens[G<<1]:-1,m=x<w.length?w[x]:null;if(l!==-1&&(m===null||l<=m.offset)){N+=this._text.substring(C,l);const y=this._tokens[(G<<1)+1];s.push(N.length,y),G++,C=l}else if(m){if(m.offset>C){N+=this._text.substring(C,m.offset);const y=this._tokens[(G<<1)+1];s.push(N.length,y),C=m.offset}N+=m.text,s.push(N.length,m.tokenMetadata),x++}else break}return new W(new Uint32Array(s),N,this._languageIdCodec)}}W.defaultTokenMetadata=(16384|2<<23)>>>0;class k{constructor(w,G,x,N){this._source=w,this._startOffset=G,this._endOffset=x,this._deltaOffset=N,this._firstTokenIndex=w.findTokenIndexAtOffset(G),this._tokensCount=0;for(let s=this._firstTokenIndex,C=w.getCount();s<C&&!(w.getStartOffset(s)>=x);s++)this._tokensCount++}equals(w){return w instanceof k?this._startOffset===w._startOffset&&this._endOffset===w._endOffset&&this._deltaOffset===w._deltaOffset&&this._source.slicedEquals(w._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(w){return this._source.getForeground(this._firstTokenIndex+w)}getEndOffset(w){const G=this._source.getEndOffset(this._firstTokenIndex+w);return Math.min(this._endOffset,G)-this._startOffset+this._deltaOffset}getClassName(w){return this._source.getClassName(this._firstTokenIndex+w)}getInlineStyle(w,G){return this._source.getInlineStyle(this._firstTokenIndex+w,G)}findTokenIndexAtOffset(w){return this._source.findTokenIndexAtOffset(w+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},50187:function(Ct,we,t){"use strict";t.d(we,{L:function(){return h}});class h{constructor(k,O){this.lineNumber=k,this.column=O}with(k=this.lineNumber,O=this.column){return k===this.lineNumber&&O===this.column?this:new h(k,O)}delta(k=0,O=0){return this.with(this.lineNumber+k,this.column+O)}equals(k){return h.equals(this,k)}static equals(k,O){return!k&&!O?!0:!!k&&!!O&&k.lineNumber===O.lineNumber&&k.column===O.column}isBefore(k){return h.isBefore(this,k)}static isBefore(k,O){return k.lineNumber<O.lineNumber?!0:O.lineNumber<k.lineNumber?!1:k.column<O.column}isBeforeOrEqual(k){return h.isBeforeOrEqual(this,k)}static isBeforeOrEqual(k,O){return k.lineNumber<O.lineNumber?!0:O.lineNumber<k.lineNumber?!1:k.column<=O.column}static compare(k,O){let w=k.lineNumber|0,G=O.lineNumber|0;if(w===G){let x=k.column|0,N=O.column|0;return x-N}return w-G}clone(){return new h(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(k){return new h(k.lineNumber,k.column)}static isIPosition(k){return k&&typeof k.lineNumber=="number"&&typeof k.column=="number"}}},24314:function(Ct,we,t){"use strict";t.d(we,{e:function(){return W}});var h=t(50187);class W{constructor(O,w,G,x){O>G||O===G&&w>x?(this.startLineNumber=G,this.startColumn=x,this.endLineNumber=O,this.endColumn=w):(this.startLineNumber=O,this.startColumn=w,this.endLineNumber=G,this.endColumn=x)}isEmpty(){return W.isEmpty(this)}static isEmpty(O){return O.startLineNumber===O.endLineNumber&&O.startColumn===O.endColumn}containsPosition(O){return W.containsPosition(this,O)}static containsPosition(O,w){return!(w.lineNumber<O.startLineNumber||w.lineNumber>O.endLineNumber||w.lineNumber===O.startLineNumber&&w.column<O.startColumn||w.lineNumber===O.endLineNumber&&w.column>O.endColumn)}containsRange(O){return W.containsRange(this,O)}static containsRange(O,w){return!(w.startLineNumber<O.startLineNumber||w.endLineNumber<O.startLineNumber||w.startLineNumber>O.endLineNumber||w.endLineNumber>O.endLineNumber||w.startLineNumber===O.startLineNumber&&w.startColumn<O.startColumn||w.endLineNumber===O.endLineNumber&&w.endColumn>O.endColumn)}strictContainsRange(O){return W.strictContainsRange(this,O)}static strictContainsRange(O,w){return!(w.startLineNumber<O.startLineNumber||w.endLineNumber<O.startLineNumber||w.startLineNumber>O.endLineNumber||w.endLineNumber>O.endLineNumber||w.startLineNumber===O.startLineNumber&&w.startColumn<=O.startColumn||w.endLineNumber===O.endLineNumber&&w.endColumn>=O.endColumn)}plusRange(O){return W.plusRange(this,O)}static plusRange(O,w){let G,x,N,s;return w.startLineNumber<O.startLineNumber?(G=w.startLineNumber,x=w.startColumn):w.startLineNumber===O.startLineNumber?(G=w.startLineNumber,x=Math.min(w.startColumn,O.startColumn)):(G=O.startLineNumber,x=O.startColumn),w.endLineNumber>O.endLineNumber?(N=w.endLineNumber,s=w.endColumn):w.endLineNumber===O.endLineNumber?(N=w.endLineNumber,s=Math.max(w.endColumn,O.endColumn)):(N=O.endLineNumber,s=O.endColumn),new W(G,x,N,s)}intersectRanges(O){return W.intersectRanges(this,O)}static intersectRanges(O,w){let G=O.startLineNumber,x=O.startColumn,N=O.endLineNumber,s=O.endColumn,C=w.startLineNumber,l=w.startColumn,m=w.endLineNumber,y=w.endColumn;return G<C?(G=C,x=l):G===C&&(x=Math.max(x,l)),N>m?(N=m,s=y):N===m&&(s=Math.min(s,y)),G>N||G===N&&x>s?null:new W(G,x,N,s)}equalsRange(O){return W.equalsRange(this,O)}static equalsRange(O,w){return!!O&&!!w&&O.startLineNumber===w.startLineNumber&&O.startColumn===w.startColumn&&O.endLineNumber===w.endLineNumber&&O.endColumn===w.endColumn}getEndPosition(){return W.getEndPosition(this)}static getEndPosition(O){return new h.L(O.endLineNumber,O.endColumn)}getStartPosition(){return W.getStartPosition(this)}static getStartPosition(O){return new h.L(O.startLineNumber,O.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(O,w){return new W(this.startLineNumber,this.startColumn,O,w)}setStartPosition(O,w){return new W(O,w,this.endLineNumber,this.endColumn)}collapseToStart(){return W.collapseToStart(this)}static collapseToStart(O){return new W(O.startLineNumber,O.startColumn,O.startLineNumber,O.startColumn)}static fromPositions(O,w=O){return new W(O.lineNumber,O.column,w.lineNumber,w.column)}static lift(O){return O?new W(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):null}static isIRange(O){return O&&typeof O.startLineNumber=="number"&&typeof O.startColumn=="number"&&typeof O.endLineNumber=="number"&&typeof O.endColumn=="number"}static areIntersectingOrTouching(O,w){return!(O.endLineNumber<w.startLineNumber||O.endLineNumber===w.startLineNumber&&O.endColumn<w.startColumn||w.endLineNumber<O.startLineNumber||w.endLineNumber===O.startLineNumber&&w.endColumn<O.startColumn)}static areIntersecting(O,w){return!(O.endLineNumber<w.startLineNumber||O.endLineNumber===w.startLineNumber&&O.endColumn<=w.startColumn||w.endLineNumber<O.startLineNumber||w.endLineNumber===O.startLineNumber&&w.endColumn<=O.startColumn)}static compareRangesUsingStarts(O,w){if(O&&w){const N=O.startLineNumber|0,s=w.startLineNumber|0;if(N===s){const C=O.startColumn|0,l=w.startColumn|0;if(C===l){const m=O.endLineNumber|0,y=w.endLineNumber|0;if(m===y){const n=O.endColumn|0,p=w.endColumn|0;return n-p}return m-y}return C-l}return N-s}return(O?1:0)-(w?1:0)}static compareRangesUsingEnds(O,w){return O.endLineNumber===w.endLineNumber?O.endColumn===w.endColumn?O.startLineNumber===w.startLineNumber?O.startColumn-w.startColumn:O.startLineNumber-w.startLineNumber:O.endColumn-w.endColumn:O.endLineNumber-w.endLineNumber}static spansMultipleLines(O){return O.endLineNumber>O.startLineNumber}}},3860:function(Ct,we,t){"use strict";t.d(we,{Y:function(){return k}});var h=t(50187),W=t(24314);class k extends W.e{constructor(w,G,x,N){super(w,G,x,N),this.selectionStartLineNumber=w,this.selectionStartColumn=G,this.positionLineNumber=x,this.positionColumn=N}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(w){return k.selectionsEqual(this,w)}static selectionsEqual(w,G){return w.selectionStartLineNumber===G.selectionStartLineNumber&&w.selectionStartColumn===G.selectionStartColumn&&w.positionLineNumber===G.positionLineNumber&&w.positionColumn===G.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(w,G){return this.getDirection()===0?new k(this.startLineNumber,this.startColumn,w,G):new k(w,G,this.startLineNumber,this.startColumn)}getPosition(){return new h.L(this.positionLineNumber,this.positionColumn)}setStartPosition(w,G){return this.getDirection()===0?new k(w,G,this.endLineNumber,this.endColumn):new k(this.endLineNumber,this.endColumn,w,G)}static fromPositions(w,G=w){return new k(w.lineNumber,w.column,G.lineNumber,G.column)}static liftSelection(w){return new k(w.selectionStartLineNumber,w.selectionStartColumn,w.positionLineNumber,w.positionColumn)}static selectionsArrEqual(w,G){if(w&&!G||!w&&G)return!1;if(!w&&!G)return!0;if(w.length!==G.length)return!1;for(let x=0,N=w.length;x<N;x++)if(!this.selectionsEqual(w[x],G[x]))return!1;return!0}static isISelection(w){return w&&typeof w.selectionStartLineNumber=="number"&&typeof w.selectionStartColumn=="number"&&typeof w.positionLineNumber=="number"&&typeof w.positionColumn=="number"}static createWithDirection(w,G,x,N,s){return s===0?new k(w,G,x,N):new k(x,N,w,G)}}},50072:function(Ct,we,t){"use strict";t.d(we,{kH:function(){return m},l$:function(){return l},lZ:function(){return C},oe:function(){return s}});var h=t(97295),W=t(1432),k=t(53060);let O;function w(){return O||(O=new TextDecoder("UTF-16LE")),O}let G;function x(){return G||(G=new TextDecoder("UTF-16BE")),G}let N;function s(){return N||(N=W.r()?w():x()),N}const C=typeof TextDecoder!="undefined";let l,m;C?(l=v=>new p(v),m=y):(l=v=>new f,m=n);function y(v,d,a){const u=new Uint16Array(v.buffer,d,a);return a>0&&(u[0]===65279||u[0]===65534)?n(v,d,a):w().decode(u)}function n(v,d,a){let u=[],c=0;for(let b=0;b<a;b++){const L=k.mP(v,d);d+=2,u[c++]=String.fromCharCode(L)}return u.join("")}class p{constructor(d){this._capacity=d|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const d=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return s().decode(d)}_flushBuffer(){const d=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[d]:this._completedStrings[this._completedStrings.length]=d}write1(d){const a=this._capacity-this._bufferLength;a<=1&&(a===0||h.ZG(d))&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCII(d){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=d}appendASCIIString(d){const a=d.length;if(this._bufferLength+a>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=d;return}for(let u=0;u<a;u++)this._buffer[this._bufferLength++]=d.charCodeAt(u)}}class f{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCII(d){this._pieces[this._piecesLen++]=String.fromCharCode(d)}appendASCIIString(d){this._pieces[this._piecesLen++]=d}}},85600:function(Ct,we,t){"use strict";t.d(we,{Hi:function(){return k},WU:function(){return h},hG:function(){return W}});class h{constructor(w,G,x){this._tokenBrand=void 0,this.offset=w|0,this.type=G,this.language=x}toString(){return"("+this.offset+", "+this.type+")"}}class W{constructor(w,G){this._tokenizationResultBrand=void 0,this.tokens=w,this.endState=G}}class k{constructor(w,G){this._tokenizationResult2Brand=void 0,this.tokens=w,this.endState=G}}},30653:function(Ct,we,t){"use strict";t.d(we,{p:function(){return h}});class h{constructor(k,O,w,G,x,N){this.id=k,this.label=O,this.alias=w,this._precondition=G,this._run=x,this._contextKeyService=N}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},96518:function(Ct,we,t){"use strict";t.d(we,{I:function(){return h},g:function(){return W}});function h(k){return k&&typeof k.id=="string"}const W={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29102:function(Ct,we,t){"use strict";t.d(we,{u:function(){return k}});var h=t(63580),W=t(38819),k;(function(O){O.editorSimpleInput=new W.uy("editorSimpleInput",!1,!0),O.editorTextFocus=new W.uy("editorTextFocus",!1,h.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),O.focus=new W.uy("editorFocus",!1,h.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),O.textInputFocus=new W.uy("textInputFocus",!1,h.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),O.readOnly=new W.uy("editorReadonly",!1,h.N("editorReadonly","Whether the editor is read only")),O.inDiffEditor=new W.uy("inDiffEditor",!1,h.N("inDiffEditor","Whether the context is a diff editor")),O.columnSelection=new W.uy("editorColumnSelection",!1,h.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),O.writable=O.readOnly.toNegated(),O.hasNonEmptySelection=new W.uy("editorHasSelection",!1,h.N("editorHasSelection","Whether the editor has text selected")),O.hasOnlyEmptySelection=O.hasNonEmptySelection.toNegated(),O.hasMultipleSelections=new W.uy("editorHasMultipleSelections",!1,h.N("editorHasMultipleSelections","Whether the editor has multiple selections")),O.hasSingleSelection=O.hasMultipleSelections.toNegated(),O.tabMovesFocus=new W.uy("editorTabMovesFocus",!1,h.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),O.tabDoesNotMoveFocus=O.tabMovesFocus.toNegated(),O.isInWalkThroughSnippet=new W.uy("isInEmbeddedEditor",!1,!0),O.canUndo=new W.uy("canUndo",!1,!0),O.canRedo=new W.uy("canRedo",!1,!0),O.hoverVisible=new W.uy("editorHoverVisible",!1,h.N("editorHoverVisible","Whether the editor hover is visible")),O.inCompositeEditor=new W.uy("inCompositeEditor",void 0,h.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),O.notInCompositeEditor=O.inCompositeEditor.toNegated(),O.languageId=new W.uy("editorLangId","",h.N("editorLangId","The language identifier of the editor")),O.hasCompletionItemProvider=new W.uy("editorHasCompletionItemProvider",!1,h.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),O.hasCodeActionsProvider=new W.uy("editorHasCodeActionsProvider",!1,h.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),O.hasCodeLensProvider=new W.uy("editorHasCodeLensProvider",!1,h.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),O.hasDefinitionProvider=new W.uy("editorHasDefinitionProvider",!1,h.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),O.hasDeclarationProvider=new W.uy("editorHasDeclarationProvider",!1,h.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),O.hasImplementationProvider=new W.uy("editorHasImplementationProvider",!1,h.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),O.hasTypeDefinitionProvider=new W.uy("editorHasTypeDefinitionProvider",!1,h.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),O.hasHoverProvider=new W.uy("editorHasHoverProvider",!1,h.N("editorHasHoverProvider","Whether the editor has a hover provider")),O.hasDocumentHighlightProvider=new W.uy("editorHasDocumentHighlightProvider",!1,h.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),O.hasDocumentSymbolProvider=new W.uy("editorHasDocumentSymbolProvider",!1,h.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),O.hasReferenceProvider=new W.uy("editorHasReferenceProvider",!1,h.N("editorHasReferenceProvider","Whether the editor has a reference provider")),O.hasRenameProvider=new W.uy("editorHasRenameProvider",!1,h.N("editorHasRenameProvider","Whether the editor has a rename provider")),O.hasSignatureHelpProvider=new W.uy("editorHasSignatureHelpProvider",!1,h.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),O.hasInlayHintsProvider=new W.uy("editorHasInlayHintsProvider",!1,h.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),O.hasDocumentFormattingProvider=new W.uy("editorHasDocumentFormattingProvider",!1,h.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),O.hasDocumentSelectionFormattingProvider=new W.uy("editorHasDocumentSelectionFormattingProvider",!1,h.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),O.hasMultipleDocumentFormattingProvider=new W.uy("editorHasMultipleDocumentFormattingProvider",!1,h.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),O.hasMultipleDocumentSelectionFormattingProvider=new W.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,h.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(k||(k={}))},84973:function(Ct,we,t){"use strict";t.d(we,{F5:function(){return k},Qi:function(){return s},UO:function(){return x},dJ:function(){return O},je:function(){return C},s6:function(){return G},sh:function(){return W},tk:function(){return w},vW:function(){return N}});var h=t(36248),W;(function(l){l[l.Left=1]="Left",l[l.Center=2]="Center",l[l.Right=4]="Right",l[l.Full=7]="Full"})(W||(W={}));var k;(function(l){l[l.Inline=1]="Inline",l[l.Gutter=2]="Gutter"})(k||(k={}));class O{constructor(m){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,m.tabSize|0),this.indentSize=m.tabSize|0,this.insertSpaces=!!m.insertSpaces,this.defaultEOL=m.defaultEOL|0,this.trimAutoWhitespace=!!m.trimAutoWhitespace,this.bracketPairColorizationOptions=m.bracketPairColorizationOptions}equals(m){return this.tabSize===m.tabSize&&this.indentSize===m.indentSize&&this.insertSpaces===m.insertSpaces&&this.defaultEOL===m.defaultEOL&&this.trimAutoWhitespace===m.trimAutoWhitespace&&(0,h.fS)(this.bracketPairColorizationOptions,m.bracketPairColorizationOptions)}createChangeEvent(m){return{tabSize:this.tabSize!==m.tabSize,indentSize:this.indentSize!==m.indentSize,insertSpaces:this.insertSpaces!==m.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==m.trimAutoWhitespace}}}class w{constructor(m,y){this._findMatchBrand=void 0,this.range=m,this.matches=y}}var G;(function(l){l[l.Disabled=0]="Disabled",l[l.EnabledForActive=1]="EnabledForActive",l[l.Enabled=2]="Enabled"})(G||(G={}));class x{constructor(m,y,n){this.visibleColumn=m,this.className=y,this.horizontalLine=n}}class N{constructor(m,y){this.top=m,this.endColumn=y}}class s{constructor(m,y,n,p,f,v){this.identifier=m,this.range=y,this.text=n,this.forceMoveMarkers=p,this.isAutoWhitespaceEdit=f,this._isTracked=v}}class C{constructor(m,y,n){this.reverseEdits=m,this.changes=y,this.trimAutoWhitespaceLineNumbers=n}}},95215:function(Ct,we,t){"use strict";t.d(we,{NL:function(){return n},e9:function(){return y}});var h=t(63580),W=t(17301),k=t(3860),O=t(70666),w=t(60962),G=t(53060),x=t(95935);function N(p){return p.toString()}class s{constructor(f,v,d,a,u,c,b){this.beforeVersionId=f,this.afterVersionId=v,this.beforeEOL=d,this.afterEOL=a,this.beforeCursorState=u,this.afterCursorState=c,this.changes=b}static create(f,v){const d=f.getAlternativeVersionId(),a=m(f);return new s(d,d,a,a,v,v,[])}append(f,v,d,a,u){v.length>0&&(this.changes=(0,w.b)(this.changes,v)),this.afterEOL=d,this.afterVersionId=a,this.afterCursorState=u}static _writeSelectionsSize(f){return 4+4*4*(f?f.length:0)}static _writeSelections(f,v,d){if(G.T4(f,v?v.length:0,d),d+=4,v)for(const a of v)G.T4(f,a.selectionStartLineNumber,d),d+=4,G.T4(f,a.selectionStartColumn,d),d+=4,G.T4(f,a.positionLineNumber,d),d+=4,G.T4(f,a.positionColumn,d),d+=4;return d}static _readSelections(f,v,d){const a=G.Ag(f,v);v+=4;for(let u=0;u<a;u++){const c=G.Ag(f,v);v+=4;const b=G.Ag(f,v);v+=4;const L=G.Ag(f,v);v+=4;const R=G.Ag(f,v);v+=4,d.push(new k.Y(c,b,L,R))}return v}serialize(){let f=10+s._writeSelectionsSize(this.beforeCursorState)+s._writeSelectionsSize(this.afterCursorState)+4;for(const a of this.changes)f+=a.writeSize();const v=new Uint8Array(f);let d=0;G.T4(v,this.beforeVersionId,d),d+=4,G.T4(v,this.afterVersionId,d),d+=4,G.Cg(v,this.beforeEOL,d),d+=1,G.Cg(v,this.afterEOL,d),d+=1,d=s._writeSelections(v,this.beforeCursorState,d),d=s._writeSelections(v,this.afterCursorState,d),G.T4(v,this.changes.length,d),d+=4;for(const a of this.changes)d=a.write(v,d);return v.buffer}static deserialize(f){const v=new Uint8Array(f);let d=0;const a=G.Ag(v,d);d+=4;const u=G.Ag(v,d);d+=4;const c=G.Q$(v,d);d+=1;const b=G.Q$(v,d);d+=1;const L=[];d=s._readSelections(v,d,L);const R=[];d=s._readSelections(v,d,R);const T=G.Ag(v,d);d+=4;const j=[];for(let q=0;q<T;q++)d=w.q.read(v,d,j);return new s(a,u,c,b,L,R,j)}}class C{constructor(f,v){this.model=f,this._data=s.create(f,v)}get type(){return 0}get resource(){return O.o.isUri(this.model)?this.model:this.model.uri}get label(){return h.N("edit","Typing")}toString(){return(this._data instanceof s?this._data:s.deserialize(this._data)).changes.map(v=>v.toString()).join(", ")}matchesResource(f){return(O.o.isUri(this.model)?this.model:this.model.uri).toString()===f.toString()}setModel(f){this.model=f}canAppend(f){return this.model===f&&this._data instanceof s}append(f,v,d,a,u){this._data instanceof s&&this._data.append(f,v,d,a,u)}close(){this._data instanceof s&&(this._data=this._data.serialize())}open(){this._data instanceof s||(this._data=s.deserialize(this._data))}undo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof s&&(this._data=this._data.serialize());const f=s.deserialize(this._data);this.model._applyUndo(f.changes,f.beforeEOL,f.beforeVersionId,f.beforeCursorState)}redo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof s&&(this._data=this._data.serialize());const f=s.deserialize(this._data);this.model._applyRedo(f.changes,f.afterEOL,f.afterVersionId,f.afterCursorState)}heapSize(){return this._data instanceof s&&(this._data=this._data.serialize()),this._data.byteLength+168}}class l{constructor(f,v){this.type=1,this.label=f,this._isOpen=!0,this._editStackElementsArr=v.slice(0),this._editStackElementsMap=new Map;for(const d of this._editStackElementsArr){const a=N(d.resource);this._editStackElementsMap.set(a,d)}this._delegate=null}get resources(){return this._editStackElementsArr.map(f=>f.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(f){const v=N(f);return this._editStackElementsMap.has(v)}setModel(f){const v=N(O.o.isUri(f)?f:f.uri);this._editStackElementsMap.has(v)&&this._editStackElementsMap.get(v).setModel(f)}canAppend(f){if(!this._isOpen)return!1;const v=N(f.uri);return this._editStackElementsMap.has(v)?this._editStackElementsMap.get(v).canAppend(f):!1}append(f,v,d,a,u){const c=N(f.uri);this._editStackElementsMap.get(c).append(f,v,d,a,u)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const f of this._editStackElementsArr)f.undo()}redo(){for(const f of this._editStackElementsArr)f.redo()}heapSize(f){const v=N(f);return this._editStackElementsMap.has(v)?this._editStackElementsMap.get(v).heapSize():0}split(){return this._editStackElementsArr}toString(){let f=[];for(const v of this._editStackElementsArr)f.push(`${(0,x.EZ)(v.resource)}: ${v}`);return`{${f.join(", ")}}`}}function m(p){return p.getEOL()===`
`?0:1}function y(p){return p?p instanceof C||p instanceof l:!1}class n{constructor(f,v){this._model=f,this._undoRedoService=v}pushStackElement(){const f=this._undoRedoService.getLastElement(this._model.uri);y(f)&&f.close()}popStackElement(){const f=this._undoRedoService.getLastElement(this._model.uri);y(f)&&f.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(f){const v=this._undoRedoService.getLastElement(this._model.uri);if(y(v)&&v.canAppend(this._model))return v;const d=new C(this._model,f);return this._undoRedoService.pushElement(d),d}pushEOL(f){const v=this._getOrCreateEditStackElement(null);this._model.setEOL(f),v.append(this._model,[],m(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(f,v,d){const a=this._getOrCreateEditStackElement(f),u=this._model.applyEdits(v,!0),c=n._computeCursorState(d,u),b=u.map((L,R)=>({index:R,textChange:L.textChange}));return b.sort((L,R)=>L.textChange.oldPosition===R.textChange.oldPosition?L.index-R.index:L.textChange.oldPosition-R.textChange.oldPosition),a.append(this._model,b.map(L=>L.textChange),m(this._model),this._model.getAlternativeVersionId(),c),c}static _computeCursorState(f,v){try{return f?f(v):null}catch(d){return(0,W.dL)(d),null}}}},60962:function(Ct,we,t){"use strict";t.d(we,{b:function(){return w},q:function(){return O}});var h=t(53060),W=t(50072);function k(x){return x.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class O{constructor(N,s,C,l){this.oldPosition=N,this.oldText=s,this.newPosition=C,this.newText=l}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${k(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${k(this.oldText)}")`:`(replace@${this.oldPosition} "${k(this.oldText)}" with "${k(this.newText)}")`}static _writeStringSize(N){return 4+2*N.length}static _writeString(N,s,C){const l=s.length;h.T4(N,l,C),C+=4;for(let m=0;m<l;m++)h.oq(N,s.charCodeAt(m),C),C+=2;return C}static _readString(N,s){const C=h.Ag(N,s);return s+=4,(0,W.kH)(N,s,C)}writeSize(){return 4+4+O._writeStringSize(this.oldText)+O._writeStringSize(this.newText)}write(N,s){return h.T4(N,this.oldPosition,s),s+=4,h.T4(N,this.newPosition,s),s+=4,s=O._writeString(N,this.oldText,s),s=O._writeString(N,this.newText,s),s}static read(N,s,C){const l=h.Ag(N,s);s+=4;const m=h.Ag(N,s);s+=4;const y=O._readString(N,s);s+=O._writeStringSize(y);const n=O._readString(N,s);return s+=O._writeStringSize(n),C.push(new O(l,y,m,n)),s}}function w(x,N){return x===null||x.length===0?N:new G(x,N).compress()}class G{constructor(N,s){this._prevEdits=N,this._currEdits=s,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let N=0,s=0,C=this._getPrev(N),l=this._getCurr(s);for(;N<this._prevLen||s<this._currLen;){if(C===null){this._acceptCurr(l),l=this._getCurr(++s);continue}if(l===null){this._acceptPrev(C),C=this._getPrev(++N);continue}if(l.oldEnd<=C.newPosition){this._acceptCurr(l),l=this._getCurr(++s);continue}if(C.newEnd<=l.oldPosition){this._acceptPrev(C),C=this._getPrev(++N);continue}if(l.oldPosition<C.newPosition){const[f,v]=G._splitCurr(l,C.newPosition-l.oldPosition);this._acceptCurr(f),l=v;continue}if(C.newPosition<l.oldPosition){const[f,v]=G._splitPrev(C,l.oldPosition-C.newPosition);this._acceptPrev(f),C=v;continue}let n,p;if(l.oldEnd===C.newEnd)n=C,p=l,C=this._getPrev(++N),l=this._getCurr(++s);else if(l.oldEnd<C.newEnd){const[f,v]=G._splitPrev(C,l.oldLength);n=f,p=l,C=v,l=this._getCurr(++s)}else{const[f,v]=G._splitCurr(l,C.newLength);n=C,p=f,C=this._getPrev(++N),l=v}this._result[this._resultLen++]=new O(n.oldPosition,n.oldText,p.newPosition,p.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=p.newLength-p.oldLength}const m=G._merge(this._result);return G._removeNoOps(m)}_acceptCurr(N){this._result[this._resultLen++]=G._rebaseCurr(this._prevDeltaOffset,N),this._currDeltaOffset+=N.newLength-N.oldLength}_getCurr(N){return N<this._currLen?this._currEdits[N]:null}_acceptPrev(N){this._result[this._resultLen++]=G._rebasePrev(this._currDeltaOffset,N),this._prevDeltaOffset+=N.newLength-N.oldLength}_getPrev(N){return N<this._prevLen?this._prevEdits[N]:null}static _rebaseCurr(N,s){return new O(s.oldPosition-N,s.oldText,s.newPosition,s.newText)}static _rebasePrev(N,s){return new O(s.oldPosition,s.oldText,s.newPosition+N,s.newText)}static _splitPrev(N,s){const C=N.newText.substr(0,s),l=N.newText.substr(s);return[new O(N.oldPosition,N.oldText,N.newPosition,C),new O(N.oldEnd,"",N.newPosition+s,l)]}static _splitCurr(N,s){const C=N.oldText.substr(0,s),l=N.oldText.substr(s);return[new O(N.oldPosition,C,N.newPosition,N.newText),new O(N.oldPosition+s,l,N.newEnd,"")]}static _merge(N){if(N.length===0)return N;let s=[],C=0,l=N[0];for(let m=1;m<N.length;m++){const y=N[m];l.oldEnd===y.oldPosition?l=new O(l.oldPosition,l.oldText+y.oldText,l.newPosition,l.newText+y.newText):(s[C++]=l,l=y)}return s[C++]=l,s}static _removeNoOps(N){if(N.length===0)return N;let s=[],C=0;for(let l=0;l<N.length;l++){const m=N[l];m.oldText!==m.newText&&(s[C++]=m)}return s}}},24979:function(Ct,we,t){"use strict";t.d(we,{WE:function(){return ys},qx:function(){return Oi},yO:function(){return Wn}});var h=t(17301),W=t(4669),k=t(9917),O=t(97295),w=t(70666),G=t(64141),x=t(50187),N=t(24314),s=t(3860),C=t(84973),l=t(95215);class m{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function y(lt,_,P,Z,ve){ve.spacesDiff=0,ve.looksLikeAlignment=!1;let Ne;for(Ne=0;Ne<_&&Ne<Z;Ne++){let Yt=lt.charCodeAt(Ne),si=P.charCodeAt(Ne);if(Yt!==si)break}let Ue=0,vt=0;for(let Yt=Ne;Yt<_;Yt++)lt.charCodeAt(Yt)===32?Ue++:vt++;let Dt=0,Ft=0;for(let Yt=Ne;Yt<Z;Yt++)P.charCodeAt(Yt)===32?Dt++:Ft++;if(Ue>0&&vt>0||Dt>0&&Ft>0)return;let At=Math.abs(vt-Ft),Ut=Math.abs(Ue-Dt);if(At===0){ve.spacesDiff=Ut,Ut>0&&0<=Dt-1&&Dt-1<lt.length&&Dt<P.length&&P.charCodeAt(Dt)!==32&&lt.charCodeAt(Dt-1)===32&&lt.charCodeAt(lt.length-1)===44&&(ve.looksLikeAlignment=!0);return}if(Ut%At===0){ve.spacesDiff=Ut/At;return}}function n(lt,_,P){const Z=Math.min(lt.getLineCount(),1e4);let ve=0,Ne=0,Ue="",vt=0;const Dt=[2,4,6,8,3,5,7],Ft=8;let At=[0,0,0,0,0,0,0,0,0],Ut=new m;for(let ci=1;ci<=Z;ci++){let yi=lt.getLineLength(ci),wi=lt.getLineContent(ci);const Ni=yi<=65536;let Ui=!1,qi=0,Vi=0,ln=0;for(let Cn=0,yn=yi;Cn<yn;Cn++){let Mn=Ni?wi.charCodeAt(Cn):lt.getLineCharCode(ci,Cn);if(Mn===9)ln++;else if(Mn===32)Vi++;else{Ui=!0,qi=Cn;break}}if(!Ui||(ln>0?ve++:Vi>1&&Ne++,y(Ue,vt,wi,qi,Ut),Ut.looksLikeAlignment&&!(P&&_===Ut.spacesDiff)))continue;let In=Ut.spacesDiff;In<=Ft&&At[In]++,Ue=wi,vt=qi}let Yt=P;ve!==Ne&&(Yt=ve<Ne);let si=_;if(Yt){let ci=Yt?0:.1*Z;Dt.forEach(yi=>{let wi=At[yi];wi>ci&&(ci=wi,si=yi)}),si===4&&At[4]>0&&At[2]>0&&At[2]>=At[4]/2&&(si=2)}return{insertSpaces:Yt,tabSize:si}}function p(lt){return(lt.metadata&1)>>>0}function f(lt,_){lt.metadata=lt.metadata&254|_<<0}function v(lt){return(lt.metadata&2)>>>1===1}function d(lt,_){lt.metadata=lt.metadata&253|(_?1:0)<<1}function a(lt){return(lt.metadata&4)>>>2===1}function u(lt,_){lt.metadata=lt.metadata&251|(_?1:0)<<2}function c(lt){return(lt.metadata&24)>>>3}function b(lt,_){lt.metadata=lt.metadata&231|_<<3}function L(lt){return(lt.metadata&32)>>>5===1}function R(lt,_){lt.metadata=lt.metadata&223|(_?1:0)<<5}class T{constructor(_,P,Z){this.metadata=0,this.parent=this,this.left=this,this.right=this,f(this,1),this.start=P,this.end=Z,this.delta=0,this.maxEnd=Z,this.id=_,this.ownerId=0,this.options=null,u(this,!1),b(this,1),R(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=Z,this.range=null,d(this,!1)}reset(_,P,Z,ve){this.start=P,this.end=Z,this.maxEnd=Z,this.cachedVersionId=_,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=Z,this.range=ve}setOptions(_){this.options=_;let P=this.options.className;u(this,P==="squiggly-error"||P==="squiggly-warning"||P==="squiggly-info"),b(this,this.options.stickiness),R(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(_,P,Z){this.cachedVersionId!==Z&&(this.range=null),this.cachedVersionId=Z,this.cachedAbsoluteStart=_,this.cachedAbsoluteEnd=P}detach(){this.parent=null,this.left=null,this.right=null}}const j=new T(null,0,0);j.parent=j,j.left=j,j.right=j,f(j,0);class q{constructor(){this.root=j,this.requestNormalizeDelta=!1}intervalSearch(_,P,Z,ve,Ne){return this.root===j?[]:E(this,_,P,Z,ve,Ne)}search(_,P,Z){return this.root===j?[]:le(this,_,P,Z)}collectNodesFromOwner(_){return z(this,_)}collectNodesPostOrder(){return Q(this)}insert(_){I(this,_),this._normalizeDeltaIfNecessary()}delete(_){H(this,_),this._normalizeDeltaIfNecessary()}resolveNode(_,P){const Z=_;let ve=0;for(;_!==this.root;)_===_.parent.right&&(ve+=_.parent.delta),_=_.parent;const Ne=Z.start+ve,Ue=Z.end+ve;Z.setCachedOffsets(Ne,Ue,P)}acceptReplace(_,P,Z,ve){const Ne=$(this,_,_+P);for(let Ue=0,vt=Ne.length;Ue<vt;Ue++){const Dt=Ne[Ue];H(this,Dt)}this._normalizeDeltaIfNecessary(),V(this,_,_+P,Z),this._normalizeDeltaIfNecessary();for(let Ue=0,vt=Ne.length;Ue<vt;Ue++){const Dt=Ne[Ue];Dt.start=Dt.cachedAbsoluteStart,Dt.end=Dt.cachedAbsoluteEnd,he(Dt,_,_+P,Z,ve),Dt.maxEnd=Dt.end,I(this,Dt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,ie(this))}}function ie(lt){let _=lt.root,P=0;for(;_!==j;){if(_.left!==j&&!v(_.left)){_=_.left;continue}if(_.right!==j&&!v(_.right)){P+=_.delta,_=_.right;continue}_.start=P+_.start,_.end=P+_.end,_.delta=0,Oe(_),d(_,!0),d(_.left,!1),d(_.right,!1),_===_.parent.right&&(P-=_.parent.delta),_=_.parent}d(lt.root,!1)}function ne(lt,_,P,Z){return lt<P?!0:lt>P||Z===1?!1:Z===2?!0:_}function he(lt,_,P,Z,ve){const Ne=c(lt),Ue=Ne===0||Ne===2,vt=Ne===1||Ne===2,Dt=P-_,Ft=Z,At=Math.min(Dt,Ft),Ut=lt.start;let Yt=!1;const si=lt.end;let ci=!1;_<=Ut&&si<=P&&L(lt)&&(lt.start=_,Yt=!0,lt.end=_,ci=!0);{const wi=ve?1:Dt>0?2:0;!Yt&&ne(Ut,Ue,_,wi)&&(Yt=!0),!ci&&ne(si,vt,_,wi)&&(ci=!0)}if(At>0&&!ve){const wi=Dt>Ft?2:0;!Yt&&ne(Ut,Ue,_+At,wi)&&(Yt=!0),!ci&&ne(si,vt,_+At,wi)&&(ci=!0)}{const wi=ve?1:0;!Yt&&ne(Ut,Ue,P,wi)&&(lt.start=_+Ft,Yt=!0),!ci&&ne(si,vt,P,wi)&&(lt.end=_+Ft,ci=!0)}const yi=Ft-Dt;Yt||(lt.start=Math.max(0,Ut+yi)),ci||(lt.end=Math.max(0,si+yi)),lt.start>lt.end&&(lt.end=lt.start)}function $(lt,_,P){let Z=lt.root,ve=0,Ne=0,Ue=0,vt=0,Dt=[],Ft=0;for(;Z!==j;){if(v(Z)){d(Z.left,!1),d(Z.right,!1),Z===Z.parent.right&&(ve-=Z.parent.delta),Z=Z.parent;continue}if(!v(Z.left)){if(Ne=ve+Z.maxEnd,Ne<_){d(Z,!0);continue}if(Z.left!==j){Z=Z.left;continue}}if(Ue=ve+Z.start,Ue>P){d(Z,!0);continue}if(vt=ve+Z.end,vt>=_&&(Z.setCachedOffsets(Ue,vt,0),Dt[Ft++]=Z),d(Z,!0),Z.right!==j&&!v(Z.right)){ve+=Z.delta,Z=Z.right;continue}}return d(lt.root,!1),Dt}function V(lt,_,P,Z){let ve=lt.root,Ne=0,Ue=0,vt=0;const Dt=Z-(P-_);for(;ve!==j;){if(v(ve)){d(ve.left,!1),d(ve.right,!1),ve===ve.parent.right&&(Ne-=ve.parent.delta),Oe(ve),ve=ve.parent;continue}if(!v(ve.left)){if(Ue=Ne+ve.maxEnd,Ue<_){d(ve,!0);continue}if(ve.left!==j){ve=ve.left;continue}}if(vt=Ne+ve.start,vt>P){ve.start+=Dt,ve.end+=Dt,ve.delta+=Dt,(ve.delta<-1073741824||ve.delta>1073741824)&&(lt.requestNormalizeDelta=!0),d(ve,!0);continue}if(d(ve,!0),ve.right!==j&&!v(ve.right)){Ne+=ve.delta,ve=ve.right;continue}}d(lt.root,!1)}function z(lt,_){let P=lt.root,Z=[],ve=0;for(;P!==j;){if(v(P)){d(P.left,!1),d(P.right,!1),P=P.parent;continue}if(P.left!==j&&!v(P.left)){P=P.left;continue}if(P.ownerId===_&&(Z[ve++]=P),d(P,!0),P.right!==j&&!v(P.right)){P=P.right;continue}}return d(lt.root,!1),Z}function Q(lt){let _=lt.root,P=[],Z=0;for(;_!==j;){if(v(_)){d(_.left,!1),d(_.right,!1),_=_.parent;continue}if(_.left!==j&&!v(_.left)){_=_.left;continue}if(_.right!==j&&!v(_.right)){_=_.right;continue}P[Z++]=_,d(_,!0)}return d(lt.root,!1),P}function le(lt,_,P,Z){let ve=lt.root,Ne=0,Ue=0,vt=0,Dt=[],Ft=0;for(;ve!==j;){if(v(ve)){d(ve.left,!1),d(ve.right,!1),ve===ve.parent.right&&(Ne-=ve.parent.delta),ve=ve.parent;continue}if(ve.left!==j&&!v(ve.left)){ve=ve.left;continue}Ue=Ne+ve.start,vt=Ne+ve.end,ve.setCachedOffsets(Ue,vt,Z);let At=!0;if(_&&ve.ownerId&&ve.ownerId!==_&&(At=!1),P&&a(ve)&&(At=!1),At&&(Dt[Ft++]=ve),d(ve,!0),ve.right!==j&&!v(ve.right)){Ne+=ve.delta,ve=ve.right;continue}}return d(lt.root,!1),Dt}function E(lt,_,P,Z,ve,Ne){let Ue=lt.root,vt=0,Dt=0,Ft=0,At=0,Ut=[],Yt=0;for(;Ue!==j;){if(v(Ue)){d(Ue.left,!1),d(Ue.right,!1),Ue===Ue.parent.right&&(vt-=Ue.parent.delta),Ue=Ue.parent;continue}if(!v(Ue.left)){if(Dt=vt+Ue.maxEnd,Dt<_){d(Ue,!0);continue}if(Ue.left!==j){Ue=Ue.left;continue}}if(Ft=vt+Ue.start,Ft>P){d(Ue,!0);continue}if(At=vt+Ue.end,At>=_){Ue.setCachedOffsets(Ft,At,Ne);let si=!0;Z&&Ue.ownerId&&Ue.ownerId!==Z&&(si=!1),ve&&a(Ue)&&(si=!1),si&&(Ut[Yt++]=Ue)}if(d(Ue,!0),Ue.right!==j&&!v(Ue.right)){vt+=Ue.delta,Ue=Ue.right;continue}}return d(lt.root,!1),Ut}function I(lt,_){if(lt.root===j)return _.parent=j,_.left=j,_.right=j,f(_,0),lt.root=_,lt.root;A(lt,_),Ce(_.parent);let P=_;for(;P!==lt.root&&p(P.parent)===1;)if(P.parent===P.parent.parent.left){const Z=P.parent.parent.right;p(Z)===1?(f(P.parent,0),f(Z,0),f(P.parent.parent,1),P=P.parent.parent):(P===P.parent.right&&(P=P.parent,re(lt,P)),f(P.parent,0),f(P.parent.parent,1),fe(lt,P.parent.parent))}else{const Z=P.parent.parent.left;p(Z)===1?(f(P.parent,0),f(Z,0),f(P.parent.parent,1),P=P.parent.parent):(P===P.parent.left&&(P=P.parent,fe(lt,P)),f(P.parent,0),f(P.parent.parent,1),re(lt,P.parent.parent))}return f(lt.root,0),_}function A(lt,_){let P=0,Z=lt.root;const ve=_.start,Ne=_.end;for(;;)if(oe(ve,Ne,Z.start+P,Z.end+P)<0)if(Z.left===j){_.start-=P,_.end-=P,_.maxEnd-=P,Z.left=_;break}else Z=Z.left;else if(Z.right===j){_.start-=P+Z.delta,_.end-=P+Z.delta,_.maxEnd-=P+Z.delta,Z.right=_;break}else P+=Z.delta,Z=Z.right;_.parent=Z,_.left=j,_.right=j,f(_,1)}function H(lt,_){let P,Z;if(_.left===j?(P=_.right,Z=_,P.delta+=_.delta,(P.delta<-1073741824||P.delta>1073741824)&&(lt.requestNormalizeDelta=!0),P.start+=_.delta,P.end+=_.delta):_.right===j?(P=_.left,Z=_):(Z=Y(_.right),P=Z.right,P.start+=Z.delta,P.end+=Z.delta,P.delta+=Z.delta,(P.delta<-1073741824||P.delta>1073741824)&&(lt.requestNormalizeDelta=!0),Z.start+=_.delta,Z.end+=_.delta,Z.delta=_.delta,(Z.delta<-1073741824||Z.delta>1073741824)&&(lt.requestNormalizeDelta=!0)),Z===lt.root){lt.root=P,f(P,0),_.detach(),X(),Oe(P),lt.root.parent=j;return}let ve=p(Z)===1;if(Z===Z.parent.left?Z.parent.left=P:Z.parent.right=P,Z===_?P.parent=Z.parent:(Z.parent===_?P.parent=Z:P.parent=Z.parent,Z.left=_.left,Z.right=_.right,Z.parent=_.parent,f(Z,p(_)),_===lt.root?lt.root=Z:_===_.parent.left?_.parent.left=Z:_.parent.right=Z,Z.left!==j&&(Z.left.parent=Z),Z.right!==j&&(Z.right.parent=Z)),_.detach(),ve){Ce(P.parent),Z!==_&&(Ce(Z),Ce(Z.parent)),X();return}Ce(P),Ce(P.parent),Z!==_&&(Ce(Z),Ce(Z.parent));let Ne;for(;P!==lt.root&&p(P)===0;)P===P.parent.left?(Ne=P.parent.right,p(Ne)===1&&(f(Ne,0),f(P.parent,1),re(lt,P.parent),Ne=P.parent.right),p(Ne.left)===0&&p(Ne.right)===0?(f(Ne,1),P=P.parent):(p(Ne.right)===0&&(f(Ne.left,0),f(Ne,1),fe(lt,Ne),Ne=P.parent.right),f(Ne,p(P.parent)),f(P.parent,0),f(Ne.right,0),re(lt,P.parent),P=lt.root)):(Ne=P.parent.left,p(Ne)===1&&(f(Ne,0),f(P.parent,1),fe(lt,P.parent),Ne=P.parent.left),p(Ne.left)===0&&p(Ne.right)===0?(f(Ne,1),P=P.parent):(p(Ne.left)===0&&(f(Ne.right,0),f(Ne,1),re(lt,Ne),Ne=P.parent.left),f(Ne,p(P.parent)),f(P.parent,0),f(Ne.left,0),fe(lt,P.parent),P=lt.root));f(P,0),X()}function Y(lt){for(;lt.left!==j;)lt=lt.left;return lt}function X(){j.parent=j,j.delta=0,j.start=0,j.end=0}function re(lt,_){const P=_.right;P.delta+=_.delta,(P.delta<-1073741824||P.delta>1073741824)&&(lt.requestNormalizeDelta=!0),P.start+=_.delta,P.end+=_.delta,_.right=P.left,P.left!==j&&(P.left.parent=_),P.parent=_.parent,_.parent===j?lt.root=P:_===_.parent.left?_.parent.left=P:_.parent.right=P,P.left=_,_.parent=P,Oe(_),Oe(P)}function fe(lt,_){const P=_.left;_.delta-=P.delta,(_.delta<-1073741824||_.delta>1073741824)&&(lt.requestNormalizeDelta=!0),_.start-=P.delta,_.end-=P.delta,_.left=P.right,P.right!==j&&(P.right.parent=_),P.parent=_.parent,_.parent===j?lt.root=P:_===_.parent.right?_.parent.right=P:_.parent.left=P,P.right=_,_.parent=P,Oe(_),Oe(P)}function ue(lt){let _=lt.end;if(lt.left!==j){const P=lt.left.maxEnd;P>_&&(_=P)}if(lt.right!==j){const P=lt.right.maxEnd+lt.delta;P>_&&(_=P)}return _}function Oe(lt){lt.maxEnd=ue(lt)}function Ce(lt){for(;lt!==j;){const _=ue(lt);if(lt.maxEnd===_)return;lt.maxEnd=_,lt=lt.parent}}function oe(lt,_,P,Z){return lt===P?_-Z:lt-P}class ae{constructor(_,P){this.piece=_,this.color=P,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Be)return Ve(this.right);let _=this;for(;_.parent!==Be&&_.parent.left!==_;)_=_.parent;return _.parent===Be?Be:_.parent}prev(){if(this.left!==Be)return se(this.left);let _=this;for(;_.parent!==Be&&_.parent.right!==_;)_=_.parent;return _.parent===Be?Be:_.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Be=new ae(null,0);Be.parent=Be,Be.left=Be,Be.right=Be,Be.color=0;function Ve(lt){for(;lt.left!==Be;)lt=lt.left;return lt}function se(lt){for(;lt.right!==Be;)lt=lt.right;return lt}function ce(lt){return lt===Be?0:lt.size_left+lt.piece.length+ce(lt.right)}function Te(lt){return lt===Be?0:lt.lf_left+lt.piece.lineFeedCnt+Te(lt.right)}function xe(){Be.parent=Be}function Fe(lt,_){let P=_.right;P.size_left+=_.size_left+(_.piece?_.piece.length:0),P.lf_left+=_.lf_left+(_.piece?_.piece.lineFeedCnt:0),_.right=P.left,P.left!==Be&&(P.left.parent=_),P.parent=_.parent,_.parent===Be?lt.root=P:_.parent.left===_?_.parent.left=P:_.parent.right=P,P.left=_,_.parent=P}function Le(lt,_){let P=_.left;_.left=P.right,P.right!==Be&&(P.right.parent=_),P.parent=_.parent,_.size_left-=P.size_left+(P.piece?P.piece.length:0),_.lf_left-=P.lf_left+(P.piece?P.piece.lineFeedCnt:0),_.parent===Be?lt.root=P:_===_.parent.right?_.parent.right=P:_.parent.left=P,P.right=_,_.parent=P}function Me(lt,_){let P,Z;if(_.left===Be?(Z=_,P=Z.right):_.right===Be?(Z=_,P=Z.left):(Z=Ve(_.right),P=Z.right),Z===lt.root){lt.root=P,P.color=0,_.detach(),xe(),lt.root.parent=Be;return}let ve=Z.color===1;if(Z===Z.parent.left?Z.parent.left=P:Z.parent.right=P,Z===_?(P.parent=Z.parent,Ye(lt,P)):(Z.parent===_?P.parent=Z:P.parent=Z.parent,Ye(lt,P),Z.left=_.left,Z.right=_.right,Z.parent=_.parent,Z.color=_.color,_===lt.root?lt.root=Z:_===_.parent.left?_.parent.left=Z:_.parent.right=Z,Z.left!==Be&&(Z.left.parent=Z),Z.right!==Be&&(Z.right.parent=Z),Z.size_left=_.size_left,Z.lf_left=_.lf_left,Ye(lt,Z)),_.detach(),P.parent.left===P){let Ue=ce(P),vt=Te(P);if(Ue!==P.parent.size_left||vt!==P.parent.lf_left){let Dt=Ue-P.parent.size_left,Ft=vt-P.parent.lf_left;P.parent.size_left=Ue,P.parent.lf_left=vt,ze(lt,P.parent,Dt,Ft)}}if(Ye(lt,P.parent),ve){xe();return}let Ne;for(;P!==lt.root&&P.color===0;)P===P.parent.left?(Ne=P.parent.right,Ne.color===1&&(Ne.color=0,P.parent.color=1,Fe(lt,P.parent),Ne=P.parent.right),Ne.left.color===0&&Ne.right.color===0?(Ne.color=1,P=P.parent):(Ne.right.color===0&&(Ne.left.color=0,Ne.color=1,Le(lt,Ne),Ne=P.parent.right),Ne.color=P.parent.color,P.parent.color=0,Ne.right.color=0,Fe(lt,P.parent),P=lt.root)):(Ne=P.parent.left,Ne.color===1&&(Ne.color=0,P.parent.color=1,Le(lt,P.parent),Ne=P.parent.left),Ne.left.color===0&&Ne.right.color===0?(Ne.color=1,P=P.parent):(Ne.left.color===0&&(Ne.right.color=0,Ne.color=1,Fe(lt,Ne),Ne=P.parent.left),Ne.color=P.parent.color,P.parent.color=0,Ne.left.color=0,Le(lt,P.parent),P=lt.root));P.color=0,xe()}function Se(lt,_){for(Ye(lt,_);_!==lt.root&&_.parent.color===1;)if(_.parent===_.parent.parent.left){const P=_.parent.parent.right;P.color===1?(_.parent.color=0,P.color=0,_.parent.parent.color=1,_=_.parent.parent):(_===_.parent.right&&(_=_.parent,Fe(lt,_)),_.parent.color=0,_.parent.parent.color=1,Le(lt,_.parent.parent))}else{const P=_.parent.parent.left;P.color===1?(_.parent.color=0,P.color=0,_.parent.parent.color=1,_=_.parent.parent):(_===_.parent.left&&(_=_.parent,Le(lt,_)),_.parent.color=0,_.parent.parent.color=1,Fe(lt,_.parent.parent))}lt.root.color=0}function ze(lt,_,P,Z){for(;_!==lt.root&&_!==Be;)_.parent.left===_&&(_.parent.size_left+=P,_.parent.lf_left+=Z),_=_.parent}function Ye(lt,_){let P=0,Z=0;if(_!==lt.root){for(;_!==lt.root&&_===_.parent.right;)_=_.parent;if(_!==lt.root)for(_=_.parent,P=ce(_.left)-_.size_left,Z=Te(_.left)-_.lf_left,_.size_left+=P,_.lf_left+=Z;_!==lt.root&&(P!==0||Z!==0);)_.parent.left===_&&(_.parent.size_left+=P,_.parent.lf_left+=Z),_=_.parent}}var qe=t(77277);const ht=65535;function kt(lt){let _;return lt[lt.length-1]<65536?_=new Uint16Array(lt.length):_=new Uint32Array(lt.length),_.set(lt,0),_}class zt{constructor(_,P,Z,ve,Ne){this.lineStarts=_,this.cr=P,this.lf=Z,this.crlf=ve,this.isBasicASCII=Ne}}function Ke(lt,_=!0){let P=[0],Z=1;for(let ve=0,Ne=lt.length;ve<Ne;ve++){const Ue=lt.charCodeAt(ve);Ue===13?ve+1<Ne&&lt.charCodeAt(ve+1)===10?(P[Z++]=ve+2,ve++):P[Z++]=ve+1:Ue===10&&(P[Z++]=ve+1)}return _?kt(P):P}function Je(lt,_){lt.length=0,lt[0]=0;let P=1,Z=0,ve=0,Ne=0,Ue=!0;for(let Dt=0,Ft=_.length;Dt<Ft;Dt++){const At=_.charCodeAt(Dt);At===13?Dt+1<Ft&&_.charCodeAt(Dt+1)===10?(Ne++,lt[P++]=Dt+2,Dt++):(Z++,lt[P++]=Dt+1):At===10?(ve++,lt[P++]=Dt+1):Ue&&At!==9&&(At<32||At>126)&&(Ue=!1)}const vt=new zt(kt(lt),Z,ve,Ne,Ue);return lt.length=0,vt}class Ze{constructor(_,P,Z,ve,Ne){this.bufferIndex=_,this.start=P,this.end=Z,this.lineFeedCnt=ve,this.length=Ne}}class Ae{constructor(_,P){this.buffer=_,this.lineStarts=P}}class He{constructor(_,P){this._pieces=[],this._tree=_,this._BOM=P,this._index=0,_.root!==Be&&_.iterate(_.root,Z=>(Z!==Be&&this._pieces.push(Z.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class It{constructor(_){this._limit=_,this._cache=[]}get(_){for(let P=this._cache.length-1;P>=0;P--){let Z=this._cache[P];if(Z.nodeStartOffset<=_&&Z.nodeStartOffset+Z.node.piece.length>=_)return Z}return null}get2(_){for(let P=this._cache.length-1;P>=0;P--){let Z=this._cache[P];if(Z.nodeStartLineNumber&&Z.nodeStartLineNumber<_&&Z.nodeStartLineNumber+Z.node.piece.lineFeedCnt>=_)return Z}return null}set(_){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(_)}validate(_){let P=!1,Z=this._cache;for(let ve=0;ve<Z.length;ve++){let Ne=Z[ve];if(Ne.node.parent===null||Ne.nodeStartOffset>=_){Z[ve]=null,P=!0;continue}}if(P){let ve=[];for(const Ne of Z)Ne!==null&&ve.push(Ne);this._cache=ve}}}class Bt{constructor(_,P,Z){this.create(_,P,Z)}create(_,P,Z){this._buffers=[new Ae("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Be,this._lineCnt=1,this._length=0,this._EOL=P,this._EOLLength=P.length,this._EOLNormalized=Z;let ve=null;for(let Ne=0,Ue=_.length;Ne<Ue;Ne++)if(_[Ne].buffer.length>0){_[Ne].lineStarts||(_[Ne].lineStarts=Ke(_[Ne].buffer));let vt=new Ze(Ne+1,{line:0,column:0},{line:_[Ne].lineStarts.length-1,column:_[Ne].buffer.length-_[Ne].lineStarts[_[Ne].lineStarts.length-1]},_[Ne].lineStarts.length-1,_[Ne].buffer.length);this._buffers.push(_[Ne]),ve=this.rbInsertRight(ve,vt)}this._searchCache=new It(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(_){let P=ht,Z=P-Math.floor(P/3),ve=Z*2,Ne="",Ue=0,vt=[];if(this.iterate(this.root,Dt=>{let Ft=this.getNodeContent(Dt),At=Ft.length;if(Ue<=Z||Ue+At<ve)return Ne+=Ft,Ue+=At,!0;let Ut=Ne.replace(/\r\n|\r|\n/g,_);return vt.push(new Ae(Ut,Ke(Ut))),Ne=Ft,Ue=At,!0}),Ue>0){let Dt=Ne.replace(/\r\n|\r|\n/g,_);vt.push(new Ae(Dt,Ke(Dt)))}this.create(vt,_,!0)}getEOL(){return this._EOL}setEOL(_){this._EOL=_,this._EOLLength=this._EOL.length,this.normalizeEOL(_)}createSnapshot(_){return new He(this,_)}getOffsetAt(_,P){let Z=0,ve=this.root;for(;ve!==Be;)if(ve.left!==Be&&ve.lf_left+1>=_)ve=ve.left;else if(ve.lf_left+ve.piece.lineFeedCnt+1>=_){Z+=ve.size_left;let Ne=this.getAccumulatedValue(ve,_-ve.lf_left-2);return Z+=Ne+P-1}else _-=ve.lf_left+ve.piece.lineFeedCnt,Z+=ve.size_left+ve.piece.length,ve=ve.right;return Z}getPositionAt(_){_=Math.floor(_),_=Math.max(0,_);let P=this.root,Z=0,ve=_;for(;P!==Be;)if(P.size_left!==0&&P.size_left>=_)P=P.left;else if(P.size_left+P.piece.length>=_){let Ne=this.getIndexOf(P,_-P.size_left);if(Z+=P.lf_left+Ne.index,Ne.index===0){let Ue=this.getOffsetAt(Z+1,1),vt=ve-Ue;return new x.L(Z+1,vt+1)}return new x.L(Z+1,Ne.remainder+1)}else if(_-=P.size_left+P.piece.length,Z+=P.lf_left+P.piece.lineFeedCnt,P.right===Be){let Ne=this.getOffsetAt(Z+1,1),Ue=ve-_-Ne;return new x.L(Z+1,Ue+1)}else P=P.right;return new x.L(1,1)}getValueInRange(_,P){if(_.startLineNumber===_.endLineNumber&&_.startColumn===_.endColumn)return"";let Z=this.nodeAt2(_.startLineNumber,_.startColumn),ve=this.nodeAt2(_.endLineNumber,_.endColumn),Ne=this.getValueInRange2(Z,ve);return P?P!==this._EOL||!this._EOLNormalized?Ne.replace(/\r\n|\r|\n/g,P):P===this.getEOL()&&this._EOLNormalized?Ne:Ne.replace(/\r\n|\r|\n/g,P):Ne}getValueInRange2(_,P){if(_.node===P.node){let vt=_.node,Dt=this._buffers[vt.piece.bufferIndex].buffer,Ft=this.offsetInBuffer(vt.piece.bufferIndex,vt.piece.start);return Dt.substring(Ft+_.remainder,Ft+P.remainder)}let Z=_.node,ve=this._buffers[Z.piece.bufferIndex].buffer,Ne=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start),Ue=ve.substring(Ne+_.remainder,Ne+Z.piece.length);for(Z=Z.next();Z!==Be;){let vt=this._buffers[Z.piece.bufferIndex].buffer,Dt=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);if(Z===P.node){Ue+=vt.substring(Dt,Dt+P.remainder);break}else Ue+=vt.substr(Dt,Z.piece.length);Z=Z.next()}return Ue}getLinesContent(){let _=[],P=0,Z="",ve=!1;return this.iterate(this.root,Ne=>{if(Ne===Be)return!0;const Ue=Ne.piece;let vt=Ue.length;if(vt===0)return!0;const Dt=this._buffers[Ue.bufferIndex].buffer,Ft=this._buffers[Ue.bufferIndex].lineStarts,At=Ue.start.line,Ut=Ue.end.line;let Yt=Ft[At]+Ue.start.column;if(ve&&(Dt.charCodeAt(Yt)===10&&(Yt++,vt--),_[P++]=Z,Z="",ve=!1,vt===0))return!0;if(At===Ut)return!this._EOLNormalized&&Dt.charCodeAt(Yt+vt-1)===13?(ve=!0,Z+=Dt.substr(Yt,vt-1)):Z+=Dt.substr(Yt,vt),!0;Z+=this._EOLNormalized?Dt.substring(Yt,Math.max(Yt,Ft[At+1]-this._EOLLength)):Dt.substring(Yt,Ft[At+1]).replace(/(\r\n|\r|\n)$/,""),_[P++]=Z;for(let si=At+1;si<Ut;si++)Z=this._EOLNormalized?Dt.substring(Ft[si],Ft[si+1]-this._EOLLength):Dt.substring(Ft[si],Ft[si+1]).replace(/(\r\n|\r|\n)$/,""),_[P++]=Z;return!this._EOLNormalized&&Dt.charCodeAt(Ft[Ut]+Ue.end.column-1)===13?(ve=!0,Ue.end.column===0?P--:Z=Dt.substr(Ft[Ut],Ue.end.column-1)):Z=Dt.substr(Ft[Ut],Ue.end.column),!0}),ve&&(_[P++]=Z,Z=""),_[P++]=Z,_}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(_){return this._lastVisitedLine.lineNumber===_?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=_,_===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(_):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(_,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(_).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(_){if(_.remainder===_.node.piece.length){let P=_.node.next();if(!P)return 0;let Z=this._buffers[P.piece.bufferIndex],ve=this.offsetInBuffer(P.piece.bufferIndex,P.piece.start);return Z.buffer.charCodeAt(ve)}else{let P=this._buffers[_.node.piece.bufferIndex],ve=this.offsetInBuffer(_.node.piece.bufferIndex,_.node.piece.start)+_.remainder;return P.buffer.charCodeAt(ve)}}getLineCharCode(_,P){let Z=this.nodeAt2(_,P+1);return this._getCharCode(Z)}getLineLength(_){if(_===this.getLineCount()){let P=this.getOffsetAt(_,1);return this.getLength()-P}return this.getOffsetAt(_+1,1)-this.getOffsetAt(_,1)-this._EOLLength}findMatchesInNode(_,P,Z,ve,Ne,Ue,vt,Dt,Ft,At,Ut){let Yt=this._buffers[_.piece.bufferIndex],si=this.offsetInBuffer(_.piece.bufferIndex,_.piece.start),ci=this.offsetInBuffer(_.piece.bufferIndex,Ne),yi=this.offsetInBuffer(_.piece.bufferIndex,Ue),wi,Ni={line:0,column:0},Ui,qi;P._wordSeparators?(Ui=Yt.buffer.substring(ci,yi),qi=Vi=>Vi+ci,P.reset(0)):(Ui=Yt.buffer,qi=Vi=>Vi,P.reset(ci));do if(wi=P.next(Ui),wi){if(qi(wi.index)>=yi)return At;this.positionInBuffer(_,qi(wi.index)-si,Ni);let Vi=this.getLineFeedCnt(_.piece.bufferIndex,Ne,Ni),ln=Ni.line===Ne.line?Ni.column-Ne.column+ve:Ni.column+1,In=ln+wi[0].length;if(Ut[At++]=(0,qe.iE)(new N.e(Z+Vi,ln,Z+Vi,In),wi,Dt),qi(wi.index)+wi[0].length>=yi||At>=Ft)return At}while(wi);return At}findMatchesLineByLine(_,P,Z,ve){const Ne=[];let Ue=0;const vt=new qe.sz(P.wordSeparators,P.regex);let Dt=this.nodeAt2(_.startLineNumber,_.startColumn);if(Dt===null)return[];let Ft=this.nodeAt2(_.endLineNumber,_.endColumn);if(Ft===null)return[];let At=this.positionInBuffer(Dt.node,Dt.remainder),Ut=this.positionInBuffer(Ft.node,Ft.remainder);if(Dt.node===Ft.node)return this.findMatchesInNode(Dt.node,vt,_.startLineNumber,_.startColumn,At,Ut,P,Z,ve,Ue,Ne),Ne;let Yt=_.startLineNumber,si=Dt.node;for(;si!==Ft.node;){let yi=this.getLineFeedCnt(si.piece.bufferIndex,At,si.piece.end);if(yi>=1){let Ni=this._buffers[si.piece.bufferIndex].lineStarts,Ui=this.offsetInBuffer(si.piece.bufferIndex,si.piece.start),qi=Ni[At.line+yi],Vi=Yt===_.startLineNumber?_.startColumn:1;if(Ue=this.findMatchesInNode(si,vt,Yt,Vi,At,this.positionInBuffer(si,qi-Ui),P,Z,ve,Ue,Ne),Ue>=ve)return Ne;Yt+=yi}let wi=Yt===_.startLineNumber?_.startColumn-1:0;if(Yt===_.endLineNumber){const Ni=this.getLineContent(Yt).substring(wi,_.endColumn-1);return Ue=this._findMatchesInLine(P,vt,Ni,_.endLineNumber,wi,Ue,Ne,Z,ve),Ne}if(Ue=this._findMatchesInLine(P,vt,this.getLineContent(Yt).substr(wi),Yt,wi,Ue,Ne,Z,ve),Ue>=ve)return Ne;Yt++,Dt=this.nodeAt2(Yt,1),si=Dt.node,At=this.positionInBuffer(Dt.node,Dt.remainder)}if(Yt===_.endLineNumber){let yi=Yt===_.startLineNumber?_.startColumn-1:0;const wi=this.getLineContent(Yt).substring(yi,_.endColumn-1);return Ue=this._findMatchesInLine(P,vt,wi,_.endLineNumber,yi,Ue,Ne,Z,ve),Ne}let ci=Yt===_.startLineNumber?_.startColumn:1;return Ue=this.findMatchesInNode(Ft.node,vt,Yt,ci,At,Ut,P,Z,ve,Ue,Ne),Ne}_findMatchesInLine(_,P,Z,ve,Ne,Ue,vt,Dt,Ft){const At=_.wordSeparators;if(!Dt&&_.simpleSearch){const Yt=_.simpleSearch,si=Yt.length,ci=Z.length;let yi=-si;for(;(yi=Z.indexOf(Yt,yi+si))!==-1;)if((!At||(0,qe.cM)(At,Z,ci,yi,si))&&(vt[Ue++]=new C.tk(new N.e(ve,yi+1+Ne,ve,yi+1+si+Ne),null),Ue>=Ft))return Ue;return Ue}let Ut;P.reset(0);do if(Ut=P.next(Z),Ut&&(vt[Ue++]=(0,qe.iE)(new N.e(ve,Ut.index+1+Ne,ve,Ut.index+1+Ut[0].length+Ne),Ut,Dt),Ue>=Ft))return Ue;while(Ut);return Ue}insert(_,P,Z=!1){if(this._EOLNormalized=this._EOLNormalized&&Z,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Be){let{node:ve,remainder:Ne,nodeStartOffset:Ue}=this.nodeAt(_),vt=ve.piece,Dt=vt.bufferIndex,Ft=this.positionInBuffer(ve,Ne);if(ve.piece.bufferIndex===0&&vt.end.line===this._lastChangeBufferPos.line&&vt.end.column===this._lastChangeBufferPos.column&&Ue+vt.length===_&&P.length<ht){this.appendToNode(ve,P),this.computeBufferMetadata();return}if(Ue===_)this.insertContentToNodeLeft(P,ve),this._searchCache.validate(_);else if(Ue+ve.piece.length>_){let At=[],Ut=new Ze(vt.bufferIndex,Ft,vt.end,this.getLineFeedCnt(vt.bufferIndex,Ft,vt.end),this.offsetInBuffer(Dt,vt.end)-this.offsetInBuffer(Dt,Ft));if(this.shouldCheckCRLF()&&this.endWithCR(P)&&this.nodeCharCodeAt(ve,Ne)===10){let yi={line:Ut.start.line+1,column:0};Ut=new Ze(Ut.bufferIndex,yi,Ut.end,this.getLineFeedCnt(Ut.bufferIndex,yi,Ut.end),Ut.length-1),P+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(P))if(this.nodeCharCodeAt(ve,Ne-1)===13){let yi=this.positionInBuffer(ve,Ne-1);this.deleteNodeTail(ve,yi),P="\r"+P,ve.piece.length===0&&At.push(ve)}else this.deleteNodeTail(ve,Ft);else this.deleteNodeTail(ve,Ft);let Yt=this.createNewPieces(P);Ut.length>0&&this.rbInsertRight(ve,Ut);let si=ve;for(let ci=0;ci<Yt.length;ci++)si=this.rbInsertRight(si,Yt[ci]);this.deleteNodes(At)}else this.insertContentToNodeRight(P,ve)}else{let ve=this.createNewPieces(P),Ne=this.rbInsertLeft(null,ve[0]);for(let Ue=1;Ue<ve.length;Ue++)Ne=this.rbInsertRight(Ne,ve[Ue])}this.computeBufferMetadata()}delete(_,P){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",P<=0||this.root===Be)return;let Z=this.nodeAt(_),ve=this.nodeAt(_+P),Ne=Z.node,Ue=ve.node;if(Ne===Ue){let Yt=this.positionInBuffer(Ne,Z.remainder),si=this.positionInBuffer(Ne,ve.remainder);if(Z.nodeStartOffset===_){if(P===Ne.piece.length){let ci=Ne.next();Me(this,Ne),this.validateCRLFWithPrevNode(ci),this.computeBufferMetadata();return}this.deleteNodeHead(Ne,si),this._searchCache.validate(_),this.validateCRLFWithPrevNode(Ne),this.computeBufferMetadata();return}if(Z.nodeStartOffset+Ne.piece.length===_+P){this.deleteNodeTail(Ne,Yt),this.validateCRLFWithNextNode(Ne),this.computeBufferMetadata();return}this.shrinkNode(Ne,Yt,si),this.computeBufferMetadata();return}let vt=[],Dt=this.positionInBuffer(Ne,Z.remainder);this.deleteNodeTail(Ne,Dt),this._searchCache.validate(_),Ne.piece.length===0&&vt.push(Ne);let Ft=this.positionInBuffer(Ue,ve.remainder);this.deleteNodeHead(Ue,Ft),Ue.piece.length===0&&vt.push(Ue);let At=Ne.next();for(let Yt=At;Yt!==Be&&Yt!==Ue;Yt=Yt.next())vt.push(Yt);let Ut=Ne.piece.length===0?Ne.prev():Ne;this.deleteNodes(vt),this.validateCRLFWithNextNode(Ut),this.computeBufferMetadata()}insertContentToNodeLeft(_,P){let Z=[];if(this.shouldCheckCRLF()&&this.endWithCR(_)&&this.startWithLF(P)){let Ue=P.piece,vt={line:Ue.start.line+1,column:0},Dt=new Ze(Ue.bufferIndex,vt,Ue.end,this.getLineFeedCnt(Ue.bufferIndex,vt,Ue.end),Ue.length-1);P.piece=Dt,_+=`
`,ze(this,P,-1,-1),P.piece.length===0&&Z.push(P)}let ve=this.createNewPieces(_),Ne=this.rbInsertLeft(P,ve[ve.length-1]);for(let Ue=ve.length-2;Ue>=0;Ue--)Ne=this.rbInsertLeft(Ne,ve[Ue]);this.validateCRLFWithPrevNode(Ne),this.deleteNodes(Z)}insertContentToNodeRight(_,P){this.adjustCarriageReturnFromNext(_,P)&&(_+=`
`);let Z=this.createNewPieces(_),ve=this.rbInsertRight(P,Z[0]),Ne=ve;for(let Ue=1;Ue<Z.length;Ue++)Ne=this.rbInsertRight(Ne,Z[Ue]);this.validateCRLFWithPrevNode(ve)}positionInBuffer(_,P,Z){let ve=_.piece,Ne=_.piece.bufferIndex,Ue=this._buffers[Ne].lineStarts,Dt=Ue[ve.start.line]+ve.start.column+P,Ft=ve.start.line,At=ve.end.line,Ut=0,Yt=0,si=0;for(;Ft<=At&&(Ut=Ft+(At-Ft)/2|0,si=Ue[Ut],Ut!==At);)if(Yt=Ue[Ut+1],Dt<si)At=Ut-1;else if(Dt>=Yt)Ft=Ut+1;else break;return Z?(Z.line=Ut,Z.column=Dt-si,null):{line:Ut,column:Dt-si}}getLineFeedCnt(_,P,Z){if(Z.column===0)return Z.line-P.line;let ve=this._buffers[_].lineStarts;if(Z.line===ve.length-1)return Z.line-P.line;let Ne=ve[Z.line+1],Ue=ve[Z.line]+Z.column;if(Ne>Ue+1)return Z.line-P.line;let vt=Ue-1;return this._buffers[_].buffer.charCodeAt(vt)===13?Z.line-P.line+1:Z.line-P.line}offsetInBuffer(_,P){return this._buffers[_].lineStarts[P.line]+P.column}deleteNodes(_){for(let P=0;P<_.length;P++)Me(this,_[P])}createNewPieces(_){if(_.length>ht){let At=[];for(;_.length>ht;){const Yt=_.charCodeAt(ht-1);let si;Yt===13||Yt>=55296&&Yt<=56319?(si=_.substring(0,ht-1),_=_.substring(ht-1)):(si=_.substring(0,ht),_=_.substring(ht));let ci=Ke(si);At.push(new Ze(this._buffers.length,{line:0,column:0},{line:ci.length-1,column:si.length-ci[ci.length-1]},ci.length-1,si.length)),this._buffers.push(new Ae(si,ci))}let Ut=Ke(_);return At.push(new Ze(this._buffers.length,{line:0,column:0},{line:Ut.length-1,column:_.length-Ut[Ut.length-1]},Ut.length-1,_.length)),this._buffers.push(new Ae(_,Ut)),At}let P=this._buffers[0].buffer.length;const Z=Ke(_,!1);let ve=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===P&&P!==0&&this.startWithLF(_)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},ve=this._lastChangeBufferPos;for(let At=0;At<Z.length;At++)Z[At]+=P+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Z.slice(1)),this._buffers[0].buffer+="_"+_,P+=1}else{if(P!==0)for(let At=0;At<Z.length;At++)Z[At]+=P;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Z.slice(1)),this._buffers[0].buffer+=_}const Ne=this._buffers[0].buffer.length;let Ue=this._buffers[0].lineStarts.length-1,vt=Ne-this._buffers[0].lineStarts[Ue],Dt={line:Ue,column:vt},Ft=new Ze(0,ve,Dt,this.getLineFeedCnt(0,ve,Dt),Ne-P);return this._lastChangeBufferPos=Dt,[Ft]}getLineRawContent(_,P=0){let Z=this.root,ve="",Ne=this._searchCache.get2(_);if(Ne){Z=Ne.node;let Ue=this.getAccumulatedValue(Z,_-Ne.nodeStartLineNumber-1),vt=this._buffers[Z.piece.bufferIndex].buffer,Dt=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);if(Ne.nodeStartLineNumber+Z.piece.lineFeedCnt===_)ve=vt.substring(Dt+Ue,Dt+Z.piece.length);else{let Ft=this.getAccumulatedValue(Z,_-Ne.nodeStartLineNumber);return vt.substring(Dt+Ue,Dt+Ft-P)}}else{let Ue=0;const vt=_;for(;Z!==Be;)if(Z.left!==Be&&Z.lf_left>=_-1)Z=Z.left;else if(Z.lf_left+Z.piece.lineFeedCnt>_-1){let Dt=this.getAccumulatedValue(Z,_-Z.lf_left-2),Ft=this.getAccumulatedValue(Z,_-Z.lf_left-1),At=this._buffers[Z.piece.bufferIndex].buffer,Ut=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);return Ue+=Z.size_left,this._searchCache.set({node:Z,nodeStartOffset:Ue,nodeStartLineNumber:vt-(_-1-Z.lf_left)}),At.substring(Ut+Dt,Ut+Ft-P)}else if(Z.lf_left+Z.piece.lineFeedCnt===_-1){let Dt=this.getAccumulatedValue(Z,_-Z.lf_left-2),Ft=this._buffers[Z.piece.bufferIndex].buffer,At=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);ve=Ft.substring(At+Dt,At+Z.piece.length);break}else _-=Z.lf_left+Z.piece.lineFeedCnt,Ue+=Z.size_left+Z.piece.length,Z=Z.right}for(Z=Z.next();Z!==Be;){let Ue=this._buffers[Z.piece.bufferIndex].buffer;if(Z.piece.lineFeedCnt>0){let vt=this.getAccumulatedValue(Z,0),Dt=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);return ve+=Ue.substring(Dt,Dt+vt-P),ve}else{let vt=this.offsetInBuffer(Z.piece.bufferIndex,Z.piece.start);ve+=Ue.substr(vt,Z.piece.length)}Z=Z.next()}return ve}computeBufferMetadata(){let _=this.root,P=1,Z=0;for(;_!==Be;)P+=_.lf_left+_.piece.lineFeedCnt,Z+=_.size_left+_.piece.length,_=_.right;this._lineCnt=P,this._length=Z,this._searchCache.validate(this._length)}getIndexOf(_,P){let Z=_.piece,ve=this.positionInBuffer(_,P),Ne=ve.line-Z.start.line;if(this.offsetInBuffer(Z.bufferIndex,Z.end)-this.offsetInBuffer(Z.bufferIndex,Z.start)===P){let Ue=this.getLineFeedCnt(_.piece.bufferIndex,Z.start,ve);if(Ue!==Ne)return{index:Ue,remainder:0}}return{index:Ne,remainder:ve.column}}getAccumulatedValue(_,P){if(P<0)return 0;let Z=_.piece,ve=this._buffers[Z.bufferIndex].lineStarts,Ne=Z.start.line+P+1;return Ne>Z.end.line?ve[Z.end.line]+Z.end.column-ve[Z.start.line]-Z.start.column:ve[Ne]-ve[Z.start.line]-Z.start.column}deleteNodeTail(_,P){const Z=_.piece,ve=Z.lineFeedCnt,Ne=this.offsetInBuffer(Z.bufferIndex,Z.end),Ue=P,vt=this.offsetInBuffer(Z.bufferIndex,Ue),Dt=this.getLineFeedCnt(Z.bufferIndex,Z.start,Ue),Ft=Dt-ve,At=vt-Ne,Ut=Z.length+At;_.piece=new Ze(Z.bufferIndex,Z.start,Ue,Dt,Ut),ze(this,_,At,Ft)}deleteNodeHead(_,P){const Z=_.piece,ve=Z.lineFeedCnt,Ne=this.offsetInBuffer(Z.bufferIndex,Z.start),Ue=P,vt=this.getLineFeedCnt(Z.bufferIndex,Ue,Z.end),Dt=this.offsetInBuffer(Z.bufferIndex,Ue),Ft=vt-ve,At=Ne-Dt,Ut=Z.length+At;_.piece=new Ze(Z.bufferIndex,Ue,Z.end,vt,Ut),ze(this,_,At,Ft)}shrinkNode(_,P,Z){const ve=_.piece,Ne=ve.start,Ue=ve.end,vt=ve.length,Dt=ve.lineFeedCnt,Ft=P,At=this.getLineFeedCnt(ve.bufferIndex,ve.start,Ft),Ut=this.offsetInBuffer(ve.bufferIndex,P)-this.offsetInBuffer(ve.bufferIndex,Ne);_.piece=new Ze(ve.bufferIndex,ve.start,Ft,At,Ut),ze(this,_,Ut-vt,At-Dt);let Yt=new Ze(ve.bufferIndex,Z,Ue,this.getLineFeedCnt(ve.bufferIndex,Z,Ue),this.offsetInBuffer(ve.bufferIndex,Ue)-this.offsetInBuffer(ve.bufferIndex,Z)),si=this.rbInsertRight(_,Yt);this.validateCRLFWithPrevNode(si)}appendToNode(_,P){this.adjustCarriageReturnFromNext(P,_)&&(P+=`
`);const Z=this.shouldCheckCRLF()&&this.startWithLF(P)&&this.endWithCR(_),ve=this._buffers[0].buffer.length;this._buffers[0].buffer+=P;const Ne=Ke(P,!1);for(let si=0;si<Ne.length;si++)Ne[si]+=ve;if(Z){let si=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:ve-si}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ne.slice(1));const Ue=this._buffers[0].lineStarts.length-1,vt=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Ue],Dt={line:Ue,column:vt},Ft=_.piece.length+P.length,At=_.piece.lineFeedCnt,Ut=this.getLineFeedCnt(0,_.piece.start,Dt),Yt=Ut-At;_.piece=new Ze(_.piece.bufferIndex,_.piece.start,Dt,Ut,Ft),this._lastChangeBufferPos=Dt,ze(this,_,P.length,Yt)}nodeAt(_){let P=this.root,Z=this._searchCache.get(_);if(Z)return{node:Z.node,nodeStartOffset:Z.nodeStartOffset,remainder:_-Z.nodeStartOffset};let ve=0;for(;P!==Be;)if(P.size_left>_)P=P.left;else if(P.size_left+P.piece.length>=_){ve+=P.size_left;let Ne={node:P,remainder:_-P.size_left,nodeStartOffset:ve};return this._searchCache.set(Ne),Ne}else _-=P.size_left+P.piece.length,ve+=P.size_left+P.piece.length,P=P.right;return null}nodeAt2(_,P){let Z=this.root,ve=0;for(;Z!==Be;)if(Z.left!==Be&&Z.lf_left>=_-1)Z=Z.left;else if(Z.lf_left+Z.piece.lineFeedCnt>_-1){let Ne=this.getAccumulatedValue(Z,_-Z.lf_left-2),Ue=this.getAccumulatedValue(Z,_-Z.lf_left-1);return ve+=Z.size_left,{node:Z,remainder:Math.min(Ne+P-1,Ue),nodeStartOffset:ve}}else if(Z.lf_left+Z.piece.lineFeedCnt===_-1){let Ne=this.getAccumulatedValue(Z,_-Z.lf_left-2);if(Ne+P-1<=Z.piece.length)return{node:Z,remainder:Ne+P-1,nodeStartOffset:ve};P-=Z.piece.length-Ne;break}else _-=Z.lf_left+Z.piece.lineFeedCnt,ve+=Z.size_left+Z.piece.length,Z=Z.right;for(Z=Z.next();Z!==Be;){if(Z.piece.lineFeedCnt>0){let Ne=this.getAccumulatedValue(Z,0),Ue=this.offsetOfNode(Z);return{node:Z,remainder:Math.min(P-1,Ne),nodeStartOffset:Ue}}else if(Z.piece.length>=P-1){let Ne=this.offsetOfNode(Z);return{node:Z,remainder:P-1,nodeStartOffset:Ne}}else P-=Z.piece.length;Z=Z.next()}return null}nodeCharCodeAt(_,P){if(_.piece.lineFeedCnt<1)return-1;let Z=this._buffers[_.piece.bufferIndex],ve=this.offsetInBuffer(_.piece.bufferIndex,_.piece.start)+P;return Z.buffer.charCodeAt(ve)}offsetOfNode(_){if(!_)return 0;let P=_.size_left;for(;_!==this.root;)_.parent.right===_&&(P+=_.parent.size_left+_.parent.piece.length),_=_.parent;return P}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(_){if(typeof _=="string")return _.charCodeAt(0)===10;if(_===Be||_.piece.lineFeedCnt===0)return!1;let P=_.piece,Z=this._buffers[P.bufferIndex].lineStarts,ve=P.start.line,Ne=Z[ve]+P.start.column;return ve===Z.length-1||Z[ve+1]>Ne+1?!1:this._buffers[P.bufferIndex].buffer.charCodeAt(Ne)===10}endWithCR(_){return typeof _=="string"?_.charCodeAt(_.length-1)===13:_===Be||_.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(_,_.piece.length-1)===13}validateCRLFWithPrevNode(_){if(this.shouldCheckCRLF()&&this.startWithLF(_)){let P=_.prev();this.endWithCR(P)&&this.fixCRLF(P,_)}}validateCRLFWithNextNode(_){if(this.shouldCheckCRLF()&&this.endWithCR(_)){let P=_.next();this.startWithLF(P)&&this.fixCRLF(_,P)}}fixCRLF(_,P){let Z=[],ve=this._buffers[_.piece.bufferIndex].lineStarts,Ne;_.piece.end.column===0?Ne={line:_.piece.end.line-1,column:ve[_.piece.end.line]-ve[_.piece.end.line-1]-1}:Ne={line:_.piece.end.line,column:_.piece.end.column-1};const Ue=_.piece.length-1,vt=_.piece.lineFeedCnt-1;_.piece=new Ze(_.piece.bufferIndex,_.piece.start,Ne,vt,Ue),ze(this,_,-1,-1),_.piece.length===0&&Z.push(_);let Dt={line:P.piece.start.line+1,column:0};const Ft=P.piece.length-1,At=this.getLineFeedCnt(P.piece.bufferIndex,Dt,P.piece.end);P.piece=new Ze(P.piece.bufferIndex,Dt,P.piece.end,At,Ft),ze(this,P,-1,-1),P.piece.length===0&&Z.push(P);let Ut=this.createNewPieces(`\r
`);this.rbInsertRight(_,Ut[0]);for(let Yt=0;Yt<Z.length;Yt++)Me(this,Z[Yt])}adjustCarriageReturnFromNext(_,P){if(this.shouldCheckCRLF()&&this.endWithCR(_)){let Z=P.next();if(this.startWithLF(Z)){if(_+=`
`,Z.piece.length===1)Me(this,Z);else{const ve=Z.piece,Ne={line:ve.start.line+1,column:0},Ue=ve.length-1,vt=this.getLineFeedCnt(ve.bufferIndex,Ne,ve.end);Z.piece=new Ze(ve.bufferIndex,Ne,ve.end,vt,Ue),ze(this,Z,-1,-1)}return!0}}return!1}iterate(_,P){if(_===Be)return P(Be);let Z=this.iterate(_.left,P);return Z&&P(_)&&this.iterate(_.right,P)}getNodeContent(_){if(_===Be)return"";let P=this._buffers[_.piece.bufferIndex],Z,ve=_.piece,Ne=this.offsetInBuffer(ve.bufferIndex,ve.start),Ue=this.offsetInBuffer(ve.bufferIndex,ve.end);return Z=P.buffer.substring(Ne,Ue),Z}getPieceContent(_){let P=this._buffers[_.bufferIndex],Z=this.offsetInBuffer(_.bufferIndex,_.start),ve=this.offsetInBuffer(_.bufferIndex,_.end);return P.buffer.substring(Z,ve)}rbInsertRight(_,P){let Z=new ae(P,1);if(Z.left=Be,Z.right=Be,Z.parent=Be,Z.size_left=0,Z.lf_left=0,this.root===Be)this.root=Z,Z.color=0;else if(_.right===Be)_.right=Z,Z.parent=_;else{let Ne=Ve(_.right);Ne.left=Z,Z.parent=Ne}return Se(this,Z),Z}rbInsertLeft(_,P){let Z=new ae(P,1);if(Z.left=Be,Z.right=Be,Z.parent=Be,Z.size_left=0,Z.lf_left=0,this.root===Be)this.root=Z,Z.color=0;else if(_.left===Be)_.left=Z,Z.parent=_;else{let ve=se(_.left);ve.right=Z,Z.parent=ve}return Se(this,Z),Z}}var oi=t(58409),ni=t(60962);class hi extends k.JT{constructor(_,P,Z,ve,Ne,Ue,vt){super(),this._onDidChangeContent=this._register(new W.Q5),this._BOM=P,this._mightContainNonBasicASCII=!Ue,this._mightContainRTL=ve,this._mightContainUnusualLineTerminators=Ne,this._pieceTree=new Bt(_,Z,vt)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(_){return this._pieceTree.createSnapshot(_?this._BOM:"")}getOffsetAt(_,P){return this._pieceTree.getOffsetAt(_,P)}getPositionAt(_){return this._pieceTree.getPositionAt(_)}getRangeAt(_,P){let Z=_+P;const ve=this.getPositionAt(_),Ne=this.getPositionAt(Z);return new N.e(ve.lineNumber,ve.column,Ne.lineNumber,Ne.column)}getValueInRange(_,P=0){if(_.isEmpty())return"";const Z=this._getEndOfLine(P);return this._pieceTree.getValueInRange(_,Z)}getValueLengthInRange(_,P=0){if(_.isEmpty())return 0;if(_.startLineNumber===_.endLineNumber)return _.endColumn-_.startColumn;let Z=this.getOffsetAt(_.startLineNumber,_.startColumn);return this.getOffsetAt(_.endLineNumber,_.endColumn)-Z}getCharacterCountInRange(_,P=0){if(this._mightContainNonBasicASCII){let Z=0;const ve=_.startLineNumber,Ne=_.endLineNumber;for(let Ue=ve;Ue<=Ne;Ue++){const vt=this.getLineContent(Ue),Dt=Ue===ve?_.startColumn-1:0,Ft=Ue===Ne?_.endColumn-1:vt.length;for(let At=Dt;At<Ft;At++)O.ZG(vt.charCodeAt(At))?(Z=Z+1,At=At+1):Z=Z+1}return Z+=this._getEndOfLine(P).length*(Ne-ve),Z}return this.getValueLengthInRange(_,P)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(_){return this._pieceTree.getLineContent(_)}getLineCharCode(_,P){return this._pieceTree.getLineCharCode(_,P)}getLineLength(_){return this._pieceTree.getLineLength(_)}getLineFirstNonWhitespaceColumn(_){const P=O.LC(this.getLineContent(_));return P===-1?0:P+1}getLineLastNonWhitespaceColumn(_){const P=O.ow(this.getLineContent(_));return P===-1?0:P+2}_getEndOfLine(_){switch(_){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(_){this._pieceTree.setEOL(_)}applyEdits(_,P,Z){let ve=this._mightContainRTL,Ne=this._mightContainUnusualLineTerminators,Ue=this._mightContainNonBasicASCII,vt=!0,Dt=[];for(let yi=0;yi<_.length;yi++){let wi=_[yi];vt&&wi._isTracked&&(vt=!1);let Ni=wi.range;if(wi.text){let In=!0;Ue||(In=!O.$i(wi.text),Ue=In),!ve&&In&&(ve=O.Ut(wi.text)),!Ne&&In&&(Ne=O.ab(wi.text))}let Ui="",qi=0,Vi=0,ln=0;if(wi.text){let In;[qi,Vi,ln,In]=(0,oi.QZ)(wi.text);const Cn=this.getEOL();In===0||In===(Cn===`\r
`?2:1)?Ui=wi.text:Ui=wi.text.replace(/\r\n|\r|\n/g,Cn)}Dt[yi]={sortIndex:yi,identifier:wi.identifier||null,range:Ni,rangeOffset:this.getOffsetAt(Ni.startLineNumber,Ni.startColumn),rangeLength:this.getValueLengthInRange(Ni),text:Ui,eolCount:qi,firstLineLength:Vi,lastLineLength:ln,forceMoveMarkers:!!wi.forceMoveMarkers,isAutoWhitespaceEdit:wi.isAutoWhitespaceEdit||!1}}Dt.sort(hi._sortOpsAscending);let Ft=!1;for(let yi=0,wi=Dt.length-1;yi<wi;yi++){let Ni=Dt[yi].range.getEndPosition(),Ui=Dt[yi+1].range.getStartPosition();if(Ui.isBeforeOrEqual(Ni)){if(Ui.isBefore(Ni))throw new Error("Overlapping ranges are not allowed!");Ft=!0}}vt&&(Dt=this._reduceOperations(Dt));let At=Z||P?hi._getInverseEditRanges(Dt):[],Ut=[];if(P)for(let yi=0;yi<Dt.length;yi++){let wi=Dt[yi],Ni=At[yi];if(wi.isAutoWhitespaceEdit&&wi.range.isEmpty())for(let Ui=Ni.startLineNumber;Ui<=Ni.endLineNumber;Ui++){let qi="";Ui===Ni.startLineNumber&&(qi=this.getLineContent(wi.range.startLineNumber),O.LC(qi)!==-1)||Ut.push({lineNumber:Ui,oldContent:qi})}}let Yt=null;if(Z){let yi=0;Yt=[];for(let wi=0;wi<Dt.length;wi++){const Ni=Dt[wi],Ui=At[wi],qi=this.getValueInRange(Ni.range),Vi=Ni.rangeOffset+yi;yi+=Ni.text.length-qi.length,Yt[wi]={sortIndex:Ni.sortIndex,identifier:Ni.identifier,range:Ui,text:qi,textChange:new ni.q(Ni.rangeOffset,qi,Vi,Ni.text)}}Ft||Yt.sort((wi,Ni)=>wi.sortIndex-Ni.sortIndex)}this._mightContainRTL=ve,this._mightContainUnusualLineTerminators=Ne,this._mightContainNonBasicASCII=Ue;const si=this._doApplyEdits(Dt);let ci=null;if(P&&Ut.length>0){Ut.sort((yi,wi)=>wi.lineNumber-yi.lineNumber),ci=[];for(let yi=0,wi=Ut.length;yi<wi;yi++){let Ni=Ut[yi].lineNumber;if(yi>0&&Ut[yi-1].lineNumber===Ni)continue;let Ui=Ut[yi].oldContent,qi=this.getLineContent(Ni);qi.length===0||qi===Ui||O.LC(qi)!==-1||ci.push(Ni)}}return this._onDidChangeContent.fire(),new C.je(Yt,si,ci)}_reduceOperations(_){return _.length<1e3?_:[this._toSingleEditOperation(_)]}_toSingleEditOperation(_){let P=!1;const Z=_[0].range,ve=_[_.length-1].range,Ne=new N.e(Z.startLineNumber,Z.startColumn,ve.endLineNumber,ve.endColumn);let Ue=Z.startLineNumber,vt=Z.startColumn;const Dt=[];for(let si=0,ci=_.length;si<ci;si++){const yi=_[si],wi=yi.range;P=P||yi.forceMoveMarkers,Dt.push(this.getValueInRange(new N.e(Ue,vt,wi.startLineNumber,wi.startColumn))),yi.text.length>0&&Dt.push(yi.text),Ue=wi.endLineNumber,vt=wi.endColumn}const Ft=Dt.join(""),[At,Ut,Yt]=(0,oi.QZ)(Ft);return{sortIndex:0,identifier:_[0].identifier,range:Ne,rangeOffset:this.getOffsetAt(Ne.startLineNumber,Ne.startColumn),rangeLength:this.getValueLengthInRange(Ne,0),text:Ft,eolCount:At,firstLineLength:Ut,lastLineLength:Yt,forceMoveMarkers:P,isAutoWhitespaceEdit:!1}}_doApplyEdits(_){_.sort(hi._sortOpsDescending);let P=[];for(let Z=0;Z<_.length;Z++){let ve=_[Z];const Ne=ve.range.startLineNumber,Ue=ve.range.startColumn,vt=ve.range.endLineNumber,Dt=ve.range.endColumn;if(Ne===vt&&Ue===Dt&&ve.text.length===0)continue;ve.text?(this._pieceTree.delete(ve.rangeOffset,ve.rangeLength),this._pieceTree.insert(ve.rangeOffset,ve.text,!0)):this._pieceTree.delete(ve.rangeOffset,ve.rangeLength);const Ft=new N.e(Ne,Ue,vt,Dt);P.push({range:Ft,rangeLength:ve.rangeLength,text:ve.text,rangeOffset:ve.rangeOffset,forceMoveMarkers:ve.forceMoveMarkers})}return P}findMatchesLineByLine(_,P,Z,ve){return this._pieceTree.findMatchesLineByLine(_,P,Z,ve)}static _getInverseEditRanges(_){let P=[],Z=0,ve=0,Ne=null;for(let Ue=0,vt=_.length;Ue<vt;Ue++){let Dt=_[Ue],Ft,At;Ne?Ne.range.endLineNumber===Dt.range.startLineNumber?(Ft=Z,At=ve+(Dt.range.startColumn-Ne.range.endColumn)):(Ft=Z+(Dt.range.startLineNumber-Ne.range.endLineNumber),At=Dt.range.startColumn):(Ft=Dt.range.startLineNumber,At=Dt.range.startColumn);let Ut;if(Dt.text.length>0){const Yt=Dt.eolCount+1;Yt===1?Ut=new N.e(Ft,At,Ft,At+Dt.firstLineLength):Ut=new N.e(Ft,At,Ft+Yt-1,Dt.lastLineLength+1)}else Ut=new N.e(Ft,At,Ft,At);Z=Ut.endLineNumber,ve=Ut.endColumn,P.push(Ut),Ne=Dt}return P}static _sortOpsAscending(_,P){let Z=N.e.compareRangesUsingEnds(_.range,P.range);return Z===0?_.sortIndex-P.sortIndex:Z}static _sortOpsDescending(_,P){let Z=N.e.compareRangesUsingEnds(_.range,P.range);return Z===0?P.sortIndex-_.sortIndex:-Z}}class Di{constructor(_,P,Z,ve,Ne,Ue,vt,Dt,Ft){this._chunks=_,this._bom=P,this._cr=Z,this._lf=ve,this._crlf=Ne,this._containsRTL=Ue,this._containsUnusualLineTerminators=vt,this._isBasicASCII=Dt,this._normalizeEOL=Ft}_getEOL(_){const P=this._cr+this._lf+this._crlf,Z=this._cr+this._crlf;return P===0?_===1?`
`:`\r
`:Z>P/2?`\r
`:`
`}create(_){const P=this._getEOL(_);let Z=this._chunks;if(this._normalizeEOL&&(P===`\r
`&&(this._cr>0||this._lf>0)||P===`
`&&(this._cr>0||this._crlf>0)))for(let Ne=0,Ue=Z.length;Ne<Ue;Ne++){let vt=Z[Ne].buffer.replace(/\r\n|\r|\n/g,P),Dt=Ke(vt);Z[Ne]=new Ae(vt,Dt)}const ve=new hi(Z,this._bom,P,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:ve,disposable:ve}}}class Ti{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(_){if(_.length===0)return;this.chunks.length===0&&O.uS(_)&&(this.BOM=O.c1,_=_.substr(1));const P=_.charCodeAt(_.length-1);P===13||P>=55296&&P<=56319?(this._acceptChunk1(_.substr(0,_.length-1),!1),this._hasPreviousChar=!0,this._previousChar=P):(this._acceptChunk1(_,!1),this._hasPreviousChar=!1,this._previousChar=P)}_acceptChunk1(_,P){!P&&_.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+_):this._acceptChunk2(_))}_acceptChunk2(_){const P=Je(this._tmpLineStarts,_);this.chunks.push(new Ae(_,P.lineStarts)),this.cr+=P.cr,this.lf+=P.lf,this.crlf+=P.crlf,this.isBasicASCII&&(this.isBasicASCII=P.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=O.Ut(_)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=O.ab(_))}finish(_=!0){return this._finish(),new Di(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,_)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let _=this.chunks[this.chunks.length-1];_.buffer+=String.fromCharCode(this._previousChar);let P=Ke(_.buffer);_.lineStarts=P,this._previousChar===13&&this.cr++}}}var Ii=t(83256),ai=t(9488),Pt=t(78411),Gt=t(60303),ot=t(28111),mt=t(84013),ft=t(1432);class Xe{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(_){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,_&&this._setBeginState(0,_)}flush(_){this._reset(_)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(_){_<this._len&&(this._valid[_]=!1),_<this._invalidLineStartIndex&&(this._invalidLineStartIndex=_)}_isValid(_){return _<this._len?this._valid[_]:!1}getBeginState(_){return _<this._len?this._beginState[_]:null}_ensureLine(_){for(;_>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(_,P){P!==0&&(_+P>this._len&&(P=this._len-_),this._beginState.splice(_,P),this._valid.splice(_,P),this._len-=P)}_insertLines(_,P){if(P===0)return;const Z=[],ve=[];for(let Ne=0;Ne<P;Ne++)Z[Ne]=null,ve[Ne]=!1;this._beginState=ai.Zv(this._beginState,_,Z),this._valid=ai.Zv(this._valid,_,ve),this._len+=P}_setValid(_,P){this._ensureLine(_),this._valid[_]=P}_setBeginState(_,P){this._ensureLine(_),this._beginState[_]=P}setEndState(_,P,Z){if(this._setValid(P,!0),this._invalidLineStartIndex=P+1,P===_-1)return;const ve=this.getBeginState(P+1);if(ve===null||!Z.equals(ve)){this._setBeginState(P+1,Z),this._invalidateLine(P+1);return}let Ne=P+1;for(;Ne<_&&this._isValid(Ne);)Ne++;this._invalidLineStartIndex=Ne}setFakeTokens(_){this._setValid(_,!1)}applyEdits(_,P){const Z=_.endLineNumber-_.startLineNumber,Ne=Math.min(Z,P);for(let Ue=Ne;Ue>=0;Ue--)this._invalidateLine(_.startLineNumber+Ue-1);this._acceptDeleteRange(_),this._acceptInsertText(new x.L(_.startLineNumber,_.startColumn),P)}_acceptDeleteRange(_){_.startLineNumber-1>=this._len||this._deleteLines(_.startLineNumber,_.endLineNumber-_.startLineNumber)}_acceptInsertText(_,P){_.lineNumber-1>=this._len||this._insertLines(_.lineNumber,P)}}class Ge extends k.JT{constructor(_,P){super(),this._textModel=_,this._languageIdCodec=P,this._isDisposed=!1,this._tokenizationStateStore=new Xe,this._tokenizationSupport=null,this._register(Gt.RW.onDidChange(Z=>{const ve=this._textModel.getLanguageId();Z.changedLanguages.indexOf(ve)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(Z=>{if(Z.isFlush){this._resetTokenizationState();return}for(let ve=0,Ne=Z.changes.length;ve<Ne;ve++){const Ue=Z.changes[ve],[vt]=(0,oi.QZ)(Ue.text);this._tokenizationStateStore.applyEdits(Ue.range,vt)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[_,P]=Ie(this._textModel);this._tokenizationSupport=_,this._tokenizationStateStore.flush(P),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&ft.xS(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(){const _=this._textModel.getLineCount(),P=1,Z=new oi.DA,ve=mt.G.create(!1);let Ne=-1;for(;this._hasLinesToTokenize()&&!(ve.elapsed()>P||(Ne=this._tokenizeOneInvalidLine(Z),Ne>=_)););this._beginBackgroundTokenization(),this._textModel.setTokens(Z.tokens,!this._hasLinesToTokenize())}tokenizeViewport(_,P){const Z=new oi.DA;this._tokenizeViewport(Z,_,P),this._textModel.setTokens(Z.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(_){const P=new oi.DA;this._updateTokensUntilLine(P,_),this._textModel.setTokens(P.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(_){if(!this._tokenizationSupport)return!0;const P=this._tokenizationStateStore.invalidLineStartIndex+1;return _>P?!1:_<P||this._textModel.getLineLength(_)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(_){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const P=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(_,P),P}_updateTokensUntilLine(_,P){if(!this._tokenizationSupport)return;const Z=this._textModel.getLanguageId(),ve=this._textModel.getLineCount(),Ne=P-1;for(let Ue=this._tokenizationStateStore.invalidLineStartIndex;Ue<=Ne;Ue++){const vt=this._textModel.getLineContent(Ue+1),Dt=this._tokenizationStateStore.getBeginState(Ue),Ft=Pe(this._languageIdCodec,Z,this._tokenizationSupport,vt,!0,Dt);_.add(Ue+1,Ft.tokens),this._tokenizationStateStore.setEndState(ve,Ue,Ft.endState),Ue=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(_,P,Z){if(!this._tokenizationSupport||Z<=this._tokenizationStateStore.invalidLineStartIndex)return;if(P<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(_,Z);return}let ve=this._textModel.getLineFirstNonWhitespaceColumn(P);const Ne=[];let Ue=null;for(let Ft=P-1;ve>1&&Ft>=1;Ft--){const At=this._textModel.getLineFirstNonWhitespaceColumn(Ft);if(At!==0&&At<ve){if(Ue=this._tokenizationStateStore.getBeginState(Ft-1),Ue)break;Ne.push(this._textModel.getLineContent(Ft)),ve=At}}Ue||(Ue=this._tokenizationSupport.getInitialState());const vt=this._textModel.getLanguageId();let Dt=Ue;for(let Ft=Ne.length-1;Ft>=0;Ft--)Dt=Pe(this._languageIdCodec,vt,this._tokenizationSupport,Ne[Ft],!1,Dt).endState;for(let Ft=P;Ft<=Z;Ft++){const At=this._textModel.getLineContent(Ft),Ut=Pe(this._languageIdCodec,vt,this._tokenizationSupport,At,!0,Dt);_.add(Ft,Ut.tokens),this._tokenizationStateStore.setFakeTokens(Ft-1),Dt=Ut.endState}}}function Ie(lt){const _=lt.getLanguageId();let P=lt.isTooLargeForTokenization()?null:Gt.RW.get(_),Z=null;if(P)try{Z=P.getInitialState()}catch(ve){(0,h.dL)(ve),P=null}return[P,Z]}function Pe(lt,_,P,Z,ve,Ne){let Ue=null;if(P)try{Ue=P.tokenize2(Z,ve,Ne.clone(),0)}catch(vt){(0,h.dL)(vt)}return Ue||(Ue=(0,ot.mh)(lt.encodeLanguageId(_),Z,Ne,0)),Pt.A.convertToEndOffset(Ue.tokens,Z.length),Ue}var je=t(97461),dt=t(94660),Nt=t(40764),$t=t(34227),Xt=t(41264),Ci=t(64862);class Zt{constructor(_,P,Z){this.range=_,this.nestingLevel=P,this.isInvalid=Z}}class mi{constructor(_,P,Z,ve){this.range=_,this.openingBracketRange=P,this.closingBracketRange=Z,this.nestingLevel=ve}}class pt extends mi{constructor(_,P,Z,ve,Ne){super(_,P,Z,ve),this.minVisibleColumnIndentation=Ne}}class ut{constructor(_,P){this.lineCount=_,this.columnCount=P}toString(){return`${this.lineCount},${this.columnCount}`}}function tt(lt,_,P,Z){return lt!==P?pe(P-lt,Z):pe(0,Z-_)}const de=0;function be(lt){return lt===0}const J=Math.pow(2,26);function pe(lt,_){return lt*J+_}function ke(lt){const _=lt,P=Math.floor(_/J),Z=_-P*J;return new ut(P,Z)}function at(lt){return Math.floor(lt/J)}function st(lt){return lt}function _t(lt,_){return _<J?lt+_:lt-lt%J+_}function Et(lt,_){const P=lt,Z=_;if(Z-P<=0)return de;const Ne=Math.floor(P/J),Ue=Math.floor(Z/J),vt=Z-Ue*J;if(Ne===Ue){const Dt=P-Ne*J;return pe(0,vt-Dt)}else return pe(Ue-Ne,vt)}function Wt(lt,_){return lt<_}function Mt(lt,_){return lt<=_}function Jt(lt,_){return lt>=_}function jt(lt){return pe(lt.lineNumber-1,lt.column-1)}function ui(lt,_){const P=lt,Z=Math.floor(P/J),ve=P-Z*J,Ne=_,Ue=Math.floor(Ne/J),vt=Ne-Ue*J;return new N.e(Z+1,ve+1,Ue+1,vt+1)}function _i(lt){const _=(0,O.uq)(lt);return pe(_.length-1,_[_.length-1].length)}function bi(lt){return lt}class Ai{constructor(_,P,Z){this.startOffset=_,this.endOffset=P,this.newLength=Z}}class Ri{constructor(_,P){this.documentLength=P,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=_.map(Z=>zi.from(Z))}getOffsetBeforeChange(_){return this.adjustNextEdit(_),this.translateCurToOld(_)}getDistanceToNextChange(_){this.adjustNextEdit(_);const P=this.edits[this.nextEditIdx],Z=P?this.translateOldToCur(P.offsetObj):this.documentLength;return Et(_,Z)}translateOldToCur(_){return _.lineCount===this.deltaLineIdxInOld?pe(_.lineCount+this.deltaOldToNewLineCount,_.columnCount+this.deltaOldToNewColumnCount):pe(_.lineCount+this.deltaOldToNewLineCount,_.columnCount)}translateCurToOld(_){const P=ke(_);return P.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?pe(P.lineCount-this.deltaOldToNewLineCount,P.columnCount-this.deltaOldToNewColumnCount):pe(P.lineCount-this.deltaOldToNewLineCount,P.columnCount)}adjustNextEdit(_){for(;this.nextEditIdx<this.edits.length;){const P=this.edits[this.nextEditIdx],Z=this.translateOldToCur(P.endOffsetAfterObj);if(Mt(Z,_)){this.nextEditIdx++;const ve=ke(Z),Ne=ke(this.translateOldToCur(P.endOffsetBeforeObj)),Ue=ve.lineCount-Ne.lineCount;this.deltaOldToNewLineCount+=Ue;const vt=this.deltaLineIdxInOld===P.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,Dt=ve.columnCount-Ne.columnCount;this.deltaOldToNewColumnCount=vt+Dt,this.deltaLineIdxInOld=P.endOffsetBeforeObj.lineCount}else break}}}class zi{constructor(_,P,Z){this.endOffsetBeforeObj=ke(P),this.endOffsetAfterObj=ke(_t(_,Z)),this.offsetObj=ke(_)}static from(_){return new zi(_.startOffset,_.endOffset,_.newLength)}}var hn=t(47707);const bn=new Array;class Xi{constructor(_,P){this.items=_,this.additionalItems=P}static create(_,P){if(_<=128&&P.length===0){let Z=Xi.cache[_];return Z||(Z=new Xi(_,P),Xi.cache[_]=Z),Z}return new Xi(_,P)}static getEmpty(){return this.empty}add(_,P){const Z=P.getKey(_);let ve=Z>>5;if(ve===0){const Ue=1<<Z|this.items;return Ue===this.items?this:Xi.create(Ue,this.additionalItems)}ve--;const Ne=this.additionalItems.slice(0);for(;Ne.length<ve;)Ne.push(0);return Ne[ve]|=1<<(Z&31),Xi.create(this.items,Ne)}merge(_){const P=this.items|_.items;if(this.additionalItems===bn&&_.additionalItems===bn)return P===this.items?this:P===_.items?_:Xi.create(P,bn);const Z=new Array;for(let ve=0;ve<Math.max(this.additionalItems.length,_.additionalItems.length);ve++){const Ne=this.additionalItems[ve]||0,Ue=_.additionalItems[ve]||0;Z.push(Ne|Ue)}return Xi.create(P,Z)}intersects(_){if(this.items&_.items)return!0;for(let P=0;P<Math.min(this.additionalItems.length,_.additionalItems.length);P++)if(this.additionalItems[P]&_.additionalItems[P])return!0;return!1}}Xi.cache=new Array(129),Xi.empty=Xi.create(0,bn);const xn={getKey(lt){return lt}};class Sn{constructor(){this.items=new Map}getKey(_){let P=this.items.get(_);return P===void 0&&(P=this.items.size,this.items.set(_,P)),P}}class en{constructor(_){this._length=_}get length(){return this._length}}class Pn extends en{constructor(_,P,Z,ve,Ne){super(_),this.openingBracket=P,this.child=Z,this.closingBracket=ve,this.missingOpeningBracketIds=Ne}static create(_,P,Z){let ve=_.length;return P&&(ve=_t(ve,P.length)),Z&&(ve=_t(ve,Z.length)),new Pn(ve,_,P,Z,P?P.missingOpeningBracketIds:Xi.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(_){switch(_){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const _=new Array;return _.push(this.openingBracket),this.child&&_.push(this.child),this.closingBracket&&_.push(this.closingBracket),_}canBeReused(_){return!(this.closingBracket===null||_.intersects(this.missingOpeningBracketIds))}deepClone(){return new Pn(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(_,P){return this.child?this.child.computeMinIndentation(_t(_,this.openingBracket.length),P):Number.MAX_SAFE_INTEGER}}class Ln extends en{constructor(_,P,Z){super(_),this.listHeight=P,this._missingOpeningBracketIds=Z,this.cachedMinIndentation=-1}static create23(_,P,Z,ve=!1){let Ne=_.length,Ue=_.missingOpeningBracketIds;if(_.listHeight!==P.listHeight)throw new Error("Invalid list heights");if(Ne=_t(Ne,P.length),Ue=Ue.merge(P.missingOpeningBracketIds),Z){if(_.listHeight!==Z.listHeight)throw new Error("Invalid list heights");Ne=_t(Ne,Z.length),Ue=Ue.merge(Z.missingOpeningBracketIds)}return ve?new Xn(Ne,_.listHeight+1,_,P,Z,Ue):new Dn(Ne,_.listHeight+1,_,P,Z,Ue)}static getEmpty(){return new zn(de,0,[],Xi.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const _=this.childrenLength;if(_===0)return;const P=this.getChild(_-1),Z=P.kind===4?P.toMutable():P;return P!==Z&&this.setChild(_-1,Z),Z}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const P=this.getChild(0),Z=P.kind===4?P.toMutable():P;return P!==Z&&this.setChild(0,Z),Z}canBeReused(_){if(_.intersects(this.missingOpeningBracketIds))return!1;let P=this,Z;for(;P.kind===4&&(Z=P.childrenLength)>0;)P=P.getChild(Z-1);return P.canBeReused(_)}handleChildrenChanged(){this.throwIfImmutable();const _=this.childrenLength;let P=this.getChild(0).length,Z=this.getChild(0).missingOpeningBracketIds;for(let ve=1;ve<_;ve++){const Ne=this.getChild(ve);P=_t(P,Ne.length),Z=Z.merge(Ne.missingOpeningBracketIds)}this._length=P,this._missingOpeningBracketIds=Z,this.cachedMinIndentation=-1}computeMinIndentation(_,P){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let Z=Number.MAX_SAFE_INTEGER,ve=_;for(let Ne=0;Ne<this.childrenLength;Ne++){const Ue=this.getChild(Ne);Ue&&(Z=Math.min(Z,Ue.computeMinIndentation(ve,P)),ve=_t(ve,Ue.length))}return this.cachedMinIndentation=Z,Z}}class Dn extends Ln{constructor(_,P,Z,ve,Ne,Ue){super(_,P,Ue),this._item1=Z,this._item2=ve,this._item3=Ne}get childrenLength(){return this._item3!==null?3:2}getChild(_){switch(_){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(_,P){switch(_){case 0:this._item1=P;return;case 1:this._item2=P;return;case 2:this._item3=P;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Dn(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(_){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=_,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const _=this._item3;return this._item3=null,this.handleChildrenChanged(),_}prependChildOfSameHeight(_){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=_,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const _=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),_}toMutable(){return this}}class Xn extends Dn{toMutable(){return new Dn(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class an extends Ln{constructor(_,P,Z,ve){super(_,P,ve),this._children=Z}get childrenLength(){return this._children.length}getChild(_){return this._children[_]}setChild(_,P){this._children[_]=P}get children(){return this._children}deepClone(){const _=new Array(this._children.length);for(let P=0;P<this._children.length;P++)_[P]=this._children[P].deepClone();return new an(this.length,this.listHeight,_,this.missingOpeningBracketIds)}appendChildOfSameHeight(_){this.throwIfImmutable(),this._children.push(_),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const _=this._children.pop();return this.handleChildrenChanged(),_}prependChildOfSameHeight(_){this.throwIfImmutable(),this._children.unshift(_),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const _=this._children.shift();return this.handleChildrenChanged(),_}toMutable(){return this}}class zn extends an{toMutable(){return new an(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const Kn=[];class is extends en{get listHeight(){return 0}get childrenLength(){return 0}getChild(_){return null}get children(){return Kn}deepClone(){return this}}class mn extends is{get kind(){return 0}get missingOpeningBracketIds(){return Xi.getEmpty()}canBeReused(_){return!0}computeMinIndentation(_,P){const Z=ke(_),ve=(Z.columnCount===0?Z.lineCount:Z.lineCount+1)+1,Ne=at(_t(_,this.length))+1;let Ue=Number.MAX_SAFE_INTEGER;for(let vt=ve;vt<=Ne;vt++){const Dt=P.getLineFirstNonWhitespaceColumn(vt),Ft=P.getLineContent(vt);if(Dt===0)continue;const At=hn.i.visibleColumnFromColumn(Ft,Dt,P.getOptions().tabSize);Ue=Math.min(Ue,At)}return Ue}}class Qn extends is{constructor(_){super(_)}static create(_){const P=_,Z=Qn.cacheByLength.get(P);if(Z)return Z;const ve=new Qn(_);return Qn.cacheByLength.set(P,ve),ve}get kind(){return 1}get missingOpeningBracketIds(){return Xi.getEmpty()}canBeReused(_){return!1}computeMinIndentation(_,P){return Number.MAX_SAFE_INTEGER}}Qn.cacheByLength=new Map;class Bn extends is{constructor(_,P){super(P),this.missingOpeningBracketIds=_}get kind(){return 3}canBeReused(_){return!_.intersects(this.missingOpeningBracketIds)}computeMinIndentation(_,P){return Number.MAX_SAFE_INTEGER}}class An{constructor(_,P,Z,ve,Ne){this.length=_,this.kind=P,this.bracketId=Z,this.bracketIds=ve,this.astNode=Ne}}class On{constructor(_,P){this.textModel=_,this.bracketTokens=P,this.reader=new qn(this.textModel,this.bracketTokens),this._offset=de,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=_.getLineCount(),this.textBufferLastLineLength=_.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return pe(this.textBufferLineCount,this.textBufferLastLineLength)}skip(_){this.didPeek=!1,this._offset=_t(this._offset,_);const P=ke(this._offset);this.reader.setPosition(P.lineCount,P.columnCount)}read(){let _;return this.peeked?(this.didPeek=!1,_=this.peeked):_=this.reader.read(),_&&(this._offset=_t(this._offset,_.length)),_}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class qn{constructor(_,P){this.textModel=_,this.bracketTokens=P,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=_.getLineCount(),this.textBufferLastLineLength=_.getLineLength(this.textBufferLineCount)}setPosition(_,P){_===this.lineIdx?(this.lineCharOffset=P,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=_,this.lineCharOffset=P,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const Ne=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=Ne.length,Ne}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const _=this.lineIdx,P=this.lineCharOffset;let Z=0;for(;;){const Ne=this.lineTokens,Ue=Ne.getCount();let vt=null;if(this.lineTokenOffset<Ue){const Dt=Ne.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<Ue&&Dt===Ne.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Ft=Gt.NX.getTokenType(Dt)===0,At=Ne.getEndOffset(this.lineTokenOffset);if(Ft&&At!==this.lineCharOffset){const Ut=Ne.getLanguageId(this.lineTokenOffset),Yt=this.line.substring(this.lineCharOffset,At),si=this.bracketTokens.getSingleLanguageBracketTokens(Ut),ci=si.regExpGlobal;if(ci){ci.lastIndex=0;const yi=ci.exec(Yt);yi&&(vt=si.getToken(yi[0]),vt&&(this.lineCharOffset+=yi.index))}}if(Z+=At-this.lineCharOffset,vt)if(_!==this.lineIdx||P!==this.lineCharOffset){this.peekedToken=vt;break}else return this.lineCharOffset+=vt.length,vt;else this.lineTokenOffset++,this.lineCharOffset=At}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,Z+=33,Z>1e3))break;if(Z>1500)break}const ve=tt(_,P,this.lineIdx,this.lineCharOffset);return new An(ve,0,-1,Xi.getEmpty(),new mn(ve))}}class Hn{constructor(_,P){this.text=_,this._offset=de,this.idx=0;const ve=P.getRegExpStr()?new RegExp(P.getRegExpStr()+`|
`,"g"):null,Ne=[];let Ue,vt=0,Dt=0,Ft=0,At=0;const Ut=new Array;for(let ci=0;ci<60;ci++)Ut.push(new An(pe(0,ci),0,-1,Xi.getEmpty(),new mn(pe(0,ci))));const Yt=new Array;for(let ci=0;ci<60;ci++)Yt.push(new An(pe(1,ci),0,-1,Xi.getEmpty(),new mn(pe(1,ci))));if(ve)for(ve.lastIndex=0;(Ue=ve.exec(_))!==null;){const ci=Ue.index,yi=Ue[0];if(yi===`
`)vt++,Dt=ci+1;else{if(Ft!==ci){let wi;if(At===vt){const Ni=ci-Ft;if(Ni<Ut.length)wi=Ut[Ni];else{const Ui=pe(0,Ni);wi=new An(Ui,0,-1,Xi.getEmpty(),new mn(Ui))}}else{const Ni=vt-At,Ui=ci-Dt;if(Ni===1&&Ui<Yt.length)wi=Yt[Ui];else{const qi=pe(Ni,Ui);wi=new An(qi,0,-1,Xi.getEmpty(),new mn(qi))}}Ne.push(wi)}Ne.push(P.getToken(yi)),Ft=ci+yi.length,At=vt}}const si=_.length;if(Ft!==si){const ci=At===vt?pe(0,si-Ft):pe(vt-At,si-Dt);Ne.push(new An(ci,0,-1,Xi.getEmpty(),new mn(ci)))}this.length=pe(vt,si-Dt),this.tokens=Ne}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(_){throw new h.B8}}class sn{constructor(_){this.map=_,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(_,P){function Z(Dt,Ft){return P.getKey(`${Dt}:::${Ft}`)}const ve=_.characterPair.getColorizedBrackets(),Ne=new Map,Ue=new Set;for(const[Dt,Ft]of ve){Ue.add(Dt);let At=Ne.get(Ft);const Ut=Z(_.languageId,Dt);At||(At={openingBrackets:Xi.getEmpty(),first:Ut},Ne.set(Ft,At)),At.openingBrackets=At.openingBrackets.add(Ut,xn)}const vt=new Map;for(const[Dt,Ft]of Ne){const At=pe(0,Dt.length);vt.set(Dt,new An(At,2,Ft.first,Ft.openingBrackets,Qn.create(At)))}for(const Dt of Ue){const Ft=pe(0,Dt.length),At=Z(_.languageId,Dt);vt.set(Dt,new An(Ft,1,At,Xi.getEmpty().add(At,xn),Qn.create(Ft)))}return new sn(vt)}getRegExpStr(){if(this.isEmpty)return null;{const _=[...this.map.keys()];return _.sort(),_.reverse(),_.map(P=>Lt(P)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const _=this.getRegExpStr();this._regExpGlobal=_?new RegExp(_,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(_){return this.map.get(_)}get isEmpty(){return this.map.size===0}}function Lt(lt){const _=(0,O.ec)(lt);return/^[\w ]+$/.test(lt)?`\\b${_}\\b`:_}class U{constructor(_,P){this.denseKeyProvider=_,this.getLanguageConfiguration=P,this.languageIdToBracketTokens=new Map}didLanguageChange(_){const P=this.languageIdToBracketTokens.get(_);if(!P)return!1;const Z=sn.createFromLanguage(this.getLanguageConfiguration(_),this.denseKeyProvider).getRegExpStr();return P.getRegExpStr()!==Z}getSingleLanguageBracketTokens(_){let P=this.languageIdToBracketTokens.get(_);return P||(P=sn.createFromLanguage(this.getLanguageConfiguration(_),this.denseKeyProvider),this.languageIdToBracketTokens.set(_,P)),P}}function me(lt){if(lt.length===0)return null;if(lt.length===1)return lt[0];let _=0;function P(){if(_>=lt.length)return null;const Ue=_,vt=lt[Ue].listHeight;for(_++;_<lt.length&&lt[_].listHeight===vt;)_++;return _-Ue>=2?Ee(Ue===0&&_===lt.length?lt:lt.slice(Ue,_),!1):lt[Ue]}let Z=P(),ve=P();if(!ve)return Z;for(let Ue=P();Ue;Ue=P())$e(Z,ve)<=$e(ve,Ue)?(Z=et(Z,ve),ve=Ue):ve=et(ve,Ue);return et(Z,ve)}function Ee(lt,_=!1){if(lt.length===0)return null;if(lt.length===1)return lt[0];let P=lt.length;for(;P>3;){const Z=P>>1;for(let ve=0;ve<Z;ve++){const Ne=ve<<1;lt[ve]=Ln.create23(lt[Ne],lt[Ne+1],Ne+3===P?lt[Ne+2]:null,_)}P=Z}return Ln.create23(lt[0],lt[1],P>=3?lt[2]:null,_)}function $e(lt,_){return Math.abs(lt.listHeight-_.listHeight)}function et(lt,_){return lt.listHeight===_.listHeight?Ln.create23(lt,_,null,!1):lt.listHeight>_.listHeight?wt(lt,_):Rt(_,lt)}function wt(lt,_){lt=lt.toMutable();let P=lt;const Z=new Array;let ve;for(;;){if(_.listHeight===P.listHeight){ve=_;break}if(P.kind!==4)throw new Error("unexpected");Z.push(P),P=P.makeLastElementMutable()}for(let Ne=Z.length-1;Ne>=0;Ne--){const Ue=Z[Ne];ve?Ue.childrenLength>=3?ve=Ln.create23(Ue.unappendChild(),ve,null,!1):(Ue.appendChildOfSameHeight(ve),ve=void 0):Ue.handleChildrenChanged()}return ve?Ln.create23(lt,ve,null,!1):lt}function Rt(lt,_){lt=lt.toMutable();let P=lt;const Z=new Array;for(;_.listHeight!==P.listHeight;){if(P.kind!==4)throw new Error("unexpected");Z.push(P),P=P.makeFirstElementMutable()}let ve=_;for(let Ne=Z.length-1;Ne>=0;Ne--){const Ue=Z[Ne];ve?Ue.childrenLength>=3?ve=Ln.create23(ve,Ue.unprependChild(),null,!1):(Ue.prependChildOfSameHeight(ve),ve=void 0):Ue.handleChildrenChanged()}return ve?Ln.create23(ve,lt,null,!1):lt}class ti{constructor(_){this.lastOffset=de,this.nextNodes=[_],this.offsets=[de],this.idxs=[]}readLongestNodeAt(_,P){if(Wt(_,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=_;;){const Z=ii(this.nextNodes);if(!Z)return;const ve=ii(this.offsets);if(Wt(_,ve))return;if(Wt(ve,_))if(_t(ve,Z.length)<=_)this.nextNodeAfterCurrent();else{const Ne=fi(Z);Ne!==-1?(this.nextNodes.push(Z.getChild(Ne)),this.offsets.push(ve),this.idxs.push(Ne)):this.nextNodeAfterCurrent()}else{if(P(Z))return this.nextNodeAfterCurrent(),Z;{const Ne=fi(Z);if(Ne===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(Z.getChild(Ne)),this.offsets.push(ve),this.idxs.push(Ne)}}}}nextNodeAfterCurrent(){for(;;){const _=ii(this.offsets),P=ii(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const Z=ii(this.nextNodes),ve=fi(Z,this.idxs[this.idxs.length-1]);if(ve!==-1){this.nextNodes.push(Z.getChild(ve)),this.offsets.push(_t(_,P.length)),this.idxs[this.idxs.length-1]=ve;break}else this.idxs.pop()}}}function fi(lt,_=-1){for(;;){if(_++,_>=lt.childrenLength)return-1;if(lt.getChild(_))return _}}function ii(lt){return lt.length>0?lt[lt.length-1]:void 0}function bt(lt,_,P,Z){return new B(lt,_,P,Z).parseDocument()}class B{constructor(_,P,Z,ve){if(this.tokenizer=_,this.createImmutableLists=ve,this._itemsConstructed=0,this._itemsFromCache=0,Z&&ve)throw new Error("Not supported");this.oldNodeReader=Z?new ti(Z):void 0,this.positionMapper=new Ri(P,_.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let _=this.parseList(Xi.getEmpty());return _||(_=Ln.getEmpty()),_}parseList(_){const P=new Array;for(;;){const ve=this.tokenizer.peek();if(!ve||ve.kind===2&&ve.bracketIds.intersects(_))break;const Ne=this.parseChild(_);Ne.kind===4&&Ne.childrenLength===0||P.push(Ne)}return this.oldNodeReader?me(P):Ee(P,this.createImmutableLists)}parseChild(_){if(this.oldNodeReader){const Z=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!be(Z)){const ve=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),Ne=>Wt(Ne.length,Z)?Ne.canBeReused(_):!1);if(ve)return this._itemsFromCache++,this.tokenizer.skip(ve.length),ve}}this._itemsConstructed++;const P=this.tokenizer.read();switch(P.kind){case 2:return new Bn(P.bracketIds,P.length);case 0:return P.astNode;case 1:const Z=_.merge(P.bracketIds),ve=this.parseList(Z),Ne=this.tokenizer.peek();return Ne&&Ne.kind===2&&(Ne.bracketId===P.bracketId||Ne.bracketIds.intersects(P.bracketIds))?(this.tokenizer.read(),Pn.create(P.astNode,ve,Ne.astNode)):Pn.create(P.astNode,ve,null);default:throw new Error("unexpected")}}}class _e extends k.JT{constructor(_,P){super(),this.textModel=_,this.languageConfigurationService=P,this.cache=this._register(new k.XK),this.onDidChangeEmitter=new W.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(_.onDidChangeOptions(Z=>{this.cache.clear(),this.updateCache()})),this._register(_.onDidChangeLanguage(Z=>{this.cache.clear(),this.updateCache()})),this._register(this.languageConfigurationService.onDidChange(Z=>{var ve;(!Z.languageId||!((ve=this.cache.value)===null||ve===void 0)&&ve.object.didLanguageChange(Z.languageId))&&(this.cache.clear(),this.updateCache())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateCache(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.cache.value){const _=new k.SL;this.cache.value=We(_.add(new rt(this.textModel,P=>this.languageConfigurationService.getLanguageConfiguration(P))),_),_.add(this.cache.value.object.onDidChange(P=>this.onDidChangeEmitter.fire(P))),this.onDidChangeEmitter.fire()}}else this.cache.clear(),this.onDidChangeEmitter.fire()}handleContentChanged(_){var P;(P=this.cache.value)===null||P===void 0||P.object.handleContentChanged(_)}getBracketPairsInRange(_){var P;return this.bracketsRequested=!0,this.updateCache(),((P=this.cache.value)===null||P===void 0?void 0:P.object.getBracketPairsInRange(_,!1))||[]}getBracketPairsInRangeWithMinIndentation(_){var P;return this.bracketsRequested=!0,this.updateCache(),((P=this.cache.value)===null||P===void 0?void 0:P.object.getBracketPairsInRange(_,!0))||[]}getBracketsInRange(_){var P;return this.bracketsRequested=!0,this.updateCache(),((P=this.cache.value)===null||P===void 0?void 0:P.object.getBracketsInRange(_))||[]}}function We(lt,_){return{object:lt,dispose:()=>_==null?void 0:_.dispose()}}class rt extends k.JT{constructor(_,P){if(super(),this.textModel=_,this.getLanguageConfiguration=P,this.didChangeEmitter=new W.Q5,this.denseKeyProvider=new Sn,this.brackets=new U(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(_.onBackgroundTokenizationStateChanged(()=>{if(_.backgroundTokenizationState===2){const Z=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,Z||this.didChangeEmitter.fire()}})),this._register(_.onDidChangeTokens(({ranges:Z})=>{const ve=Z.map(Ne=>new Ai(pe(Ne.fromLineNumber-1,0),pe(Ne.toLineNumber,0),pe(Ne.toLineNumber-Ne.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(ve,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()})),_.backgroundTokenizationState===0){const Z=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),ve=new Hn(this.textModel.getValue(),Z);this.initialAstWithoutTokens=bt(ve,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else _.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):_.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(_){return this.brackets.didLanguageChange(_)}handleContentChanged(_){const P=_.changes.map(Z=>{const ve=N.e.lift(Z.range);return new Ai(jt(ve.getStartPosition()),jt(ve.getEndPosition()),_i(Z.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(P,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(P,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(_,P,Z){const Ne=P,Ue=new On(this.textModel,this.brackets);return bt(Ue,_,Ne,Z)}getBracketsInRange(_){const P=pe(_.startLineNumber-1,_.startColumn-1),Z=pe(_.endLineNumber-1,_.endColumn-1),ve=new Array,Ne=this.initialAstWithoutTokens||this.astWithTokens;return yt(Ne,de,Ne.length,P,Z,ve),ve}getBracketPairsInRange(_,P){const Z=new Array,ve=jt(_.getStartPosition()),Ne=jt(_.getEndPosition()),Ue=this.initialAstWithoutTokens||this.astWithTokens,vt=new Ht(Z,P,this.textModel);return Qt(Ue,de,Ue.length,ve,Ne,vt),Z}}function yt(lt,_,P,Z,ve,Ne,Ue=0){if(lt.kind===1){const vt=ui(_,P);Ne.push(new Zt(vt,Ue-1,!1))}else if(lt.kind===3){const vt=ui(_,P);Ne.push(new Zt(vt,Ue-1,!0))}else if(lt.kind===4)for(const vt of lt.children)P=_t(_,vt.length),Mt(_,ve)&&Jt(P,Z)&&yt(vt,_,P,Z,ve,Ne,Ue),_=P;else if(lt.kind===2){Ue++;{const vt=lt.openingBracket;P=_t(_,vt.length),Mt(_,ve)&&Jt(P,Z)&&yt(vt,_,P,Z,ve,Ne,Ue),_=P}if(lt.child){const vt=lt.child;P=_t(_,vt.length),Mt(_,ve)&&Jt(P,Z)&&yt(vt,_,P,Z,ve,Ne,Ue),_=P}if(lt.closingBracket){const vt=lt.closingBracket;P=_t(_,vt.length),Mt(_,ve)&&Jt(P,Z)&&yt(vt,_,P,Z,ve,Ne,Ue),_=P}}}class Ht{constructor(_,P,Z){this.result=_,this.includeMinIndentation=P,this.textModel=Z}}function Qt(lt,_,P,Z,ve,Ne,Ue=0){var vt;if(lt.kind===2){const Ft=_t(_,lt.openingBracket.length);let At=-1;Ne.includeMinIndentation&&(At=lt.computeMinIndentation(_,Ne.textModel)),Ne.result.push(new pt(ui(_,P),ui(_,Ft),lt.closingBracket?ui(_t(Ft,((vt=lt.child)===null||vt===void 0?void 0:vt.length)||de),P):void 0,Ue,At)),Ue++}let Dt=_;for(const Ft of lt.children){const At=Dt;Dt=_t(Dt,Ft.length),Mt(At,ve)&&Mt(Z,Dt)&&Qt(Ft,At,Dt,Z,ve,Ne,Ue)}}var ei=t(27869),ri=t(97781);class gi extends k.JT{constructor(_){super(),this.textModel=_,this.colorProvider=new Mi,this.onDidChangeEmitter=new W.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=_.getOptions().bracketPairColorizationOptions,this._register(_.onDidChangeOptions(P=>{this.colorizationOptions=_.getOptions().bracketPairColorizationOptions})),this._register(_.bracketPairs.onDidChange(P=>{this.onDidChangeEmitter.fire()}))}getDecorationsInRange(_,P,Z){if(P===void 0)return[];if(!this.colorizationOptions.enabled)return[];const ve=new Array,Ne=this.textModel.bracketPairs.getBracketsInRange(_);for(const Ue of Ne)ve.push({id:`bracket${Ue.range.toString()}-${Ue.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Ue)},ownerId:0,range:Ue.range});return ve}getAllDecorations(_,P){return _===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new N.e(1,1,this.textModel.getLineCount(),1),_,P):[]}}class Mi{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(_){return _.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(_.nestingLevel)}getInlineClassNameOfLevel(_){return`bracket-highlighting-${_%30}`}}(0,ri.Ic)((lt,_)=>{const P=[ei.zJ,ei.Vs,ei.CE,ei.UP,ei.r0,ei.m1],Z=new Mi;_.addRule(`.monaco-editor .${Z.unexpectedClosingBracketClassName} { color: ${lt.getColor(ei.ts)}; }`);let ve=P.map(Ne=>lt.getColor(Ne)).filter(Ne=>!!Ne).filter(Ne=>!Ne.isTransparent());for(let Ne=0;Ne<30;Ne++){const Ue=ve[Ne%ve.length];_.addRule(`.monaco-editor .${Z.getInlineClassNameOfLevel(Ne)} { color: ${Ue}; }`)}});var Ei=t(71531),xi=function(lt,_,P,Z){var ve=arguments.length,Ne=ve<3?_:Z===null?Z=Object.getOwnPropertyDescriptor(_,P):Z,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ne=Reflect.decorate(lt,_,P,Z);else for(var vt=lt.length-1;vt>=0;vt--)(Ue=lt[vt])&&(Ne=(ve<3?Ue(Ne):ve>3?Ue(_,P,Ne):Ue(_,P))||Ne);return ve>3&&Ne&&Object.defineProperty(_,P,Ne),Ne},Pi=function(lt,_){return function(P,Z){_(P,Z,lt)}};function ki(){return new Ti}function Bi(lt){const _=ki();return _.acceptChunk(lt),_.finish()}function on(lt,_){return(typeof lt=="string"?Bi(lt):lt).create(_)}let jn=0;const hs=999,tn=1e4;class pn{constructor(_){this._source=_,this._eos=!1}read(){if(this._eos)return null;let _=[],P=0,Z=0;do{let ve=this._source.read();if(ve===null)return this._eos=!0,P===0?null:_.join("");if(ve.length>0&&(_[P++]=ve,Z+=ve.length),Z>=64*1024)return _.join("")}while(!0)}}const kn=()=>{throw new Error("Invalid change accessor")};class Qi{constructor(){this._searchCanceledBrand=void 0}}Qi.INSTANCE=new Qi;function nn(lt){return lt instanceof Qi?null:lt}let Wn=class Hs extends k.JT{constructor(_,P,Z,ve=null,Ne,Ue,vt){super(),this._undoRedoService=Ne,this._modeService=Ue,this._languageConfigurationService=vt,this._onWillDispose=this._register(new W.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ns(Yt=>this.handleBeforeFireDecorationsChangedEvent(Yt))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new W.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new W.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new W.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new W.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new W.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new W.Q5),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new Rn),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new W.Q5),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent(Yt=>{this._onDidChangeContentOrInjectedText.fire(Yt.rawContentChangedEvent)})),jn++,this.id="$model"+jn,this.isForSimpleWidget=P.isForSimpleWidget,typeof ve=="undefined"||ve===null?this._associatedResource=w.o.parse("inmemory://model/"+jn):this._associatedResource=ve,this._attachedEditorCount=0;const{textBuffer:Dt,disposable:Ft}=on(_,P.defaultEOL);this._buffer=Dt,this._bufferDisposable=Ft,this._options=Hs.resolveOptions(this._buffer,P);const At=this._buffer.getLineCount(),Ut=this._buffer.getValueLengthInRange(new N.e(1,1,At,this._buffer.getLineLength(At)+1),0);P.largeFileOptimizations?this._isTooLargeForTokenization=Ut>Hs.LARGE_FILE_SIZE_THRESHOLD||At>Hs.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Ut>Hs.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=Z||ot.TG,this._languageRegistryListener=this._languageConfigurationService.onDidChange(Yt=>{Yt.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=O.PJ(jn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new cs,this._commandManager=new l.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new oi.Rl(this._modeService.languageIdCodec),this._tokens2=new oi.cx(this._modeService.languageIdCodec),this._tokenization=new Ge(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new _e(this,this._languageConfigurationService)),this._decorationProvider=this._register(new gi(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(_,P){if(P.detectIndentation){const Z=n(_,P.tabSize,P.insertSpaces);return new C.dJ({tabSize:Z.tabSize,indentSize:Z.tabSize,insertSpaces:Z.insertSpaces,trimAutoWhitespace:P.trimAutoWhitespace,defaultEOL:P.defaultEOL,bracketPairColorizationOptions:P.bracketPairColorizationOptions})}return new C.dJ({tabSize:P.tabSize,indentSize:P.indentSize,insertSpaces:P.insertSpaces,trimAutoWhitespace:P.trimAutoWhitespace,defaultEOL:P.defaultEOL,bracketPairColorizationOptions:P.bracketPairColorizationOptions})}onDidChangeContentFast(_){return this._eventEmitter.fastEvent(P=>_(P.contentChangedEvent))}onDidChangeContent(_){return this._eventEmitter.slowEvent(P=>_(P.contentChangedEvent))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(_){if(this._backgroundTokenizationState===2)return;const P=_?2:1;this._backgroundTokenizationState!==P&&(this._backgroundTokenizationState=P,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const _=new hi([],"",`
`,!1,!1,!0,!0);_.dispose(),this._buffer=_}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(_,P){this._bracketPairColorizer.handleContentChanged(P),!this._isDisposing&&this._eventEmitter.fire(new Ii.fV(_,P))}setValue(_){if(this._assertNotDisposed(),_===null)return;const{textBuffer:P,disposable:Z}=on(_,this._options.defaultEOL);this._setValueFromTextBuffer(P,Z)}_createContentChanged2(_,P,Z,ve,Ne,Ue,vt){return{changes:[{range:_,rangeOffset:P,rangeLength:Z,text:ve}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:Ne,isRedoing:Ue,isFlush:vt}}_setValueFromTextBuffer(_,P){this._assertNotDisposed();const Z=this.getFullModelRange(),ve=this.getValueLengthInRange(Z),Ne=this.getLineCount(),Ue=this.getLineMaxColumn(Ne);this._buffer=_,this._bufferDisposable.dispose(),this._bufferDisposable=P,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new cs,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Ii.dQ([new Ii.Jx],this._versionId,!1,!1),this._createContentChanged2(new N.e(1,1,Ne,Ue),0,ve,this.getValue(),!1,!1,!0))}setEOL(_){this._assertNotDisposed();const P=_===1?`\r
`:`
`;if(this._buffer.getEOL()===P)return;const Z=this.getFullModelRange(),ve=this.getValueLengthInRange(Z),Ne=this.getLineCount(),Ue=this.getLineMaxColumn(Ne);this._onBeforeEOLChange(),this._buffer.setEOL(P),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Ii.dQ([new Ii.CZ],this._versionId,!1,!1),this._createContentChanged2(new N.e(1,1,Ne,Ue),0,ve,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const _=this.getVersionId(),P=this._decorationsTree.collectNodesPostOrder();for(let Z=0,ve=P.length;Z<ve;Z++){const Ne=P[Z],Ue=Ne.range,vt=Ne.cachedAbsoluteStart-Ne.start,Dt=this._buffer.getOffsetAt(Ue.startLineNumber,Ue.startColumn),Ft=this._buffer.getOffsetAt(Ue.endLineNumber,Ue.endColumn);Ne.cachedAbsoluteStart=Dt,Ne.cachedAbsoluteEnd=Ft,Ne.cachedVersionId=_,Ne.start=Dt-vt,Ne.end=Ft-vt,Oe(Ne)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let _=0,P=0;const Z=this._buffer.getLineCount();for(let ve=1;ve<=Z;ve++){const Ne=this._buffer.getLineLength(ve);Ne>=tn?P+=Ne:_+=Ne}return P>_}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(_){this._assertNotDisposed();let P=typeof _.tabSize!="undefined"?_.tabSize:this._options.tabSize,Z=typeof _.indentSize!="undefined"?_.indentSize:this._options.indentSize,ve=typeof _.insertSpaces!="undefined"?_.insertSpaces:this._options.insertSpaces,Ne=typeof _.trimAutoWhitespace!="undefined"?_.trimAutoWhitespace:this._options.trimAutoWhitespace,Ue=typeof _.bracketColorizationOptions!="undefined"?_.bracketColorizationOptions:this._options.bracketPairColorizationOptions,vt=new C.dJ({tabSize:P,indentSize:Z,insertSpaces:ve,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Ne,bracketPairColorizationOptions:Ue});if(this._options.equals(vt))return;let Dt=this._options.createChangeEvent(vt);this._options=vt,this._onDidChangeOptions.fire(Dt)}detectIndentation(_,P){this._assertNotDisposed();let Z=n(this._buffer,P,_);this.updateOptions({insertSpaces:Z.insertSpaces,tabSize:Z.tabSize,indentSize:Z.tabSize})}static _normalizeIndentationFromWhitespace(_,P,Z){let ve=0;for(let Ue=0;Ue<_.length;Ue++)_.charAt(Ue)==="	"?ve+=P:ve++;let Ne="";if(!Z){let Ue=Math.floor(ve/P);ve=ve%P;for(let vt=0;vt<Ue;vt++)Ne+="	"}for(let Ue=0;Ue<ve;Ue++)Ne+=" ";return Ne}static normalizeIndentation(_,P,Z){let ve=O.LC(_);return ve===-1&&(ve=_.length),Hs._normalizeIndentationFromWhitespace(_.substring(0,ve),P,Z)+_.substring(ve)}normalizeIndentation(_){return this._assertNotDisposed(),Hs.normalizeIndentation(_,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(_=null){const P=this.findMatches(O.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(_,P.map(Z=>({range:Z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(_){this._assertNotDisposed();let P=this._validatePosition(_.lineNumber,_.column,0);return this._buffer.getOffsetAt(P.lineNumber,P.column)}getPositionAt(_){this._assertNotDisposed();let P=Math.min(this._buffer.getLength(),Math.max(0,_));return this._buffer.getPositionAt(P)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(_){this._versionId=_}_overwriteAlternativeVersionId(_){this._alternativeVersionId=_}_overwriteInitialUndoRedoSnapshot(_){this._initialUndoRedoSnapshot=_}getValue(_,P=!1){this._assertNotDisposed();const Z=this.getFullModelRange(),ve=this.getValueInRange(Z,_);return P?this._buffer.getBOM()+ve:ve}createSnapshot(_=!1){return new pn(this._buffer.createSnapshot(_))}getValueLength(_,P=!1){this._assertNotDisposed();const Z=this.getFullModelRange(),ve=this.getValueLengthInRange(Z,_);return P?this._buffer.getBOM().length+ve:ve}getValueInRange(_,P=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(_),P)}getValueLengthInRange(_,P=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(_),P)}getCharacterCountInRange(_,P=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(_),P)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(_){if(this._assertNotDisposed(),_<1||_>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(_)}getLineLength(_){if(this._assertNotDisposed(),_<1||_>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(_)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(_){return this._assertNotDisposed(),1}getLineMaxColumn(_){if(this._assertNotDisposed(),_<1||_>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(_)+1}getLineFirstNonWhitespaceColumn(_){if(this._assertNotDisposed(),_<1||_>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(_)}getLineLastNonWhitespaceColumn(_){if(this._assertNotDisposed(),_<1||_>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(_)}_validateRangeRelaxedNoAllocations(_){const P=this._buffer.getLineCount(),Z=_.startLineNumber,ve=_.startColumn;let Ne=Math.floor(typeof Z=="number"&&!isNaN(Z)?Z:1),Ue=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(Ne<1)Ne=1,Ue=1;else if(Ne>P)Ne=P,Ue=this.getLineMaxColumn(Ne);else if(Ue<=1)Ue=1;else{const Ut=this.getLineMaxColumn(Ne);Ue>=Ut&&(Ue=Ut)}const vt=_.endLineNumber,Dt=_.endColumn;let Ft=Math.floor(typeof vt=="number"&&!isNaN(vt)?vt:1),At=Math.floor(typeof Dt=="number"&&!isNaN(Dt)?Dt:1);if(Ft<1)Ft=1,At=1;else if(Ft>P)Ft=P,At=this.getLineMaxColumn(Ft);else if(At<=1)At=1;else{const Ut=this.getLineMaxColumn(Ft);At>=Ut&&(At=Ut)}return Z===Ne&&ve===Ue&&vt===Ft&&Dt===At&&_ instanceof N.e&&!(_ instanceof s.Y)?_:new N.e(Ne,Ue,Ft,At)}_isValidPosition(_,P,Z){if(typeof _!="number"||typeof P!="number"||isNaN(_)||isNaN(P)||_<1||P<1||(_|0)!==_||(P|0)!==P)return!1;const ve=this._buffer.getLineCount();if(_>ve)return!1;if(P===1)return!0;const Ne=this.getLineMaxColumn(_);if(P>Ne)return!1;if(Z===1){const Ue=this._buffer.getLineCharCode(_,P-2);if(O.ZG(Ue))return!1}return!0}_validatePosition(_,P,Z){const ve=Math.floor(typeof _=="number"&&!isNaN(_)?_:1),Ne=Math.floor(typeof P=="number"&&!isNaN(P)?P:1),Ue=this._buffer.getLineCount();if(ve<1)return new x.L(1,1);if(ve>Ue)return new x.L(Ue,this.getLineMaxColumn(Ue));if(Ne<=1)return new x.L(ve,1);const vt=this.getLineMaxColumn(ve);if(Ne>=vt)return new x.L(ve,vt);if(Z===1){const Dt=this._buffer.getLineCharCode(ve,Ne-2);if(O.ZG(Dt))return new x.L(ve,Ne-1)}return new x.L(ve,Ne)}validatePosition(_){return this._assertNotDisposed(),_ instanceof x.L&&this._isValidPosition(_.lineNumber,_.column,1)?_:this._validatePosition(_.lineNumber,_.column,1)}_isValidRange(_,P){const Z=_.startLineNumber,ve=_.startColumn,Ne=_.endLineNumber,Ue=_.endColumn;if(!this._isValidPosition(Z,ve,0)||!this._isValidPosition(Ne,Ue,0))return!1;if(P===1){const vt=ve>1?this._buffer.getLineCharCode(Z,ve-2):0,Dt=Ue>1&&Ue<=this._buffer.getLineLength(Ne)?this._buffer.getLineCharCode(Ne,Ue-2):0,Ft=O.ZG(vt),At=O.ZG(Dt);return!Ft&&!At}return!0}validateRange(_){if(this._assertNotDisposed(),_ instanceof N.e&&!(_ instanceof s.Y)&&this._isValidRange(_,1))return _;const Z=this._validatePosition(_.startLineNumber,_.startColumn,0),ve=this._validatePosition(_.endLineNumber,_.endColumn,0),Ne=Z.lineNumber,Ue=Z.column,vt=ve.lineNumber,Dt=ve.column;{const Ft=Ue>1?this._buffer.getLineCharCode(Ne,Ue-2):0,At=Dt>1&&Dt<=this._buffer.getLineLength(vt)?this._buffer.getLineCharCode(vt,Dt-2):0,Ut=O.ZG(Ft),Yt=O.ZG(At);return!Ut&&!Yt?new N.e(Ne,Ue,vt,Dt):Ne===vt&&Ue===Dt?new N.e(Ne,Ue-1,vt,Dt-1):Ut&&Yt?new N.e(Ne,Ue-1,vt,Dt+1):Ut?new N.e(Ne,Ue-1,vt,Dt):new N.e(Ne,Ue,vt,Dt+1)}return new N.e(Ne,Ue,vt,Dt)}modifyPosition(_,P){this._assertNotDisposed();let Z=this.getOffsetAt(_)+P;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Z)))}getFullModelRange(){this._assertNotDisposed();const _=this.getLineCount();return new N.e(1,1,_,this.getLineMaxColumn(_))}findMatchesLineByLine(_,P,Z,ve){return this._buffer.findMatchesLineByLine(_,P,Z,ve)}findMatches(_,P,Z,ve,Ne,Ue,vt=hs){this._assertNotDisposed();let Dt=null;P!==null&&(Array.isArray(P)||(P=[P]),P.every(Ut=>N.e.isIRange(Ut))&&(Dt=P.map(Ut=>this.validateRange(Ut)))),Dt===null&&(Dt=[this.getFullModelRange()]),Dt=Dt.sort((Ut,Yt)=>Ut.startLineNumber-Yt.startLineNumber||Ut.startColumn-Yt.startColumn);const Ft=[];Ft.push(Dt.reduce((Ut,Yt)=>N.e.areIntersecting(Ut,Yt)?Ut.plusRange(Yt):(Ft.push(Ut),Yt)));let At;if(!Z&&_.indexOf(`
`)<0){const Yt=new qe.bc(_,Z,ve,Ne).parseSearchRequest();if(!Yt)return[];At=si=>this.findMatchesLineByLine(si,Yt,Ue,vt)}else At=Ut=>qe.pM.findMatches(this,new qe.bc(_,Z,ve,Ne),Ut,Ue,vt);return Ft.map(At).reduce((Ut,Yt)=>Ut.concat(Yt),[])}findNextMatch(_,P,Z,ve,Ne,Ue){this._assertNotDisposed();const vt=this.validatePosition(P);if(!Z&&_.indexOf(`
`)<0){const Ft=new qe.bc(_,Z,ve,Ne).parseSearchRequest();if(!Ft)return null;const At=this.getLineCount();let Ut=new N.e(vt.lineNumber,vt.column,At,this.getLineMaxColumn(At)),Yt=this.findMatchesLineByLine(Ut,Ft,Ue,1);return qe.pM.findNextMatch(this,new qe.bc(_,Z,ve,Ne),vt,Ue),Yt.length>0||(Ut=new N.e(1,1,vt.lineNumber,this.getLineMaxColumn(vt.lineNumber)),Yt=this.findMatchesLineByLine(Ut,Ft,Ue,1),Yt.length>0)?Yt[0]:null}return qe.pM.findNextMatch(this,new qe.bc(_,Z,ve,Ne),vt,Ue)}findPreviousMatch(_,P,Z,ve,Ne,Ue){this._assertNotDisposed();const vt=this.validatePosition(P);return qe.pM.findPreviousMatch(this,new qe.bc(_,Z,ve,Ne),vt,Ue)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(_){if((this.getEOL()===`
`?0:1)!==_)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(_)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(_){return _ instanceof C.Qi?_:new C.Qi(_.identifier||null,this.validateRange(_.range),_.text,_.forceMoveMarkers||!1,_.isAutoWhitespaceEdit||!1,_._isTracked||!1)}_validateEditOperations(_){const P=[];for(let Z=0,ve=_.length;Z<ve;Z++)P[Z]=this._validateEditOperation(_[Z]);return P}pushEditOperations(_,P,Z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(_,this._validateEditOperations(P),Z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(_,P,Z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let ve=P.map(Ue=>({range:this.validateRange(Ue.range),text:Ue.text})),Ne=!0;if(_)for(let Ue=0,vt=_.length;Ue<vt;Ue++){let Dt=_[Ue],Ft=!1;for(let At=0,Ut=ve.length;At<Ut;At++){let Yt=ve[At].range,si=Yt.startLineNumber>Dt.endLineNumber,ci=Dt.startLineNumber>Yt.endLineNumber;if(!si&&!ci){Ft=!0;break}}if(!Ft){Ne=!1;break}}if(Ne)for(let Ue=0,vt=this._trimAutoWhitespaceLines.length;Ue<vt;Ue++){let Dt=this._trimAutoWhitespaceLines[Ue],Ft=this.getLineMaxColumn(Dt),At=!0;for(let Ut=0,Yt=ve.length;Ut<Yt;Ut++){let si=ve[Ut].range,ci=ve[Ut].text;if(!(Dt<si.startLineNumber||Dt>si.endLineNumber)&&!(Dt===si.startLineNumber&&si.startColumn===Ft&&si.isEmpty()&&ci&&ci.length>0&&ci.charAt(0)===`
`)&&!(Dt===si.startLineNumber&&si.startColumn===1&&si.isEmpty()&&ci&&ci.length>0&&ci.charAt(ci.length-1)===`
`)){At=!1;break}}if(At){const Ut=new N.e(Dt,1,Dt,Ft);P.push(new C.Qi(null,Ut,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(_,P,Z)}_applyUndo(_,P,Z,ve){const Ne=_.map(Ue=>{const vt=this.getPositionAt(Ue.newPosition),Dt=this.getPositionAt(Ue.newEnd);return{range:new N.e(vt.lineNumber,vt.column,Dt.lineNumber,Dt.column),text:Ue.oldText}});this._applyUndoRedoEdits(Ne,P,!0,!1,Z,ve)}_applyRedo(_,P,Z,ve){const Ne=_.map(Ue=>{const vt=this.getPositionAt(Ue.oldPosition),Dt=this.getPositionAt(Ue.oldEnd);return{range:new N.e(vt.lineNumber,vt.column,Dt.lineNumber,Dt.column),text:Ue.newText}});this._applyUndoRedoEdits(Ne,P,!1,!0,Z,ve)}_applyUndoRedoEdits(_,P,Z,ve,Ne,Ue){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Z,this._isRedoing=ve,this.applyEdits(_,!1),this.setEOL(P),this._overwriteAlternativeVersionId(Ne)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Ue),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(_,P=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Z=this._validateEditOperations(_);return this._doApplyEdits(Z,P)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(_,P){const Z=this._buffer.getLineCount(),ve=this._buffer.applyEdits(_,this._options.trimAutoWhitespace,P),Ne=this._buffer.getLineCount(),Ue=ve.changes;if(this._trimAutoWhitespaceLines=ve.trimAutoWhitespaceLineNumbers,Ue.length!==0){for(let Ft=0,At=Ue.length;Ft<At;Ft++){const Ut=Ue[Ft],[Yt,si,ci]=(0,oi.QZ)(Ut.text);this._tokens.acceptEdit(Ut.range,Yt,si),this._tokens2.acceptEdit(Ut.range,Yt,si,ci,Ut.text.length>0?Ut.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(Ut.rangeOffset,Ut.rangeLength,Ut.text.length,Ut.forceMoveMarkers)}let vt=[];this._increaseVersionId();let Dt=Z;for(let Ft=0,At=Ue.length;Ft<At;Ft++){const Ut=Ue[Ft],[Yt]=(0,oi.QZ)(Ut.text);this._onDidChangeDecorations.fire();const si=Ut.range.startLineNumber,ci=Ut.range.endLineNumber,yi=ci-si,wi=Yt,Ni=Math.min(yi,wi),Ui=wi-yi,qi=Ne-Dt-Ui+si,Vi=qi,ln=qi+wi,In=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new x.L(Vi,1)),this.getOffsetAt(new x.L(ln,this.getLineMaxColumn(ln))),0),Cn=Ii.gk.fromDecorations(In),yn=new ai.H9(Cn);for(let Mn=Ni;Mn>=0;Mn--){const as=si+Mn,bs=qi+Mn;yn.takeFromEndWhile(Ts=>Ts.lineNumber>bs);const fs=yn.takeFromEndWhile(Ts=>Ts.lineNumber===bs);vt.push(new Ii.rU(as,this.getLineContent(bs),fs))}if(Ni<yi){const Mn=si+Ni;vt.push(new Ii.lN(Mn+1,ci))}if(Ni<wi){const Mn=new ai.H9(Cn),as=si+Ni,bs=wi-Ni,fs=Ne-Dt-bs+as+1;let Ts=[],Ns=[];for(let Os=0;Os<bs;Os++){let Gs=fs+Os;Ns[Os]=this.getLineContent(Gs),Mn.takeWhile(io=>io.lineNumber<Gs),Ts[Os]=Mn.takeWhile(io=>io.lineNumber===Gs)}vt.push(new Ii.Tx(as+1,si+wi,Ns,Ts))}Dt+=Ui}this._emitContentChangedEvent(new Ii.dQ(vt,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Ue,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ve.reverseEdits===null?void 0:ve.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(_){if(_===null||_.size===0)return;const Z=[..._].map(ve=>new Ii.rU(ve,this.getLineContent(ve),this._getInjectedTextInLine(ve)));this._onDidChangeContentOrInjectedText.fire(new Ii.D8(Z))}changeDecorations(_,P=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(P,_)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(_,P){let Z={addDecoration:(Ne,Ue)=>this._deltaDecorationsImpl(_,[],[{range:Ne,options:Ue}])[0],changeDecoration:(Ne,Ue)=>{this._changeDecorationImpl(Ne,Ue)},changeDecorationOptions:(Ne,Ue)=>{this._changeDecorationOptionsImpl(Ne,vn(Ue))},removeDecoration:Ne=>{this._deltaDecorationsImpl(_,[Ne],[])},deltaDecorations:(Ne,Ue)=>Ne.length===0&&Ue.length===0?[]:this._deltaDecorationsImpl(_,Ne,Ue)},ve=null;try{ve=P(Z)}catch(Ne){(0,h.dL)(Ne)}return Z.addDecoration=kn,Z.changeDecoration=kn,Z.changeDecorationOptions=kn,Z.removeDecoration=kn,Z.deltaDecorations=kn,ve}deltaDecorations(_,P,Z=0){if(this._assertNotDisposed(),_||(_=[]),_.length===0&&P.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Z,_,P)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(_){return this.getDecorationRange(_)}_setTrackedRange(_,P,Z){const ve=_?this._decorations[_]:null;if(!ve)return P?this._deltaDecorationsImpl(0,[],[{range:P,options:Hi[Z]}])[0]:null;if(!P)return this._decorationsTree.delete(ve),delete this._decorations[ve.id],null;const Ne=this._validateRangeRelaxedNoAllocations(P),Ue=this._buffer.getOffsetAt(Ne.startLineNumber,Ne.startColumn),vt=this._buffer.getOffsetAt(Ne.endLineNumber,Ne.endColumn);return this._decorationsTree.delete(ve),ve.reset(this.getVersionId(),Ue,vt,Ne),ve.setOptions(Hi[Z]),this._decorationsTree.insert(ve),ve.id}removeAllDecorationsWithOwnerId(_){if(this._isDisposed)return;const P=this._decorationsTree.collectNodesFromOwner(_);for(let Z=0,ve=P.length;Z<ve;Z++){const Ne=P[Z];this._decorationsTree.delete(Ne),delete this._decorations[Ne.id]}}getDecorationOptions(_){const P=this._decorations[_];return P?P.options:null}getDecorationRange(_){const P=this._decorations[_];return P?this._decorationsTree.getNodeRange(this,P):null}getLineDecorations(_,P=0,Z=!1){return _<1||_>this.getLineCount()?[]:this.getLinesDecorations(_,_,P,Z)}getLinesDecorations(_,P,Z=0,ve=!1){let Ne=this.getLineCount(),Ue=Math.min(Ne,Math.max(1,_)),vt=Math.min(Ne,Math.max(1,P)),Dt=this.getLineMaxColumn(vt);const Ft=new N.e(Ue,1,vt,Dt),At=this._getDecorationsInRange(Ft,Z,ve);return At.push(...this._decorationProvider.getDecorationsInRange(Ft,Z,ve)),At}getDecorationsInRange(_,P=0,Z=!1){let ve=this.validateRange(_);const Ne=this._getDecorationsInRange(ve,P,Z);return Ne.push(...this._decorationProvider.getDecorationsInRange(ve,P,Z)),Ne}getOverviewRulerDecorations(_=0,P=!1){return this._decorationsTree.getAll(this,_,P,!0)}getInjectedTextDecorations(_=0){return this._decorationsTree.getAllInjectedText(this,_)}_getInjectedTextInLine(_){const P=this._buffer.getOffsetAt(_,1),Z=P+this._buffer.getLineLength(_),ve=this._decorationsTree.getInjectedTextInInterval(this,P,Z,0);return Ii.gk.fromDecorations(ve).filter(Ne=>Ne.lineNumber===_)}getAllDecorations(_=0,P=!1){let Z=this._decorationsTree.getAll(this,_,P,!1);return Z=Z.concat(this._decorationProvider.getAllDecorations(_,P)),Z}_getDecorationsInRange(_,P,Z){const ve=this._buffer.getOffsetAt(_.startLineNumber,_.startColumn),Ne=this._buffer.getOffsetAt(_.endLineNumber,_.endColumn);return this._decorationsTree.getAllInInterval(this,ve,Ne,P,Z)}getRangeAt(_,P){return this._buffer.getRangeAt(_,P-_)}_changeDecorationImpl(_,P){const Z=this._decorations[_];if(!Z)return;if(Z.options.after){const vt=this.getDecorationRange(_);this._onDidChangeDecorations.recordLineAffectedByInjectedText(vt.endLineNumber)}if(Z.options.before){const vt=this.getDecorationRange(_);this._onDidChangeDecorations.recordLineAffectedByInjectedText(vt.startLineNumber)}const ve=this._validateRangeRelaxedNoAllocations(P),Ne=this._buffer.getOffsetAt(ve.startLineNumber,ve.startColumn),Ue=this._buffer.getOffsetAt(ve.endLineNumber,ve.endColumn);this._decorationsTree.delete(Z),Z.reset(this.getVersionId(),Ne,Ue,ve),this._decorationsTree.insert(Z),this._onDidChangeDecorations.checkAffectedAndFire(Z.options),Z.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber),Z.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}_changeDecorationOptionsImpl(_,P){const Z=this._decorations[_];if(!Z)return;const ve=!!(Z.options.overviewRuler&&Z.options.overviewRuler.color),Ne=!!(P.overviewRuler&&P.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(Z.options),this._onDidChangeDecorations.checkAffectedAndFire(P),Z.options.after||P.after){const Ue=this._decorationsTree.getNodeRange(this,Z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ue.endLineNumber)}if(Z.options.before||P.before){const Ue=this._decorationsTree.getNodeRange(this,Z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ue.startLineNumber)}ve!==Ne?(this._decorationsTree.delete(Z),Z.setOptions(P),this._decorationsTree.insert(Z)):Z.setOptions(P)}_deltaDecorationsImpl(_,P,Z){const ve=this.getVersionId(),Ne=P.length;let Ue=0;const vt=Z.length;let Dt=0,Ft=new Array(vt);for(;Ue<Ne||Dt<vt;){let At=null;if(Ue<Ne){do At=this._decorations[P[Ue++]];while(!At&&Ue<Ne);if(At){if(At.options.after){const Ut=this._decorationsTree.getNodeRange(this,At);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ut.endLineNumber)}if(At.options.before){const Ut=this._decorationsTree.getNodeRange(this,At);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ut.startLineNumber)}this._decorationsTree.delete(At),this._onDidChangeDecorations.checkAffectedAndFire(At.options)}}if(Dt<vt){if(!At){const wi=++this._lastDecorationId,Ni=`${this._instanceId};${wi}`;At=new T(Ni,0,0),this._decorations[Ni]=At}const Ut=Z[Dt],Yt=this._validateRangeRelaxedNoAllocations(Ut.range),si=vn(Ut.options),ci=this._buffer.getOffsetAt(Yt.startLineNumber,Yt.startColumn),yi=this._buffer.getOffsetAt(Yt.endLineNumber,Yt.endColumn);At.ownerId=_,At.reset(ve,ci,yi,Yt),At.setOptions(si),At.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Yt.endLineNumber),At.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Yt.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(si),this._decorationsTree.insert(At),Ft[Dt]=At.id,Dt++}else At&&delete this._decorations[At.id]}return Ft}setTokens(_,P=!1){if(_.length!==0){let Z=[];for(let ve=0,Ne=_.length;ve<Ne;ve++){const Ue=_[ve];let vt=0,Dt=0,Ft=!1;for(let At=0,Ut=Ue.tokens.length;At<Ut;At++){const Yt=Ue.startLineNumber+At;Ft?(this._tokens.setTokens(this._languageId,Yt-1,this._buffer.getLineLength(Yt),Ue.tokens[At],!1),Dt=Yt):this._tokens.setTokens(this._languageId,Yt-1,this._buffer.getLineLength(Yt),Ue.tokens[At],!0)&&(Ft=!0,vt=Yt,Dt=Yt)}Ft&&Z.push({fromLineNumber:vt,toLineNumber:Dt})}Z.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:Z})}this.handleTokenizationProgress(P)}setSemanticTokens(_,P){this._tokens2.set(_,P),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:_!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(_,P){if(this.hasCompleteSemanticTokens())return;const Z=this._tokens2.setPartial(_,P);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:Z.startLineNumber,toLineNumber:Z.endLineNumber}]})}tokenizeViewport(_,P){_=Math.max(1,_),P=Math.min(this._buffer.getLineCount(),P),this._tokenization.tokenizeViewport(_,P)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(_){this._isDisposing||this._onDidChangeTokens.fire(_)}resetTokenization(){this._tokenization.reset()}forceTokenization(_){if(_<1||_>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(_)}isCheapToTokenize(_){return this._tokenization.isCheapToTokenize(_)}tokenizeIfCheap(_){this.isCheapToTokenize(_)&&this.forceTokenization(_)}getLineTokens(_){if(_<1||_>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(_)}_getLineTokens(_){const P=this.getLineContent(_),Z=this._tokens.getTokens(this._languageId,_-1,P);return this._tokens2.addSemanticTokens(_,Z)}getLanguageId(){return this._languageId}setMode(_){if(this._languageId===_)return;let P={oldLanguage:this._languageId,newLanguage:_};this._languageId=_,this._onDidChangeLanguage.fire(P),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(_,P){const Z=this.validatePosition(new x.L(_,P)),ve=this.getLineTokens(Z.lineNumber);return ve.getLanguageId(ve.findTokenIndexAtOffset(Z.column-1))}getLanguageConfiguration(_){return this._languageConfigurationService.getLanguageConfiguration(_)}getWordAtPosition(_){this._assertNotDisposed();const P=this.validatePosition(_),Z=this.getLineContent(P.lineNumber),ve=this._getLineTokens(P.lineNumber),Ne=ve.findTokenIndexAtOffset(P.column-1),[Ue,vt]=Hs._findLanguageBoundaries(ve,Ne),Dt=(0,je.t2)(P.column,this.getLanguageConfiguration(ve.getLanguageId(Ne)).getWordDefinition(),Z.substring(Ue,vt),Ue);if(Dt&&Dt.startColumn<=_.column&&_.column<=Dt.endColumn)return Dt;if(Ne>0&&Ue===P.column-1){const[Ft,At]=Hs._findLanguageBoundaries(ve,Ne-1),Ut=(0,je.t2)(P.column,this.getLanguageConfiguration(ve.getLanguageId(Ne-1)).getWordDefinition(),Z.substring(Ft,At),Ft);if(Ut&&Ut.startColumn<=_.column&&_.column<=Ut.endColumn)return Ut}return null}static _findLanguageBoundaries(_,P){const Z=_.getLanguageId(P);let ve=0;for(let Ue=P;Ue>=0&&_.getLanguageId(Ue)===Z;Ue--)ve=_.getStartOffset(Ue);let Ne=_.getLineContent().length;for(let Ue=P,vt=_.getCount();Ue<vt&&_.getLanguageId(Ue)===Z;Ue++)Ne=_.getEndOffset(Ue);return[ve,Ne]}getWordUntilPosition(_){const P=this.getWordAtPosition(_);return P?{word:P.word.substr(0,_.column-P.startColumn),startColumn:P.startColumn,endColumn:_.column}:{word:"",startColumn:_.column,endColumn:_.column}}findMatchingBracketUp(_,P){let Z=_.toLowerCase(),ve=this.validatePosition(P),Ne=this._getLineTokens(ve.lineNumber),Ue=Ne.getLanguageId(Ne.findTokenIndexAtOffset(ve.column-1)),vt=this.getLanguageConfiguration(Ue).brackets;if(!vt)return null;let Dt=vt.textIsBracket[Z];return Dt?nn(this._findMatchingBracketUp(Dt,ve,null)):null}matchBracket(_){return this._matchBracket(this.validatePosition(_))}_establishBracketSearchOffsets(_,P,Z,ve){const Ne=P.getCount(),Ue=P.getLanguageId(ve);let vt=Math.max(0,_.column-1-Z.maxBracketLength);for(let Ft=ve-1;Ft>=0;Ft--){const At=P.getEndOffset(Ft);if(At<=vt)break;if((0,Nt.Bu)(P.getStandardTokenType(Ft))||P.getLanguageId(Ft)!==Ue){vt=At;break}}let Dt=Math.min(P.getLineContent().length,_.column-1+Z.maxBracketLength);for(let Ft=ve+1;Ft<Ne;Ft++){const At=P.getStartOffset(Ft);if(At>=Dt)break;if((0,Nt.Bu)(P.getStandardTokenType(Ft))||P.getLanguageId(Ft)!==Ue){Dt=At;break}}return{searchStartOffset:vt,searchEndOffset:Dt}}_matchBracket(_){const P=_.lineNumber,Z=this._getLineTokens(P),ve=this._buffer.getLineContent(P),Ne=Z.findTokenIndexAtOffset(_.column-1);if(Ne<0)return null;const Ue=this.getLanguageConfiguration(Z.getLanguageId(Ne)).brackets;if(Ue&&!(0,Nt.Bu)(Z.getStandardTokenType(Ne))){let{searchStartOffset:vt,searchEndOffset:Dt}=this._establishBracketSearchOffsets(_,Z,Ue,Ne),Ft=null;for(;;){const At=$t.Vr.findNextBracketInRange(Ue.forwardRegex,P,ve,vt,Dt);if(!At)break;if(At.startColumn<=_.column&&_.column<=At.endColumn){const Ut=ve.substring(At.startColumn-1,At.endColumn-1).toLowerCase(),Yt=this._matchFoundBracket(At,Ue.textIsBracket[Ut],Ue.textIsOpenBracket[Ut],null);if(Yt){if(Yt instanceof Qi)return null;Ft=Yt}}vt=At.endColumn-1}if(Ft)return Ft}if(Ne>0&&Z.getStartOffset(Ne)===_.column-1){const vt=Ne-1,Dt=this.getLanguageConfiguration(Z.getLanguageId(vt)).brackets;if(Dt&&!(0,Nt.Bu)(Z.getStandardTokenType(vt))){let{searchStartOffset:Ft,searchEndOffset:At}=this._establishBracketSearchOffsets(_,Z,Dt,vt);const Ut=$t.Vr.findPrevBracketInRange(Dt.reversedRegex,P,ve,Ft,At);if(Ut&&Ut.startColumn<=_.column&&_.column<=Ut.endColumn){const Yt=ve.substring(Ut.startColumn-1,Ut.endColumn-1).toLowerCase(),si=this._matchFoundBracket(Ut,Dt.textIsBracket[Yt],Dt.textIsOpenBracket[Yt],null);if(si)return si instanceof Qi?null:si}}}return null}_matchFoundBracket(_,P,Z,ve){if(!P)return null;const Ne=Z?this._findMatchingBracketDown(P,_.getEndPosition(),ve):this._findMatchingBracketUp(P,_.getStartPosition(),ve);return Ne?Ne instanceof Qi?Ne:[_,Ne]:null}_findMatchingBracketUp(_,P,Z){const ve=_.languageId,Ne=_.reversedRegex;let Ue=-1,vt=0;const Dt=(Ft,At,Ut,Yt)=>{for(;;){if(Z&&++vt%100===0&&!Z())return Qi.INSTANCE;const si=$t.Vr.findPrevBracketInRange(Ne,Ft,At,Ut,Yt);if(!si)break;const ci=At.substring(si.startColumn-1,si.endColumn-1).toLowerCase();if(_.isOpen(ci)?Ue++:_.isClose(ci)&&Ue--,Ue===0)return si;Yt=si.startColumn-1}return null};for(let Ft=P.lineNumber;Ft>=1;Ft--){const At=this._getLineTokens(Ft),Ut=At.getCount(),Yt=this._buffer.getLineContent(Ft);let si=Ut-1,ci=Yt.length,yi=Yt.length;Ft===P.lineNumber&&(si=At.findTokenIndexAtOffset(P.column-1),ci=P.column-1,yi=P.column-1);let wi=!0;for(;si>=0;si--){const Ni=At.getLanguageId(si)===ve&&!(0,Nt.Bu)(At.getStandardTokenType(si));if(Ni)wi?ci=At.getStartOffset(si):(ci=At.getStartOffset(si),yi=At.getEndOffset(si));else if(wi&&ci!==yi){const Ui=Dt(Ft,Yt,ci,yi);if(Ui)return Ui}wi=Ni}if(wi&&ci!==yi){const Ni=Dt(Ft,Yt,ci,yi);if(Ni)return Ni}}return null}_findMatchingBracketDown(_,P,Z){const ve=_.languageId,Ne=_.forwardRegex;let Ue=1,vt=0;const Dt=(At,Ut,Yt,si)=>{for(;;){if(Z&&++vt%100===0&&!Z())return Qi.INSTANCE;const ci=$t.Vr.findNextBracketInRange(Ne,At,Ut,Yt,si);if(!ci)break;const yi=Ut.substring(ci.startColumn-1,ci.endColumn-1).toLowerCase();if(_.isOpen(yi)?Ue++:_.isClose(yi)&&Ue--,Ue===0)return ci;Yt=ci.endColumn-1}return null},Ft=this.getLineCount();for(let At=P.lineNumber;At<=Ft;At++){const Ut=this._getLineTokens(At),Yt=Ut.getCount(),si=this._buffer.getLineContent(At);let ci=0,yi=0,wi=0;At===P.lineNumber&&(ci=Ut.findTokenIndexAtOffset(P.column-1),yi=P.column-1,wi=P.column-1);let Ni=!0;for(;ci<Yt;ci++){const Ui=Ut.getLanguageId(ci)===ve&&!(0,Nt.Bu)(Ut.getStandardTokenType(ci));if(Ui)Ni||(yi=Ut.getStartOffset(ci)),wi=Ut.getEndOffset(ci);else if(Ni&&yi!==wi){const qi=Dt(At,si,yi,wi);if(qi)return qi}Ni=Ui}if(Ni&&yi!==wi){const Ui=Dt(At,si,yi,wi);if(Ui)return Ui}}return null}findPrevBracket(_){const P=this.validatePosition(_);let Z=null,ve=null;for(let Ne=P.lineNumber;Ne>=1;Ne--){const Ue=this._getLineTokens(Ne),vt=Ue.getCount(),Dt=this._buffer.getLineContent(Ne);let Ft=vt-1,At=Dt.length,Ut=Dt.length;if(Ne===P.lineNumber){Ft=Ue.findTokenIndexAtOffset(P.column-1),At=P.column-1,Ut=P.column-1;const si=Ue.getLanguageId(Ft);Z!==si&&(Z=si,ve=this.getLanguageConfiguration(Z).brackets)}let Yt=!0;for(;Ft>=0;Ft--){const si=Ue.getLanguageId(Ft);if(Z!==si){if(ve&&Yt&&At!==Ut){const yi=$t.Vr.findPrevBracketInRange(ve.reversedRegex,Ne,Dt,At,Ut);if(yi)return this._toFoundBracket(ve,yi);Yt=!1}Z=si,ve=this.getLanguageConfiguration(Z).brackets}const ci=!!ve&&!(0,Nt.Bu)(Ue.getStandardTokenType(Ft));if(ci)Yt?At=Ue.getStartOffset(Ft):(At=Ue.getStartOffset(Ft),Ut=Ue.getEndOffset(Ft));else if(ve&&Yt&&At!==Ut){const yi=$t.Vr.findPrevBracketInRange(ve.reversedRegex,Ne,Dt,At,Ut);if(yi)return this._toFoundBracket(ve,yi)}Yt=ci}if(ve&&Yt&&At!==Ut){const si=$t.Vr.findPrevBracketInRange(ve.reversedRegex,Ne,Dt,At,Ut);if(si)return this._toFoundBracket(ve,si)}}return null}findNextBracket(_){const P=this.validatePosition(_),Z=this.getLineCount();let ve=null,Ne=null;for(let Ue=P.lineNumber;Ue<=Z;Ue++){const vt=this._getLineTokens(Ue),Dt=vt.getCount(),Ft=this._buffer.getLineContent(Ue);let At=0,Ut=0,Yt=0;if(Ue===P.lineNumber){At=vt.findTokenIndexAtOffset(P.column-1),Ut=P.column-1,Yt=P.column-1;const ci=vt.getLanguageId(At);ve!==ci&&(ve=ci,Ne=this.getLanguageConfiguration(ve).brackets)}let si=!0;for(;At<Dt;At++){const ci=vt.getLanguageId(At);if(ve!==ci){if(Ne&&si&&Ut!==Yt){const wi=$t.Vr.findNextBracketInRange(Ne.forwardRegex,Ue,Ft,Ut,Yt);if(wi)return this._toFoundBracket(Ne,wi);si=!1}ve=ci,Ne=this.getLanguageConfiguration(ve).brackets}const yi=!!Ne&&!(0,Nt.Bu)(vt.getStandardTokenType(At));if(yi)si||(Ut=vt.getStartOffset(At)),Yt=vt.getEndOffset(At);else if(Ne&&si&&Ut!==Yt){const wi=$t.Vr.findNextBracketInRange(Ne.forwardRegex,Ue,Ft,Ut,Yt);if(wi)return this._toFoundBracket(Ne,wi)}si=yi}if(Ne&&si&&Ut!==Yt){const ci=$t.Vr.findNextBracketInRange(Ne.forwardRegex,Ue,Ft,Ut,Yt);if(ci)return this._toFoundBracket(Ne,ci)}}return null}findEnclosingBrackets(_,P){let Z;if(typeof P=="undefined")Z=null;else{const si=Date.now();Z=()=>Date.now()-si<=P}const ve=this.validatePosition(_),Ne=this.getLineCount(),Ue=new Map;let vt=[];const Dt=(si,ci)=>{if(!Ue.has(si)){let yi=[];for(let wi=0,Ni=ci?ci.brackets.length:0;wi<Ni;wi++)yi[wi]=0;Ue.set(si,yi)}vt=Ue.get(si)};let Ft=0;const At=(si,ci,yi,wi,Ni)=>{for(;;){if(Z&&++Ft%100===0&&!Z())return Qi.INSTANCE;const Ui=$t.Vr.findNextBracketInRange(si.forwardRegex,ci,yi,wi,Ni);if(!Ui)break;const qi=yi.substring(Ui.startColumn-1,Ui.endColumn-1).toLowerCase(),Vi=si.textIsBracket[qi];if(Vi&&(Vi.isOpen(qi)?vt[Vi.index]++:Vi.isClose(qi)&&vt[Vi.index]--,vt[Vi.index]===-1))return this._matchFoundBracket(Ui,Vi,!1,Z);wi=Ui.endColumn-1}return null};let Ut=null,Yt=null;for(let si=ve.lineNumber;si<=Ne;si++){const ci=this._getLineTokens(si),yi=ci.getCount(),wi=this._buffer.getLineContent(si);let Ni=0,Ui=0,qi=0;if(si===ve.lineNumber){Ni=ci.findTokenIndexAtOffset(ve.column-1),Ui=ve.column-1,qi=ve.column-1;const ln=ci.getLanguageId(Ni);Ut!==ln&&(Ut=ln,Yt=this.getLanguageConfiguration(Ut).brackets,Dt(Ut,Yt))}let Vi=!0;for(;Ni<yi;Ni++){const ln=ci.getLanguageId(Ni);if(Ut!==ln){if(Yt&&Vi&&Ui!==qi){const Cn=At(Yt,si,wi,Ui,qi);if(Cn)return nn(Cn);Vi=!1}Ut=ln,Yt=this.getLanguageConfiguration(Ut).brackets,Dt(Ut,Yt)}const In=!!Yt&&!(0,Nt.Bu)(ci.getStandardTokenType(Ni));if(In)Vi||(Ui=ci.getStartOffset(Ni)),qi=ci.getEndOffset(Ni);else if(Yt&&Vi&&Ui!==qi){const Cn=At(Yt,si,wi,Ui,qi);if(Cn)return nn(Cn)}Vi=In}if(Yt&&Vi&&Ui!==qi){const ln=At(Yt,si,wi,Ui,qi);if(ln)return nn(ln)}}return null}_toFoundBracket(_,P){if(!P)return null;let Z=this.getValueInRange(P);Z=Z.toLowerCase();let ve=_.textIsBracket[Z];return ve?{range:P,open:ve.open,close:ve.close,isOpen:_.textIsOpenBracket[Z]}:null}static computeIndentLevel(_,P){let Z=0,ve=0,Ne=_.length;for(;ve<Ne;){let Ue=_.charCodeAt(ve);if(Ue===32)Z++;else if(Ue===9)Z=Z-Z%P+P;else break;ve++}return ve===Ne?-1:Z}_computeIndentLevel(_){return Hs.computeIndentLevel(this._buffer.getLineContent(_+1),this._options.tabSize)}getActiveIndentGuide(_,P,Z){this._assertNotDisposed();const ve=this.getLineCount();if(_<1||_>ve)throw new Error("Illegal value for lineNumber");const Ne=this.getLanguageConfiguration(this._languageId).foldingRules,Ue=!!(Ne&&Ne.offSide);let vt=-2,Dt=-1,Ft=-2,At=-1;const Ut=Cn=>{if(vt!==-1&&(vt===-2||vt>Cn-1)){vt=-1,Dt=-1;for(let yn=Cn-2;yn>=0;yn--){let Mn=this._computeIndentLevel(yn);if(Mn>=0){vt=yn,Dt=Mn;break}}}if(Ft===-2){Ft=-1,At=-1;for(let yn=Cn;yn<ve;yn++){let Mn=this._computeIndentLevel(yn);if(Mn>=0){Ft=yn,At=Mn;break}}}};let Yt=-2,si=-1,ci=-2,yi=-1;const wi=Cn=>{if(Yt===-2){Yt=-1,si=-1;for(let yn=Cn-2;yn>=0;yn--){let Mn=this._computeIndentLevel(yn);if(Mn>=0){Yt=yn,si=Mn;break}}}if(ci!==-1&&(ci===-2||ci<Cn-1)){ci=-1,yi=-1;for(let yn=Cn;yn<ve;yn++){let Mn=this._computeIndentLevel(yn);if(Mn>=0){ci=yn,yi=Mn;break}}}};let Ni=0,Ui=!0,qi=0,Vi=!0,ln=0,In=0;for(let Cn=0;Ui||Vi;Cn++){const yn=_-Cn,Mn=_+Cn;Cn>1&&(yn<1||yn<P)&&(Ui=!1),Cn>1&&(Mn>ve||Mn>Z)&&(Vi=!1),Cn>5e4&&(Ui=!1,Vi=!1);let as=-1;if(Ui){const fs=this._computeIndentLevel(yn-1);fs>=0?(Ft=yn-1,At=fs,as=Math.ceil(fs/this._options.indentSize)):(Ut(yn),as=this._getIndentLevelForWhitespaceLine(Ue,Dt,At))}let bs=-1;if(Vi){const fs=this._computeIndentLevel(Mn-1);fs>=0?(Yt=Mn-1,si=fs,bs=Math.ceil(fs/this._options.indentSize)):(wi(Mn),bs=this._getIndentLevelForWhitespaceLine(Ue,si,yi))}if(Cn===0){In=as;continue}if(Cn===1){if(Mn<=ve&&bs>=0&&In+1===bs){Ui=!1,Ni=Mn,qi=Mn,ln=bs;continue}if(yn>=1&&as>=0&&as-1===In){Vi=!1,Ni=yn,qi=yn,ln=as;continue}if(Ni=_,qi=_,ln=In,ln===0)return{startLineNumber:Ni,endLineNumber:qi,indent:ln}}Ui&&(as>=ln?Ni=yn:Ui=!1),Vi&&(bs>=ln?qi=Mn:Vi=!1)}return{startLineNumber:Ni,endLineNumber:qi,indent:ln}}getLinesBracketGuides(_,P,Z,ve){var Ne,Ue,vt,Dt,Ft;const At=[],Ut=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new N.e(_,1,P,this.getLineMaxColumn(P)));let Yt;if(Z&&Ut.length>0){const Ni=_<=Z.lineNumber&&Z.lineNumber<=P?Ut.filter(Ui=>Ui.range.containsPosition(Z)):this._bracketPairColorizer.getBracketPairsInRange(N.e.fromPositions(Z));Yt=(Ne=(0,ai.dF)(Ni,Ui=>Ui.range.startLineNumber!==Ui.range.endLineNumber))===null||Ne===void 0?void 0:Ne.range}const si=new ai.H9(Ut),ci=new Array,yi=new Array,wi=new ys;for(let Ni=_;Ni<=P;Ni++){let Ui=new Array;yi.length>0&&(Ui=Ui.concat(yi),yi.length=0),At.push(Ui);for(const Vi of si.takeWhile(ln=>ln.openingBracketRange.startLineNumber<=Ni)||[]){if(Vi.range.startLineNumber===Vi.range.endLineNumber)continue;const ln=Math.min(this.getVisibleColumnFromPosition(Vi.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition((vt=(Ue=Vi.closingBracketRange)===null||Ue===void 0?void 0:Ue.getStartPosition())!==null&&vt!==void 0?vt:Vi.range.getEndPosition()),Vi.minVisibleColumnIndentation+1);let In=!1;Vi.closingBracketRange&&O.LC(this.getLineContent(Vi.closingBracketRange.startLineNumber))<Vi.closingBracketRange.startColumn-1&&(In=!0);const Cn=Vi.openingBracketRange.getStartPosition(),yn=(Ft=(Dt=Vi.closingBracketRange)===null||Dt===void 0?void 0:Dt.getStartPosition())!==null&&Ft!==void 0?Ft:Vi.range.getEndPosition();Vi.closingBracketRange===void 0?ci[Vi.nestingLevel]=null:ci[Vi.nestingLevel]={nestingLevel:Vi.nestingLevel,guideVisibleColumn:ln,start:Cn,visibleStartColumn:this.getVisibleColumnFromPosition(Cn),end:yn,visibleEndColumn:this.getVisibleColumnFromPosition(yn),bracketPair:Vi,renderHorizontalEndLineAtTheBottom:In}}for(const Vi of ci){if(!Vi)continue;const ln=Yt&&Vi.bracketPair.range.equalsRange(Yt),In=wi.getInlineClassNameOfLevel(Vi.nestingLevel)+(ve.highlightActive&&ln?" "+wi.activeClassName:"");(ln&&ve.horizontalGuides!==C.s6.Disabled||ve.includeInactive&&ve.horizontalGuides===C.s6.Enabled)&&(Vi.start.lineNumber===Ni&&Vi.guideVisibleColumn<Vi.visibleStartColumn&&Ui.push(new C.UO(Vi.guideVisibleColumn,In,new C.vW(!1,Vi.start.column))),Vi.end.lineNumber===Ni+1&&Vi.guideVisibleColumn<Vi.visibleEndColumn&&yi.push(new C.UO(Vi.guideVisibleColumn,In,new C.vW(!Vi.renderHorizontalEndLineAtTheBottom,Vi.end.column))))}let qi=Number.MAX_SAFE_INTEGER;for(let Vi=ci.length-1;Vi>=0;Vi--){const ln=ci[Vi];if(!ln)continue;const In=ve.highlightActive&&Yt&&ln.bracketPair.range.equalsRange(Yt),Cn=wi.getInlineClassNameOfLevel(ln.nestingLevel)+(In?" "+wi.activeClassName:"");(In||ve.includeInactive)&&ln.renderHorizontalEndLineAtTheBottom&&ln.end.lineNumber===Ni+1&&yi.push(new C.UO(ln.guideVisibleColumn,Cn,null)),!(ln.end.lineNumber<=Ni||ln.start.lineNumber>=Ni)&&(ln.guideVisibleColumn>=qi&&!In||(qi=ln.guideVisibleColumn,(In||ve.includeInactive)&&Ui.push(new C.UO(ln.guideVisibleColumn,Cn,null))))}Ui.sort((Vi,ln)=>Vi.visibleColumn-ln.visibleColumn)}return At}getVisibleColumnFromPosition(_){return hn.i.visibleColumnFromColumn(this.getLineContent(_.lineNumber),_.column,this._options.tabSize)+1}getLinesIndentGuides(_,P){this._assertNotDisposed();const Z=this.getLineCount();if(_<1||_>Z)throw new Error("Illegal value for startLineNumber");if(P<1||P>Z)throw new Error("Illegal value for endLineNumber");const ve=this.getLanguageConfiguration(this._languageId).foldingRules,Ne=!!(ve&&ve.offSide);let Ue=new Array(P-_+1),vt=-2,Dt=-1,Ft=-2,At=-1;for(let Ut=_;Ut<=P;Ut++){let Yt=Ut-_;const si=this._computeIndentLevel(Ut-1);if(si>=0){vt=Ut-1,Dt=si,Ue[Yt]=Math.ceil(si/this._options.indentSize);continue}if(vt===-2){vt=-1,Dt=-1;for(let ci=Ut-2;ci>=0;ci--){let yi=this._computeIndentLevel(ci);if(yi>=0){vt=ci,Dt=yi;break}}}if(Ft!==-1&&(Ft===-2||Ft<Ut-1)){Ft=-1,At=-1;for(let ci=Ut;ci<Z;ci++){let yi=this._computeIndentLevel(ci);if(yi>=0){Ft=ci,At=yi;break}}}Ue[Yt]=this._getIndentLevelForWhitespaceLine(Ne,Dt,At)}return Ue}_getIndentLevelForWhitespaceLine(_,P,Z){return P===-1||Z===-1?0:P<Z?1+Math.floor(P/this._options.indentSize):P===Z?Math.ceil(Z/this._options.indentSize):_?Math.ceil(Z/this._options.indentSize):1+Math.floor(Z/this._options.indentSize)}normalizePosition(_,P){return _}getLineIndentColumn(_){return vs(this.getLineContent(_))+1}};Wn.MODEL_SYNC_LIMIT=50*1024*1024,Wn.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,Wn.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,Wn.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:G.DB.tabSize,indentSize:G.DB.indentSize,insertSpaces:G.DB.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:G.DB.trimAutoWhitespace,largeFileOptimizations:G.DB.largeFileOptimizations,bracketPairColorizationOptions:G.DB.bracketPairColorizationOptions},Wn=xi([Pi(4,Ci.tJ),Pi(5,Ei.h),Pi(6,dt.c_)],Wn);function vs(lt){let _=0;for(const P of lt)if(P===" "||P==="	")_++;else break;return _}class ys{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(_){return`bracket-indent-guide lvl-${_%30}`}}function ds(lt){return!!(lt.options.overviewRuler&&lt.options.overviewRuler.color)}function ms(lt){return!!lt.options.after||!!lt.options.before}class cs{constructor(){this._decorationsTree0=new q,this._decorationsTree1=new q,this._injectedTextDecorationsTree=new q}ensureAllNodesHaveRanges(_){this.getAll(_,0,!1,!1)}_ensureNodesHaveRanges(_,P){for(const Z of P)Z.range===null&&(Z.range=_.getRangeAt(Z.cachedAbsoluteStart,Z.cachedAbsoluteEnd));return P}getAllInInterval(_,P,Z,ve,Ne){const Ue=_.getVersionId(),vt=this._intervalSearch(P,Z,ve,Ne,Ue);return this._ensureNodesHaveRanges(_,vt)}_intervalSearch(_,P,Z,ve,Ne){const Ue=this._decorationsTree0.intervalSearch(_,P,Z,ve,Ne),vt=this._decorationsTree1.intervalSearch(_,P,Z,ve,Ne),Dt=this._injectedTextDecorationsTree.intervalSearch(_,P,Z,ve,Ne);return Ue.concat(vt).concat(Dt)}getInjectedTextInInterval(_,P,Z,ve){const Ne=_.getVersionId(),Ue=this._injectedTextDecorationsTree.intervalSearch(P,Z,ve,!1,Ne);return this._ensureNodesHaveRanges(_,Ue).filter(vt=>vt.options.showIfCollapsed||!vt.range.isEmpty())}getAllInjectedText(_,P){const Z=_.getVersionId(),ve=this._injectedTextDecorationsTree.search(P,!1,Z);return this._ensureNodesHaveRanges(_,ve).filter(Ne=>Ne.options.showIfCollapsed||!Ne.range.isEmpty())}getAll(_,P,Z,ve){const Ne=_.getVersionId(),Ue=this._search(P,Z,ve,Ne);return this._ensureNodesHaveRanges(_,Ue)}_search(_,P,Z,ve){if(Z)return this._decorationsTree1.search(_,P,ve);{const Ne=this._decorationsTree0.search(_,P,ve),Ue=this._decorationsTree1.search(_,P,ve),vt=this._injectedTextDecorationsTree.search(_,P,ve);return Ne.concat(Ue).concat(vt)}}collectNodesFromOwner(_){const P=this._decorationsTree0.collectNodesFromOwner(_),Z=this._decorationsTree1.collectNodesFromOwner(_),ve=this._injectedTextDecorationsTree.collectNodesFromOwner(_);return P.concat(Z).concat(ve)}collectNodesPostOrder(){const _=this._decorationsTree0.collectNodesPostOrder(),P=this._decorationsTree1.collectNodesPostOrder(),Z=this._injectedTextDecorationsTree.collectNodesPostOrder();return _.concat(P).concat(Z)}insert(_){ms(_)?this._injectedTextDecorationsTree.insert(_):ds(_)?this._decorationsTree1.insert(_):this._decorationsTree0.insert(_)}delete(_){ms(_)?this._injectedTextDecorationsTree.delete(_):ds(_)?this._decorationsTree1.delete(_):this._decorationsTree0.delete(_)}getNodeRange(_,P){const Z=_.getVersionId();return P.cachedVersionId!==Z&&this._resolveNode(P,Z),P.range===null&&(P.range=_.getRangeAt(P.cachedAbsoluteStart,P.cachedAbsoluteEnd)),P.range}_resolveNode(_,P){ms(_)?this._injectedTextDecorationsTree.resolveNode(_,P):ds(_)?this._decorationsTree1.resolveNode(_,P):this._decorationsTree0.resolveNode(_,P)}acceptReplace(_,P,Z,ve){this._decorationsTree0.acceptReplace(_,P,Z,ve),this._decorationsTree1.acceptReplace(_,P,Z,ve),this._injectedTextDecorationsTree.acceptReplace(_,P,Z,ve)}}function us(lt){return lt.replace(/[^a-z0-9\-_]/gi," ")}class os{constructor(_){this.color=_.color||"",this.darkColor=_.darkColor||""}}class to extends os{constructor(_){super(_),this._resolvedColor=null,this.position=typeof _.position=="number"?_.position:C.sh.Center}getColor(_){return this._resolvedColor||(_.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,_):this._resolvedColor=this._resolveColor(this.color,_)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(_,P){if(typeof _=="string")return _;let Z=_?P.getColor(_.id):null;return Z?Z.toString():""}}class rn extends os{constructor(_){super(_),this.position=_.position}getColor(_){return this._resolvedColor||(_.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,_):this._resolvedColor=this._resolveColor(this.color,_)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(_,P){return typeof _=="string"?Xt.Il.fromHex(_):P.getColor(_.id)}}class li{constructor(_){this.content=_.content||"",this.inlineClassName=_.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=_.inlineClassNameAffectsLetterSpacing||!1}static from(_){return _ instanceof li?_:new li(_)}}class Oi{constructor(_){this.description=_.description,this.stickiness=_.stickiness||0,this.zIndex=_.zIndex||0,this.className=_.className?us(_.className):null,this.hoverMessage=_.hoverMessage||null,this.glyphMarginHoverMessage=_.glyphMarginHoverMessage||null,this.isWholeLine=_.isWholeLine||!1,this.showIfCollapsed=_.showIfCollapsed||!1,this.collapseOnReplaceEdit=_.collapseOnReplaceEdit||!1,this.overviewRuler=_.overviewRuler?new to(_.overviewRuler):null,this.minimap=_.minimap?new rn(_.minimap):null,this.glyphMarginClassName=_.glyphMarginClassName?us(_.glyphMarginClassName):null,this.linesDecorationsClassName=_.linesDecorationsClassName?us(_.linesDecorationsClassName):null,this.firstLineDecorationClassName=_.firstLineDecorationClassName?us(_.firstLineDecorationClassName):null,this.marginClassName=_.marginClassName?us(_.marginClassName):null,this.inlineClassName=_.inlineClassName?us(_.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=_.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=_.beforeContentClassName?us(_.beforeContentClassName):null,this.afterContentClassName=_.afterContentClassName?us(_.afterContentClassName):null,this.after=_.after?li.from(_.after):null,this.before=_.before?li.from(_.before):null}static register(_){return new Oi(_)}static createDynamic(_){return new Oi(_)}}Oi.EMPTY=Oi.register({description:"empty"});const Hi=[Oi.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Oi.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Oi.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Oi.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function vn(lt){return lt instanceof Oi?lt:Oi.createDynamic(lt)}class ns extends k.JT{constructor(_){super(),this.handleBeforeFire=_,this._actual=this._register(new W.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var _;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const P={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(P)}(_=this._affectedInjectedTextLines)===null||_===void 0||_.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(_){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(_)}checkAffectedAndFire(_){this._affectsMinimap||(this._affectsMinimap=!!(_.minimap&&_.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(_.overviewRuler&&_.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Rn extends k.JT{constructor(){super(),this._fastEmitter=this._register(new W.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new W.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(_=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=_;const P=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(P),this._slowEmitter.fire(P)}}fire(_){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(_):this._deferredEvent=_;return}this._fastEmitter.fire(_),this._slowEmitter.fire(_)}}},83256:function(Ct,we,t){"use strict";t.d(we,{CZ:function(){return G},D8:function(){return N},Jx:function(){return h},Tx:function(){return w},dQ:function(){return x},fV:function(){return s},gk:function(){return W},lN:function(){return O},rU:function(){return k}});class h{constructor(){this.changeType=1}}class W{constructor(l,m,y,n,p){this.ownerId=l,this.lineNumber=m,this.column=y,this.options=n,this.order=p}static applyInjectedText(l,m){if(!m||m.length===0)return l;let y="",n=0;for(const p of m)y+=l.substring(n,p.column-1),n=p.column-1,y+=p.options.content;return y+=l.substring(n),y}static fromDecorations(l){const m=[];for(const y of l)y.options.before&&y.options.before.content.length>0&&m.push(new W(y.ownerId,y.range.startLineNumber,y.range.startColumn,y.options.before,0)),y.options.after&&y.options.after.content.length>0&&m.push(new W(y.ownerId,y.range.endLineNumber,y.range.endColumn,y.options.after,1));return m.sort((y,n)=>y.lineNumber===n.lineNumber?y.column===n.column?y.order-n.order:y.column-n.column:y.lineNumber-n.lineNumber),m}}class k{constructor(l,m,y){this.changeType=2,this.lineNumber=l,this.detail=m,this.injectedText=y}}class O{constructor(l,m){this.changeType=3,this.fromLineNumber=l,this.toLineNumber=m}}class w{constructor(l,m,y,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=l,this.toLineNumber=m,this.detail=y}}class G{constructor(){this.changeType=5}}class x{constructor(l,m,y,n){this.changes=l,this.versionId=m,this.isUndoing=y,this.isRedoing=n,this.resultingSelection=null}containsEvent(l){for(let m=0,y=this.changes.length;m<y;m++)if(this.changes[m].changeType===l)return!0;return!1}static merge(l,m){const y=[].concat(l.changes).concat(m.changes),n=m.versionId,p=l.isUndoing||m.isUndoing,f=l.isRedoing||m.isRedoing;return new x(y,n,p,f)}}class N{constructor(l){this.changes=l}}class s{constructor(l,m){this.rawContentChangedEvent=l,this.contentChangedEvent=m}merge(l){const m=x.merge(this.rawContentChangedEvent,l.rawContentChangedEvent),y=s._mergeChangeEvents(this.contentChangedEvent,l.contentChangedEvent);return new s(m,y)}static _mergeChangeEvents(l,m){const y=[].concat(l.changes).concat(m.changes),n=m.eol,p=m.versionId,f=l.isUndoing||m.isUndoing,v=l.isRedoing||m.isRedoing,d=l.isFlush||m.isFlush;return{changes:y,eol:n,versionId:p,isUndoing:f,isRedoing:v,isFlush:d}}}},77277:function(Ct,we,t){"use strict";t.d(we,{bc:function(){return x},cM:function(){return p},iE:function(){return C},pM:function(){return m},sz:function(){return f}});var h=t(97295),W=t(59410),k=t(50187),O=t(24314),w=t(84973);const G=999;class x{constructor(d,a,u,c){this.searchString=d,this.isRegex=a,this.matchCase=u,this.wordSeparators=c}parseSearchRequest(){if(this.searchString==="")return null;let d;this.isRegex?d=N(this.searchString):d=this.searchString.indexOf(`
`)>=0;let a=null;try{a=h.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:d,global:!0,unicode:!0})}catch(c){return null}if(!a)return null;let u=!this.isRegex&&!d;return u&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(u=this.matchCase),new s(a,this.wordSeparators?(0,W.u)(this.wordSeparators):null,u?this.searchString:null)}}function N(v){if(!v||v.length===0)return!1;for(let d=0,a=v.length;d<a;d++)if(v.charCodeAt(d)===92){if(d++,d>=a)break;const c=v.charCodeAt(d);if(c===110||c===114||c===87)return!0}return!1}class s{constructor(d,a,u){this.regex=d,this.wordSeparators=a,this.simpleSearch=u}}function C(v,d,a){if(!a)return new w.tk(v,null);let u=[];for(let c=0,b=d.length;c<b;c++)u[c]=d[c];return new w.tk(v,u)}class l{constructor(d){let a=[],u=0;for(let c=0,b=d.length;c<b;c++)d.charCodeAt(c)===10&&(a[u++]=c);this._lineFeedsOffsets=a}findLineFeedCountBeforeOffset(d){const a=this._lineFeedsOffsets;let u=0,c=a.length-1;if(c===-1||d<=a[0])return 0;for(;u<c;){const b=u+((c-u)/2>>0);a[b]>=d?c=b-1:a[b+1]>=d?(u=b,c=b):u=b+1}return u+1}}class m{static findMatches(d,a,u,c,b){const L=a.parseSearchRequest();return L?L.regex.multiline?this._doFindMatchesMultiline(d,u,new f(L.wordSeparators,L.regex),c,b):this._doFindMatchesLineByLine(d,u,L,c,b):[]}static _getMultilineMatchRange(d,a,u,c,b,L){let R,T=0;c?(T=c.findLineFeedCountBeforeOffset(b),R=a+b+T):R=a+b;let j;if(c){let he=c.findLineFeedCountBeforeOffset(b+L.length)-T;j=R+L.length+he}else j=R+L.length;const q=d.getPositionAt(R),ie=d.getPositionAt(j);return new O.e(q.lineNumber,q.column,ie.lineNumber,ie.column)}static _doFindMatchesMultiline(d,a,u,c,b){const L=d.getOffsetAt(a.getStartPosition()),R=d.getValueInRange(a,1),T=d.getEOL()===`\r
`?new l(R):null,j=[];let q=0,ie;for(u.reset(0);ie=u.next(R);)if(j[q++]=C(this._getMultilineMatchRange(d,L,R,T,ie.index,ie[0]),ie,c),q>=b)return j;return j}static _doFindMatchesLineByLine(d,a,u,c,b){const L=[];let R=0;if(a.startLineNumber===a.endLineNumber){const j=d.getLineContent(a.startLineNumber).substring(a.startColumn-1,a.endColumn-1);return R=this._findMatchesInLine(u,j,a.startLineNumber,a.startColumn-1,R,L,c,b),L}const T=d.getLineContent(a.startLineNumber).substring(a.startColumn-1);R=this._findMatchesInLine(u,T,a.startLineNumber,a.startColumn-1,R,L,c,b);for(let j=a.startLineNumber+1;j<a.endLineNumber&&R<b;j++)R=this._findMatchesInLine(u,d.getLineContent(j),j,0,R,L,c,b);if(R<b){const j=d.getLineContent(a.endLineNumber).substring(0,a.endColumn-1);R=this._findMatchesInLine(u,j,a.endLineNumber,0,R,L,c,b)}return L}static _findMatchesInLine(d,a,u,c,b,L,R,T){const j=d.wordSeparators;if(!R&&d.simpleSearch){const ne=d.simpleSearch,he=ne.length,$=a.length;let V=-he;for(;(V=a.indexOf(ne,V+he))!==-1;)if((!j||p(j,a,$,V,he))&&(L[b++]=new w.tk(new O.e(u,V+1+c,u,V+1+he+c),null),b>=T))return b;return b}const q=new f(d.wordSeparators,d.regex);let ie;q.reset(0);do if(ie=q.next(a),ie&&(L[b++]=C(new O.e(u,ie.index+1+c,u,ie.index+1+ie[0].length+c),ie,R),b>=T))return b;while(ie);return b}static findNextMatch(d,a,u,c){const b=a.parseSearchRequest();if(!b)return null;const L=new f(b.wordSeparators,b.regex);return b.regex.multiline?this._doFindNextMatchMultiline(d,u,L,c):this._doFindNextMatchLineByLine(d,u,L,c)}static _doFindNextMatchMultiline(d,a,u,c){const b=new k.L(a.lineNumber,1),L=d.getOffsetAt(b),R=d.getLineCount(),T=d.getValueInRange(new O.e(b.lineNumber,b.column,R,d.getLineMaxColumn(R)),1),j=d.getEOL()===`\r
`?new l(T):null;u.reset(a.column-1);let q=u.next(T);return q?C(this._getMultilineMatchRange(d,L,T,j,q.index,q[0]),q,c):a.lineNumber!==1||a.column!==1?this._doFindNextMatchMultiline(d,new k.L(1,1),u,c):null}static _doFindNextMatchLineByLine(d,a,u,c){const b=d.getLineCount(),L=a.lineNumber,R=d.getLineContent(L),T=this._findFirstMatchInLine(u,R,L,a.column,c);if(T)return T;for(let j=1;j<=b;j++){const q=(L+j-1)%b,ie=d.getLineContent(q+1),ne=this._findFirstMatchInLine(u,ie,q+1,1,c);if(ne)return ne}return null}static _findFirstMatchInLine(d,a,u,c,b){d.reset(c-1);const L=d.next(a);return L?C(new O.e(u,L.index+1,u,L.index+1+L[0].length),L,b):null}static findPreviousMatch(d,a,u,c){const b=a.parseSearchRequest();if(!b)return null;const L=new f(b.wordSeparators,b.regex);return b.regex.multiline?this._doFindPreviousMatchMultiline(d,u,L,c):this._doFindPreviousMatchLineByLine(d,u,L,c)}static _doFindPreviousMatchMultiline(d,a,u,c){const b=this._doFindMatchesMultiline(d,new O.e(1,1,a.lineNumber,a.column),u,c,10*G);if(b.length>0)return b[b.length-1];const L=d.getLineCount();return a.lineNumber!==L||a.column!==d.getLineMaxColumn(L)?this._doFindPreviousMatchMultiline(d,new k.L(L,d.getLineMaxColumn(L)),u,c):null}static _doFindPreviousMatchLineByLine(d,a,u,c){const b=d.getLineCount(),L=a.lineNumber,R=d.getLineContent(L).substring(0,a.column-1),T=this._findLastMatchInLine(u,R,L,c);if(T)return T;for(let j=1;j<=b;j++){const q=(b+L-j-1)%b,ie=d.getLineContent(q+1),ne=this._findLastMatchInLine(u,ie,q+1,c);if(ne)return ne}return null}static _findLastMatchInLine(d,a,u,c){let b=null,L;for(d.reset(0);L=d.next(a);)b=C(new O.e(u,L.index+1,u,L.index+1+L[0].length),L,c);return b}}function y(v,d,a,u,c){if(u===0)return!0;const b=d.charCodeAt(u-1);if(v.get(b)!==0||b===13||b===10)return!0;if(c>0){const L=d.charCodeAt(u);if(v.get(L)!==0)return!0}return!1}function n(v,d,a,u,c){if(u+c===a)return!0;const b=d.charCodeAt(u+c);if(v.get(b)!==0||b===13||b===10)return!0;if(c>0){const L=d.charCodeAt(u+c-1);if(v.get(L)!==0)return!0}return!1}function p(v,d,a,u,c){return y(v,d,a,u,c)&&n(v,d,a,u,c)}class f{constructor(d,a){this._wordSeparators=d,this._searchRegex=a,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(d){this._searchRegex.lastIndex=d,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(d){const a=d.length;let u;do{if(this._prevMatchStartIndex+this._prevMatchLength===a||(u=this._searchRegex.exec(d),!u))return null;const c=u.index,b=u[0].length;if(c===this._prevMatchStartIndex&&b===this._prevMatchLength){if(b===0){h.ZH(d,a,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=c,this._prevMatchLength=b,!this._wordSeparators||p(this._wordSeparators,d,a,c,b))return u}while(u);return null}}},58409:function(Ct,we,t){"use strict";t.d(we,{DA:function(){return s},OU:function(){return C},QZ:function(){return G},Rl:function(){return f},Wz:function(){return m},cx:function(){return p}});var h=t(9488),W=t(78411),k=t(50187),O=t(24314),w=t(60303);function G(v){let d=0,a=0,u=0,c=0;for(let b=0,L=v.length;b<L;b++){const R=v.charCodeAt(b);R===13?(d===0&&(a=b),d++,b+1<L&&v.charCodeAt(b+1)===10?(c|=2,b++):c|=3,u=b+1):R===10&&(c|=1,d===0&&(a=b),d++,u=b+1)}return d===0&&(a=v.length),[d,a,v.length-u,c]}function x(v){return(v<<0|0|0|16384|2<<23)>>>0}const N=new Uint32Array(0).buffer;class s{constructor(){this.tokens=[]}add(d,a){if(this.tokens.length>0){const u=this.tokens[this.tokens.length-1];if(u.startLineNumber+u.tokens.length-1+1===d){u.tokens.push(a);return}}this.tokens.push(new y(d,[a]))}}class C{constructor(d){this._tokens=d,this._tokenCount=d.length/4}toString(d){let a=[];for(let u=0;u<this._tokenCount;u++)a.push(`(${this._getDeltaLine(u)+d},${this._getStartCharacter(u)}-${this._getEndCharacter(u)})`);return`[${a.join(",")}]`}getMaxDeltaLine(){const d=this._getTokenCount();return d===0?-1:this._getDeltaLine(d-1)}getRange(){const d=this._getTokenCount();if(d===0)return null;const a=this._getStartCharacter(0),u=this._getDeltaLine(d-1),c=this._getEndCharacter(d-1);return new O.e(0,a+1,u,c+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(d){return this._tokens[4*d]}_getStartCharacter(d){return this._tokens[4*d+1]}_getEndCharacter(d){return this._tokens[4*d+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(d){let a=0,u=this._getTokenCount()-1;for(;a<u;){const c=a+Math.floor((u-a)/2),b=this._getDeltaLine(c);if(b<d)a=c+1;else if(b>d)u=c-1;else{let L=c;for(;L>a&&this._getDeltaLine(L-1)===d;)L--;let R=c;for(;R<u&&this._getDeltaLine(R+1)===d;)R++;return new l(this._tokens.subarray(4*L,4*R+4))}}return this._getDeltaLine(a)===d?new l(this._tokens.subarray(4*a,4*a+4)):null}clear(){this._tokenCount=0}removeTokens(d,a,u,c){const b=this._tokens,L=this._tokenCount;let R=0,T=!1,j=0;for(let q=0;q<L;q++){const ie=4*q,ne=b[ie],he=b[ie+1],$=b[ie+2],V=b[ie+3];if((ne>d||ne===d&&$>=a)&&(ne<u||ne===u&&he<=c))T=!0;else{if(R===0&&(j=ne),T){const z=4*R;b[z]=ne-j,b[z+1]=he,b[z+2]=$,b[z+3]=V}R++}}return this._tokenCount=R,j}split(d,a,u,c){const b=this._tokens,L=this._tokenCount;let R=[],T=[],j=R,q=0,ie=0;for(let ne=0;ne<L;ne++){const he=4*ne,$=b[he],V=b[he+1],z=b[he+2],Q=b[he+3];if($>d||$===d&&z>=a){if($<u||$===u&&V<=c)continue;j!==T&&(j=T,q=0,ie=$)}j[q++]=$-ie,j[q++]=V,j[q++]=z,j[q++]=Q}return[new C(new Uint32Array(R)),new C(new Uint32Array(T)),ie]}acceptDeleteRange(d,a,u,c,b){const L=this._tokens,R=this._tokenCount,T=c-a;let j=0,q=!1;for(let ie=0;ie<R;ie++){const ne=4*ie;let he=L[ne],$=L[ne+1],V=L[ne+2];const z=L[ne+3];if(he<a||he===a&&V<=u){j++;continue}else if(he===a&&$<u)he===c&&V>b?V-=b-u:V=u;else if(he===a&&$===u)if(he===c&&V>b)V-=b-u;else{q=!0;continue}else if(he<c||he===c&&$<b)if(he===c&&V>b)he===a?($=u,V=$+(V-b)):($=0,V=$+(V-b));else{q=!0;continue}else if(he>c){if(T===0&&!q){j=R;break}he-=T}else if(he===c&&$>=b)d&&he===0&&($+=d,V+=d),he-=T,$-=b-u,V-=b-u;else throw new Error("Not possible!");const Q=4*j;L[Q]=he,L[Q+1]=$,L[Q+2]=V,L[Q+3]=z,j++}this._tokenCount=j}acceptInsertText(d,a,u,c,b,L){const R=u===0&&c===1&&(L>=48&&L<=57||L>=65&&L<=90||L>=97&&L<=122),T=this._tokens,j=this._tokenCount;for(let q=0;q<j;q++){const ie=4*q;let ne=T[ie],he=T[ie+1],$=T[ie+2];if(!(ne<d||ne===d&&$<a)){if(ne===d&&$===a)if(R)$+=1;else continue;else if(ne===d&&he<a&&a<$)u===0?$+=c:$=a;else{if(ne===d&&he===a&&R)continue;if(ne===d)if(ne+=u,u===0)he+=c,$+=c;else{const V=$-he;he=b+(he-a),$=he+V}else ne+=u}T[ie]=ne,T[ie+1]=he,T[ie+2]=$}}}}class l{constructor(d){this._tokens=d}getCount(){return this._tokens.length/4}getStartCharacter(d){return this._tokens[4*d+1]}getEndCharacter(d){return this._tokens[4*d+2]}getMetadata(d){return this._tokens[4*d+3]}}class m{constructor(d,a){this.startLineNumber=d,this.tokens=a,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(d){return this.startLineNumber<=d&&d<=this.endLineNumber?this.tokens.getLineTokens(d-this.startLineNumber):null}getRange(){const d=this.tokens.getRange();return d&&new O.e(this.startLineNumber+d.startLineNumber,d.startColumn,this.startLineNumber+d.endLineNumber,d.endColumn)}removeTokens(d){const a=d.startLineNumber-this.startLineNumber,u=d.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(a,d.startColumn-1,u,d.endColumn-1),this._updateEndLineNumber()}split(d){const a=d.startLineNumber-this.startLineNumber,u=d.endLineNumber-this.startLineNumber,[c,b,L]=this.tokens.split(a,d.startColumn-1,u,d.endColumn-1);return[new m(this.startLineNumber,c),new m(this.startLineNumber+L,b)]}applyEdit(d,a){const[u,c,b]=G(a);this.acceptEdit(d,u,c,b,a.length>0?a.charCodeAt(0):0)}acceptEdit(d,a,u,c,b){this._acceptDeleteRange(d),this._acceptInsertText(new k.L(d.startLineNumber,d.startColumn),a,u,c,b),this._updateEndLineNumber()}_acceptDeleteRange(d){if(d.startLineNumber===d.endLineNumber&&d.startColumn===d.endColumn)return;const a=d.startLineNumber-this.startLineNumber,u=d.endLineNumber-this.startLineNumber;if(u<0){const b=u-a;this.startLineNumber-=b;return}const c=this.tokens.getMaxDeltaLine();if(!(a>=c+1)){if(a<0&&u>=c+1){this.startLineNumber=0,this.tokens.clear();return}if(a<0){const b=-a;this.startLineNumber-=b,this.tokens.acceptDeleteRange(d.startColumn-1,0,0,u,d.endColumn-1)}else this.tokens.acceptDeleteRange(0,a,d.startColumn-1,u,d.endColumn-1)}}_acceptInsertText(d,a,u,c,b){if(a===0&&u===0)return;const L=d.lineNumber-this.startLineNumber;if(L<0){this.startLineNumber+=a;return}const R=this.tokens.getMaxDeltaLine();L>=R+1||this.tokens.acceptInsertText(L,d.column-1,a,u,c,b)}}class y{constructor(d,a){this.startLineNumber=d,this.tokens=a}}function n(v){return v instanceof Uint32Array?v:new Uint32Array(v)}class p{constructor(d){this._pieces=[],this._isComplete=!1,this._languageIdCodec=d}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(d,a){this._pieces=d||[],this._isComplete=a}setPartial(d,a){let u=d;if(a.length>0){const b=a[0].getRange(),L=a[a.length-1].getRange();if(!b||!L)return d;u=d.plusRange(b).plusRange(L)}let c=null;for(let b=0,L=this._pieces.length;b<L;b++){const R=this._pieces[b];if(R.endLineNumber<u.startLineNumber)continue;if(R.startLineNumber>u.endLineNumber){c=c||{index:b};break}if(R.removeTokens(u),R.isEmpty()){this._pieces.splice(b,1),b--,L--;continue}if(R.endLineNumber<u.startLineNumber)continue;if(R.startLineNumber>u.endLineNumber){c=c||{index:b};continue}const[T,j]=R.split(u);if(T.isEmpty()){c=c||{index:b};continue}j.isEmpty()||(this._pieces.splice(b,1,T,j),b++,L++,c=c||{index:b})}return c=c||{index:this._pieces.length},a.length>0&&(this._pieces=h.Zv(this._pieces,c.index,a)),u}isComplete(){return this._isComplete}addSemanticTokens(d,a){const u=this._pieces;if(u.length===0)return a;const c=p._findFirstPieceWithLine(u,d),b=u[c].getLineTokens(d);if(!b)return a;const L=a.getCount(),R=b.getCount();let T=0,j=[],q=0,ie=0;const ne=(he,$)=>{he!==ie&&(ie=he,j[q++]=he,j[q++]=$)};for(let he=0;he<R;he++){const $=b.getStartCharacter(he),V=b.getEndCharacter(he),z=b.getMetadata(he),Q=((z&1?2048:0)|(z&2?4096:0)|(z&4?8192:0)|(z&8?8372224:0)|(z&16?4286578688:0))>>>0,le=~Q>>>0;for(;T<L&&a.getEndOffset(T)<=$;)ne(a.getEndOffset(T),a.getMetadata(T)),T++;for(T<L&&a.getStartOffset(T)<$&&ne($,a.getMetadata(T));T<L&&a.getEndOffset(T)<V;)ne(a.getEndOffset(T),a.getMetadata(T)&le|z&Q),T++;if(T<L)ne(V,a.getMetadata(T)&le|z&Q),a.getEndOffset(T)===V&&T++;else{const E=Math.min(Math.max(0,T-1),L-1);ne(V,a.getMetadata(E)&le|z&Q)}}for(;T<L;)ne(a.getEndOffset(T),a.getMetadata(T)),T++;return new W.A(new Uint32Array(j),a.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(d,a){let u=0,c=d.length-1;for(;u<c;){let b=u+Math.floor((c-u)/2);if(d[b].endLineNumber<a)u=b+1;else if(d[b].startLineNumber>a)c=b-1;else{for(;b>u&&d[b-1].startLineNumber<=a&&a<=d[b-1].endLineNumber;)b--;return b}}return u}acceptEdit(d,a,u,c,b){for(const L of this._pieces)L.acceptEdit(d,a,u,c,b)}}class f{constructor(d){this._lineTokens=[],this._len=0,this._languageIdCodec=d}flush(){this._lineTokens=[],this._len=0}getTokens(d,a,u){let c=null;if(a<this._len&&(c=this._lineTokens[a]),c!==null&&c!==N)return new W.A(n(c),u,this._languageIdCodec);const b=new Uint32Array(2);return b[0]=u.length,b[1]=x(this._languageIdCodec.encodeLanguageId(d)),new W.A(b,u,this._languageIdCodec)}static _massageTokens(d,a,u){const c=u?n(u):null;if(a===0){let b=!1;if(c&&c.length>1&&(b=w.NX.getLanguageId(c[1])!==d),!b)return N}if(!c||c.length===0){const b=new Uint32Array(2);return b[0]=a,b[1]=x(d),b.buffer}return c[c.length-2]=a,c.byteOffset===0&&c.byteLength===c.buffer.byteLength?c.buffer:c}_ensureLine(d){for(;d>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(d,a){a!==0&&(d+a>this._len&&(a=this._len-d),this._lineTokens.splice(d,a),this._len-=a)}_insertLines(d,a){if(a===0)return;let u=[];for(let c=0;c<a;c++)u[c]=null;this._lineTokens=h.Zv(this._lineTokens,d,u),this._len+=a}setTokens(d,a,u,c,b){const L=f._massageTokens(this._languageIdCodec.encodeLanguageId(d),u,c);this._ensureLine(a);const R=this._lineTokens[a];return this._lineTokens[a]=L,b?!f._equals(R,L):!1}static _equals(d,a){if(!d||!a)return!d&&!a;const u=n(d),c=n(a);if(u.length!==c.length)return!1;for(let b=0,L=u.length;b<L;b++)if(u[b]!==c[b])return!1;return!0}acceptEdit(d,a,u){this._acceptDeleteRange(d),this._acceptInsertText(new k.L(d.startLineNumber,d.startColumn),a,u)}_acceptDeleteRange(d){const a=d.startLineNumber-1;if(a>=this._len)return;if(d.startLineNumber===d.endLineNumber){if(d.startColumn===d.endColumn)return;this._lineTokens[a]=f._delete(this._lineTokens[a],d.startColumn-1,d.endColumn-1);return}this._lineTokens[a]=f._deleteEnding(this._lineTokens[a],d.startColumn-1);const u=d.endLineNumber-1;let c=null;u<this._len&&(c=f._deleteBeginning(this._lineTokens[u],d.endColumn-1)),this._lineTokens[a]=f._append(this._lineTokens[a],c),this._deleteLines(d.startLineNumber,d.endLineNumber-d.startLineNumber)}_acceptInsertText(d,a,u){if(a===0&&u===0)return;const c=d.lineNumber-1;if(!(c>=this._len)){if(a===0){this._lineTokens[c]=f._insert(this._lineTokens[c],d.column-1,u);return}this._lineTokens[c]=f._deleteEnding(this._lineTokens[c],d.column-1),this._lineTokens[c]=f._insert(this._lineTokens[c],d.column-1,u),this._insertLines(d.lineNumber,a)}}static _deleteBeginning(d,a){return d===null||d===N?d:f._delete(d,0,a)}static _deleteEnding(d,a){if(d===null||d===N)return d;const u=n(d),c=u[u.length-2];return f._delete(d,a,c)}static _delete(d,a,u){if(d===null||d===N||a===u)return d;const c=n(d),b=c.length>>>1;if(a===0&&c[c.length-2]===u)return N;const L=W.A.findIndexInTokensArray(c,a),R=L>0?c[L-1<<1]:0,T=c[L<<1];if(u<T){const he=u-a;for(let $=L;$<b;$++)c[$<<1]-=he;return d}let j,q;R!==a?(c[L<<1]=a,j=L+1<<1,q=a):(j=L<<1,q=R);const ie=u-a;for(let he=L+1;he<b;he++){const $=c[he<<1]-ie;$>q&&(c[j++]=$,c[j++]=c[(he<<1)+1],q=$)}if(j===c.length)return d;let ne=new Uint32Array(j);return ne.set(c.subarray(0,j),0),ne.buffer}static _append(d,a){if(a===N)return d;if(d===N)return a;if(d===null)return d;if(a===null)return null;const u=n(d),c=n(a),b=c.length>>>1;let L=new Uint32Array(u.length+c.length);L.set(u,0);let R=u.length;const T=u[u.length-2];for(let j=0;j<b;j++)L[R++]=c[j<<1]+T,L[R++]=c[(j<<1)+1];return L.buffer}static _insert(d,a,u){if(d===null||d===N)return d;const c=n(d),b=c.length>>>1;let L=W.A.findIndexInTokensArray(c,a);L>0&&c[L-1<<1]===a&&L--;for(let R=L;R<b;R++)c[R<<1]+=u;return d}}},97461:function(Ct,we,t){"use strict";t.d(we,{Af:function(){return k},eq:function(){return O},t2:function(){return G},vu:function(){return h}});const h="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function W(N=""){let s="(-?\\d*\\.\\d\\w*)|([^";for(const C of h)N.indexOf(C)>=0||(s+="\\"+C);return s+="\\s]+)",new RegExp(s,"g")}const k=W();function O(N){let s=k;if(N&&N instanceof RegExp)if(N.global)s=N;else{let C="g";N.ignoreCase&&(C+="i"),N.multiline&&(C+="m"),N.unicode&&(C+="u"),s=new RegExp(N.source,C)}return s.lastIndex=0,s}const w={maxLen:1e3,windowSize:15,timeBudget:150};function G(N,s,C,l,m=w){if(C.length>m.maxLen){let v=N-m.maxLen/2;return v<0?v=0:l+=v,C=C.substring(v,N+m.maxLen/2),G(N,s,C,l,m)}const y=Date.now(),n=N-1-l;let p=-1,f=null;for(let v=1;!(Date.now()-y>=m.timeBudget);v++){const d=n-m.windowSize*v;s.lastIndex=Math.max(0,d);const a=x(s,C,n,p);if(!a&&f||(f=a,d<=0))break;p=d}if(f){let v={word:f[0],startColumn:l+1+f.index,endColumn:l+1+f.index+f[0].length};return s.lastIndex=0,v}return null}function x(N,s,C,l){let m;for(;m=N.exec(s);){const y=m.index||0;if(y<=C&&N.lastIndex>=C)return m;if(l>0&&y>l)return null}return null}},60303:function(Ct,we,t){"use strict";t.d(we,{H9:function(){return z},He:function(){return $},OH:function(){return A},KZ:function(){return u},RN:function(){return ie},Ct:function(){return q},Az:function(){return Q},MY:function(){return y},vH:function(){return T},vN:function(){return le},K7:function(){return re},wT:function(){return X},vJ:function(){return R},AD:function(){return f},aC:function(){return Y},xp:function(){return L},vI:function(){return ne},gl:function(){return v},mX:function(){return V},bw:function(){return l},zu:function(){return c},pM:function(){return I},id:function(){return j},ln:function(){return E},FL:function(){return d},G0:function(){return a},AC:function(){return H},nD:function(){return b},WW:function(){return m},uZ:function(){return p},NX:function(){return N},RW:function(){return fe},tA:function(){return he},jr:function(){return C},Sy:function(){return s},vx:function(){return n}});var h=t(70666),W=t(24314),k=t(5405),O=t(4669),w=t(9917);class G{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(Oe){this._onDidChange.fire({changedLanguages:Oe,changedColorMap:!1})}register(Oe,Ce){return this._map.set(Oe,Ce),this.fire([Oe]),(0,w.OF)(()=>{this._map.get(Oe)===Ce&&(this._map.delete(Oe),this.fire([Oe]))})}registerPromise(Oe,Ce){let oe=null,ae=!1;return this._promises.set(Oe,Ce.then(Be=>{this._promises.delete(Oe),!(ae||!Be)&&(oe=this.register(Oe,Be))})),(0,w.OF)(()=>{ae=!0,oe&&oe.dispose()})}getPromise(Oe){const Ce=this.get(Oe);if(Ce)return Promise.resolve(Ce);const oe=this._promises.get(Oe);return oe?oe.then(ae=>this.get(Oe)):null}get(Oe){return this._map.get(Oe)||null}setColorMap(Oe){this._colorMap=Oe,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}var x=t(73046);class N{static getLanguageId(Oe){return(Oe&255)>>>0}static getTokenType(Oe){return(Oe&1792)>>>8}static getFontStyle(Oe){return(Oe&14336)>>>11}static getForeground(Oe){return(Oe&8372224)>>>14}static getBackground(Oe){return(Oe&4286578688)>>>23}static getClassNameFromMetadata(Oe){let oe="mtk"+this.getForeground(Oe),ae=this.getFontStyle(Oe);return ae&1&&(oe+=" mtki"),ae&2&&(oe+=" mtkb"),ae&4&&(oe+=" mtku"),oe}static getInlineStyleFromMetadata(Oe,Ce){const oe=this.getForeground(Oe),ae=this.getFontStyle(Oe);let Be=`color: ${Ce[oe]};`;return ae&1&&(Be+="font-style: italic;"),ae&2&&(Be+="font-weight: bold;"),ae&4&&(Be+="text-decoration: underline;"),Be}}const s=function(){let ue=Object.create(null);return ue[0]="symbol-method",ue[1]="symbol-function",ue[2]="symbol-constructor",ue[3]="symbol-field",ue[4]="symbol-variable",ue[5]="symbol-class",ue[6]="symbol-struct",ue[7]="symbol-interface",ue[8]="symbol-module",ue[9]="symbol-property",ue[10]="symbol-event",ue[11]="symbol-operator",ue[12]="symbol-unit",ue[13]="symbol-value",ue[14]="symbol-constant",ue[15]="symbol-enum",ue[16]="symbol-enum-member",ue[17]="symbol-keyword",ue[27]="symbol-snippet",ue[18]="symbol-text",ue[19]="symbol-color",ue[20]="symbol-file",ue[21]="symbol-reference",ue[22]="symbol-customcolor",ue[23]="symbol-folder",ue[24]="symbol-type-parameter",ue[25]="account",ue[26]="issues",function(Oe){const Ce=ue[Oe];let oe=Ce&&x.fK.get(Ce);return oe||(console.info("No codicon found for CompletionItemKind "+Oe),oe=x.lA.symbolProperty),oe.classNames}}();let C=function(){let ue=Object.create(null);return ue.method=0,ue.function=1,ue.constructor=2,ue.field=3,ue.variable=4,ue.class=5,ue.struct=6,ue.interface=7,ue.module=8,ue.property=9,ue.event=10,ue.operator=11,ue.unit=12,ue.value=13,ue.constant=14,ue.enum=15,ue["enum-member"]=16,ue.enumMember=16,ue.keyword=17,ue.snippet=27,ue.text=18,ue.color=19,ue.file=20,ue.reference=21,ue.customcolor=22,ue.folder=23,ue["type-parameter"]=24,ue.typeParameter=24,ue.account=25,ue.issue=26,function(Oe,Ce){let oe=ue[Oe];return typeof oe=="undefined"&&!Ce&&(oe=9),oe}}();var l;(function(ue){ue[ue.Automatic=0]="Automatic",ue[ue.Explicit=1]="Explicit"})(l||(l={}));var m;(function(ue){ue[ue.Invoke=1]="Invoke",ue[ue.TriggerCharacter=2]="TriggerCharacter",ue[ue.ContentChange=3]="ContentChange"})(m||(m={}));var y;(function(ue){ue[ue.Text=0]="Text",ue[ue.Read=1]="Read",ue[ue.Write=2]="Write"})(y||(y={}));function n(ue){return ue&&h.o.isUri(ue.uri)&&W.e.isIRange(ue.range)&&(W.e.isIRange(ue.originSelectionRange)||W.e.isIRange(ue.targetSelectionRange))}var p;(function(ue){const Oe=new Map;Oe.set("file",0),Oe.set("module",1),Oe.set("namespace",2),Oe.set("package",3),Oe.set("class",4),Oe.set("method",5),Oe.set("property",6),Oe.set("field",7),Oe.set("constructor",8),Oe.set("enum",9),Oe.set("interface",10),Oe.set("function",11),Oe.set("variable",12),Oe.set("constant",13),Oe.set("string",14),Oe.set("number",15),Oe.set("boolean",16),Oe.set("array",17),Oe.set("object",18),Oe.set("key",19),Oe.set("null",20),Oe.set("enum-member",21),Oe.set("struct",22),Oe.set("event",23),Oe.set("operator",24),Oe.set("type-parameter",25);const Ce=new Map;Ce.set(0,"file"),Ce.set(1,"module"),Ce.set(2,"namespace"),Ce.set(3,"package"),Ce.set(4,"class"),Ce.set(5,"method"),Ce.set(6,"property"),Ce.set(7,"field"),Ce.set(8,"constructor"),Ce.set(9,"enum"),Ce.set(10,"interface"),Ce.set(11,"function"),Ce.set(12,"variable"),Ce.set(13,"constant"),Ce.set(14,"string"),Ce.set(15,"number"),Ce.set(16,"boolean"),Ce.set(17,"array"),Ce.set(18,"object"),Ce.set(19,"key"),Ce.set(20,"null"),Ce.set(21,"enum-member"),Ce.set(22,"struct"),Ce.set(23,"event"),Ce.set(24,"operator"),Ce.set(25,"type-parameter");function oe(Ve){return Oe.get(Ve)}ue.fromString=oe;function ae(Ve){return Ce.get(Ve)}ue.toString=ae;function Be(Ve,se){const ce=Ce.get(Ve);let Te=ce&&x.fK.get("symbol-"+ce);return Te||(console.info("No codicon found for SymbolKind "+Ve),Te=x.lA.symbolProperty),`${se?"inline":"block"} ${Te.classNames}`}ue.toCssClassName=Be})(p||(p={}));class f{constructor(Oe){this.value=Oe}}f.Comment=new f("comment"),f.Imports=new f("imports"),f.Region=new f("region");var v;(function(ue){ue[ue.Other=0]="Other",ue[ue.Type=1]="Type",ue[ue.Parameter=2]="Parameter"})(v||(v={}));const d=new k.c,a=new k.c,u=new k.c,c=new k.c,b=new k.c,L=new k.c,R=new k.c,T=new k.c,j=new k.c,q=new k.c,ie=new k.c,ne=new k.c,he=new k.c,$=new k.c,V=new k.c,z=new k.c,Q=new k.c,le=new k.c,E=new k.c,I=new k.c,A=new k.c,H=new k.c,Y=new k.c,X=new k.c,re=new k.c,fe=new G},97354:function(Ct,we,t){"use strict";t.d(we,{V6:function(){return W},c$:function(){return k},wU:function(){return h}});var h;(function(w){w[w.None=0]="None",w[w.Indent=1]="Indent",w[w.IndentOutdent=2]="IndentOutdent",w[w.Outdent=3]="Outdent"})(h||(h={}));class W{constructor(G){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=G.open,this.close=G.close,this._standardTokenMask=0,Array.isArray(G.notIn))for(let x=0,N=G.notIn.length;x<N;x++)switch(G.notIn[x]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(G){return(this._standardTokenMask&G)===0}}class k{constructor(G){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const x of G)O(this.autoClosingPairsOpenByStart,x.open.charAt(0),x),O(this.autoClosingPairsOpenByEnd,x.open.charAt(x.open.length-1),x),O(this.autoClosingPairsCloseByStart,x.close.charAt(0),x),O(this.autoClosingPairsCloseByEnd,x.close.charAt(x.close.length-1),x),x.close.length===1&&x.open.length===1&&O(this.autoClosingPairsCloseSingleChar,x.close,x)}}function O(w,G,x){w.has(G)?w.get(G).push(x):w.set(G,[x])}},94660:function(Ct,we,t){"use strict";t.d(we,{c_:function(){return b},zu:function(){return he},UU:function(){return L}});var h=t(4669),W=t(9917),k=t(97295),O=t(97461),w=t(97354),G=t(40764);class x{constructor(E){if(E.autoClosingPairs?this._autoClosingPairs=E.autoClosingPairs.map(I=>new w.V6(I)):E.brackets?this._autoClosingPairs=E.brackets.map(I=>new w.V6({open:I[0],close:I[1]})):this._autoClosingPairs=[],E.colorizedBracketPairs?this._colorizedBracketPairs=N(E.colorizedBracketPairs.map(I=>[I[0],I[1]])):E.brackets?this._colorizedBracketPairs=N(E.brackets.map(I=>[I[0],I[1]]).filter(I=>!(I[0]==="<"&&I[1]===">"))):this._colorizedBracketPairs=[],E.__electricCharacterSupport&&E.__electricCharacterSupport.docComment){const I=E.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new w.V6({open:I.open,close:I.close||""}))}this._autoCloseBefore=typeof E.autoCloseBefore=="string"?E.autoCloseBefore:x.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=E.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(E,I,A){if(I.getTokenCount()===0)return!0;const H=I.findTokenIndexAtOffset(A-2),Y=I.getStandardTokenType(H);return E.isOK(Y)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}x.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;function N(le){return le.filter(([E,I])=>E!==""&&I!=="")}var s=t(34227);class C{constructor(E){this._richEditBrackets=E}getElectricCharacters(){let E=[];if(this._richEditBrackets)for(const I of this._richEditBrackets.brackets)for(const A of I.close){const H=A.charAt(A.length-1);E.push(H)}return E=E.filter((I,A,H)=>H.indexOf(I)===A),E}onElectricCharacter(E,I,A){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const H=I.findTokenIndexAtOffset(A-1);if((0,G.Bu)(I.getStandardTokenType(H)))return null;const Y=this._richEditBrackets.reversedRegex,X=I.getLineContent().substring(0,A-1)+E,re=s.Vr.findPrevBracketInRange(Y,1,X,0,X.length);if(!re)return null;const fe=X.substring(re.startColumn-1,re.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[fe])return null;const Oe=I.getActualLineContentBefore(re.startColumn-1);return/^\s*$/.test(Oe)?{matchOpenBracket:fe}:null}}function l(le){return le.global&&(le.lastIndex=0),!0}class m{constructor(E){this._indentationRules=E}shouldIncrease(E){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&l(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(E))}shouldDecrease(E){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&l(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(E))}shouldIndentNextLine(E){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&l(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(E))}shouldIgnore(E){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&l(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(E))}getIndentMetadata(E){let I=0;return this.shouldIncrease(E)&&(I+=1),this.shouldDecrease(E)&&(I+=2),this.shouldIndentNextLine(E)&&(I+=4),this.shouldIgnore(E)&&(I+=8),I}}var y=t(17301);class n{constructor(E){E=E||{},E.brackets=E.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],E.brackets.forEach(I=>{const A=n._createOpenBracketRegExp(I[0]),H=n._createCloseBracketRegExp(I[1]);A&&H&&this._brackets.push({open:I[0],openRegExp:A,close:I[1],closeRegExp:H})}),this._regExpRules=E.onEnterRules||[]}onEnter(E,I,A,H){if(E>=3)for(let Y=0,X=this._regExpRules.length;Y<X;Y++){let re=this._regExpRules[Y];if([{reg:re.beforeText,text:A},{reg:re.afterText,text:H},{reg:re.previousLineText,text:I}].every(ue=>ue.reg?(ue.reg.lastIndex=0,ue.reg.test(ue.text)):!0))return re.action}if(E>=2&&A.length>0&&H.length>0)for(let Y=0,X=this._brackets.length;Y<X;Y++){let re=this._brackets[Y];if(re.openRegExp.test(A)&&re.closeRegExp.test(H))return{indentAction:w.wU.IndentOutdent}}if(E>=2&&A.length>0){for(let Y=0,X=this._brackets.length;Y<X;Y++)if(this._brackets[Y].openRegExp.test(A))return{indentAction:w.wU.Indent}}return null}static _createOpenBracketRegExp(E){let I=k.ec(E);return/\B/.test(I.charAt(0))||(I="\\b"+I),I+="\\s*$",n._safeRegExp(I)}static _createCloseBracketRegExp(E){let I=k.ec(E);return/\B/.test(I.charAt(I.length-1))||(I=I+"\\b"),I="^\\s*"+I,n._safeRegExp(I)}static _safeRegExp(E){try{return new RegExp(E)}catch(I){return(0,y.dL)(I),null}}}var p=t(72065),f=t(33108),v=t(71531),d=t(65026),a=function(le,E,I,A){var H=arguments.length,Y=H<3?E:A===null?A=Object.getOwnPropertyDescriptor(E,I):A,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(le,E,I,A);else for(var re=le.length-1;re>=0;re--)(X=le[re])&&(Y=(H<3?X(Y):H>3?X(E,I,Y):X(E,I))||Y);return H>3&&Y&&Object.defineProperty(E,I,Y),Y},u=function(le,E){return function(I,A){E(I,A,le)}};class c{constructor(E){this.languageId=E}affects(E){return this.languageId?this.languageId===E:!0}}const b=(0,p.yh)("languageConfigurationService");let L=class extends W.JT{constructor(E,I){super(),this.configurationService=E,this.modeService=I,this.onDidChangeEmitter=this._register(new h.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const A=new Set(Object.values(T));this._register(this.configurationService.onDidChangeConfiguration(H=>{const Y=H.change.keys.some(re=>A.has(re)),X=H.change.overrides.filter(([re,fe])=>fe.some(ue=>A.has(ue))).map(([re])=>this.modeService.validateLanguageId(re));if(Y)this.configurations.clear(),this.onDidChangeEmitter.fire(new c(void 0));else for(const re of X)re&&(this.configurations.delete(re),this.onDidChangeEmitter.fire(new c(re)))})),this._register(he.onDidChange(H=>{this.configurations.delete(H.languageId),this.onDidChangeEmitter.fire(new c(H.languageId))}))}getLanguageConfiguration(E){let I=this.configurations.get(E);return I||(I=R(E,this.configurationService,this.modeService),this.configurations.set(E,I)),I}};L=a([u(0,f.Ui),u(1,v.h)],L);function R(le,E,I){let A=he.getLanguageConfiguration(le);if(!A){const re=I.validateLanguageId(le);if(!re)throw new Error("Unexpected languageId");A=new Q(re,{})}const H=j(A.languageId,E),Y=V([A.underlyingConfig,H]);return new Q(A.languageId,Y)}const T={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function j(le,E){const I=E.getValue(T.brackets,{overrideIdentifier:le}),A=E.getValue(T.colorizedBracketPairs,{overrideIdentifier:le});return{brackets:q(I),colorizedBracketPairs:q(A)}}function q(le){if(Array.isArray(le))return le.map(E=>{if(!(!Array.isArray(E)||E.length!==2))return[E[0],E[1]]}).filter(E=>!!E)}class ie{constructor(E){this.languageId=E}}class ne{constructor(){this._entries=new Map,this._onDidChange=new h.Q5,this.onDidChange=this._onDidChange.event}register(E,I,A=0){let H=this._entries.get(E);H||(H=new $(E),this._entries.set(E,H));const Y=H.register(I,A);return this._onDidChange.fire(new ie(E)),(0,W.OF)(()=>{Y.dispose(),this._onDidChange.fire(new ie(E))})}getLanguageConfiguration(E){let I=this._entries.get(E);return(I==null?void 0:I.getResolvedConfiguration())||null}getIndentationRules(E){const I=this.getLanguageConfiguration(E);return I&&I.indentationRules||null}_getElectricCharacterSupport(E){let I=this.getLanguageConfiguration(E);return I&&I.electricCharacter||null}getElectricCharacters(E){let I=this._getElectricCharacterSupport(E);return I?I.getElectricCharacters():[]}onElectricCharacter(E,I,A){let H=(0,G.wH)(I,A-1),Y=this._getElectricCharacterSupport(H.languageId);return Y?Y.onElectricCharacter(E,H,A-H.firstCharOffset):null}getComments(E){let I=this.getLanguageConfiguration(E);return I&&I.comments||null}_getCharacterPairSupport(E){let I=this.getLanguageConfiguration(E);return I&&I.characterPair||null}getAutoClosingPairs(E){const I=this._getCharacterPairSupport(E);return new w.c$(I?I.getAutoClosingPairs():[])}getAutoCloseBeforeSet(E){let I=this._getCharacterPairSupport(E);return I?I.getAutoCloseBeforeSet():x.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(E){let I=this._getCharacterPairSupport(E);return I?I.getSurroundingPairs():[]}shouldAutoClosePair(E,I,A){const H=(0,G.wH)(I,A-1);return x.shouldAutoClosePair(E,H,A-H.firstCharOffset)}getWordDefinition(E){let I=this.getLanguageConfiguration(E);return I?(0,O.eq)(I.wordDefinition||null):(0,O.eq)(null)}getFoldingRules(E){let I=this.getLanguageConfiguration(E);return I?I.foldingRules:{}}getIndentRulesSupport(E){let I=this.getLanguageConfiguration(E);return I&&I.indentRulesSupport||null}getPrecedingValidLine(E,I,A){let H=E.getLanguageIdAtPosition(I,0);if(I>1){let Y,X=-1;for(Y=I-1;Y>=1;Y--){if(E.getLanguageIdAtPosition(Y,0)!==H)return X;let re=E.getLineContent(Y);if(A.shouldIgnore(re)||/^\s+$/.test(re)||re===""){X=Y;continue}return Y}}return-1}getInheritIndentForLine(E,I,A,H=!0){if(E<4)return null;const Y=this.getIndentRulesSupport(I.getLanguageId());if(!Y)return null;if(A<=1)return{indentation:"",action:null};const X=this.getPrecedingValidLine(I,A,Y);if(X<0)return null;if(X<1)return{indentation:"",action:null};const re=I.getLineContent(X);if(Y.shouldIncrease(re)||Y.shouldIndentNextLine(re))return{indentation:k.V8(re),action:w.wU.Indent,line:X};if(Y.shouldDecrease(re))return{indentation:k.V8(re),action:null,line:X};{if(X===1)return{indentation:k.V8(I.getLineContent(X)),action:null,line:X};const fe=X-1,ue=Y.getIndentMetadata(I.getLineContent(fe));if(!(ue&3)&&ue&4){let Oe=0;for(let Ce=fe-1;Ce>0;Ce--)if(!Y.shouldIndentNextLine(I.getLineContent(Ce))){Oe=Ce;break}return{indentation:k.V8(I.getLineContent(Oe+1)),action:null,line:Oe+1}}if(H)return{indentation:k.V8(I.getLineContent(X)),action:null,line:X};for(let Oe=X;Oe>0;Oe--){const Ce=I.getLineContent(Oe);if(Y.shouldIncrease(Ce))return{indentation:k.V8(Ce),action:w.wU.Indent,line:Oe};if(Y.shouldIndentNextLine(Ce)){let oe=0;for(let ae=Oe-1;ae>0;ae--)if(!Y.shouldIndentNextLine(I.getLineContent(Oe))){oe=ae;break}return{indentation:k.V8(I.getLineContent(oe+1)),action:null,line:oe+1}}else if(Y.shouldDecrease(Ce))return{indentation:k.V8(Ce),action:null,line:Oe}}return{indentation:k.V8(I.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(E,I,A,H,Y){if(E<4)return null;const X=this.getLanguageConfiguration(A);if(!X)return null;const re=this.getIndentRulesSupport(A);if(!re)return null;const fe=this.getInheritIndentForLine(E,I,H),ue=I.getLineContent(H);if(fe){const Oe=fe.line;if(Oe!==void 0){const Ce=X.onEnter(E,"",I.getLineContent(Oe),"");if(Ce){let oe=k.V8(I.getLineContent(Oe));return Ce.removeText&&(oe=oe.substring(0,oe.length-Ce.removeText)),Ce.indentAction===w.wU.Indent||Ce.indentAction===w.wU.IndentOutdent?oe=Y.shiftIndent(oe):Ce.indentAction===w.wU.Outdent&&(oe=Y.unshiftIndent(oe)),re.shouldDecrease(ue)&&(oe=Y.unshiftIndent(oe)),Ce.appendText&&(oe+=Ce.appendText),k.V8(oe)}}return re.shouldDecrease(ue)?fe.action===w.wU.Indent?fe.indentation:Y.unshiftIndent(fe.indentation):fe.action===w.wU.Indent?Y.shiftIndent(fe.indentation):fe.indentation}return null}getIndentForEnter(E,I,A,H){if(E<4)return null;I.forceTokenization(A.startLineNumber);const Y=I.getLineTokens(A.startLineNumber),X=(0,G.wH)(Y,A.startColumn-1),re=X.getLineContent();let fe=!1,ue;X.firstCharOffset>0&&Y.getLanguageId(0)!==X.languageId?(fe=!0,ue=re.substr(0,A.startColumn-1-X.firstCharOffset)):ue=Y.getLineContent().substring(0,A.startColumn-1);let Oe;A.isEmpty()?Oe=re.substr(A.startColumn-1-X.firstCharOffset):Oe=this.getScopedLineTokens(I,A.endLineNumber,A.endColumn).getLineContent().substr(A.endColumn-1-X.firstCharOffset);const Ce=this.getIndentRulesSupport(X.languageId);if(!Ce)return null;const oe=ue,ae=k.V8(ue),Be={getLineTokens:Te=>I.getLineTokens(Te),getLanguageId:()=>I.getLanguageId(),getLanguageIdAtPosition:(Te,xe)=>I.getLanguageIdAtPosition(Te,xe),getLineContent:Te=>Te===A.startLineNumber?oe:I.getLineContent(Te)},Ve=k.V8(Y.getLineContent()),se=this.getInheritIndentForLine(E,Be,A.startLineNumber+1);if(!se){const Te=fe?Ve:ae;return{beforeEnter:Te,afterEnter:Te}}let ce=fe?Ve:se.indentation;return se.action===w.wU.Indent&&(ce=H.shiftIndent(ce)),Ce.shouldDecrease(Oe)&&(ce=H.unshiftIndent(ce)),{beforeEnter:fe?Ve:ae,afterEnter:ce}}getIndentActionForType(E,I,A,H,Y){if(E<4)return null;const X=this.getScopedLineTokens(I,A.startLineNumber,A.startColumn);if(X.firstCharOffset)return null;const re=this.getIndentRulesSupport(X.languageId);if(!re)return null;const fe=X.getLineContent(),ue=fe.substr(0,A.startColumn-1-X.firstCharOffset);let Oe;if(A.isEmpty()?Oe=fe.substr(A.startColumn-1-X.firstCharOffset):Oe=this.getScopedLineTokens(I,A.endLineNumber,A.endColumn).getLineContent().substr(A.endColumn-1-X.firstCharOffset),!re.shouldDecrease(ue+Oe)&&re.shouldDecrease(ue+H+Oe)){const Ce=this.getInheritIndentForLine(E,I,A.startLineNumber,!1);if(!Ce)return null;let oe=Ce.indentation;return Ce.action!==w.wU.Indent&&(oe=Y.unshiftIndent(oe)),oe}return null}getIndentMetadata(E,I){const A=this.getIndentRulesSupport(E.getLanguageId());return!A||I<1||I>E.getLineCount()?null:A.getIndentMetadata(E.getLineContent(I))}getEnterAction(E,I,A){const H=this.getScopedLineTokens(I,A.startLineNumber,A.startColumn),Y=this.getLanguageConfiguration(H.languageId);if(!Y)return null;const X=H.getLineContent(),re=X.substr(0,A.startColumn-1-H.firstCharOffset);let fe;A.isEmpty()?fe=X.substr(A.startColumn-1-H.firstCharOffset):fe=this.getScopedLineTokens(I,A.endLineNumber,A.endColumn).getLineContent().substr(A.endColumn-1-H.firstCharOffset);let ue="";if(A.startLineNumber>1&&H.firstCharOffset===0){const Ve=this.getScopedLineTokens(I,A.startLineNumber-1);Ve.languageId===H.languageId&&(ue=Ve.getLineContent())}const Oe=Y.onEnter(E,ue,re,fe);if(!Oe)return null;const Ce=Oe.indentAction;let oe=Oe.appendText;const ae=Oe.removeText||0;oe?Ce===w.wU.Indent&&(oe="	"+oe):Ce===w.wU.Indent||Ce===w.wU.IndentOutdent?oe="	":oe="";let Be=this.getIndentationAtPosition(I,A.startLineNumber,A.startColumn);return ae&&(Be=Be.substring(0,Be.length-ae)),{indentAction:Ce,appendText:oe,removeText:ae,indentation:Be}}getIndentationAtPosition(E,I,A){const H=E.getLineContent(I);let Y=k.V8(H);return Y.length>A-1&&(Y=Y.substring(0,A-1)),Y}getScopedLineTokens(E,I,A){E.forceTokenization(I);const H=E.getLineTokens(I),Y=typeof A=="undefined"?E.getLineMaxColumn(I)-1:A-1;return(0,G.wH)(H,Y)}}const he=new ne;class ${constructor(E){this.languageId=E,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(E,I){const A=new z(E,I,++this._order);return this._entries.push(A),this._resolved=null,(0,W.OF)(()=>{for(let H=0;H<this._entries.length;H++)if(this._entries[H]===A){this._entries.splice(H,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const E=this._resolve();E&&(this._resolved=new Q(this.languageId,E))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(z.cmp),V(this._entries.map(E=>E.configuration)))}}function V(le){let E={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const I of le)E={comments:I.comments||E.comments,brackets:I.brackets||E.brackets,wordPattern:I.wordPattern||E.wordPattern,indentationRules:I.indentationRules||E.indentationRules,onEnterRules:I.onEnterRules||E.onEnterRules,autoClosingPairs:I.autoClosingPairs||E.autoClosingPairs,surroundingPairs:I.surroundingPairs||E.surroundingPairs,autoCloseBefore:I.autoCloseBefore||E.autoCloseBefore,folding:I.folding||E.folding,colorizedBracketPairs:I.colorizedBracketPairs||E.colorizedBracketPairs,__electricCharacterSupport:I.__electricCharacterSupport||E.__electricCharacterSupport};return E}class z{constructor(E,I,A){this.configuration=E,this.priority=I,this.order=A}static cmp(E,I){return E.priority===I.priority?E.order-I.order:E.priority-I.priority}}class Q{constructor(E,I){this.languageId=E,this.underlyingConfig=I,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n(this.underlyingConfig):null,this.comments=Q._handleComments(this.underlyingConfig),this.characterPair=new x(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||O.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new m(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,O.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new s.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new C(this.brackets)),this._electricCharacter}onEnter(E,I,A,H){return this._onEnterSupport?this._onEnterSupport.onEnter(E,I,A,H):null}static _handleComments(E){let I=E.comments;if(!I)return null;let A={};if(I.lineComment&&(A.lineCommentToken=I.lineComment),I.blockComment){let[H,Y]=I.blockComment;A.blockCommentStartToken=H,A.blockCommentEndToken=Y}return A}}(0,d.z)(b,L)},5405:function(Ct,we,t){"use strict";t.d(we,{c:function(){return l},Y:function(){return p}});var h=t(4669),W=t(89954),k=t(9917),O=t(43702),w=t(59870),G=t(14118),x=t(55336);function N(f,v,d,a){if(Array.isArray(f)){let u=0;for(const c of f){const b=N(c,v,d,a);if(b===10)return b;b>u&&(u=b)}return u}else{if(typeof f=="string")return a?f==="*"?5:f===d?10:0:0;if(f){const{language:u,pattern:c,scheme:b,hasAccessToAllModels:L}=f;if(!a&&!L)return 0;let R=0;if(b)if(b===v.scheme)R=10;else if(b==="*")R=5;else return 0;if(u)if(u===d)R=10;else if(u==="*")R=Math.max(R,5);else return 0;if(c){let T;if(typeof c=="string"?T=c:T=Object.assign(Object.assign({},c),{base:(0,x.Fv)(c.base)}),T===v.fsPath||(0,G.EQ)(T,v.fsPath))R=10;else return 0}return R}else return 0}}var s=t(51200);function C(f){return typeof f=="string"?!1:Array.isArray(f)?f.every(C):!!f.exclusive}class l{constructor(){this._clock=0,this._entries=[],this._onDidChange=new h.Q5}get onDidChange(){return this._onDidChange.event}register(v,d){let a={selector:v,provider:d,_score:-1,_time:this._clock++};return this._entries.push(a),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.OF)(()=>{if(a){let u=this._entries.indexOf(a);u>=0&&(this._entries.splice(u,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),a=void 0)}})}has(v){return this.all(v).length>0}all(v){if(!v)return[];this._updateScores(v);const d=[];for(let a of this._entries)a._score>0&&d.push(a.provider);return d}ordered(v){const d=[];return this._orderedForEach(v,a=>d.push(a.provider)),d}orderedGroups(v){const d=[];let a,u;return this._orderedForEach(v,c=>{a&&u===c._score?a.push(c.provider):(u=c._score,a=[c.provider],d.push(a))}),d}_orderedForEach(v,d){if(v){this._updateScores(v);for(const a of this._entries)a._score>0&&d(a)}}_updateScores(v){let d={uri:v.uri.toString(),language:v.getLanguageId()};if(!(this._lastCandidate&&this._lastCandidate.language===d.language&&this._lastCandidate.uri===d.uri)){this._lastCandidate=d;for(let a of this._entries)if(a._score=N(a.selector,v.uri,v.getLanguageId(),(0,s.p)(v)),C(a.selector)&&a._score>0){for(let u of this._entries)u._score=0;a._score=1e3;break}this._entries.sort(l._compareByScoreAndTime)}}static _compareByScoreAndTime(v,d){return v._score<d._score?1:v._score>d._score?-1:v._time<d._time?1:v._time>d._time?-1:0}}const m=new WeakMap;let y=0;function n(f){let v=m.get(f);return v===void 0&&(v=++y,m.set(f,v)),v}class p{constructor(v,d,a=Number.MAX_SAFE_INTEGER){this._registry=v,this.min=d,this.max=a,this._cache=new O.z6(50,.7)}_key(v){return v.id+this._registry.all(v).reduce((d,a)=>(0,W.SP)(n(a),d),0)}_clamp(v){return v===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(v*1.3)))}get(v){const d=this._key(v),a=this._cache.get(d);return this._clamp(a==null?void 0:a.value)}update(v,d){const a=this._key(v);let u=this._cache.get(a);return u||(u=new w.n,this._cache.set(a,u)),u.update(d),this.get(v)}}},71144:function(Ct,we,t){"use strict";t.d(we,{XT:function(){return s},dQ:function(){return N}});var h=t(63580),W=t(4669),k=t(94660),O=t(89872),w=t(81170);const G={ModesRegistry:"editor.modesRegistry"};class x{constructor(){this._onDidChangeLanguages=new W.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(m){return this._languages.push(m),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let y=0,n=this._languages.length;y<n;y++)if(this._languages[y]===m){this._languages.splice(y,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}const N=new x;O.B.add(G.ModesRegistry,N);const s="plaintext",C=".txt";N.registerLanguage({id:s,extensions:[C],aliases:[h.N("plainText.alias","Plain Text"),"text"],mimetypes:[w.vW.text]}),k.zu.register(s,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0)},28111:function(Ct,we,t){"use strict";t.d(we,{Ri:function(){return w},TG:function(){return O},mh:function(){return G},nO:function(){return k}});var h=t(85600);class W{clone(){return this}equals(N){return this===N}}const k=new W,O="vs.editor.nullMode";function w(x,N,s,C){return new h.hG([new h.WU(C,"",x)],s)}function G(x,N,s,C){let l=new Uint32Array(2);return l[0]=C,l[1]=(x<<0|0|0|16384|2<<23)>>>0,new h.Hi(l,s===null?k:s)}},40764:function(Ct,we,t){"use strict";t.d(we,{Bu:function(){return k},wH:function(){return h}});function h(O,w){let G=O.getCount(),x=O.findTokenIndexAtOffset(w),N=O.getLanguageId(x),s=x;for(;s+1<G&&O.getLanguageId(s+1)===N;)s++;let C=x;for(;C>0&&O.getLanguageId(C-1)===N;)C--;return new W(O,N,C,s+1,O.getStartOffset(C),O.getEndOffset(s))}class W{constructor(w,G,x,N,s,C){this._scopedLineTokensBrand=void 0,this._actual=w,this.languageId=G,this._firstTokenIndex=x,this._lastTokenIndex=N,this.firstCharOffset=s,this._lastCharOffset=C}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(w){return this._actual.getLineContent().substring(0,this.firstCharOffset+w)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(w){return this._actual.findTokenIndexAtOffset(w+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(w){return this._actual.getStandardTokenType(w+this._firstTokenIndex)}}function k(O){return(O&7)!==0}},34227:function(Ct,we,t){"use strict";t.d(we,{EA:function(){return G},Vr:function(){return v}});var h=t(97295),W=t(50072),k=t(24314);class O{constructor(a,u,c,b,L,R){this._richEditBracketBrand=void 0,this.languageId=a,this.index=u,this.open=c,this.close=b,this.forwardRegex=L,this.reversedRegex=R,this._openSet=O._toSet(this.open),this._closeSet=O._toSet(this.close)}isOpen(a){return this._openSet.has(a)}isClose(a){return this._closeSet.has(a)}static _toSet(a){const u=new Set;for(const c of a)u.add(c);return u}}function w(d){const a=d.length;d=d.map(R=>[R[0].toLowerCase(),R[1].toLowerCase()]);const u=[];for(let R=0;R<a;R++)u[R]=R;const c=(R,T)=>{const[j,q]=R,[ie,ne]=T;return j===ie||j===ne||q===ie||q===ne},b=(R,T)=>{const j=Math.min(R,T),q=Math.max(R,T);for(let ie=0;ie<a;ie++)u[ie]===q&&(u[ie]=j)};for(let R=0;R<a;R++){const T=d[R];for(let j=R+1;j<a;j++){const q=d[j];c(T,q)&&b(u[R],u[j])}}const L=[];for(let R=0;R<a;R++){let T=[],j=[];for(let q=0;q<a;q++)if(u[q]===R){const[ie,ne]=d[q];T.push(ie),j.push(ne)}T.length>0&&L.push({open:T,close:j})}return L}class G{constructor(a,u){this._richEditBracketsBrand=void 0;const c=w(u);this.brackets=c.map((b,L)=>new O(a,L,b.open,b.close,C(b.open,b.close,c,L),l(b.open,b.close,c,L))),this.forwardRegex=m(this.brackets),this.reversedRegex=y(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const b of this.brackets){for(const L of b.open)this.textIsBracket[L]=b,this.textIsOpenBracket[L]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,L.length);for(const L of b.close)this.textIsBracket[L]=b,this.textIsOpenBracket[L]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,L.length)}}}function x(d,a,u,c){for(let b=0,L=a.length;b<L;b++){if(b===u)continue;const R=a[b];for(const T of R.open)T.indexOf(d)>=0&&c.push(T);for(const T of R.close)T.indexOf(d)>=0&&c.push(T)}}function N(d,a){return d.length-a.length}function s(d){if(d.length<=1)return d;const a=[],u=new Set;for(const c of d)u.has(c)||(a.push(c),u.add(c));return a}function C(d,a,u,c){let b=[];b=b.concat(d),b=b.concat(a);for(let L=0,R=b.length;L<R;L++)x(b[L],u,c,b);return b=s(b),b.sort(N),b.reverse(),p(b)}function l(d,a,u,c){let b=[];b=b.concat(d),b=b.concat(a);for(let L=0,R=b.length;L<R;L++)x(b[L],u,c,b);return b=s(b),b.sort(N),b.reverse(),p(b.map(f))}function m(d){let a=[];for(const u of d){for(const c of u.open)a.push(c);for(const c of u.close)a.push(c)}return a=s(a),p(a)}function y(d){let a=[];for(const u of d){for(const c of u.open)a.push(c);for(const c of u.close)a.push(c)}return a=s(a),p(a.map(f))}function n(d){const a=/^[\w ]+$/.test(d);return d=h.ec(d),a?`\\b${d}\\b`:d}function p(d){let a=`(${d.map(n).join(")|(")})`;return h.GF(a,!0)}const f=function(){function d(c){if(W.lZ){const b=new Uint16Array(c.length);let L=0;for(let R=c.length-1;R>=0;R--)b[L++]=c.charCodeAt(R);return W.oe().decode(b)}else{let b=[],L=0;for(let R=c.length-1;R>=0;R--)b[L++]=c.charAt(R);return b.join("")}}let a=null,u=null;return function(b){return a!==b&&(a=b,u=d(a)),u}}();class v{static _findPrevBracketInText(a,u,c,b){let L=c.match(a);if(!L)return null;let R=c.length-(L.index||0),T=L[0].length,j=b+R;return new k.e(u,j-T+1,u,j+1)}static findPrevBracketInRange(a,u,c,b,L){const T=f(c).substring(c.length-L,c.length-b);return this._findPrevBracketInText(a,u,T,b)}static findNextBracketInText(a,u,c,b){let L=c.match(a);if(!L)return null;let R=L.index||0,T=L[0].length;if(T===0)return null;let j=b+R;return new k.e(u,j+1,u,j+1+T)}static findNextBracketInRange(a,u,c,b,L){const R=c.substring(b,L);return this.findNextBracketInText(a,u,R,b)}}},55713:function(Ct,we,t){"use strict";t.d(we,{C:function(){return w},F:function(){return G}});var h=t(97295),W=t(78411),k=t(28111);const O={getInitialState:()=>k.nO,tokenize2:(N,s,C,l)=>(0,k.mh)(0,N,C,l)};function w(N,s,C=O){return x(N,s,C||O)}function G(N,s,C,l,m,y,n){let p="<div>",f=l,v=0,d=!0;for(let a=0,u=s.getCount();a<u;a++){const c=s.getEndOffset(a);if(c<=l)continue;let b="";for(;f<c&&f<m;f++){const L=N.charCodeAt(f);switch(L){case 9:let R=y-(f+v)%y;for(v+=R-1;R>0;)n&&d?(b+="&#160;",d=!1):(b+=" ",d=!0),R--;break;case 60:b+="&lt;",d=!1;break;case 62:b+="&gt;",d=!1;break;case 38:b+="&amp;",d=!1;break;case 0:b+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:b+="\uFFFD",d=!1;break;case 13:b+="&#8203",d=!1;break;case 32:n&&d?(b+="&#160;",d=!1):(b+=" ",d=!0);break;default:b+=String.fromCharCode(L),d=!1}}if(p+=`<span style="${s.getInlineStyle(a,C)}">${b}</span>`,c>m||f>=m)break}return p+="</div>",p}function x(N,s,C){let l='<div class="monaco-tokenized-source">';const m=h.uq(N);let y=C.getInitialState();for(let n=0,p=m.length;n<p;n++){const f=m[n];n>0&&(l+="<br/>");const v=C.tokenize2(f,!0,y,0);W.A.convertToEndOffset(v.tokens,f.length);const a=new W.A(v.tokens,f,s).inflate();let u=0;for(let c=0,b=a.getCount();c<b;c++){const L=a.getClassName(c),R=a.getEndOffset(c);l+=`<span class="${L}">${h.YU(f.substring(u,R))}</span>`,u=R}y=v.endState}return l+="</div>",l}},90469:function(Ct,we,t){"use strict";t.d(we,{p:function(){return k}});var h=t(72065);const W="editorWorkerService",k=(0,h.yh)(W)},32670:function(Ct,we,t){"use strict";t.d(we,{OG:function(){return j},ML:function(){return c},KO:function(){return R},Jc:function(){return a},Vl:function(){return f},Vj:function(){return v}});var h=t(71050),W=t(17301),k=t(70666),O=t(60303),w=t(51200),G=t(94565),x=t(98401),N=t(53060),s=t(1432);function C(q){for(let ie=0,ne=q.length;ie<ne;ie+=4){const he=q[ie+0],$=q[ie+1],V=q[ie+2],z=q[ie+3];q[ie+0]=z,q[ie+1]=V,q[ie+2]=$,q[ie+3]=he}}function l(q){const ie=new Uint8Array(q.buffer,q.byteOffset,q.length*4);return s.r()||C(ie),N.KN.wrap(ie)}function m(q){const ie=new Uint32Array(y(q));let ne=0;if(ie[ne++]=q.id,q.type==="full")ie[ne++]=1,ie[ne++]=q.data.length,ie.set(q.data,ne),ne+=q.data.length;else{ie[ne++]=2,ie[ne++]=q.deltas.length;for(const he of q.deltas)ie[ne++]=he.start,ie[ne++]=he.deleteCount,he.data?(ie[ne++]=he.data.length,ie.set(he.data,ne),ne+=he.data.length):ie[ne++]=0}return l(ie)}function y(q){let ie=0;if(ie+=1+1,q.type==="full")ie+=1+q.data.length;else{ie+=1,ie+=(1+1+1)*q.deltas.length;for(const ne of q.deltas)ne.data&&(ie+=ne.data.length)}return ie}var n=t(24314),p=function(q,ie,ne,he){function $(V){return V instanceof ne?V:new ne(function(z){z(V)})}return new(ne||(ne=Promise))(function(V,z){function Q(I){try{E(he.next(I))}catch(A){z(A)}}function le(I){try{E(he.throw(I))}catch(A){z(A)}}function E(I){I.done?V(I.value):$(I.value).then(Q,le)}E((he=he.apply(q,ie||[])).next())})};function f(q){return q&&!!q.data}function v(q){return q&&Array.isArray(q.edits)}class d{constructor(ie,ne){this.provider=ie,this.tokens=ne}}function a(q){return O.wT.has(q)}function u(q){const ie=O.wT.orderedGroups(q);return ie.length>0?ie[0]:[]}function c(q,ie,ne,he){return p(this,void 0,void 0,function*(){const $=u(q),V=yield Promise.all($.map(z=>p(this,void 0,void 0,function*(){let Q;try{Q=yield z.provideDocumentSemanticTokens(q,z===ie?ne:null,he)}catch(le){(0,W.Cp)(le),Q=null}return(!Q||!f(Q)&&!v(Q))&&(Q=null),new d(z,Q)})));for(const z of V)if(z.tokens)return z;return V.length>0?V[0]:null})}function b(q){const ie=O.wT.orderedGroups(q);return ie.length>0?ie[0]:null}class L{constructor(ie,ne){this.provider=ie,this.tokens=ne}}function R(q){return O.K7.has(q)}function T(q){const ie=O.K7.orderedGroups(q);return ie.length>0?ie[0]:[]}function j(q,ie,ne){return p(this,void 0,void 0,function*(){const he=T(q),$=yield Promise.all(he.map(V=>p(this,void 0,void 0,function*(){let z;try{z=yield V.provideDocumentRangeSemanticTokens(q,ie,ne)}catch(Q){(0,W.Cp)(Q),z=null}return(!z||!f(z))&&(z=null),new L(V,z)})));for(const V of $)if(V.tokens)return V;return $.length>0?$[0]:null})}G.P.registerCommand("_provideDocumentSemanticTokensLegend",(q,...ie)=>p(void 0,void 0,void 0,function*(){const[ne]=ie;(0,x.p_)(ne instanceof k.o);const he=q.get(w.q).getModel(ne);if(!he)return;const $=b(he);return $?$[0].getLegend():q.get(G.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",ne)})),G.P.registerCommand("_provideDocumentSemanticTokens",(q,...ie)=>p(void 0,void 0,void 0,function*(){const[ne]=ie;(0,x.p_)(ne instanceof k.o);const he=q.get(w.q).getModel(ne);if(!he)return;if(!a(he))return q.get(G.H).executeCommand("_provideDocumentRangeSemanticTokens",ne,he.getFullModelRange());const $=yield c(he,null,null,h.T.None);if(!$)return;const{provider:V,tokens:z}=$;if(!z||!f(z))return;const Q=m({id:0,type:"full",data:z.data});return z.resultId&&V.releaseDocumentSemanticTokens(z.resultId),Q})),G.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(q,...ie)=>p(void 0,void 0,void 0,function*(){const[ne,he]=ie;(0,x.p_)(ne instanceof k.o);const $=q.get(w.q).getModel(ne);if(!$)return;const V=T($);if(V.length===0)return;if(V.length===1)return V[0].getLegend();if(!he||!n.e.isIRange(he))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),V[0].getLegend();const z=yield j($,n.e.lift(he),h.T.None);if(z)return z.provider.getLegend()})),G.P.registerCommand("_provideDocumentRangeSemanticTokens",(q,...ie)=>p(void 0,void 0,void 0,function*(){const[ne,he]=ie;(0,x.p_)(ne instanceof k.o),(0,x.p_)(n.e.isIRange(he));const $=q.get(w.q).getModel(ne);if(!$)return;const V=yield j($,n.e.lift(he),h.T.None);if(!(!V||!V.tokens))return m({id:0,type:"full",data:V.tokens.data})}))},26479:function(Ct,we,t){"use strict";t.d(we,{i:function(){return W}});var h=t(72065);const W=(0,h.yh)("markerDecorationsService")},71531:function(Ct,we,t){"use strict";t.d(we,{h:function(){return W}});var h=t(72065);const W=(0,h.yh)("modeService")},51200:function(Ct,we,t){"use strict";t.d(we,{p:function(){return k},q:function(){return W}});var h=t(72065);const W=(0,h.yh)("modelService");function k(O){return!O.isTooLargeForSyncing()&&!O.isForSimpleWidget}},32334:function(Ct,we,t){"use strict";t.d(we,{BR:function(){return $},e3:function(){return V},tw:function(){return z}});var h=t(4669),W=t(9917),k=t(1432),O=t(17301),w=t(64141),G=t(24979),x=t(60303),N=t(71144),s=t(71531),C=t(33187),l=t(33108),m=t(15393),y=t(71050),n=t(97781),p=t(43557),f=t(64862),v=t(89954),d=t(95215),a=t(66663),u=t(65072),c=t(32670),b=t(36248),L=t(94660),R=function(A,H,Y,X){var re=arguments.length,fe=re<3?H:X===null?X=Object.getOwnPropertyDescriptor(H,Y):X,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(A,H,Y,X);else for(var Oe=A.length-1;Oe>=0;Oe--)(ue=A[Oe])&&(fe=(re<3?ue(fe):re>3?ue(H,Y,fe):ue(H,Y))||fe);return re>3&&fe&&Object.defineProperty(H,Y,fe),fe},T=function(A,H){return function(Y,X){H(Y,X,A)}};function j(A){return A.toString()}function q(A){const H=new v.yP,Y=A.createSnapshot();let X;for(;X=Y.read();)H.update(X);return H.digest()}class ie{constructor(H,Y,X){this._modelEventListeners=new W.SL,this.model=H,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(H.onWillDispose(()=>Y(H))),this._modelEventListeners.add(H.onDidChangeLanguage(re=>X(H,re)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(H){this._disposeLanguageSelection(),this._languageSelection=H,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(H.languageId)),this.model.setMode(H.languageId)}}const ne=k.IJ||k.dz?1:2;class he{constructor(H,Y,X,re,fe,ue,Oe,Ce){this.uri=H,this.initialUndoRedoSnapshot=Y,this.time=X,this.sharesUndoRedoStack=re,this.heapSize=fe,this.sha1=ue,this.versionId=Oe,this.alternativeVersionId=Ce}}let $=class Jo extends W.JT{constructor(H,Y,X,re,fe,ue,Oe){super(),this._configurationService=H,this._resourcePropertiesService=Y,this._themeService=X,this._logService=re,this._undoRedoService=fe,this._modeService=ue,this._languageConfigurationService=Oe,this._onModelAdded=this._register(new h.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new h.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new h.Q5),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new le(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new Q(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(H,Y){var X;let re=w.DB.tabSize;if(H.editor&&typeof H.editor.tabSize!="undefined"){const se=parseInt(H.editor.tabSize,10);isNaN(se)||(re=se),re<1&&(re=1)}let fe=re;if(H.editor&&typeof H.editor.indentSize!="undefined"&&H.editor.indentSize!=="tabSize"){const se=parseInt(H.editor.indentSize,10);isNaN(se)||(fe=se),fe<1&&(fe=1)}let ue=w.DB.insertSpaces;H.editor&&typeof H.editor.insertSpaces!="undefined"&&(ue=H.editor.insertSpaces==="false"?!1:!!H.editor.insertSpaces);let Oe=ne;const Ce=H.eol;Ce===`\r
`?Oe=2:Ce===`
`&&(Oe=1);let oe=w.DB.trimAutoWhitespace;H.editor&&typeof H.editor.trimAutoWhitespace!="undefined"&&(oe=H.editor.trimAutoWhitespace==="false"?!1:!!H.editor.trimAutoWhitespace);let ae=w.DB.detectIndentation;H.editor&&typeof H.editor.detectIndentation!="undefined"&&(ae=H.editor.detectIndentation==="false"?!1:!!H.editor.detectIndentation);let Be=w.DB.largeFileOptimizations;H.editor&&typeof H.editor.largeFileOptimizations!="undefined"&&(Be=H.editor.largeFileOptimizations==="false"?!1:!!H.editor.largeFileOptimizations);let Ve=w.DB.bracketPairColorizationOptions;return!((X=H.editor)===null||X===void 0)&&X.bracketPairColorization&&typeof H.editor.bracketPairColorization=="object"&&(Ve={enabled:!!H.editor.bracketPairColorization.enabled}),{isForSimpleWidget:Y,tabSize:re,indentSize:fe,insertSpaces:ue,detectIndentation:ae,defaultEOL:Oe,trimAutoWhitespace:oe,largeFileOptimizations:Be,bracketPairColorizationOptions:Ve}}_getEOL(H,Y){if(H)return this._resourcePropertiesService.getEOL(H,Y);const X=this._configurationService.getValue("files.eol",{overrideIdentifier:Y});return X&&typeof X=="string"&&X!=="auto"?X:k.OS===3||k.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const H=this._configurationService.getValue("files.restoreUndoStack");return typeof H=="boolean"?H:!0}getCreationOptions(H,Y,X){let re=this._modelCreationOptionsByLanguageAndResource[H+Y];if(!re){const fe=this._configurationService.getValue("editor",{overrideIdentifier:H,resource:Y}),ue=this._getEOL(Y,H);re=Jo._readModelOptions({editor:fe,eol:ue},X),this._modelCreationOptionsByLanguageAndResource[H+Y]=re}return re}_updateModelOptions(){const H=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Y=Object.keys(this._models);for(let X=0,re=Y.length;X<re;X++){const fe=Y[X],ue=this._models[fe],Oe=ue.model.getLanguageId(),Ce=ue.model.uri,oe=H[Oe+Ce],ae=this.getCreationOptions(Oe,Ce,ue.model.isForSimpleWidget);Jo._setModelOptionsForModel(ue.model,ae,oe)}}static _setModelOptionsForModel(H,Y,X){X&&X.defaultEOL!==Y.defaultEOL&&H.getLineCount()===1&&H.setEOL(Y.defaultEOL===1?0:1),!(X&&X.detectIndentation===Y.detectIndentation&&X.insertSpaces===Y.insertSpaces&&X.tabSize===Y.tabSize&&X.indentSize===Y.indentSize&&X.trimAutoWhitespace===Y.trimAutoWhitespace&&(0,b.fS)(X.bracketPairColorizationOptions,Y.bracketPairColorizationOptions))&&(Y.detectIndentation?(H.detectIndentation(Y.insertSpaces,Y.tabSize),H.updateOptions({trimAutoWhitespace:Y.trimAutoWhitespace,bracketColorizationOptions:Y.bracketPairColorizationOptions})):H.updateOptions({insertSpaces:Y.insertSpaces,tabSize:Y.tabSize,indentSize:Y.indentSize,trimAutoWhitespace:Y.trimAutoWhitespace,bracketColorizationOptions:Y.bracketPairColorizationOptions}))}_insertDisposedModel(H){this._disposedModels.set(j(H.uri),H),this._disposedModelsHeapSize+=H.heapSize}_removeDisposedModel(H){const Y=this._disposedModels.get(j(H));return Y&&(this._disposedModelsHeapSize-=Y.heapSize),this._disposedModels.delete(j(H)),Y}_ensureDisposedModelsHeapSize(H){if(this._disposedModelsHeapSize>H){const Y=[];for(this._disposedModels.forEach(X=>{X.sharesUndoRedoStack||Y.push(X)}),Y.sort((X,re)=>X.time-re.time);Y.length>0&&this._disposedModelsHeapSize>H;){const X=Y.shift();this._removeDisposedModel(X.uri),X.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(X.initialUndoRedoSnapshot)}}}_createModelData(H,Y,X,re){const fe=this.getCreationOptions(Y,X,re),ue=new G.yO(H,fe,Y,X,this._undoRedoService,this._modeService,this._languageConfigurationService);if(X&&this._disposedModels.has(j(X))){const oe=this._removeDisposedModel(X),ae=this._undoRedoService.getElements(X),Be=q(ue)===oe.sha1;if(Be||oe.sharesUndoRedoStack){for(const Ve of ae.past)(0,d.e9)(Ve)&&Ve.matchesResource(X)&&Ve.setModel(ue);for(const Ve of ae.future)(0,d.e9)(Ve)&&Ve.matchesResource(X)&&Ve.setModel(ue);this._undoRedoService.setElementsValidFlag(X,!0,Ve=>(0,d.e9)(Ve)&&Ve.matchesResource(X)),Be&&(ue._overwriteVersionId(oe.versionId),ue._overwriteAlternativeVersionId(oe.alternativeVersionId),ue._overwriteInitialUndoRedoSnapshot(oe.initialUndoRedoSnapshot))}else oe.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(oe.initialUndoRedoSnapshot)}const Oe=j(ue.uri);if(this._models[Oe])throw new Error("ModelService: Cannot add model because it already exists!");const Ce=new ie(ue,oe=>this._onWillDispose(oe),(oe,ae)=>this._onDidChangeLanguage(oe,ae));return this._models[Oe]=Ce,Ce}createModel(H,Y,X,re=!1){let fe;return Y?(fe=this._createModelData(H,Y.languageId,X,re),this.setMode(fe.model,Y)):fe=this._createModelData(H,N.XT,X,re),this._onModelAdded.fire(fe.model),fe.model}setMode(H,Y){if(!Y)return;const X=this._models[j(H.uri)];X&&X.setLanguage(Y)}getModels(){const H=[],Y=Object.keys(this._models);for(let X=0,re=Y.length;X<re;X++){const fe=Y[X];H.push(this._models[fe].model)}return H}getModel(H){const Y=j(H),X=this._models[Y];return X?X.model:null}getSemanticTokensProviderStyling(H){return this._semanticStyling.get(H)}_schemaShouldMaintainUndoRedoElements(H){return H.scheme===a.lg.file||H.scheme===a.lg.vscodeRemote||H.scheme===a.lg.userData||H.scheme===a.lg.vscodeNotebookCell||H.scheme==="fake-fs"}_onWillDispose(H){const Y=j(H.uri),X=this._models[Y],re=this._undoRedoService.getUriComparisonKey(H.uri)!==H.uri.toString();let fe=!1,ue=0;if(re||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(H.uri)){const Ce=this._undoRedoService.getElements(H.uri);if(Ce.past.length>0||Ce.future.length>0){for(const oe of Ce.past)(0,d.e9)(oe)&&oe.matchesResource(H.uri)&&(fe=!0,ue+=oe.heapSize(H.uri),oe.setModel(H.uri));for(const oe of Ce.future)(0,d.e9)(oe)&&oe.matchesResource(H.uri)&&(fe=!0,ue+=oe.heapSize(H.uri),oe.setModel(H.uri))}}const Oe=Jo.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(fe)if(!re&&ue>Oe){const Ce=X.model.getInitialUndoRedoSnapshot();Ce!==null&&this._undoRedoService.restoreSnapshot(Ce)}else this._ensureDisposedModelsHeapSize(Oe-ue),this._undoRedoService.setElementsValidFlag(H.uri,!1,Ce=>(0,d.e9)(Ce)&&Ce.matchesResource(H.uri)),this._insertDisposedModel(new he(H.uri,X.model.getInitialUndoRedoSnapshot(),Date.now(),re,ue,q(H),H.getVersionId(),H.getAlternativeVersionId()));else if(!re){const Ce=X.model.getInitialUndoRedoSnapshot();Ce!==null&&this._undoRedoService.restoreSnapshot(Ce)}delete this._models[Y],X.dispose(),delete this._modelCreationOptionsByLanguageAndResource[H.getLanguageId()+H.uri],this._onModelRemoved.fire(H)}_onDidChangeLanguage(H,Y){const X=Y.oldLanguage,re=H.getLanguageId(),fe=this.getCreationOptions(X,H.uri,H.isForSimpleWidget),ue=this.getCreationOptions(re,H.uri,H.isForSimpleWidget);Jo._setModelOptionsForModel(H,ue,fe),this._onModelModeChanged.fire({model:H,oldModeId:X})}};$.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,$=R([T(0,l.Ui),T(1,C.y),T(2,n.XE),T(3,p.VZ),T(4,f.tJ),T(5,s.h),T(6,L.c_)],$);const V="editor.semanticHighlighting";function z(A,H,Y){var X;const re=(X=Y.getValue(V,{overrideIdentifier:A.getLanguageId(),resource:A.uri}))===null||X===void 0?void 0:X.enabled;return typeof re=="boolean"?re:H.getColorTheme().semanticHighlighting}class Q extends W.JT{constructor(H,Y,X,re){super(),this._watchers=Object.create(null),this._semanticStyling=re;const fe=Ce=>{this._watchers[Ce.uri.toString()]=new I(Ce,Y,this._semanticStyling)},ue=(Ce,oe)=>{oe.dispose(),delete this._watchers[Ce.uri.toString()]},Oe=()=>{for(let Ce of H.getModels()){const oe=this._watchers[Ce.uri.toString()];z(Ce,Y,X)?oe||fe(Ce):oe&&ue(Ce,oe)}};this._register(H.onModelAdded(Ce=>{z(Ce,Y,X)&&fe(Ce)})),this._register(H.onModelRemoved(Ce=>{const oe=this._watchers[Ce.uri.toString()];oe&&ue(Ce,oe)})),this._register(X.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(V)&&Oe()})),this._register(Y.onDidColorThemeChange(Oe))}}class le extends W.JT{constructor(H,Y,X){super(),this._themeService=H,this._modeService=Y,this._logService=X,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(H){return this._caches.has(H)||this._caches.set(H,new u.$(H.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(H)}}class E{constructor(H,Y,X){this.provider=H,this.resultId=Y,this.data=X}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class I extends W.JT{constructor(H,Y,X){super(),this._isDisposed=!1,this._model=H,this._semanticStyling=X,this._fetchDocumentSemanticTokens=this._register(new m.pY(()=>this._fetchDocumentSemanticTokensNow(),I.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const re=()=>{(0,W.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const fe of x.wT.all(H))typeof fe.onDidChange=="function"&&this._documentProvidersChangeListeners.push(fe.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};re(),this._register(x.wT.onDidChange(()=>{re(),this._fetchDocumentSemanticTokens.schedule()})),this._register(Y.onDidColorThemeChange(fe=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,c.Jc)(this._model)){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const H=new y.A,Y=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,X=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,re=(0,c.ML)(this._model,Y,X,H.token);this._currentDocumentRequestCancellationTokenSource=H;const fe=[],ue=this._model.onDidChangeContent(Oe=>{fe.push(Oe)});re.then(Oe=>{if(this._currentDocumentRequestCancellationTokenSource=null,ue.dispose(),!Oe)this._setDocumentSemanticTokens(null,null,null,fe);else{const{provider:Ce,tokens:oe}=Oe,ae=this._semanticStyling.get(Ce);this._setDocumentSemanticTokens(Ce,oe||null,ae,fe)}},Oe=>{Oe&&(O.VV(Oe)||typeof Oe.message=="string"&&Oe.message.indexOf("busy")!==-1)||O.dL(Oe),this._currentDocumentRequestCancellationTokenSource=null,ue.dispose(),fe.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(H,Y,X,re,fe){for(let ue=0;ue<fe;ue++)X[re+ue]=H[Y+ue]}_setDocumentSemanticTokens(H,Y,X,re){const fe=this._currentDocumentResponse,ue=()=>{re.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){H&&Y&&H.releaseDocumentSemanticTokens(Y.resultId);return}if(!H||!X){this._model.setSemanticTokens(null,!1);return}if(!Y){this._model.setSemanticTokens(null,!0),ue();return}if((0,c.Vj)(Y)){if(!fe){this._model.setSemanticTokens(null,!0);return}if(Y.edits.length===0)Y={resultId:Y.resultId,data:fe.data};else{let Oe=0;for(const Ve of Y.edits)Oe+=(Ve.data?Ve.data.length:0)-Ve.deleteCount;const Ce=fe.data,oe=new Uint32Array(Ce.length+Oe);let ae=Ce.length,Be=oe.length;for(let Ve=Y.edits.length-1;Ve>=0;Ve--){const se=Y.edits[Ve],ce=ae-(se.start+se.deleteCount);ce>0&&(I._copy(Ce,ae-ce,oe,Be-ce,ce),Be-=ce),se.data&&(I._copy(se.data,0,oe,Be-se.data.length,se.data.length),Be-=se.data.length),ae=se.start}ae>0&&I._copy(Ce,0,oe,0,ae),Y={resultId:Y.resultId,data:oe}}}if((0,c.Vl)(Y)){this._currentDocumentResponse=new E(H,Y.resultId,Y.data);const Oe=(0,u.h)(Y,X,this._model.getLanguageId());if(re.length>0)for(const Ce of re)for(const oe of Oe)for(const ae of Ce.changes)oe.applyEdit(ae.range,ae.text);this._model.setSemanticTokens(Oe,!0)}else this._model.setSemanticTokens(null,!0);ue()}}I.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300},88216:function(Ct,we,t){"use strict";t.d(we,{S:function(){return W}});var h=t(72065);const W=(0,h.yh)("textModelService")},65072:function(Ct,we,t){"use strict";t.d(we,{$:function(){return N},h:function(){return s}});var h=t(60303),W=t(97781),k=t(43557),O=t(58409),w=t(71531),G=function(m,y,n,p){var f=arguments.length,v=f<3?y:p===null?p=Object.getOwnPropertyDescriptor(y,n):p,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(m,y,n,p);else for(var a=m.length-1;a>=0;a--)(d=m[a])&&(v=(f<3?d(v):f>3?d(y,n,v):d(y,n))||v);return f>3&&v&&Object.defineProperty(y,n,v),v},x=function(m,y){return function(n,p){y(n,p,m)}};let N=class{constructor(y,n,p,f){this._legend=y,this._themeService=n,this._modeService=p,this._logService=f,this._hashTable=new l,this._hasWarnedOverlappingTokens=!1}getMetadata(y,n,p){const f=this._modeService.languageIdCodec.encodeLanguageId(p),v=this._hashTable.get(y,n,f);let d;if(v)d=v.metadata,this._logService.getLevel()===k.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${y} / ${n}: foreground ${h.NX.getForeground(d)}, fontStyle ${h.NX.getFontStyle(d).toString(2)}`);else{let a=this._legend.tokenTypes[y];const u=[];if(a){let c=n;for(let L=0;c>0&&L<this._legend.tokenModifiers.length;L++)c&1&&u.push(this._legend.tokenModifiers[L]),c=c>>1;c>0&&this._logService.getLevel()===k.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${n.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),u.push("not-in-legend"));const b=this._themeService.getColorTheme().getTokenStyleMetadata(a,u,p);if(typeof b=="undefined")d=2147483647;else{if(d=0,typeof b.italic!="undefined"){const L=(b.italic?1:0)<<11;d|=L|1}if(typeof b.bold!="undefined"){const L=(b.bold?2:0)<<11;d|=L|2}if(typeof b.underline!="undefined"){const L=(b.underline?4:0)<<11;d|=L|4}if(b.foreground){const L=b.foreground<<14;d|=L|8}d===0&&(d=2147483647)}}else this._logService.getLevel()===k.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${y} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),d=2147483647,a="not-in-legend";this._hashTable.add(y,n,f,d),this._logService.getLevel()===k.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${y} (${a}) / ${n} (${u.join(" ")}): foreground ${h.NX.getForeground(d)}, fontStyle ${h.NX.getFontStyle(d).toString(2)}`)}return d}warnOverlappingSemanticTokens(y,n){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${y}, column ${n}`))}};N=G([x(1,W.XE),x(2,w.h),x(3,k.VZ)],N);function s(m,y,n){const p=m.data,f=m.data.length/5|0,v=Math.max(Math.ceil(f/1024),400),d=[];let a=0,u=1,c=0;for(;a<f;){const b=a;let L=Math.min(b+v,f);if(L<f){let $=L;for(;$-1>b&&p[5*$]===0;)$--;if($-1===b){let V=L;for(;V+1<f&&p[5*V]===0;)V++;L=V}else L=$}let R=new Uint32Array((L-b)*4),T=0,j=0,q=0,ie=0,ne=0;for(;a<L;){const $=5*a,V=p[$],z=p[$+1],Q=u+V|0,le=V===0?c+z|0:z,E=p[$+2],I=p[$+3],A=p[$+4],H=y.getMetadata(I,A,n);H!==2147483647&&(j===0&&(j=Q),q===Q&&ne>le&&(y.warnOverlappingSemanticTokens(Q,le+1),ie<le?R[T-4+2]=le:T-=4),R[T]=Q-j,R[T+1]=le,R[T+2]=le+E,R[T+3]=H,T+=4,q=Q,ie=le,ne=le+E),u=Q,c=le,a++}T!==R.length&&(R=R.subarray(0,T));const he=new O.Wz(j,new O.OU(R));d.push(he)}return d}class C{constructor(y,n,p,f){this.tokenTypeIndex=y,this.tokenModifierSet=n,this.languageId=p,this.metadata=f,this.next=null}}class l{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=l._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<l._SIZES.length?2/3*this._currentLength:0),this._elements=[],l._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(y,n){for(let p=0;p<n;p++)y[p]=null}_hash2(y,n){return(y<<5)-y+n|0}_hashFunc(y,n,p){return this._hash2(this._hash2(y,n),p)%this._currentLength}get(y,n,p){const f=this._hashFunc(y,n,p);let v=this._elements[f];for(;v;){if(v.tokenTypeIndex===y&&v.tokenModifierSet===n&&v.languageId===p)return v;v=v.next}return null}add(y,n,p,f){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const v=this._elements;this._currentLengthIndex++,this._currentLength=l._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<l._SIZES.length?2/3*this._currentLength:0),this._elements=[],l._nullOutEntries(this._elements,this._currentLength);for(const d of v){let a=d;for(;a;){const u=a.next;a.next=null,this._add(a),a=u}}}this._add(new C(y,n,p,f))}_add(y){const n=this._hashFunc(y.tokenTypeIndex,y.tokenModifierSet,y.languageId);y.next=this._elements[n],this._elements[n]=y}}l._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},33187:function(Ct,we,t){"use strict";t.d(we,{V:function(){return W},y:function(){return k}});var h=t(72065);const W=(0,h.yh)("textResourceConfigurationService"),k=(0,h.yh)("textResourcePropertiesService")},20913:function(Ct,we,t){"use strict";t.d(we,{B8:function(){return N},Oe:function(){return W},UL:function(){return C},UX:function(){return G},aq:function(){return x},ld:function(){return w},qq:function(){return O},ug:function(){return k},xi:function(){return s}});var h=t(63580),W;(function(l){l.noSelection=h.N("noSelection","No selection"),l.singleSelectionRange=h.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),l.singleSelection=h.N("singleSelection","Line {0}, Column {1}"),l.multiSelectionRange=h.N("multiSelectionRange","{0} selections ({1} characters selected)"),l.multiSelection=h.N("multiSelection","{0} selections"),l.emergencyConfOn=h.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),l.openingDocs=h.N("openingDocs","Now opening the Editor Accessibility documentation page."),l.readonlyDiffEditor=h.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),l.editableDiffEditor=h.N("editableDiffEditor"," in a pane of a diff editor."),l.readonlyEditor=h.N("readonlyEditor"," in a read-only code editor"),l.editableEditor=h.N("editableEditor"," in a code editor"),l.changeConfigToOnMac=h.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),l.changeConfigToOnWinLinux=h.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),l.auto_on=h.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),l.auto_off=h.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),l.tabFocusModeOnMsg=h.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),l.tabFocusModeOnMsgNoKb=h.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),l.tabFocusModeOffMsg=h.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),l.tabFocusModeOffMsgNoKb=h.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),l.openDocMac=h.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),l.openDocWinLinux=h.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),l.outroMsg=h.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),l.showAccessibilityHelpAction=h.N("showAccessibilityHelpAction","Show Accessibility Help")})(W||(W={}));var k;(function(l){l.inspectTokensAction=h.N("inspectTokens","Developer: Inspect Tokens")})(k||(k={}));var O;(function(l){l.gotoLineActionLabel=h.N("gotoLineActionLabel","Go to Line/Column...")})(O||(O={}));var w;(function(l){l.helpQuickAccessActionLabel=h.N("helpQuickAccess","Show all Quick Access Providers")})(w||(w={}));var G;(function(l){l.quickCommandActionLabel=h.N("quickCommandActionLabel","Command Palette"),l.quickCommandHelp=h.N("quickCommandActionHelp","Show And Run Commands")})(G||(G={}));var x;(function(l){l.quickOutlineActionLabel=h.N("quickOutlineActionLabel","Go to Symbol..."),l.quickOutlineByCategoryActionLabel=h.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(x||(x={}));var N;(function(l){l.editorViewAccessibleLabel=h.N("editorViewAccessibleLabel","Editor content"),l.accessibilityHelpMessage=h.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(N||(N={}));var s;(function(l){l.toggleHighContrast=h.N("toggleHighContrast","Toggle High Contrast Theme")})(s||(s={}));var C;(function(l){l.bulkEditServiceSummary=h.N("bulkEditServiceSummary","Made {0} edits in {1} files")})(C||(C={}))},92550:function(Ct,we,t){"use strict";t.d(we,{Kp:function(){return W},k:function(){return w}});var h=t(97295);class W{constructor(x,N,s,C){this.startColumn=x,this.endColumn=N,this.className=s,this.type=C,this._lineDecorationBrand=void 0}static _equals(x,N){return x.startColumn===N.startColumn&&x.endColumn===N.endColumn&&x.className===N.className&&x.type===N.type}static equalsArr(x,N){const s=x.length,C=N.length;if(s!==C)return!1;for(let l=0;l<s;l++)if(!W._equals(x[l],N[l]))return!1;return!0}static extractWrapped(x,N,s){if(x.length===0)return x;const C=N+1,l=s+1,m=s-N,y=[];let n=0;for(const p of x)p.endColumn<=C||p.startColumn>=l||(y[n++]=new W(Math.max(1,p.startColumn-C+1),Math.min(m+1,p.endColumn-C+1),p.className,p.type));return y}static filter(x,N,s,C){if(x.length===0)return[];let l=[],m=0;for(let y=0,n=x.length;y<n;y++){const p=x[y],f=p.range;if(f.endLineNumber<N||f.startLineNumber>N||f.isEmpty()&&(p.type===0||p.type===3))continue;const v=f.startLineNumber===N?f.startColumn:s,d=f.endLineNumber===N?f.endColumn:C;l[m++]=new W(v,d,p.inlineClassName,p.type)}return l}static _typeCompare(x,N){const s=[2,0,1,3];return s[x]-s[N]}static compare(x,N){if(x.startColumn!==N.startColumn)return x.startColumn-N.startColumn;if(x.endColumn!==N.endColumn)return x.endColumn-N.endColumn;const s=W._typeCompare(x.type,N.type);return s!==0?s:x.className!==N.className?x.className<N.className?-1:1:0}}class k{constructor(x,N,s,C){this.startOffset=x,this.endOffset=N,this.className=s,this.metadata=C}}class O{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(x){let N=0;for(let s=0,C=x.length;s<C;s++)N|=x[s];return N}consumeLowerThan(x,N,s){for(;this.count>0&&this.stopOffsets[0]<x;){let C=0;for(;C+1<this.count&&this.stopOffsets[C]===this.stopOffsets[C+1];)C++;s.push(new k(N,this.stopOffsets[C],this.classNames.join(" "),O._metadata(this.metadata))),N=this.stopOffsets[C]+1,this.stopOffsets.splice(0,C+1),this.classNames.splice(0,C+1),this.metadata.splice(0,C+1),this.count-=C+1}return this.count>0&&N<x&&(s.push(new k(N,x-1,this.classNames.join(" "),O._metadata(this.metadata))),N=x),N}insert(x,N,s){if(this.count===0||this.stopOffsets[this.count-1]<=x)this.stopOffsets.push(x),this.classNames.push(N),this.metadata.push(s);else for(let C=0;C<this.count;C++)if(this.stopOffsets[C]>=x){this.stopOffsets.splice(C,0,x),this.classNames.splice(C,0,N),this.metadata.splice(C,0,s);break}this.count++}}class w{static normalize(x,N){if(N.length===0)return[];let s=[];const C=new O;let l=0;for(let m=0,y=N.length;m<y;m++){const n=N[m];let p=n.startColumn,f=n.endColumn;const v=n.className,d=n.type===1?2:n.type===2?4:0;if(p>1){const c=x.charCodeAt(p-2);h.ZG(c)&&p--}if(f>1){const c=x.charCodeAt(f-2);h.ZG(c)&&f--}const a=p-1,u=f-2;l=C.consumeLowerThan(a,l,s),C.count===0&&(l=a),C.insert(u,v,d)}return C.consumeLowerThan(1073741824,l,s),s}}},77736:function(Ct,we,t){"use strict";t.d(we,{IJ:function(){return G},Nd:function(){return x},d1:function(){return C},tF:function(){return m},zG:function(){return w}});var h=t(97295),W=t(50072),k=t(92550);class O{constructor(R,T,j){this._linePartBrand=void 0,this.endIndex=R,this.type=T,this.metadata=j}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class w{constructor(R,T){this.startOffset=R,this.endOffset=T}equals(R){return this.startOffset===R.startOffset&&this.endOffset===R.endOffset}}class G{constructor(R,T,j,q,ie,ne,he,$,V,z,Q,le,E,I,A,H,Y,X,re){this.useMonospaceOptimizations=R,this.canUseHalfwidthRightwardsArrow=T,this.lineContent=j,this.continuesWithWrappedLine=q,this.isBasicASCII=ie,this.containsRTL=ne,this.fauxIndentLength=he,this.lineTokens=$,this.lineDecorations=V.sort(k.Kp.compare),this.tabSize=z,this.startVisibleColumn=Q,this.spaceWidth=le,this.stopRenderingLineAfter=A,this.renderWhitespace=H==="all"?4:H==="boundary"?1:H==="selection"?2:H==="trailing"?3:0,this.renderControlCharacters=Y,this.fontLigatures=X,this.selectionsOnLine=re&&re.sort((Oe,Ce)=>Oe.startOffset<Ce.startOffset?-1:1);const fe=Math.abs(I-le),ue=Math.abs(E-le);fe<ue?(this.renderSpaceWidth=I,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=E,this.renderSpaceCharCode=183)}sameSelection(R){if(this.selectionsOnLine===null)return R===null;if(R===null||R.length!==this.selectionsOnLine.length)return!1;for(let T=0;T<this.selectionsOnLine.length;T++)if(!this.selectionsOnLine[T].equals(R[T]))return!1;return!0}equals(R){return this.useMonospaceOptimizations===R.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===R.canUseHalfwidthRightwardsArrow&&this.lineContent===R.lineContent&&this.continuesWithWrappedLine===R.continuesWithWrappedLine&&this.isBasicASCII===R.isBasicASCII&&this.containsRTL===R.containsRTL&&this.fauxIndentLength===R.fauxIndentLength&&this.tabSize===R.tabSize&&this.startVisibleColumn===R.startVisibleColumn&&this.spaceWidth===R.spaceWidth&&this.renderSpaceWidth===R.renderSpaceWidth&&this.renderSpaceCharCode===R.renderSpaceCharCode&&this.stopRenderingLineAfter===R.stopRenderingLineAfter&&this.renderWhitespace===R.renderWhitespace&&this.renderControlCharacters===R.renderControlCharacters&&this.fontLigatures===R.fontLigatures&&k.Kp.equalsArr(this.lineDecorations,R.lineDecorations)&&this.lineTokens.equals(R.lineTokens)&&this.sameSelection(R.selectionsOnLine)}}class x{constructor(R,T){this.partIndex=R,this.charIndex=T}}class N{constructor(R,T){this.length=R,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(R){return(R&4294901760)>>>16}static getCharIndex(R){return(R&65535)>>>0}setColumnInfo(R,T,j,q){const ie=(T<<16|j<<0)>>>0;this._data[R-1]=ie,this._absoluteOffsets[R-1]=q+j}getAbsoluteOffset(R){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[R-1]}charOffsetToPartData(R){return this.length===0?0:R<0?this._data[0]:R>=this.length?this._data[this.length-1]:this._data[R]}getDomPosition(R){const T=this.charOffsetToPartData(R-1),j=N.getPartIndex(T),q=N.getCharIndex(T);return new x(j,q)}getColumn(R,T){return this.partDataToCharOffset(R.partIndex,T,R.charIndex)+1}partDataToCharOffset(R,T,j){if(this.length===0)return 0;let q=(R<<16|j<<0)>>>0,ie=0,ne=this.length-1;for(;ie+1<ne;){let A=ie+ne>>>1,H=this._data[A];if(H===q)return A;H>q?ne=A:ie=A}if(ie===ne)return ie;let he=this._data[ie],$=this._data[ne];if(he===q)return ie;if($===q)return ne;let V=N.getPartIndex(he),z=N.getCharIndex(he),Q=N.getPartIndex($),le;V!==Q?le=T:le=N.getCharIndex($);let E=j-z,I=le-j;return E<=I?ie:ne}}class s{constructor(R,T,j){this._renderLineOutputBrand=void 0,this.characterMapping=R,this.containsRTL=T,this.containsForeignElements=j}}function C(L,R){if(L.lineContent.length===0){if(L.lineDecorations.length>0){R.appendASCIIString("<span>");let T=0,j=0,q=0;for(const ne of L.lineDecorations)(ne.type===1||ne.type===2)&&(R.appendASCIIString('<span class="'),R.appendASCIIString(ne.className),R.appendASCIIString('"></span>'),ne.type===1&&(q|=1,T++),ne.type===2&&(q|=2,j++));R.appendASCIIString("</span>");const ie=new N(1,T+j);return ie.setColumnInfo(1,T,0,0),new s(ie,!1,q)}return R.appendASCIIString("<span><span></span></span>"),new s(new N(0,0),!1,0)}return c(n(L),R)}class l{constructor(R,T,j,q){this.characterMapping=R,this.html=T,this.containsRTL=j,this.containsForeignElements=q}}function m(L){let R=(0,W.l$)(1e4),T=C(L,R);return new l(T.characterMapping,R.build(),T.containsRTL,T.containsForeignElements)}class y{constructor(R,T,j,q,ie,ne,he,$,V,z,Q,le,E,I,A){this.fontIsMonospace=R,this.canUseHalfwidthRightwardsArrow=T,this.lineContent=j,this.len=q,this.isOverflowing=ie,this.parts=ne,this.containsForeignElements=he,this.fauxIndentLength=$,this.tabSize=V,this.startVisibleColumn=z,this.containsRTL=Q,this.spaceWidth=le,this.renderSpaceCharCode=E,this.renderWhitespace=I,this.renderControlCharacters=A}}function n(L){const R=L.lineContent;let T,j;L.stopRenderingLineAfter!==-1&&L.stopRenderingLineAfter<R.length?(T=!0,j=L.stopRenderingLineAfter):(T=!1,j=R.length);let q=p(L.lineTokens,L.fauxIndentLength,j);(L.renderWhitespace===4||L.renderWhitespace===1||L.renderWhitespace===2&&L.selectionsOnLine||L.renderWhitespace===3)&&(q=a(L,R,j,q));let ie=0;if(L.lineDecorations.length>0){for(let ne=0,he=L.lineDecorations.length;ne<he;ne++){const $=L.lineDecorations[ne];$.type===3||$.type===1?ie|=1:$.type===2&&(ie|=2)}q=u(R,j,q,L.lineDecorations)}return L.containsRTL||(q=f(R,q,!L.isBasicASCII||L.fontLigatures)),L.renderControlCharacters&&!L.isBasicASCII&&(q=d(R,q)),new y(L.useMonospaceOptimizations,L.canUseHalfwidthRightwardsArrow,R,j,T,q,ie,L.fauxIndentLength,L.tabSize,L.startVisibleColumn,L.containsRTL,L.spaceWidth,L.renderSpaceCharCode,L.renderWhitespace,L.renderControlCharacters)}function p(L,R,T){let j=[],q=0;R>0&&(j[q++]=new O(R,"",0));for(let ie=0,ne=L.getCount();ie<ne;ie++){const he=L.getEndOffset(ie);if(he<=R)continue;const $=L.getClassName(ie);if(he>=T){j[q++]=new O(T,$,0);break}j[q++]=new O(he,$,0)}return j}function f(L,R,T){let j=0,q=[],ie=0;if(T)for(let ne=0,he=R.length;ne<he;ne++){const $=R[ne],V=$.endIndex;if(j+50<V){const z=$.type,Q=$.metadata;let le=-1,E=j;for(let I=j;I<V;I++)L.charCodeAt(I)===32&&(le=I),le!==-1&&I-E>=50&&(q[ie++]=new O(le+1,z,Q),E=le+1,le=-1);E!==V&&(q[ie++]=new O(V,z,Q))}else q[ie++]=$;j=V}else for(let ne=0,he=R.length;ne<he;ne++){const $=R[ne],V=$.endIndex;let z=V-j;if(z>50){const Q=$.type,le=$.metadata,E=Math.ceil(z/50);for(let I=1;I<E;I++){let A=j+I*50;q[ie++]=new O(A,Q,le)}q[ie++]=new O(V,Q,le)}else q[ie++]=$;j=V}return q}function v(L){return L<32?L!==9:L===127||L>=8234&&L<=8238||L>=8294&&L<=8297||L>=8206&&L<=8207||L===1564}function d(L,R){let T=[],j=new O(0,"",0),q=0;for(const ie of R){const ne=ie.endIndex;for(;q<ne;q++){const he=L.charCodeAt(q);v(he)&&(q>j.endIndex&&(j=new O(q,ie.type,ie.metadata),T.push(j)),j=new O(q+1,"mtkcontrol",ie.metadata),T.push(j))}q>j.endIndex&&(j=new O(ne,ie.type,ie.metadata),T.push(j))}return T}function a(L,R,T,j){const q=L.continuesWithWrappedLine,ie=L.fauxIndentLength,ne=L.tabSize,he=L.startVisibleColumn,$=L.useMonospaceOptimizations,V=L.selectionsOnLine,z=L.renderWhitespace===1,Q=L.renderWhitespace===3,le=L.renderSpaceWidth!==L.spaceWidth;let E=[],I=0,A=0,H=j[A].type,Y=j[A].endIndex;const X=j.length;let re=!1,fe=h.LC(R),ue;fe===-1?(re=!0,fe=T,ue=T):ue=h.ow(R);let Oe=!1,Ce=0,oe=V&&V[Ce],ae=he%ne;for(let Ve=ie;Ve<T;Ve++){const se=R.charCodeAt(Ve);oe&&Ve>=oe.endOffset&&(Ce++,oe=V&&V[Ce]);let ce;if(Ve<fe||Ve>ue)ce=!0;else if(se===9)ce=!0;else if(se===32)if(z)if(Oe)ce=!0;else{const Te=Ve+1<T?R.charCodeAt(Ve+1):0;ce=Te===32||Te===9}else ce=!0;else ce=!1;if(ce&&V&&(ce=!!oe&&oe.startOffset<=Ve&&oe.endOffset>Ve),ce&&Q&&(ce=re||Ve>ue),Oe){if(!ce||!$&&ae>=ne){if(le){const Te=I>0?E[I-1].endIndex:ie;for(let xe=Te+1;xe<=Ve;xe++)E[I++]=new O(xe,"mtkw",1)}else E[I++]=new O(Ve,"mtkw",1);ae=ae%ne}}else(Ve===Y||ce&&Ve>ie)&&(E[I++]=new O(Ve,H,0),ae=ae%ne);for(se===9?ae=ne:h.K7(se)?ae+=2:ae++,Oe=ce;Ve===Y&&(A++,A<X);)H=j[A].type,Y=j[A].endIndex}let Be=!1;if(Oe)if(q&&z){let Ve=T>0?R.charCodeAt(T-1):0,se=T>1?R.charCodeAt(T-2):0;Ve===32&&se!==32&&se!==9||(Be=!0)}else Be=!0;if(Be)if(le){const Ve=I>0?E[I-1].endIndex:ie;for(let se=Ve+1;se<=T;se++)E[I++]=new O(se,"mtkw",1)}else E[I++]=new O(T,"mtkw",1);else E[I++]=new O(T,H,0);return E}function u(L,R,T,j){j.sort(k.Kp.compare);const q=k.k.normalize(L,j),ie=q.length;let ne=0,he=[],$=0,V=0;for(let Q=0,le=T.length;Q<le;Q++){const E=T[Q],I=E.endIndex,A=E.type,H=E.metadata;for(;ne<ie&&q[ne].startOffset<I;){const Y=q[ne];if(Y.startOffset>V&&(V=Y.startOffset,he[$++]=new O(V,A,H)),Y.endOffset+1<=I)V=Y.endOffset+1,he[$++]=new O(V,A+" "+Y.className,H|Y.metadata),ne++;else{V=I,he[$++]=new O(V,A+" "+Y.className,H|Y.metadata);break}}I>V&&(V=I,he[$++]=new O(V,A,H))}const z=T[T.length-1].endIndex;if(ne<ie&&q[ne].startOffset===z)for(;ne<ie&&q[ne].startOffset===z;){const Q=q[ne];he[$++]=new O(V,Q.className,Q.metadata),ne++}return he}function c(L,R){const T=L.fontIsMonospace,j=L.canUseHalfwidthRightwardsArrow,q=L.containsForeignElements,ie=L.lineContent,ne=L.len,he=L.isOverflowing,$=L.parts,V=L.fauxIndentLength,z=L.tabSize,Q=L.startVisibleColumn,le=L.containsRTL,E=L.spaceWidth,I=L.renderSpaceCharCode,A=L.renderWhitespace,H=L.renderControlCharacters,Y=new N(ne+1,$.length);let X=!1,re=0,fe=Q,ue=0,Oe=0,Ce=0,oe=0;le?R.appendASCIIString('<span dir="ltr">'):R.appendASCIIString("<span>");for(let ae=0,Be=$.length;ae<Be;ae++){oe+=Ce;const Ve=$[ae],se=Ve.endIndex,ce=Ve.type,Te=A!==0&&Ve.isWhitespace(),xe=Te&&!T&&(ce==="mtkw"||!q),Fe=re===se&&Ve.isPseudoAfter();if(ue=0,R.appendASCIIString('<span class="'),R.appendASCIIString(xe?"mtkz":ce),R.appendASCII(34),Te){let Le=0;{let Me=re,Se=fe;for(;Me<se;Me++){const Ye=(ie.charCodeAt(Me)===9?z-Se%z:1)|0;Le+=Ye,Me>=V&&(Se+=Ye)}}for(xe&&(R.appendASCIIString(' style="width:'),R.appendASCIIString(String(E*Le)),R.appendASCIIString('px"')),R.appendASCII(62);re<se;re++){Y.setColumnInfo(re+1,ae-Oe,ue,oe),Oe=0;const Me=ie.charCodeAt(re);let Se;if(Me===9){Se=z-fe%z|0,!j||Se>1?R.write1(8594):R.write1(65515);for(let ze=2;ze<=Se;ze++)R.write1(160)}else Se=1,R.write1(I);ue+=Se,re>=V&&(fe+=Se)}Ce=Le}else{let Le=0;for(R.appendASCII(62);re<se;re++){Y.setColumnInfo(re+1,ae-Oe,ue,oe),Oe=0;const Me=ie.charCodeAt(re);let Se=1,ze=1;switch(Me){case 9:Se=z-fe%z,ze=Se;for(let Ye=1;Ye<=Se;Ye++)R.write1(160);break;case 32:R.write1(160);break;case 60:R.appendASCIIString("&lt;");break;case 62:R.appendASCIIString("&gt;");break;case 38:R.appendASCIIString("&amp;");break;case 0:H?R.write1(9216):R.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:R.write1(65533);break;default:h.K7(Me)&&ze++,H&&Me<32?R.write1(9216+Me):H&&Me===127?R.write1(9249):H&&v(Me)?(R.appendASCIIString("[U+"),R.appendASCIIString(b(Me)),R.appendASCIIString("]"),Se=8):R.write1(Me)}ue+=Se,Le+=Se,re>=V&&(fe+=ze)}Ce=Le}Fe?Oe++:Oe=0,re>=ne&&!X&&Ve.isPseudoAfter()&&(X=!0,Y.setColumnInfo(re+1,ae,ue,oe)),R.appendASCIIString("</span>")}return X||Y.setColumnInfo(ne+1,$.length-1,ue,oe),he&&R.appendASCIIString("<span>&hellip;</span>"),R.appendASCIIString("</span>"),new s(Y,le,q)}function b(L){return L.toString(16).toUpperCase().padStart(4,"0")}},3544:function(Ct,we,t){"use strict";t.d(we,{T:function(){return W},o:function(){return k}});var h=t(85427);class W{constructor(w,G){this._prefixSumIndexOfResultBrand=void 0,this.index=w,this.remainder=G}}class k{constructor(w){this.values=w,this.prefixSum=new Uint32Array(w.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(w,G){w=(0,h.A)(w);const x=this.values,N=this.prefixSum,s=G.length;return s===0?!1:(this.values=new Uint32Array(x.length+s),this.values.set(x.subarray(0,w),0),this.values.set(x.subarray(w),w+s),this.values.set(G,w),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(N.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(w,G){return w=(0,h.A)(w),G=(0,h.A)(G),this.values[w]===G?!1:(this.values[w]=G,w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),!0)}removeValues(w,G){w=(0,h.A)(w),G=(0,h.A)(G);const x=this.values,N=this.prefixSum;if(w>=x.length)return!1;let s=x.length-w;return G>=s&&(G=s),G===0?!1:(this.values=new Uint32Array(x.length-G),this.values.set(x.subarray(0,w),0),this.values.set(x.subarray(w+G),w),this.prefixSum=new Uint32Array(this.values.length),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(N.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(w){return w<0?0:(w=(0,h.A)(w),this._getPrefixSum(w))}_getPrefixSum(w){if(w<=this.prefixSumValidIndex[0])return this.prefixSum[w];let G=this.prefixSumValidIndex[0]+1;G===0&&(this.prefixSum[0]=this.values[0],G++),w>=this.values.length&&(w=this.values.length-1);for(let x=G;x<=w;x++)this.prefixSum[x]=this.prefixSum[x-1]+this.values[x];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],w),this.prefixSum[w]}getIndexOf(w){w=Math.floor(w),this.getTotalSum();let G=0,x=this.values.length-1,N=0,s=0,C=0;for(;G<=x;)if(N=G+(x-G)/2|0,s=this.prefixSum[N],C=s-this.values[N],w<C)x=N-1;else if(w>=s)G=N+1;else break;return new W(N,w-C)}}},13824:function(Ct,we,t){"use strict";t.d(we,{$l:function(){return y},$t:function(){return l},IP:function(){return s},SQ:function(){return n},Wx:function(){return m},l_:function(){return O},le:function(){return G},ud:function(){return N},wA:function(){return C}});var h=t(97295),W=t(50187),k=t(24314);class O{constructor(f,v,d,a){this._viewportBrand=void 0,this.top=f|0,this.left=v|0,this.width=d|0,this.height=a|0}}class w{constructor(f,v){this.outputLineIndex=f,this.outputOffset=v}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(f,v){const d=this.outputLineIndex>0?v:0;return new W.L(f+this.outputLineIndex,d+this.outputOffset+1)}}class G{constructor(f,v,d,a,u){this.breakOffsets=f,this.breakOffsetsVisibleColumn=v,this.wrappedTextIndentLength=d,this.injectionOffsets=a,this.injectionOptions=u}getInputOffsetOfOutputPosition(f,v){let d=0;if(f===0?d=v:d=this.breakOffsets[f-1]+v,this.injectionOffsets!==null)for(let a=0;a<this.injectionOffsets.length&&d>this.injectionOffsets[a];a++)d<this.injectionOffsets[a]+this.injectionOptions[a].content.length?d=this.injectionOffsets[a]:d-=this.injectionOptions[a].content.length;return d}getOutputPositionOfInputOffset(f,v=2){let d=0;if(this.injectionOffsets!==null)for(let a=0;a<this.injectionOffsets.length&&!(f<this.injectionOffsets[a]||v!==1&&f===this.injectionOffsets[a]);a++)d+=this.injectionOptions[a].content.length;return f+=d,this.getOutputPositionOfOffsetInUnwrappedLine(f,v)}getOutputPositionOfOffsetInUnwrappedLine(f,v=2){let d=0,a=this.breakOffsets.length-1,u=0,c=0;for(;d<=a;){u=d+(a-d)/2|0;const b=this.breakOffsets[u];if(c=u>0?this.breakOffsets[u-1]:0,v===0)if(f<=c)a=u-1;else if(f>b)d=u+1;else break;else if(f<c)a=u-1;else if(f>=b)d=u+1;else break}return new w(u,f-c)}outputPositionToOffsetInUnwrappedLine(f,v){let d=(f>0?this.breakOffsets[f-1]:0)+v;return f>0&&(d-=this.wrappedTextIndentLength),d}normalizeOffsetAroundInjections(f,v){const d=this.getInjectedTextAtOffset(f);if(!d)return f;if(v===2)return f===d.offsetInUnwrappedLine+d.length?d.offsetInUnwrappedLine+d.length:d.offsetInUnwrappedLine;if(v===1){let c=d.offsetInUnwrappedLine+d.length,b=d.injectedTextIndex;for(;b+1<this.injectionOffsets.length&&this.injectionOffsets[b+1]===this.injectionOffsets[b];)c+=this.injectionOptions[b+1].content.length,b++;return c}let a=d.offsetInUnwrappedLine,u=d.injectedTextIndex;for(;u-1>=0&&this.injectionOffsets[u-1]===this.injectionOffsets[u];)a-=this.injectionOptions[u-1].content.length,u++;return a}getInjectedText(f,v){const d=this.outputPositionToOffsetInUnwrappedLine(f,v),a=this.getInjectedTextAtOffset(d);return a?{options:this.injectionOptions[a.injectedTextIndex]}:null}getInjectedTextAtOffset(f){const v=this.injectionOffsets,d=this.injectionOptions;if(v!==null){let a=0;for(let u=0;u<v.length;u++){const c=d[u].content.length,b=v[u]+a,L=v[u]+a+c;if(b>f)break;if(f<=L)return{injectedTextIndex:u,offsetInUnwrappedLine:b,length:c};a+=c}}}}class x{constructor(f){this.options=f}}class N{constructor(f,v){this.tabSize=f,this.data=v}}class s{constructor(f,v,d,a,u,c,b){this._viewLineDataBrand=void 0,this.content=f,this.continuesWithWrappedLine=v,this.minColumn=d,this.maxColumn=a,this.startVisibleColumn=u,this.tokens=c,this.inlineDecorations=b}}class C{constructor(f,v,d,a,u,c,b,L,R,T){this.minColumn=f,this.maxColumn=v,this.content=d,this.continuesWithWrappedLine=a,this.isBasicASCII=C.isBasicASCII(d,c),this.containsRTL=C.containsRTL(d,this.isBasicASCII,u),this.tokens=b,this.inlineDecorations=L,this.tabSize=R,this.startVisibleColumn=T}static isBasicASCII(f,v){return v?h.$i(f):!0}static containsRTL(f,v,d){return!v&&d?h.Ut(f):!1}}class l{constructor(f,v,d){this.range=f,this.inlineClassName=v,this.type=d}}class m{constructor(f,v,d,a){this.startOffset=f,this.endOffset=v,this.inlineClassName=d,this.inlineClassNameAffectsLetterSpacing=a}toInlineDecoration(f){return new l(new k.e(f,this.startOffset+1,f,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class y{constructor(f,v){this._viewModelDecorationBrand=void 0,this.range=f,this.options=v}}class n{constructor(f,v,d){this.color=f,this.zIndex=v,this.data=d}static cmp(f,v){return f.zIndex===v.zIndex?f.color<v.color?-1:f.color>v.color?1:0:f.zIndex-v.zIndex}}},27869:function(Ct,we,t){"use strict";t.d(we,{CE:function(){return I},DD:function(){return d},DS:function(){return ue},Dl:function(){return b},HV:function(){return ce},Jn:function(){return Ce},Kh:function(){return w},L7:function(){return se},Mm:function(){return G},N5:function(){return ne},Qb:function(){return ae},Re:function(){return z},TC:function(){return c},To:function(){return Ve},UP:function(){return A},Vs:function(){return E},YF:function(){return oe},Ym:function(){return p},Yp:function(){return u},eS:function(){return Q},e_:function(){return R},f9:function(){return Te},fY:function(){return m},hw:function(){return f},kp:function(){return j},lK:function(){return V},lS:function(){return Oe},m$:function(){return fe},m1:function(){return Y},m3:function(){return Be},m9:function(){return $},n0:function(){return l},oV:function(){return re},r0:function(){return H},tR:function(){return n},ts:function(){return X},x3:function(){return ie},zJ:function(){return le},zk:function(){return a},zu:function(){return q},zw:function(){return L}});var h=t(63580),W=t(41264),k=t(73910),O=t(97781);const w=(0,k.P6)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},h.N("lineHighlight","Background color for the highlight of line at the cursor position.")),G=(0,k.P6)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},h.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),x=(0,k.P6)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},h.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),N=(0,k.P6)("editor.rangeHighlightBorder",{dark:null,light:null,hc:k.xL},h.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),s=(0,k.P6)("editor.symbolHighlightBackground",{dark:k.MU,light:k.MU,hc:null},h.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),C=(0,k.P6)("editor.symbolHighlightBorder",{dark:null,light:null,hc:k.xL},h.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),l=(0,k.P6)("editorCursor.foreground",{dark:"#AEAFAD",light:W.Il.black,hc:W.Il.white},h.N("caret","Color of the editor cursor.")),m=(0,k.P6)("editorCursor.background",null,h.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),y=(0,k.P6)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},h.N("editorWhitespaces","Color of whitespace characters in the editor.")),n=(0,k.P6)("editorIndentGuide.background",{dark:y,light:y,hc:y},h.N("editorIndentGuides","Color of the editor indentation guides.")),p=(0,k.P6)("editorIndentGuide.activeBackground",{dark:y,light:y,hc:y},h.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),f=(0,k.P6)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:W.Il.white},h.N("editorLineNumbers","Color of editor line numbers.")),v=(0,k.P6)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:k.xL},h.N("editorActiveLineNumber","Color of editor active line number"),!1,h.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),d=(0,k.P6)("editorLineNumber.activeForeground",{dark:v,light:v,hc:v},h.N("editorActiveLineNumber","Color of editor active line number")),a=(0,k.P6)("editorRuler.foreground",{dark:"#5A5A5A",light:W.Il.lightgrey,hc:W.Il.white},h.N("editorRuler","Color of the editor rulers.")),u=(0,k.P6)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},h.N("editorCodeLensForeground","Foreground color of editor CodeLens")),c=(0,k.P6)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},h.N("editorBracketMatchBackground","Background color behind matching brackets")),b=(0,k.P6)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:k.lR},h.N("editorBracketMatchBorder","Color for matching brackets boxes")),L=(0,k.P6)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},h.N("editorOverviewRulerBorder","Color of the overview ruler border.")),R=(0,k.P6)("editorOverviewRuler.background",null,h.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),T=(0,k.P6)("editorGutter.background",{dark:k.cv,light:k.cv,hc:k.cv},h.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),j=(0,k.P6)("editorUnnecessaryCode.border",{dark:null,light:null,hc:W.Il.fromHex("#fff").transparent(.8)},h.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),q=(0,k.P6)("editorUnnecessaryCode.opacity",{dark:W.Il.fromHex("#000a"),light:W.Il.fromHex("#0007"),hc:null},h.N("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),ie=(0,k.P6)("editorGhostText.border",{dark:null,light:null,hc:W.Il.fromHex("#fff").transparent(.8)},h.N("editorGhostTextBorder","Border color of ghost text in the editor.")),ne=(0,k.P6)("editorGhostText.foreground",{dark:W.Il.fromHex("#ffffff56"),light:W.Il.fromHex("#0007"),hc:null},h.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),he=new W.Il(new W.VS(0,122,204,.6)),$=(0,k.P6)("editorOverviewRuler.rangeHighlightForeground",{dark:he,light:he,hc:he},h.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),V=(0,k.P6)("editorOverviewRuler.errorForeground",{dark:new W.Il(new W.VS(255,18,18,.7)),light:new W.Il(new W.VS(255,18,18,.7)),hc:new W.Il(new W.VS(255,50,50,1))},h.N("overviewRuleError","Overview ruler marker color for errors.")),z=(0,k.P6)("editorOverviewRuler.warningForeground",{dark:k.uo,light:k.uo,hc:k.pW},h.N("overviewRuleWarning","Overview ruler marker color for warnings.")),Q=(0,k.P6)("editorOverviewRuler.infoForeground",{dark:k.c6,light:k.c6,hc:k.T8},h.N("overviewRuleInfo","Overview ruler marker color for infos.")),le=(0,k.P6)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},h.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),E=(0,k.P6)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},h.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),I=(0,k.P6)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},h.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),A=(0,k.P6)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),H=(0,k.P6)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Y=(0,k.P6)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),X=(0,k.P6)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new W.Il(new W.VS(255,18,18,.8)),light:new W.Il(new W.VS(255,18,18,.8)),hc:new W.Il(new W.VS(255,50,50,1))},h.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),re=(0,k.P6)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),fe=(0,k.P6)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),ue=(0,k.P6)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Oe=(0,k.P6)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Ce=(0,k.P6)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),oe=(0,k.P6)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ae=(0,k.P6)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Be=(0,k.P6)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Ve=(0,k.P6)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),se=(0,k.P6)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),ce=(0,k.P6)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Te=(0,k.P6)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},h.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,O.Ic)((xe,Fe)=>{const Le=xe.getColor(k.cv);Le&&Fe.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${Le}; }`);const Me=xe.getColor(k.NO);Me&&Fe.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Me}; }`);const Se=xe.getColor(T);Se&&Fe.addRule(`.monaco-editor .margin { background-color: ${Se}; }`);const ze=xe.getColor(x);ze&&Fe.addRule(`.monaco-editor .rangeHighlight { background-color: ${ze}; }`);const Ye=xe.getColor(N);Ye&&Fe.addRule(`.monaco-editor .rangeHighlight { border: 1px ${xe.type==="hc"?"dotted":"solid"} ${Ye}; }`);const qe=xe.getColor(s);qe&&Fe.addRule(`.monaco-editor .symbolHighlight { background-color: ${qe}; }`);const ht=xe.getColor(C);ht&&Fe.addRule(`.monaco-editor .symbolHighlight { border: 1px ${xe.type==="hc"?"dotted":"solid"} ${ht}; }`);const kt=xe.getColor(y);kt&&(Fe.addRule(`.monaco-editor .mtkw { color: ${kt} !important; }`),Fe.addRule(`.monaco-editor .mtkz { color: ${kt} !important; }`))})},92003:function(Ct,we,t){"use strict";t.d(we,{EY:function(){return W},Tj:function(){return k}});class h{constructor(w,G,x){this._colorZoneBrand=void 0,this.from=w|0,this.to=G|0,this.colorId=x|0}static compare(w,G){return w.colorId===G.colorId?w.from===G.from?w.to-G.to:w.from-G.from:w.colorId-G.colorId}}class W{constructor(w,G,x){this._overviewRulerZoneBrand=void 0,this.startLineNumber=w,this.endLineNumber=G,this.color=x,this._colorZone=null}static compare(w,G){return w.color===G.color?w.startLineNumber===G.startLineNumber?w.endLineNumber-G.endLineNumber:w.startLineNumber-G.startLineNumber:w.color<G.color?-1:1}setColorZone(w){this._colorZone=w}getColorZones(){return this._colorZone}}class k{constructor(w){this._getVerticalOffsetForLine=w,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(w){this._zones=w,this._zones.sort(W.compare)}setLineHeight(w){return this._lineHeight===w?!1:(this._lineHeight=w,this._colorZonesInvalid=!0,!0)}setPixelRatio(w){this._pixelRatio=w,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(w){return this._domWidth===w?!1:(this._domWidth=w,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(w){return this._domHeight===w?!1:(this._domHeight=w,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(w){return this._outerHeight===w?!1:(this._outerHeight=w,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const w=this._colorZonesInvalid,G=Math.floor(this._lineHeight),x=Math.floor(this.getCanvasHeight()),N=Math.floor(this._outerHeight),s=x/N,C=Math.floor(4*this._pixelRatio/2);let l=[];for(let m=0,y=this._zones.length;m<y;m++){const n=this._zones[m];if(!w){const b=n.getColorZones();if(b){l.push(b);continue}}const p=Math.floor(s*this._getVerticalOffsetForLine(n.startLineNumber)),f=Math.floor(s*(this._getVerticalOffsetForLine(n.endLineNumber)+G));let v=Math.floor((p+f)/2),d=f-v;d<C&&(d=C),v-d<0&&(v=d),v+d>x&&(v=x-d);const a=n.color;let u=this._color2Id[a];u||(u=++this._lastAssignedId,this._color2Id[a]=u,this._id2Color[u]=a);const c=new h(v-d,v+d,u);n.setColorZone(c),l.push(c)}return this._colorZonesInvalid=!1,l.sort(h.compare),l}}},9730:function(Ct,we,t){"use strict";t.r(we),t.d(we,{SelectionAnchorSet:function(){return m}});var h=t(35996),W=t(59365),k=t(22258),O=t(16830),w=t(3860),G=t(29102),x=t(63580),N=t(38819),s=function(d,a,u,c){var b=arguments.length,L=b<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,u):c,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(d,a,u,c);else for(var T=d.length-1;T>=0;T--)(R=d[T])&&(L=(b<3?R(L):b>3?R(a,u,L):R(a,u))||L);return b>3&&L&&Object.defineProperty(a,u,L),L},C=function(d,a){return function(u,c){a(u,c,d)}},l=function(d,a,u,c){function b(L){return L instanceof u?L:new u(function(R){R(L)})}return new(u||(u=Promise))(function(L,R){function T(ie){try{q(c.next(ie))}catch(ne){R(ne)}}function j(ie){try{q(c.throw(ie))}catch(ne){R(ne)}}function q(ie){ie.done?L(ie.value):b(ie.value).then(T,j)}q((c=c.apply(d,a||[])).next())})};const m=new N.uy("selectionAnchorSet",!1);let y=class gl{constructor(a,u){this.editor=a,this.selectionAnchorSetContextKey=m.bindTo(u),this.modelChangeListener=a.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(a){return a.getContribution(gl.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const a=this.editor.getPosition(),u=this.decorationId?[this.decorationId]:[],c=this.editor.deltaDecorations(u,[{range:w.Y.fromPositions(a,a),options:{description:"selection-anchor",stickiness:1,hoverMessage:new W.W5().appendText((0,x.N)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=c[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,h.Z9)((0,x.N)("anchorSet","Anchor set at {0}:{1}",a.lineNumber,a.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const a=this.editor.getModel().getDecorationRange(this.decorationId);a&&this.editor.setPosition(a.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const a=this.editor.getModel().getDecorationRange(this.decorationId);if(a){const u=this.editor.getPosition();this.editor.setSelection(w.Y.fromPositions(a.getStartPosition(),u)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};y.ID="editor.contrib.selectionAnchorController",y=s([C(1,N.i6)],y);class n extends O.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,x.N)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:G.u.editorTextFocus,primary:(0,k.gx)(2089,2080),weight:100}})}run(a,u){return l(this,void 0,void 0,function*(){y.get(u).setSelectionAnchor()})}}class p extends O.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,x.N)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:m})}run(a,u){return l(this,void 0,void 0,function*(){y.get(u).goToSelectionAnchor()})}}class f extends O.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,x.N)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:m,kbOpts:{kbExpr:G.u.editorTextFocus,primary:(0,k.gx)(2089,2089),weight:100}})}run(a,u){return l(this,void 0,void 0,function*(){y.get(u).selectFromAnchorToCursor()})}}class v extends O.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,x.N)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:m,kbOpts:{kbExpr:G.u.editorTextFocus,primary:9,weight:100}})}run(a,u){return l(this,void 0,void 0,function*(){y.get(u).cancelSelectionAnchor()})}}(0,O._K)(y.ID,y),(0,O.Qr)(n),(0,O.Qr)(p),(0,O.Qr)(f),(0,O.Qr)(v)},18870:function(Ct,we,t){"use strict";t.r(we),t.d(we,{BracketMatchingController:function(){return a}});var h=t(15393),W=t(9917),k=t(16830),O=t(50187),w=t(24314),G=t(3860),x=t(29102),N=t(84973),s=t(24979),C=t(27869),l=t(63580),m=t(84144),y=t(73910),n=t(97781);const p=(0,y.P6)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},l.N("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class f extends k.R6{constructor(){super({id:"editor.action.jumpToBracket",label:l.N("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:x.u.editorTextFocus,primary:3160,weight:100}})}run(c,b){let L=a.get(b);L&&L.jumpToBracket()}}class v extends k.R6{constructor(){super({id:"editor.action.selectToBracket",label:l.N("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(c,b,L){const R=a.get(b);if(!R)return;let T=!0;L&&L.selectBrackets===!1&&(T=!1),R.selectToBracket(T)}}class d{constructor(c,b,L){this.position=c,this.brackets=b,this.options=L}}class a extends W.JT{constructor(c){super(),this._editor=c,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new h.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(63),this._updateBracketsSoon.schedule(),this._register(c.onDidChangeCursorPosition(b=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(c.onDidChangeModelContent(b=>{this._updateBracketsSoon.schedule()})),this._register(c.onDidChangeModel(b=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(c.onDidChangeModelLanguageConfiguration(b=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(c.onDidChangeConfiguration(b=>{b.hasChanged(63)&&(this._matchBrackets=this._editor.getOption(63),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(c.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(c.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(c){return c.getContribution(a.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const c=this._editor.getModel(),b=this._editor.getSelections().map(L=>{const R=L.getStartPosition(),T=c.matchBracket(R);let j=null;if(T)T[0].containsPosition(R)?j=T[1].getStartPosition():T[1].containsPosition(R)&&(j=T[0].getStartPosition());else{const q=c.findEnclosingBrackets(R);if(q)j=q[0].getStartPosition();else{const ie=c.findNextBracket(R);ie&&ie.range&&(j=ie.range.getStartPosition())}}return j?new G.Y(j.lineNumber,j.column,j.lineNumber,j.column):new G.Y(R.lineNumber,R.column,R.lineNumber,R.column)});this._editor.setSelections(b),this._editor.revealRange(b[0])}selectToBracket(c){if(!this._editor.hasModel())return;const b=this._editor.getModel(),L=[];this._editor.getSelections().forEach(R=>{const T=R.getStartPosition();let j=b.matchBracket(T);if(!j&&(j=b.findEnclosingBrackets(T),!j)){const ne=b.findNextBracket(T);ne&&ne.range&&(j=b.matchBracket(ne.range.getStartPosition()))}let q=null,ie=null;if(j){j.sort(w.e.compareRangesUsingStarts);const[ne,he]=j;if(q=c?ne.getStartPosition():ne.getEndPosition(),ie=c?he.getEndPosition():he.getStartPosition(),he.containsPosition(T)){const $=q;q=ie,ie=$}}q&&ie&&L.push(new G.Y(q.lineNumber,q.column,ie.lineNumber,ie.column))}),L.length>0&&(this._editor.setSelections(L),this._editor.revealRange(L[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let c=[],b=0;for(const L of this._lastBracketsData){let R=L.brackets;R&&(c[b++]={range:R[0],options:L.options},c[b++]={range:R[1],options:L.options})}this._decorations=this._editor.deltaDecorations(this._decorations,c)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const c=this._editor.getSelections();if(c.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const b=this._editor.getModel(),L=b.getVersionId();let R=[];this._lastVersionId===L&&(R=this._lastBracketsData);let T=[],j=0;for(let $=0,V=c.length;$<V;$++){let z=c[$];z.isEmpty()&&(T[j++]=z.getStartPosition())}T.length>1&&T.sort(O.L.compare);let q=[],ie=0,ne=0,he=R.length;for(let $=0,V=T.length;$<V;$++){let z=T[$];for(;ne<he&&R[ne].position.isBefore(z);)ne++;if(ne<he&&R[ne].position.equals(z))q[ie++]=R[ne];else{let Q=b.matchBracket(z),le=a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Q&&this._matchBrackets==="always"&&(Q=b.findEnclosingBrackets(z,20),le=a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),q[ie++]=new d(z,Q,le)}}this._lastBracketsData=q,this._lastVersionId=L}}a.ID="editor.contrib.bracketMatchingController",a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=s.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,n.EN)(p),position:N.sh.Center}}),a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=s.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,k._K)(a.ID,a),(0,k.Qr)(v),(0,k.Qr)(f),(0,n.Ic)((u,c)=>{const b=u.getColor(C.TC);b&&c.addRule(`.monaco-editor .bracket-match { background-color: ${b}; }`);const L=u.getColor(C.Dl);L&&c.addRule(`.monaco-editor .bracket-match { border: 1px solid ${L}; }`)}),m.BH.appendMenuItem(m.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:l.N({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},9740:function(Ct,we,t){"use strict";t.r(we);var h=t(16830),W=t(29102),k=t(24314),O=t(3860);class w{constructor(l,m){this._selection=l,this._isMovingLeft=m}getEditOperations(l,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const y=this._selection.startLineNumber,n=this._selection.startColumn,p=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&p===l.getLineMaxColumn(y)))if(this._isMovingLeft){const f=new k.e(y,n-1,y,n),v=l.getValueInRange(f);m.addEditOperation(f,null),m.addEditOperation(new k.e(y,p,y,p),v)}else{const f=new k.e(y,p,y,p+1),v=l.getValueInRange(f);m.addEditOperation(f,null),m.addEditOperation(new k.e(y,n,y,n),v)}}computeCursorState(l,m){return this._isMovingLeft?new O.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new O.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var G=t(63580);class x extends h.R6{constructor(l,m){super(m),this.left=l}run(l,m){if(!m.hasModel())return;let y=[],n=m.getSelections();for(const p of n)y.push(new w(p,this.left));m.pushUndoStop(),m.executeCommands(this.id,y),m.pushUndoStop()}}class N extends x{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:G.N("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:W.u.writable})}}class s extends x{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:G.N("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:W.u.writable})}}(0,h.Qr)(N),(0,h.Qr)(s)},77847:function(Ct,we,t){"use strict";t.r(we);var h=t(16830),W=t(61329),k=t(88784),O=t(24314),w=t(29102),G=t(63580);class x extends h.R6{constructor(){super({id:"editor.action.transposeLetters",label:G.N("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:w.u.writable,kbOpts:{kbExpr:w.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(s,C){if(!C.hasModel())return;let l=C.getModel(),m=[],y=C.getSelections();for(let n of y){if(!n.isEmpty())continue;let p=n.startLineNumber,f=n.startColumn,v=l.getLineMaxColumn(p);if(p===1&&(f===1||f===2&&v===2))continue;let d=f===v?n.getPosition():k.o.rightPosition(l,n.getPosition().lineNumber,n.getPosition().column),a=k.o.leftPosition(l,d),u=k.o.leftPosition(l,a),c=l.getValueInRange(O.e.fromPositions(u,a)),b=l.getValueInRange(O.e.fromPositions(a,d)),L=O.e.fromPositions(u,d);m.push(new W.T4(L,b+c))}m.length>0&&(C.pushUndoStop(),C.executeCommands(this.id,m),C.pushUndoStop())}}(0,h.Qr)(x)},62015:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CopyAction:function(){return v},CutAction:function(){return f},PasteAction:function(){return d}});var h=t(16268),W=t(1432),k=t(35715),O=t(16830),w=t(11640),G=t(29102),x=t(63580),N=t(84144),s=t(84972),C=function(c,b,L,R){function T(j){return j instanceof L?j:new L(function(q){q(j)})}return new(L||(L=Promise))(function(j,q){function ie($){try{he(R.next($))}catch(V){q(V)}}function ne($){try{he(R.throw($))}catch(V){q(V)}}function he($){$.done?j($.value):T($.value).then(ie,ne)}he((R=R.apply(c,b||[])).next())})};const l="9_cutcopypaste",m=W.tY||document.queryCommandSupported("cut"),y=W.tY||document.queryCommandSupported("copy"),n=typeof navigator.clipboard=="undefined"||h.vU?document.queryCommandSupported("paste"):!0;function p(c){return c.register(),c}const f=m?p(new O.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:W.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:N.eH.MenubarEditMenu,group:"2_ccp",title:x.N({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:N.eH.EditorContext,group:l,title:x.N("actions.clipboard.cutLabel","Cut"),when:G.u.writable,order:1},{menuId:N.eH.CommandPalette,group:"",title:x.N("actions.clipboard.cutLabel","Cut"),order:1},{menuId:N.eH.SimpleEditorContext,group:l,title:x.N("actions.clipboard.cutLabel","Cut"),when:G.u.writable,order:1}]})):void 0,v=y?p(new O.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:W.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:N.eH.MenubarEditMenu,group:"2_ccp",title:x.N({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:N.eH.EditorContext,group:l,title:x.N("actions.clipboard.copyLabel","Copy"),order:2},{menuId:N.eH.CommandPalette,group:"",title:x.N("actions.clipboard.copyLabel","Copy"),order:1},{menuId:N.eH.SimpleEditorContext,group:l,title:x.N("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;N.BH.appendMenuItem(N.eH.MenubarEditMenu,{submenu:N.eH.MenubarCopy,title:{value:x.N("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),N.BH.appendMenuItem(N.eH.EditorContext,{submenu:N.eH.EditorContextCopy,title:{value:x.N("copy as","Copy As"),original:"Copy As"},group:l,order:3});const d=n?p(new O.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:W.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:N.eH.MenubarEditMenu,group:"2_ccp",title:x.N({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:N.eH.EditorContext,group:l,title:x.N("actions.clipboard.pasteLabel","Paste"),when:G.u.writable,order:4},{menuId:N.eH.CommandPalette,group:"",title:x.N("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:N.eH.SimpleEditorContext,group:l,title:x.N("actions.clipboard.pasteLabel","Paste"),when:G.u.writable,order:4}]})):void 0;class a extends O.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:x.N("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:G.u.textInputFocus,primary:0,weight:100}})}run(b,L){!L.hasModel()||!L.getOption(32)&&L.getSelection().isEmpty()||(k.RA.forceCopyWithSyntaxHighlighting=!0,L.focus(),document.execCommand("copy"),k.RA.forceCopyWithSyntaxHighlighting=!1)}}function u(c,b){c&&(c.addImplementation(1e4,"code-editor",(L,R)=>{const T=L.get(w.$).getFocusedCodeEditor();if(T&&T.hasTextFocus()){const j=T.getOption(32),q=T.getSelection();return q&&q.isEmpty()&&!j||document.execCommand(b),!0}return!1}),c.addImplementation(0,"generic-dom",(L,R)=>(document.execCommand(b),!0)))}u(f,"cut"),u(v,"copy"),d&&(d.addImplementation(1e4,"code-editor",(c,b)=>{const L=c.get(w.$),R=c.get(s.p),T=L.getFocusedCodeEditor();return T&&T.hasTextFocus()?!document.execCommand("paste")&&W.$L?(()=>C(void 0,void 0,void 0,function*(){const q=yield R.readText();if(q!==""){const ie=k.Nl.INSTANCE.get(q);let ne=!1,he=null,$=null;ie&&(ne=T.getOption(32)&&!!ie.isFromEmptySelection,he=typeof ie.multicursorText!="undefined"?ie.multicursorText:null,$=ie.mode),T.trigger("keyboard","paste",{text:q,pasteOnNewLine:ne,multicursorText:he,mode:$})}}))():!0:!1}),d.addImplementation(0,"generic-dom",(c,b)=>(document.execCommand("paste"),!0))),y&&(0,O.Qr)(a)},31907:function(Ct,we,t){"use strict";t.d(we,{Bb:function(){return f},MN:function(){return v},RB:function(){return p},TM:function(){return a},aI:function(){return L},bA:function(){return u},uH:function(){return d}});var h=t(9488),W=t(71050),k=t(17301),O=t(9917),w=t(70666),G=t(55812),x=t(24314),N=t(3860),s=t(60303),C=t(51200),l=t(94565),m=t(90535),y=t(89532),n=function(j,q,ie,ne){function he($){return $ instanceof ie?$:new ie(function(V){V($)})}return new(ie||(ie=Promise))(function($,V){function z(E){try{le(ne.next(E))}catch(I){V(I)}}function Q(E){try{le(ne.throw(E))}catch(I){V(I)}}function le(E){E.done?$(E.value):he(E.value).then(z,Q)}le((ne=ne.apply(j,q||[])).next())})};const p="editor.action.codeAction",f="editor.action.refactor",v="editor.action.sourceAction",d="editor.action.organizeImports",a="editor.action.fixAll";class u{constructor(q,ie){this.action=q,this.provider=ie}resolve(q){var ie;return n(this,void 0,void 0,function*(){if(!((ie=this.provider)===null||ie===void 0)&&ie.resolveCodeAction&&!this.action.edit){let ne;try{ne=yield this.provider.resolveCodeAction(this.action,q)}catch(he){(0,k.Cp)(he)}ne&&(this.action.edit=ne.edit)}return this})}}class c extends O.JT{constructor(q,ie,ne){super(),this.documentation=ie,this._register(ne),this.allActions=[...q].sort(c.codeActionsComparator),this.validActions=this.allActions.filter(({action:he})=>!he.disabled)}static codeActionsComparator({action:q},{action:ie}){return q.isPreferred&&!ie.isPreferred?-1:!q.isPreferred&&ie.isPreferred?1:(0,h.Of)(q.diagnostics)?(0,h.Of)(ie.diagnostics)?q.diagnostics[0].message.localeCompare(ie.diagnostics[0].message):-1:(0,h.Of)(ie.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:q})=>!!q.kind&&y.yN.QuickFix.contains(new y.yN(q.kind))&&!!q.isPreferred)}}const b={actions:[],documentation:void 0};function L(j,q,ie,ne,he){var $;const V=ie.filter||{},z={only:($=V.include)===null||$===void 0?void 0:$.value,trigger:ie.type},Q=new G.YQ(j,he),le=R(j,V),E=new O.SL,I=le.map(H=>n(this,void 0,void 0,function*(){try{ne.report(H);const Y=yield H.provideCodeActions(j,q,z,Q.token);if(Y&&E.add(Y),Q.token.isCancellationRequested)return b;const X=((Y==null?void 0:Y.actions)||[]).filter(fe=>fe&&(0,y.Yl)(V,fe)),re=T(H,X,V.include);return{actions:X.map(fe=>new u(fe,H)),documentation:re}}catch(Y){if((0,k.VV)(Y))throw Y;return(0,k.Cp)(Y),b}})),A=s.H9.onDidChange(()=>{const H=s.H9.all(j);(0,h.fS)(H,le)||Q.cancel()});return Promise.all(I).then(H=>{const Y=(0,h.xH)(H.map(re=>re.actions)),X=(0,h.kX)(H.map(re=>re.documentation));return new c(Y,X,E)}).finally(()=>{A.dispose(),Q.dispose()})}function R(j,q){return s.H9.all(j).filter(ie=>ie.providedCodeActionKinds?ie.providedCodeActionKinds.some(ne=>(0,y.EU)(q,new y.yN(ne))):!0)}function T(j,q,ie){if(!j.documentation)return;const ne=j.documentation.map(he=>({kind:new y.yN(he.kind),command:he.command}));if(ie){let he;for(const $ of ne)$.kind.contains(ie)&&(he?he.kind.contains($.kind)&&(he=$):he=$);if(he)return he==null?void 0:he.command}for(const he of q)if(he.kind){for(const $ of ne)if($.kind.contains(new y.yN(he.kind)))return $.command}}l.P.registerCommand("_executeCodeActionProvider",function(j,q,ie,ne,he){return n(this,void 0,void 0,function*(){if(!(q instanceof w.o))throw(0,k.b1)();const $=j.get(C.q).getModel(q);if(!$)throw(0,k.b1)();const V=N.Y.isISelection(ie)?N.Y.liftSelection(ie):x.e.isIRange(ie)?$.validateRange(ie):void 0;if(!V)throw(0,k.b1)();const z=typeof ne=="string"?new y.yN(ne):void 0,Q=yield L($,V,{type:1,filter:{includeSourceActions:!0,include:z}},m.E.None,W.T.None),le=[],E=Math.min(Q.validActions.length,typeof he=="number"?he:0);for(let I=0;I<E;I++)le.push(Q.validActions[I].resolve(W.T.None));try{return yield Promise.all(le),Q.validActions.map(I=>I.action)}finally{setTimeout(()=>Q.dispose(),100)}})})},67538:function(Ct,we,t){"use strict";t.d(we,{S5:function(){return Ii},dW:function(){return oi},Hv:function(){return Ti},o$:function(){return Di},E7:function(){return Bt},pY:function(){return Ze},Eb:function(){return ni},VQ:function(){return hi}});var h=t(71050);class W{constructor(Pt){this.executor=Pt,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(Pt){this._error=Pt}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var k=t(9917),O=t(97295),w=t(16830),G=t(66007),x=t(29102),N=t(31907),s=t(17301),C=t(53641),l=t(72065),m=t(65321),y=t(74741),n=t(50187),p=t(60303),f=t(89532),v=t(5606),d=t(91847),a=function(ai,Pt,Gt,ot){var mt=arguments.length,ft=mt<3?Pt:ot===null?ot=Object.getOwnPropertyDescriptor(Pt,Gt):ot,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ft=Reflect.decorate(ai,Pt,Gt,ot);else for(var Ge=ai.length-1;Ge>=0;Ge--)(Xe=ai[Ge])&&(ft=(mt<3?Xe(ft):mt>3?Xe(Pt,Gt,ft):Xe(Pt,Gt))||ft);return mt>3&&ft&&Object.defineProperty(Pt,Gt,ft),ft},u=function(ai,Pt){return function(Gt,ot){Pt(Gt,ot,ai)}},c=function(ai,Pt,Gt,ot){function mt(ft){return ft instanceof Gt?ft:new Gt(function(Xe){Xe(ft)})}return new(Gt||(Gt=Promise))(function(ft,Xe){function Ge(je){try{Pe(ot.next(je))}catch(dt){Xe(dt)}}function Ie(je){try{Pe(ot.throw(je))}catch(dt){Xe(dt)}}function Pe(je){je.done?ft(je.value):mt(je.value).then(Ge,Ie)}Pe((ot=ot.apply(ai,Pt||[])).next())})};class b extends y.aU{constructor(Pt,Gt){super(Pt.command?Pt.command.id:Pt.title,L(Pt.title),void 0,!Pt.disabled,Gt),this.action=Pt}}function L(ai){return ai.replace(/\r\n|\r|\n/g," ")}let R=class extends k.JT{constructor(Pt,Gt,ot,mt){super(),this._editor=Pt,this._delegate=Gt,this._contextMenuService=ot,this._visible=!1,this._showingActions=this._register(new k.XK),this._keybindingResolver=new T({getKeybindings:()=>mt.getKeybindings()})}get isVisible(){return this._visible}show(Pt,Gt,ot,mt){return c(this,void 0,void 0,function*(){const ft=mt.includeDisabledActions?Gt.allActions:Gt.validActions;if(!ft.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,s.F0)();this._visible=!0,this._showingActions.value=Gt;const Xe=this.getMenuActions(Pt,ft,Gt.documentation),Ge=n.L.isIPosition(ot)?this._toCoords(ot):ot||{x:0,y:0},Ie=this._keybindingResolver.getResolver(),Pe=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:Pe?this._editor.getDomNode():void 0,getAnchor:()=>Ge,getActions:()=>Xe,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:je=>je instanceof b?Ie(je.action):void 0})})}getMenuActions(Pt,Gt,ot){var mt,ft;const Xe=je=>new b(je.action,()=>this._delegate.onSelectCodeAction(je)),Ge=Gt.map(Xe),Ie=[...ot],Pe=this._editor.getModel();if(Pe&&Ge.length)for(const je of p.H9.all(Pe))je._getAdditionalMenuItems&&Ie.push(...je._getAdditionalMenuItems({trigger:Pt.type,only:(ft=(mt=Pt.filter)===null||mt===void 0?void 0:mt.include)===null||ft===void 0?void 0:ft.value},Gt.map(dt=>dt.action)));return Ie.length&&Ge.push(new y.Z0,...Ie.map(je=>Xe(new N.bA({title:je.title,command:je},void 0)))),Ge}_toCoords(Pt){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Pt,1),this._editor.render();const Gt=this._editor.getScrolledVisiblePosition(Pt),ot=(0,m.i)(this._editor.getDomNode()),mt=ot.left+Gt.left,ft=ot.top+Gt.top+Gt.height;return{x:mt,y:ft}}};R=a([u(2,v.i),u(3,d.d)],R);class T{constructor(Pt){this._keybindingProvider=Pt}getResolver(){const Pt=new W(()=>this._keybindingProvider.getKeybindings().filter(Gt=>T.codeActionCommands.indexOf(Gt.command)>=0).filter(Gt=>Gt.resolvedKeybinding).map(Gt=>{let ot=Gt.commandArgs;return Gt.command===N.uH?ot={kind:f.yN.SourceOrganizeImports.value}:Gt.command===N.TM&&(ot={kind:f.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:Gt.resolvedKeybinding},f.wZ.fromUser(ot,{kind:f.yN.None,apply:"never"}))}));return Gt=>{if(Gt.kind){const ot=this.bestKeybindingForCodeAction(Gt,Pt.getValue());return ot==null?void 0:ot.resolvedKeybinding}}}bestKeybindingForCodeAction(Pt,Gt){if(!Pt.kind)return;const ot=new f.yN(Pt.kind);return Gt.filter(mt=>mt.kind.contains(ot)).filter(mt=>mt.preferred?Pt.isPreferred:!0).reduceRight((mt,ft)=>mt?mt.kind.contains(ft.kind)?ft:mt:ft,void 0)}}T.codeActionCommands=[N.Bb,N.RB,N.MN,N.uH,N.TM];var j=t(57974),q=t(10553),ie=t(73046),ne=t(4669),he=t(24979),$=t(63580),V=t(73910),z=t(97781),Q=function(ai,Pt,Gt,ot){var mt=arguments.length,ft=mt<3?Pt:ot===null?ot=Object.getOwnPropertyDescriptor(Pt,Gt):ot,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ft=Reflect.decorate(ai,Pt,Gt,ot);else for(var Ge=ai.length-1;Ge>=0;Ge--)(Xe=ai[Ge])&&(ft=(mt<3?Xe(ft):mt>3?Xe(Pt,Gt,ft):Xe(Pt,Gt))||ft);return mt>3&&ft&&Object.defineProperty(Pt,Gt,ft),ft},le=function(ai,Pt){return function(Gt,ot){Pt(Gt,ot,ai)}},E;(function(ai){ai.Hidden={type:0};class Pt{constructor(ot,mt,ft,Xe){this.actions=ot,this.trigger=mt,this.editorPosition=ft,this.widgetPosition=Xe,this.type=1}}ai.Showing=Pt})(E||(E={}));let I=class ml extends k.JT{constructor(Pt,Gt,ot,mt){super(),this._editor=Pt,this._quickFixActionId=Gt,this._preferredFixActionId=ot,this._keybindingService=mt,this._onClick=this._register(new ne.Q5),this.onClick=this._onClick.event,this._state=E.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ie.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(ft=>{const Xe=this._editor.getModel();(this.state.type!==1||!Xe||this.state.editorPosition.lineNumber>=Xe.getLineCount())&&this.hide()})),q.o.ignoreTarget(this._domNode),this._register(m.Gw(this._domNode,ft=>{if(this.state.type!==1)return;this._editor.focus(),ft.preventDefault();const{top:Xe,height:Ge}=m.i(this._domNode),Ie=this._editor.getOption(58);let Pe=Math.floor(Ie/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(Pe+=Ie),this._onClick.fire({x:ft.posx,y:Xe+Ge+Pe,actions:this.state.actions,trigger:this.state.trigger})})),this._register(m.nm(this._domNode,"mouseenter",ft=>{if((ft.buttons&1)!==1)return;this.hide();const Xe=new j.Z;Xe.startMonitoring(ft.target,ft.buttons,j.e,()=>{},()=>{Xe.dispose()})})),this._register(this._editor.onDidChangeConfiguration(ft=>{ft.hasChanged(56)&&!this._editor.getOption(56).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(Pt,Gt,ot){if(Pt.validActions.length<=0)return this.hide();const mt=this._editor.getOptions();if(!mt.get(56).enabled)return this.hide();const ft=this._editor.getModel();if(!ft)return this.hide();const{lineNumber:Xe,column:Ge}=ft.validatePosition(ot),Ie=ft.getOptions().tabSize,Pe=mt.get(43),je=ft.getLineContent(Xe),dt=he.yO.computeIndentLevel(je,Ie),Nt=Pe.spaceWidth*dt>22,$t=Ci=>Ci>2&&this._editor.getTopForLineNumber(Ci)===this._editor.getTopForLineNumber(Ci-1);let Xt=Xe;if(!Nt){if(Xe>1&&!$t(Xe-1))Xt-=1;else if(!$t(Xe+1))Xt+=1;else if(Ge*Pe.spaceWidth<22)return this.hide()}this.state=new E.Showing(Pt,Gt,ot,{position:{lineNumber:Xt,column:1},preference:ml._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=E.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(Pt){this._state=Pt,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ie.lA.lightBulb.classNamesArray),this._domNode.classList.add(...ie.lA.lightbulbAutofix.classNamesArray);const Gt=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(Gt){this.title=$.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",Gt.getLabel());return}}this._domNode.classList.remove(...ie.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ie.lA.lightBulb.classNamesArray);const Pt=this._keybindingService.lookupKeybinding(this._quickFixActionId);Pt?this.title=$.N("codeActionWithKb","Show Code Actions ({0})",Pt.getLabel()):this.title=$.N("codeAction","Show Code Actions")}set title(Pt){this._domNode.title=Pt}};I._posPref=[0],I=Q([le(3,d.d)],I),(0,z.Ic)((ai,Pt)=>{var Gt;const ot=(Gt=ai.getColor(V.cv))===null||Gt===void 0?void 0:Gt.transparent(.7),mt=ai.getColor(V.Fu);mt&&Pt.addRule(`
		.monaco-editor .contentWidgets ${ie.lA.lightBulb.cssSelector} {
			color: ${mt};
			background-color: ${ot};
		}`);const ft=ai.getColor(V.sK);ft&&Pt.addRule(`
		.monaco-editor .contentWidgets ${ie.lA.lightbulbAutofix.cssSelector} {
			color: ${ft};
			background-color: ${ot};
		}`)});var A=function(ai,Pt,Gt,ot){var mt=arguments.length,ft=mt<3?Pt:ot===null?ot=Object.getOwnPropertyDescriptor(Pt,Gt):ot,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ft=Reflect.decorate(ai,Pt,Gt,ot);else for(var Ge=ai.length-1;Ge>=0;Ge--)(Xe=ai[Ge])&&(ft=(mt<3?Xe(ft):mt>3?Xe(Pt,Gt,ft):Xe(Pt,Gt))||ft);return mt>3&&ft&&Object.defineProperty(Pt,Gt,ft),ft},H=function(ai,Pt){return function(Gt,ot){Pt(Gt,ot,ai)}},Y=function(ai,Pt,Gt,ot){function mt(ft){return ft instanceof Gt?ft:new Gt(function(Xe){Xe(ft)})}return new(Gt||(Gt=Promise))(function(ft,Xe){function Ge(je){try{Pe(ot.next(je))}catch(dt){Xe(dt)}}function Ie(je){try{Pe(ot.throw(je))}catch(dt){Xe(dt)}}function Pe(je){je.done?ft(je.value):mt(je.value).then(Ge,Ie)}Pe((ot=ot.apply(ai,Pt||[])).next())})},X=function(ai,Pt,Gt,ot,mt){if(ot==="m")throw new TypeError("Private method is not writable");if(ot==="a"&&!mt)throw new TypeError("Private accessor was defined without a setter");if(typeof Pt=="function"?ai!==Pt||!mt:!Pt.has(ai))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ot==="a"?mt.call(ai,Gt):mt?mt.value=Gt:Pt.set(ai,Gt),Gt},re=function(ai,Pt,Gt,ot){if(Gt==="a"&&!ot)throw new TypeError("Private accessor was defined without a getter");if(typeof Pt=="function"?ai!==Pt||!ot:!Pt.has(ai))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Gt==="m"?ot:Gt==="a"?ot.call(ai):ot?ot.value:Pt.get(ai)},fe;let ue=class extends k.JT{constructor(Pt,Gt,ot,mt,ft){super(),this._editor=Pt,this.delegate=mt,this._activeCodeActions=this._register(new k.XK),fe.set(this,!1),this._codeActionWidget=new W(()=>this._register(ft.createInstance(R,this._editor,{onSelectCodeAction:Xe=>Y(this,void 0,void 0,function*(){this.delegate.applyCodeAction(Xe,!0)})}))),this._lightBulbWidget=new W(()=>{const Xe=this._register(ft.createInstance(I,this._editor,Gt,ot));return this._register(Xe.onClick(Ge=>this.showCodeActionList(Ge.trigger,Ge.actions,Ge,{includeDisabledActions:!1}))),Xe})}dispose(){X(this,fe,!0,"f"),super.dispose()}update(Pt){var Gt,ot,mt;return Y(this,void 0,void 0,function*(){if(Pt.type!==1){(Gt=this._lightBulbWidget.rawValue)===null||Gt===void 0||Gt.hide();return}let ft;try{ft=yield Pt.actions}catch(Xe){(0,s.dL)(Xe);return}if(!re(this,fe,"f"))if(this._lightBulbWidget.getValue().update(ft,Pt.trigger,Pt.position),Pt.trigger.type===1){if(!((ot=Pt.trigger.filter)===null||ot===void 0)&&ot.include){const Ge=this.tryGetValidActionToApply(Pt.trigger,ft);if(Ge){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(Ge,!1)}finally{ft.dispose()}return}if(Pt.trigger.context){const Ie=this.getInvalidActionThatWouldHaveBeenApplied(Pt.trigger,ft);if(Ie&&Ie.action.disabled){C.O.get(this._editor).showMessage(Ie.action.disabled,Pt.trigger.context.position),ft.dispose();return}}}const Xe=!!(!((mt=Pt.trigger.filter)===null||mt===void 0)&&mt.include);if(Pt.trigger.context&&(!ft.allActions.length||!Xe&&!ft.validActions.length)){C.O.get(this._editor).showMessage(Pt.trigger.context.notAvailableMessage,Pt.trigger.context.position),this._activeCodeActions.value=ft,ft.dispose();return}this._activeCodeActions.value=ft,this._codeActionWidget.getValue().show(Pt.trigger,ft,Pt.position,{includeDisabledActions:Xe})}else this._codeActionWidget.getValue().isVisible?ft.dispose():this._activeCodeActions.value=ft})}getInvalidActionThatWouldHaveBeenApplied(Pt,Gt){if(Gt.allActions.length&&(Pt.autoApply==="first"&&Gt.validActions.length===0||Pt.autoApply==="ifSingle"&&Gt.allActions.length===1))return Gt.allActions.find(({action:ot})=>ot.disabled)}tryGetValidActionToApply(Pt,Gt){if(Gt.validActions.length&&(Pt.autoApply==="first"&&Gt.validActions.length>0||Pt.autoApply==="ifSingle"&&Gt.validActions.length===1))return Gt.validActions[0]}showCodeActionList(Pt,Gt,ot,mt){return Y(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(Pt,Gt,ot,mt)})}};fe=new WeakMap,ue=A([H(4,l.TG)],ue);var Oe=t(94565),Ce=t(38819),oe=t(98674),ae=t(59422),Be=t(90535),Ve=t(10829),se=t(15393),ce=t(95935),Te=t(24314),xe=function(ai,Pt,Gt,ot){if(Gt==="a"&&!ot)throw new TypeError("Private accessor was defined without a getter");if(typeof Pt=="function"?ai!==Pt||!ot:!Pt.has(ai))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Gt==="m"?ot:Gt==="a"?ot.call(ai):ot?ot.value:Pt.get(ai)},Fe=function(ai,Pt,Gt,ot,mt){if(ot==="m")throw new TypeError("Private method is not writable");if(ot==="a"&&!mt)throw new TypeError("Private accessor was defined without a setter");if(typeof Pt=="function"?ai!==Pt||!mt:!Pt.has(ai))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ot==="a"?mt.call(ai,Gt):mt?mt.value=Gt:Pt.set(ai,Gt),Gt},Le;const Me=new Ce.uy("supportedCodeAction","");class Se extends k.JT{constructor(Pt,Gt,ot,mt=250){super(),this._editor=Pt,this._markerService=Gt,this._signalChange=ot,this._delay=mt,this._autoTriggerTimer=this._register(new se._F),this._register(this._markerService.onMarkerChanged(ft=>this._onMarkerChanges(ft))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(Pt){const Gt=this._getRangeOfSelectionUnlessWhitespaceEnclosed(Pt);return this._createEventAndSignalChange(Pt,Gt)}_onMarkerChanges(Pt){const Gt=this._editor.getModel();Gt&&Pt.some(ot=>(0,ce.Xy)(ot,Gt.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(Pt){const Gt=this._editor.getModel();if(Gt)for(const ot of this._markerService.read({resource:Gt.uri})){const mt=Gt.validateRange(ot);if(Te.e.intersectRanges(mt,Pt))return Te.e.lift(mt)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(Pt){if(!this._editor.hasModel())return;const Gt=this._editor.getModel(),ot=this._editor.getSelection();if(ot.isEmpty()&&Pt.type===2){const{lineNumber:mt,column:ft}=ot.getPosition(),Xe=Gt.getLineContent(mt);if(Xe.length===0)return;if(ft===1){if(/\s/.test(Xe[0]))return}else if(ft===Gt.getLineMaxColumn(mt)){if(/\s/.test(Xe[Xe.length-1]))return}else if(/\s/.test(Xe[ft-2])&&/\s/.test(Xe[ft-1]))return}return ot}_createEventAndSignalChange(Pt,Gt){const ot=this._editor.getModel();if(!Gt||!ot){this._signalChange(void 0);return}const mt=this._getRangeOfMarker(Gt),ft=mt?mt.getStartPosition():Gt.getStartPosition(),Xe={trigger:Pt,selection:Gt,position:ft};return this._signalChange(Xe),Xe}}var ze;(function(ai){ai.Empty={type:0};class Pt{constructor(ot,mt,ft,Xe){this.trigger=ot,this.rangeOrSelection=mt,this.position=ft,this._cancellablePromise=Xe,this.type=1,this.actions=Xe.catch(Ge=>{if((0,s.VV)(Ge))return Ye;throw Ge})}cancel(){this._cancellablePromise.cancel()}}ai.Triggered=Pt})(ze||(ze={}));const Ye={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class qe extends k.JT{constructor(Pt,Gt,ot,mt){super(),this._editor=Pt,this._markerService=Gt,this._progressService=mt,this._codeActionOracle=this._register(new k.XK),this._state=ze.Empty,this._onDidChangeState=this._register(new ne.Q5),this.onDidChangeState=this._onDidChangeState.event,Le.set(this,!1),this._supportedCodeActions=Me.bindTo(ot),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(p.H9.onDidChange(()=>this._update())),this._update()}dispose(){xe(this,Le,"f")||(Fe(this,Le,!0,"f"),super.dispose(),this.setState(ze.Empty,!0))}_update(){if(xe(this,Le,"f"))return;this._codeActionOracle.value=void 0,this.setState(ze.Empty);const Pt=this._editor.getModel();if(Pt&&p.H9.has(Pt)&&!this._editor.getOption(80)){const Gt=[];for(const ot of p.H9.all(Pt))Array.isArray(ot.providedCodeActionKinds)&&Gt.push(...ot.providedCodeActionKinds);this._supportedCodeActions.set(Gt.join(" ")),this._codeActionOracle.value=new Se(this._editor,this._markerService,ot=>{var mt;if(!ot){this.setState(ze.Empty);return}const ft=(0,se.PG)(Xe=>(0,N.aI)(Pt,ot.selection,ot.trigger,Be.E.None,Xe));ot.trigger.type===1&&((mt=this._progressService)===null||mt===void 0||mt.showWhile(ft,250)),this.setState(new ze.Triggered(ot.trigger,ot.selection,ot.position,ft))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(Pt){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(Pt)}setState(Pt,Gt){Pt!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=Pt,!Gt&&!xe(this,Le,"f")&&this._onDidChangeState.fire(Pt))}}Le=new WeakMap;var ht=function(ai,Pt,Gt,ot){var mt=arguments.length,ft=mt<3?Pt:ot===null?ot=Object.getOwnPropertyDescriptor(Pt,Gt):ot,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ft=Reflect.decorate(ai,Pt,Gt,ot);else for(var Ge=ai.length-1;Ge>=0;Ge--)(Xe=ai[Ge])&&(ft=(mt<3?Xe(ft):mt>3?Xe(Pt,Gt,ft):Xe(Pt,Gt))||ft);return mt>3&&ft&&Object.defineProperty(Pt,Gt,ft),ft},kt=function(ai,Pt){return function(Gt,ot){Pt(Gt,ot,ai)}},zt=function(ai,Pt,Gt,ot){function mt(ft){return ft instanceof Gt?ft:new Gt(function(Xe){Xe(ft)})}return new(Gt||(Gt=Promise))(function(ft,Xe){function Ge(je){try{Pe(ot.next(je))}catch(dt){Xe(dt)}}function Ie(je){try{Pe(ot.throw(je))}catch(dt){Xe(dt)}}function Pe(je){je.done?ft(je.value):mt(je.value).then(Ge,Ie)}Pe((ot=ot.apply(ai,Pt||[])).next())})};function Ke(ai){return Ce.Ao.regex(Me.keys()[0],new RegExp("(\\s|^)"+(0,O.ec)(ai.value)+"\\b"))}const Je={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:$.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:$.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[$.N("args.schema.apply.first","Always apply the first returned code action."),$.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),$.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:$.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Ze=class pl extends k.JT{constructor(Pt,Gt,ot,mt,ft){super(),this._instantiationService=ft,this._editor=Pt,this._model=this._register(new qe(this._editor,Gt,ot,mt)),this._register(this._model.onDidChangeState(Xe=>this.update(Xe))),this._ui=new W(()=>this._register(new ue(Pt,Bt.Id,Ii.Id,{applyCodeAction:(Xe,Ge)=>zt(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Xe)}finally{Ge&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(Pt){return Pt.getContribution(pl.ID)}update(Pt){this._ui.getValue().update(Pt)}showCodeActions(Pt,Gt,ot){return this._ui.getValue().showCodeActionList(Pt,Gt,ot,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(Pt,Gt,ot){if(!this._editor.hasModel())return;C.O.get(this._editor).closeMessage();const mt=this._editor.getPosition();this._trigger({type:1,filter:Gt,autoApply:ot,context:{notAvailableMessage:Pt,position:mt}})}_trigger(Pt){return this._model.trigger(Pt)}_applyCodeAction(Pt){return this._instantiationService.invokeFunction(Ae,Pt,this._editor)}};Ze.ID="editor.contrib.quickFixController",Ze=ht([kt(1,oe.lT),kt(2,Ce.i6),kt(3,Be.e),kt(4,l.TG)],Ze);function Ae(ai,Pt,Gt){return zt(this,void 0,void 0,function*(){const ot=ai.get(G.vu),mt=ai.get(Oe.H),ft=ai.get(Ve.b),Xe=ai.get(ae.lT);if(ft.publicLog2("codeAction.applyCodeAction",{codeActionTitle:Pt.action.title,codeActionKind:Pt.action.kind,codeActionIsPreferred:!!Pt.action.isPreferred}),yield Pt.resolve(h.T.None),Pt.action.edit&&(yield ot.apply(G.fo.convert(Pt.action.edit),{editor:Gt,label:Pt.action.title})),Pt.action.command)try{yield mt.executeCommand(Pt.action.command.id,...Pt.action.command.arguments||[])}catch(Ge){const Ie=He(Ge);Xe.error(typeof Ie=="string"?Ie:$.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function He(ai){return typeof ai=="string"?ai:ai instanceof Error&&typeof ai.message=="string"?ai.message:void 0}function It(ai,Pt,Gt,ot){if(ai.hasModel()){const mt=Ze.get(ai);mt&&mt.manualTriggerAtCurrentPosition(Pt,Gt,ot)}}class Bt extends w.R6{constructor(){super({id:Bt.Id,label:$.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Ce.Ao.and(x.u.writable,x.u.hasCodeActionsProvider),kbOpts:{kbExpr:x.u.editorTextFocus,primary:2132,weight:100}})}run(Pt,Gt){return It(Gt,$.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}Bt.Id="editor.action.quickFix";class oi extends w._l{constructor(){super({id:N.RB,precondition:Ce.Ao.and(x.u.writable,x.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Je}]}})}runEditorCommand(Pt,Gt,ot){const mt=f.wZ.fromUser(ot,{kind:f.yN.Empty,apply:"ifSingle"});return It(Gt,typeof(ot==null?void 0:ot.kind)=="string"?mt.preferred?$.N("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",ot.kind):$.N("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",ot.kind):mt.preferred?$.N("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):$.N("editor.action.codeAction.noneMessage","No code actions available"),{include:mt.kind,includeSourceActions:!0,onlyIncludePreferredActions:mt.preferred},mt.apply)}}class ni extends w.R6{constructor(){super({id:N.Bb,label:$.N("refactor.label","Refactor..."),alias:"Refactor...",precondition:Ce.Ao.and(x.u.writable,x.u.hasCodeActionsProvider),kbOpts:{kbExpr:x.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Ce.Ao.and(x.u.writable,Ke(f.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Je}]}})}run(Pt,Gt,ot){const mt=f.wZ.fromUser(ot,{kind:f.yN.Refactor,apply:"never"});return It(Gt,typeof(ot==null?void 0:ot.kind)=="string"?mt.preferred?$.N("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",ot.kind):$.N("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",ot.kind):mt.preferred?$.N("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):$.N("editor.action.refactor.noneMessage","No refactorings available"),{include:f.yN.Refactor.contains(mt.kind)?mt.kind:f.yN.None,onlyIncludePreferredActions:mt.preferred},mt.apply)}}class hi extends w.R6{constructor(){super({id:N.MN,label:$.N("source.label","Source Action..."),alias:"Source Action...",precondition:Ce.Ao.and(x.u.writable,x.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Ce.Ao.and(x.u.writable,Ke(f.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Je}]}})}run(Pt,Gt,ot){const mt=f.wZ.fromUser(ot,{kind:f.yN.Source,apply:"never"});return It(Gt,typeof(ot==null?void 0:ot.kind)=="string"?mt.preferred?$.N("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",ot.kind):$.N("editor.action.source.noneMessage.kind","No source actions for '{0}' available",ot.kind):mt.preferred?$.N("editor.action.source.noneMessage.preferred","No preferred source actions available"):$.N("editor.action.source.noneMessage","No source actions available"),{include:f.yN.Source.contains(mt.kind)?mt.kind:f.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:mt.preferred},mt.apply)}}class Di extends w.R6{constructor(){super({id:N.uH,label:$.N("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Ce.Ao.and(x.u.writable,Ke(f.yN.SourceOrganizeImports)),kbOpts:{kbExpr:x.u.editorTextFocus,primary:1581,weight:100}})}run(Pt,Gt){return It(Gt,$.N("editor.action.organize.noneMessage","No organize imports action available"),{include:f.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class Ti extends w.R6{constructor(){super({id:N.TM,label:$.N("fixAll.label","Fix All"),alias:"Fix All",precondition:Ce.Ao.and(x.u.writable,Ke(f.yN.SourceFixAll))})}run(Pt,Gt){return It(Gt,$.N("fixAll.noneMessage","No fix all action available"),{include:f.yN.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class Ii extends w.R6{constructor(){super({id:Ii.Id,label:$.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Ce.Ao.and(x.u.writable,Ke(f.yN.QuickFix)),kbOpts:{kbExpr:x.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(Pt,Gt){return It(Gt,$.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:f.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}Ii.Id="editor.action.autoFix"},16159:function(Ct,we,t){"use strict";t.r(we);var h=t(16830),W=t(67538);(0,h._K)(W.pY.ID,W.pY),(0,h.Qr)(W.E7),(0,h.Qr)(W.Eb),(0,h.Qr)(W.VQ),(0,h.Qr)(W.o$),(0,h.Qr)(W.S5),(0,h.Qr)(W.Hv),(0,h.fK)(new W.dW)},89532:function(Ct,we,t){"use strict";t.d(we,{EU:function(){return W},Yl:function(){return k},wZ:function(){return w},yN:function(){return h}});class h{constructor(x){this.value=x}equals(x){return this.value===x.value}contains(x){return this.equals(x)||this.value===""||x.value.startsWith(this.value+h.sep)}intersects(x){return this.contains(x)||x.contains(this)}append(x){return new h(this.value+h.sep+x)}}h.sep=".",h.None=new h("@@none@@"),h.Empty=new h(""),h.QuickFix=new h("quickfix"),h.Refactor=new h("refactor"),h.Source=new h("source"),h.SourceOrganizeImports=h.Source.append("organizeImports"),h.SourceFixAll=h.Source.append("fixAll");function W(G,x){return!(G.include&&!G.include.intersects(x)||G.excludes&&G.excludes.some(N=>O(x,N,G.include))||!G.includeSourceActions&&h.Source.contains(x))}function k(G,x){const N=x.kind?new h(x.kind):void 0;return!(G.include&&(!N||!G.include.contains(N))||G.excludes&&N&&G.excludes.some(s=>O(N,s,G.include))||!G.includeSourceActions&&N&&h.Source.contains(N)||G.onlyIncludePreferredActions&&!x.isPreferred)}function O(G,x,N){return!(!x.contains(G)||N&&x.contains(N))}class w{constructor(x,N,s){this.kind=x,this.apply=N,this.preferred=s}static fromUser(x,N){return!x||typeof x!="object"?new w(N.kind,N.apply,!1):new w(w.getKindFromUser(x,N.kind),w.getApplyFromUser(x,N.apply),w.getPreferredUser(x))}static getApplyFromUser(x,N){switch(typeof x.apply=="string"?x.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return N}}static getKindFromUser(x,N){return typeof x.kind=="string"?new h(x.kind):N}static getPreferredUser(x){return typeof x.preferred=="boolean"?x.preferred:!1}}},49946:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CodeLensContribution:function(){return Ce}});var h=t(65321),W=t(15393),k=t(17301),O=t(89954),w=t(9917),G=t(55812),x=t(16830),N=t(64141),s=t(29102),C=t(60303),l=t(5405),m=t(71050),y=t(98401),n=t(70666),p=t(51200),f=t(94565),v=function(oe,ae,Be,Ve){function se(ce){return ce instanceof Be?ce:new Be(function(Te){Te(ce)})}return new(Be||(Be=Promise))(function(ce,Te){function xe(Me){try{Le(Ve.next(Me))}catch(Se){Te(Se)}}function Fe(Me){try{Le(Ve.throw(Me))}catch(Se){Te(Se)}}function Le(Me){Me.done?ce(Me.value):se(Me.value).then(xe,Fe)}Le((Ve=Ve.apply(oe,ae||[])).next())})};class d{constructor(){this.lenses=[],this._disposables=new w.SL}dispose(){this._disposables.dispose()}add(ae,Be){this._disposables.add(ae);for(const Ve of ae.lenses)this.lenses.push({symbol:Ve,provider:Be})}}function a(oe,ae){return v(this,void 0,void 0,function*(){const Be=C.He.ordered(oe),Ve=new Map,se=new d,ce=Be.map((Te,xe)=>v(this,void 0,void 0,function*(){Ve.set(Te,xe);try{const Fe=yield Promise.resolve(Te.provideCodeLenses(oe,ae));Fe&&se.add(Fe,Te)}catch(Fe){(0,k.Cp)(Fe)}}));return yield Promise.all(ce),se.lenses=se.lenses.sort((Te,xe)=>Te.symbol.range.startLineNumber<xe.symbol.range.startLineNumber?-1:Te.symbol.range.startLineNumber>xe.symbol.range.startLineNumber?1:Ve.get(Te.provider)<Ve.get(xe.provider)?-1:Ve.get(Te.provider)>Ve.get(xe.provider)?1:Te.symbol.range.startColumn<xe.symbol.range.startColumn?-1:Te.symbol.range.startColumn>xe.symbol.range.startColumn?1:0),se})}f.P.registerCommand("_executeCodeLensProvider",function(oe,...ae){let[Be,Ve]=ae;(0,y.p_)(n.o.isUri(Be)),(0,y.p_)(typeof Ve=="number"||!Ve);const se=oe.get(p.q).getModel(Be);if(!se)throw(0,k.b1)();const ce=[],Te=new w.SL;return a(se,m.T.None).then(xe=>{Te.add(xe);let Fe=[];for(const Le of xe.lenses)Ve==null||Le.symbol.command?ce.push(Le.symbol):Ve-- >0&&Le.provider.resolveCodeLens&&Fe.push(Promise.resolve(Le.provider.resolveCodeLens(se,Le.symbol,m.T.None)).then(Me=>ce.push(Me||Le.symbol)));return Promise.all(Fe)}).then(()=>ce).finally(()=>{setTimeout(()=>Te.dispose(),100)})});var u=t(88289),c=t(43702),b=t(24314),L=t(65026),R=t(72065),T=t(87060),j=function(oe,ae,Be,Ve){var se=arguments.length,ce=se<3?ae:Ve===null?Ve=Object.getOwnPropertyDescriptor(ae,Be):Ve,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(oe,ae,Be,Ve);else for(var xe=oe.length-1;xe>=0;xe--)(Te=oe[xe])&&(ce=(se<3?Te(ce):se>3?Te(ae,Be,ce):Te(ae,Be))||ce);return se>3&&ce&&Object.defineProperty(ae,Be,ce),ce},q=function(oe,ae){return function(Be,Ve){ae(Be,Ve,oe)}};const ie=(0,R.yh)("ICodeLensCache");class ne{constructor(ae,Be){this.lineCount=ae,this.data=Be}}let he=class{constructor(ae){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new c.z6(20,.75);const Be="codelens/cache";(0,W.To)(()=>ae.remove(Be,1));const Ve="codelens/cache2",se=ae.get(Ve,1,"{}");this._deserialize(se),(0,u.I)(ae.onWillSaveState)(ce=>{ce.reason===T.fk.SHUTDOWN&&ae.store(Ve,this._serialize(),1,1)})}put(ae,Be){const Ve=Be.lenses.map(Te=>{var xe;return{range:Te.symbol.range,command:Te.symbol.command&&{id:"",title:(xe=Te.symbol.command)===null||xe===void 0?void 0:xe.title}}}),se=new d;se.add({lenses:Ve,dispose:()=>{}},this._fakeProvider);const ce=new ne(ae.getLineCount(),se);this._cache.set(ae.uri.toString(),ce)}get(ae){const Be=this._cache.get(ae.uri.toString());return Be&&Be.lineCount===ae.getLineCount()?Be.data:void 0}delete(ae){this._cache.delete(ae.uri.toString())}_serialize(){const ae=Object.create(null);for(const[Be,Ve]of this._cache){const se=new Set;for(const ce of Ve.data.lenses)se.add(ce.symbol.range.startLineNumber);ae[Be]={lineCount:Ve.lineCount,lines:[...se.values()]}}return JSON.stringify(ae)}_deserialize(ae){try{const Be=JSON.parse(ae);for(const Ve in Be){const se=Be[Ve],ce=[];for(const xe of se.lines)ce.push({range:new b.e(xe,1,xe,11)});const Te=new d;Te.add({lenses:ce,dispose(){}},this._fakeProvider),this._cache.set(Ve,new ne(se.lineCount,Te))}}catch(Be){}}};he=j([q(0,T.Uy)],he),(0,L.z)(ie,he);var $=t(56811),V=t(24979),z=t(27869),Q=t(73910),le=t(97781);class E{constructor(ae,Be,Ve){this.afterLineNumber=ae,this.heightInPx=Be,this._onHeight=Ve,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(ae){this._lastHeight===void 0?this._lastHeight=ae:this._lastHeight!==ae&&(this._lastHeight=ae,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class I{constructor(ae,Be,Ve){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=ae,this._id=`codelens.widget-${I._idPool++}`,this.updatePosition(Ve),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${Be}`}withCommands(ae,Be){this._commands.clear();let Ve=[],se=!1;for(let ce=0;ce<ae.length;ce++){const Te=ae[ce];if(Te&&(se=!0,Te.command)){const xe=(0,$.T)(Te.command.title.trim());Te.command.id?(Ve.push(h.$("a",{id:String(ce),title:Te.command.tooltip},...xe)),this._commands.set(String(ce),Te.command)):Ve.push(h.$("span",{title:Te.command.tooltip},...xe)),ce+1<ae.length&&Ve.push(h.$("span",void 0,"\xA0|\xA0"))}}se?(h.mc(this._domNode,...Ve),this._isEmpty&&Be&&this._domNode.classList.add("fadein"),this._isEmpty=!1):h.mc(this._domNode,h.$("span",void 0,"no commands"))}getCommand(ae){return ae.parentElement===this._domNode?this._commands.get(ae.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(ae){const Be=this._editor.getModel().getLineFirstNonWhitespaceColumn(ae);this._widgetPosition={position:{lineNumber:ae,column:Be},preference:[1]}}getPosition(){return this._widgetPosition||null}}I._idPool=0;class A{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(ae,Be){this._addDecorations.push(ae),this._addDecorationsCallbacks.push(Be)}removeDecoration(ae){this._removeDecorations.push(ae)}commit(ae){let Be=ae.deltaDecorations(this._removeDecorations,this._addDecorations);for(let Ve=0,se=Be.length;Ve<se;Ve++)this._addDecorationsCallbacks[Ve](Be[Ve])}}class H{constructor(ae,Be,Ve,se,ce,Te,xe){this._isDisposed=!1,this._editor=Be,this._className=Ve,this._data=ae,this._decorationIds=[];let Fe,Le=[];this._data.forEach((Me,Se)=>{Me.symbol.command&&Le.push(Me.symbol),se.addDecoration({range:Me.symbol.range,options:V.qx.EMPTY},ze=>this._decorationIds[Se]=ze),Fe?Fe=b.e.plusRange(Fe,Me.symbol.range):Fe=b.e.lift(Me.symbol.range)}),this._viewZone=new E(Fe.startLineNumber-1,Te,xe),this._viewZoneId=ce.addZone(this._viewZone),Le.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Le,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new I(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(ae,Be){this._decorationIds.forEach(ae.removeDecoration,ae),this._decorationIds=[],Be&&Be.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((ae,Be)=>{const Ve=this._editor.getModel().getDecorationRange(ae),se=this._data[Be].symbol;return!!(Ve&&b.e.isEmpty(se.range)===Ve.isEmpty())})}updateCodeLensSymbols(ae,Be){this._decorationIds.forEach(Be.removeDecoration,Be),this._decorationIds=[],this._data=ae,this._data.forEach((Ve,se)=>{Be.addDecoration({range:Ve.symbol.range,options:V.qx.EMPTY},ce=>this._decorationIds[se]=ce)})}updateHeight(ae,Be){this._viewZone.heightInPx=ae,Be.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(ae){if(!this._viewZone.isVisible())return null;for(let Be=0;Be<this._decorationIds.length;Be++){const Ve=ae.getDecorationRange(this._decorationIds[Be]);Ve&&(this._data[Be].symbol.range=Ve)}return this._data}updateCommands(ae){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ae,!0);for(let Be=0;Be<this._data.length;Be++){const Ve=ae[Be];if(Ve){const{symbol:se}=this._data[Be];se.command=Ve.command||se.command}}}getCommand(ae){var Be;return(Be=this._contentWidget)===null||Be===void 0?void 0:Be.getCommand(ae)}getLineNumber(){const ae=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return ae?ae.startLineNumber:-1}update(ae){if(this.isValid()){const Be=this._editor.getModel().getDecorationRange(this._decorationIds[0]);Be&&(this._viewZone.afterLineNumber=Be.startLineNumber-1,ae.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(Be.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}(0,le.Ic)((oe,ae)=>{const Be=oe.getColor(z.Yp);Be&&(ae.addRule(`.monaco-editor .codelens-decoration { color: ${Be}; }`),ae.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${Be}; }`));const Ve=oe.getColor(Q._Y);Ve&&(ae.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${Ve} !important; }`),ae.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${Ve} !important; }`))});var Y=t(63580),X=t(59422),re=t(41157),fe=function(oe,ae,Be,Ve){var se=arguments.length,ce=se<3?ae:Ve===null?Ve=Object.getOwnPropertyDescriptor(ae,Be):Ve,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(oe,ae,Be,Ve);else for(var xe=oe.length-1;xe>=0;xe--)(Te=oe[xe])&&(ce=(se<3?Te(ce):se>3?Te(ae,Be,ce):Te(ae,Be))||ce);return se>3&&ce&&Object.defineProperty(ae,Be,ce),ce},ue=function(oe,ae){return function(Be,Ve){ae(Be,Ve,oe)}},Oe=function(oe,ae,Be,Ve){function se(ce){return ce instanceof Be?ce:new Be(function(Te){Te(ce)})}return new(Be||(Be=Promise))(function(ce,Te){function xe(Me){try{Le(Ve.next(Me))}catch(Se){Te(Se)}}function Fe(Me){try{Le(Ve.throw(Me))}catch(Se){Te(Se)}}function Le(Me){Me.done?ce(Me.value):se(Me.value).then(xe,Fe)}Le((Ve=Ve.apply(oe,ae||[])).next())})};let Ce=class{constructor(ae,Be,Ve,se){this._editor=ae,this._commandService=Be,this._notificationService=Ve,this._codeLensCache=se,this._disposables=new w.SL,this._localToDispose=new w.SL,this._lenses=[],this._getCodeLensModelDelays=new l.Y(C.He,250,2500),this._oldCodeLensModels=new w.SL,this._resolveCodeLensesDelays=new l.Y(C.He,250,2500),this._resolveCodeLensesScheduler=new W.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(ce=>{(ce.hasChanged(43)||ce.hasChanged(16)||ce.hasChanged(15))&&this._updateLensStyle(),ce.hasChanged(14)&&this._onModelChange()})),this._disposables.add(C.He.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,O.vp)(this._editor.getId()).toString(16),this._styleElement=h.dS(h.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var ae;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(ae=this._currentCodeLensModel)===null||ae===void 0||ae.dispose(),this._styleElement.remove()}_getLayoutInfo(){let ae=this._editor.getOption(16),Be;return!ae||ae<5?(ae=this._editor.getOption(45)*.9|0,Be=this._editor.getOption(58)):Be=ae*Math.max(1.3,this._editor.getOption(58)/this._editor.getOption(45))|0,{codeLensHeight:Be,fontSize:ae}}_updateLensStyle(){const{codeLensHeight:ae,fontSize:Be}=this._getLayoutInfo(),Ve=this._editor.getOption(15),se=this._editor.getOption(43),ce=`--codelens-font-family${this._styleClassName}`,Te=`--codelens-font-features${this._styleClassName}`;let xe=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${ae}px; font-size: ${Be}px; padding-right: ${Math.round(Be*.5)}px; font-feature-settings: var(${Te}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${ae}px; font-size: ${Be}px; }
		`;Ve&&(xe+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${ce}), ${N.hL.fontFamily}}`),this._styleElement.textContent=xe,this._editor.getContainerDomNode().style.setProperty(ce,Ve!=null?Ve:"inherit"),this._editor.getContainerDomNode().style.setProperty(Te,se.fontFeatureSettings),this._editor.changeViewZones(Fe=>{for(let Le of this._lenses)Le.updateHeight(ae,Fe)})}_localDispose(){var ae,Be,Ve;(ae=this._getCodeLensModelPromise)===null||ae===void 0||ae.cancel(),this._getCodeLensModelPromise=void 0,(Be=this._resolveCodeLensesPromise)===null||Be===void 0||Be.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(Ve=this._currentCodeLensModel)===null||Ve===void 0||Ve.dispose()}_onModelChange(){this._localDispose();const ae=this._editor.getModel();if(!ae||!this._editor.getOption(14))return;const Be=this._codeLensCache.get(ae);if(Be&&this._renderCodeLensSymbols(Be),!C.He.has(ae)){Be&&this._localToDispose.add((0,W.Vg)(()=>{const se=this._codeLensCache.get(ae);Be===se&&(this._codeLensCache.delete(ae),this._onModelChange())},30*1e3));return}for(const se of C.He.all(ae))if(typeof se.onDidChange=="function"){let ce=se.onDidChange(()=>Ve.schedule());this._localToDispose.add(ce)}const Ve=new W.pY(()=>{var se;const ce=Date.now();(se=this._getCodeLensModelPromise)===null||se===void 0||se.cancel(),this._getCodeLensModelPromise=(0,W.PG)(Te=>a(ae,Te)),this._getCodeLensModelPromise.then(Te=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=Te,this._codeLensCache.put(ae,Te);const xe=this._getCodeLensModelDelays.update(ae,Date.now()-ce);Ve.delay=xe,this._renderCodeLensSymbols(Te),this._resolveCodeLensesInViewportSoon()},k.dL)},this._getCodeLensModelDelays.get(ae));this._localToDispose.add(Ve),this._localToDispose.add((0,w.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(se=>{this._editor.changeViewZones(ce=>{let Te=[],xe=-1;this._lenses.forEach(Le=>{!Le.isValid()||xe===Le.getLineNumber()?Te.push(Le):(Le.update(ce),xe=Le.getLineNumber())});let Fe=new A;Te.forEach(Le=>{Le.dispose(Fe,ce),this._lenses.splice(this._lenses.indexOf(Le),1)}),Fe.commit(se)})}),Ve.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{Ve.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(se=>{se.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,w.OF)(()=>{if(this._editor.getModel()){const se=G.ZF.capture(this._editor);this._editor.changeDecorations(ce=>{this._editor.changeViewZones(Te=>{this._disposeAllLenses(ce,Te)})}),se.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(se=>{if(se.target.type!==9)return;let ce=se.target.element;if((ce==null?void 0:ce.tagName)==="SPAN"&&(ce=ce.parentElement),(ce==null?void 0:ce.tagName)==="A")for(const Te of this._lenses){let xe=Te.getCommand(ce);if(xe){this._commandService.executeCommand(xe.id,...xe.arguments||[]).catch(Fe=>this._notificationService.error(Fe));break}}})),Ve.schedule()}_disposeAllLenses(ae,Be){const Ve=new A;for(const se of this._lenses)se.dispose(Ve,Be);ae&&Ve.commit(ae),this._lenses.length=0}_renderCodeLensSymbols(ae){if(!this._editor.hasModel())return;let Be=this._editor.getModel().getLineCount(),Ve=[],se;for(let xe of ae.lenses){let Fe=xe.symbol.range.startLineNumber;Fe<1||Fe>Be||(se&&se[se.length-1].symbol.range.startLineNumber===Fe?se.push(xe):(se=[xe],Ve.push(se)))}const ce=G.ZF.capture(this._editor),Te=this._getLayoutInfo();this._editor.changeDecorations(xe=>{this._editor.changeViewZones(Fe=>{const Le=new A;let Me=0,Se=0;for(;Se<Ve.length&&Me<this._lenses.length;){let ze=Ve[Se][0].symbol.range.startLineNumber,Ye=this._lenses[Me].getLineNumber();Ye<ze?(this._lenses[Me].dispose(Le,Fe),this._lenses.splice(Me,1)):Ye===ze?(this._lenses[Me].updateCodeLensSymbols(Ve[Se],Le),Se++,Me++):(this._lenses.splice(Me,0,new H(Ve[Se],this._editor,this._styleClassName,Le,Fe,Te.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Me++,Se++)}for(;Me<this._lenses.length;)this._lenses[Me].dispose(Le,Fe),this._lenses.splice(Me,1);for(;Se<Ve.length;)this._lenses.push(new H(Ve[Se],this._editor,this._styleClassName,Le,Fe,Te.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Se++;Le.commit(xe)})}),ce.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var ae;(ae=this._resolveCodeLensesPromise)===null||ae===void 0||ae.cancel(),this._resolveCodeLensesPromise=void 0;const Be=this._editor.getModel();if(!Be)return;const Ve=[],se=[];if(this._lenses.forEach(xe=>{const Fe=xe.computeIfNecessary(Be);Fe&&(Ve.push(Fe),se.push(xe))}),Ve.length===0)return;const ce=Date.now(),Te=(0,W.PG)(xe=>{const Fe=Ve.map((Le,Me)=>{const Se=new Array(Le.length),ze=Le.map((Ye,qe)=>!Ye.symbol.command&&typeof Ye.provider.resolveCodeLens=="function"?Promise.resolve(Ye.provider.resolveCodeLens(Be,Ye.symbol,xe)).then(ht=>{Se[qe]=ht},k.Cp):(Se[qe]=Ye.symbol,Promise.resolve(void 0)));return Promise.all(ze).then(()=>{!xe.isCancellationRequested&&!se[Me].isDisposed()&&se[Me].updateCommands(Se)})});return Promise.all(Fe)});this._resolveCodeLensesPromise=Te,this._resolveCodeLensesPromise.then(()=>{const xe=this._resolveCodeLensesDelays.update(Be,Date.now()-ce);this._resolveCodeLensesScheduler.delay=xe,this._currentCodeLensModel&&this._codeLensCache.put(Be,this._currentCodeLensModel),this._oldCodeLensModels.clear(),Te===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},xe=>{(0,k.dL)(xe),Te===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};Ce.ID="css.editor.codeLens",Ce=fe([ue(1,f.H),ue(2,X.lT),ue(3,ie)],Ce),(0,x._K)(Ce.ID,Ce),(0,x.Qr)(class extends x.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:s.u.hasCodeLensProvider,label:(0,Y.N)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(ae,Be){return Oe(this,void 0,void 0,function*(){if(!Be.hasModel())return;const Ve=ae.get(re.eJ),se=ae.get(f.H),ce=ae.get(X.lT),Te=Be.getSelection().positionLineNumber,xe=Be.getContribution(Ce.ID),Fe=[];for(let Me of xe.getLenses())if(Me.getLineNumber()===Te)for(let Se of Me.getItems()){const{command:ze}=Se.symbol;ze&&Fe.push({label:ze.title,command:ze})}if(Fe.length===0)return;const Le=yield Ve.pick(Fe,{canPickMany:!1});if(Le)try{yield se.executeCommand(Le.command.id,...Le.command.arguments||[])}catch(Me){ce.error(Me)}})}})},83308:function(Ct,we,t){"use strict";t.d(we,{E:function(){return N},R:function(){return s}});var h=t(71050),W=t(17301),k=t(70666),O=t(24314),w=t(60303),G=t(51200),x=t(94565);function N(C,l){const m=[],n=w.OH.ordered(C).reverse().map(p=>Promise.resolve(p.provideDocumentColors(C,l)).then(f=>{if(Array.isArray(f))for(let v of f)m.push({colorInfo:v,provider:p})}));return Promise.all(n).then(()=>m)}function s(C,l,m,y){return Promise.resolve(m.provideColorPresentations(C,l,y))}x.P.registerCommand("_executeDocumentColorProvider",function(C,...l){const[m]=l;if(!(m instanceof k.o))throw(0,W.b1)();const y=C.get(G.q).getModel(m);if(!y)throw(0,W.b1)();const n=[],f=w.OH.ordered(y).reverse().map(v=>Promise.resolve(v.provideDocumentColors(y,h.T.None)).then(d=>{if(Array.isArray(d))for(let a of d)n.push({range:a.range,color:[a.color.red,a.color.green,a.color.blue,a.color.alpha]})}));return Promise.all(f).then(()=>n)}),x.P.registerCommand("_executeColorPresentationProvider",function(C,...l){const[m,y]=l,{uri:n,range:p}=y;if(!(n instanceof k.o)||!Array.isArray(m)||m.length!==4||!O.e.isIRange(p))throw(0,W.b1)();const[f,v,d,a]=m,u=C.get(G.q).getModel(n);if(!u)throw(0,W.b1)();const c={range:p,color:{red:f,green:v,blue:d,alpha:a}},b=[],R=w.OH.ordered(u).reverse().map(T=>Promise.resolve(T.provideColorPresentations(u,c,h.T.None)).then(j=>{Array.isArray(j)&&b.push(...j)}));return Promise.all(R).then(()=>b)})},77956:function(Ct,we,t){"use strict";t.r(we),t.d(we,{ColorContribution:function(){return G}});var h=t(9917),W=t(16830),k=t(24314),O=t(64494),w=t(33184);class G extends h.JT{constructor(N){super(),this._editor=N,this._register(N.onMouseDown(s=>this.onMouseDown(s)))}dispose(){super.dispose()}onMouseDown(N){var s;if(N.target.type!==6||![...((s=N.target.element)===null||s===void 0?void 0:s.classList.values())||[]].find(y=>y.startsWith("ced-colorBox"))||!N.target.range)return;const m=this._editor.getContribution(w.ModesHoverController.ID);if(!m.isColorPickerVisible()){const y=new k.e(N.target.range.startLineNumber,N.target.range.startColumn+1,N.target.range.endLineNumber,N.target.range.endColumn+1);m.showContentHover(y,0,!1)}}}G.ID="editor.contrib.colorContribution",(0,W._K)(G.ID,G)},64494:function(Ct,we,t){"use strict";t.d(we,{i:function(){return f}});var h=t(15393),W=t(41264),k=t(17301),O=t(89954),w=t(9917),G=t(16830),x=t(11640),N=t(24314),s=t(24979),C=t(60303),l=t(83308),m=t(33108),y=function(v,d,a,u){var c=arguments.length,b=c<3?d:u===null?u=Object.getOwnPropertyDescriptor(d,a):u,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,d,a,u);else for(var R=v.length-1;R>=0;R--)(L=v[R])&&(b=(c<3?L(b):c>3?L(d,a,b):L(d,a))||b);return c>3&&b&&Object.defineProperty(d,a,b),b},n=function(v,d){return function(a,u){d(a,u,v)}};const p=500;let f=class _l extends w.JT{constructor(d,a,u){super(),this._editor=d,this._codeEditorService=a,this._configurationService=u,this._localToDispose=this._register(new w.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(d.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(d.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(C.OH.onDidChange(()=>this.onModelChanged())),this._register(d.onDidChangeConfiguration(()=>{let c=this._isEnabled;this._isEnabled=this.isEnabled(),c!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const d=this._editor.getModel();if(!d)return!1;const a=d.getLanguageId(),u=this._configurationService.getValue(a);if(u&&typeof u=="object"){const c=u.colorDecorators;if(c&&c.enable!==void 0&&!c.enable)return c.enable}return this._editor.getOption(17)}static get(d){return d.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const d=this._editor.getModel();!d||!C.OH.has(d)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new h._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},_l.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,h.PG)(d=>{const a=this._editor.getModel();return a?(0,l.E)(a,d):Promise.resolve([])}),this._computePromise.then(d=>{this.updateDecorations(d),this.updateColorDecorators(d),this._computePromise=null},k.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(d){const a=d.map(u=>({range:{startLineNumber:u.colorInfo.range.startLineNumber,startColumn:u.colorInfo.range.startColumn,endLineNumber:u.colorInfo.range.endLineNumber,endColumn:u.colorInfo.range.endColumn},options:s.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,a),this._colorDatas=new Map,this._decorationsIds.forEach((u,c)=>this._colorDatas.set(u,d[c]))}updateColorDecorators(d){let a=[],u={};for(let c=0;c<d.length&&a.length<p;c++){const{red:b,green:L,blue:R,alpha:T}=d[c].colorInfo.color,j=new W.VS(Math.round(b*255),Math.round(L*255),Math.round(R*255),T);let q=(0,O.vp)(`rgba(${j.r},${j.g},${j.b},${j.a})`).toString(16),ie=`rgba(${j.r}, ${j.g}, ${j.b}, ${j.a})`,ne="colorBox-"+q;!this._decorationsTypes.has(ne)&&!u[ne]&&this._codeEditorService.registerDecorationType("color-detector-color",ne,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:ie},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),u[ne]=!0,a.push({range:{startLineNumber:d[c].colorInfo.range.startLineNumber,startColumn:d[c].colorInfo.range.startColumn,endLineNumber:d[c].colorInfo.range.endLineNumber,endColumn:d[c].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(ne,!0)})}this._decorationsTypes.forEach(c=>{u[c]||this._codeEditorService.removeDecorationType(c)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,a)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(d=>{this._codeEditorService.removeDecorationType(d)})}getColorData(d){const a=this._editor.getModel();if(!a)return null;const u=a.getDecorationsInRange(N.e.fromPositions(d,d)).filter(c=>this._colorDatas.has(c.id));return u.length===0?null:this._colorDatas.get(u[0].id)}};f.ID="editor.contrib.colorDetector",f.RECOMPUTE_TIME=1e3,f=y([n(1,x.$),n(2,m.Ui)],f),(0,G._K)(f.ID,f)},51567:function(Ct,we,t){"use strict";t.r(we);var h=t(22258),W=t(16830),k=t(24314),O=t(29102),w=t(69386),G=t(50187),x=t(3860),N=t(94660);class s{constructor(u,c){this._selection=u,this._insertSpace=c,this._usedEndToken=null}static _haystackHasNeedleAtOffset(u,c,b){if(b<0)return!1;const L=c.length,R=u.length;if(b+L>R)return!1;for(let T=0;T<L;T++){const j=u.charCodeAt(b+T),q=c.charCodeAt(T);if(j!==q&&!(j>=65&&j<=90&&j+32===q)&&!(q>=65&&q<=90&&q+32===j))return!1}return!0}_createOperationsForBlockComment(u,c,b,L,R,T){const j=u.startLineNumber,q=u.startColumn,ie=u.endLineNumber,ne=u.endColumn,he=R.getLineContent(j),$=R.getLineContent(ie);let V=he.lastIndexOf(c,q-1+c.length),z=$.indexOf(b,ne-1-b.length);if(V!==-1&&z!==-1)if(j===ie)he.substring(V+c.length,z).indexOf(b)>=0&&(V=-1,z=-1);else{const le=he.substring(V+c.length),E=$.substring(0,z);(le.indexOf(b)>=0||E.indexOf(b)>=0)&&(V=-1,z=-1)}let Q;V!==-1&&z!==-1?(L&&V+c.length<he.length&&he.charCodeAt(V+c.length)===32&&(c=c+" "),L&&z>0&&$.charCodeAt(z-1)===32&&(b=" "+b,z-=1),Q=s._createRemoveBlockCommentOperations(new k.e(j,V+c.length+1,ie,z+1),c,b)):(Q=s._createAddBlockCommentOperations(u,c,b,this._insertSpace),this._usedEndToken=Q.length===1?b:null);for(const le of Q)T.addTrackedEditOperation(le.range,le.text)}static _createRemoveBlockCommentOperations(u,c,b){let L=[];return k.e.isEmpty(u)?L.push(w.h.delete(new k.e(u.startLineNumber,u.startColumn-c.length,u.endLineNumber,u.endColumn+b.length))):(L.push(w.h.delete(new k.e(u.startLineNumber,u.startColumn-c.length,u.startLineNumber,u.startColumn))),L.push(w.h.delete(new k.e(u.endLineNumber,u.endColumn,u.endLineNumber,u.endColumn+b.length)))),L}static _createAddBlockCommentOperations(u,c,b,L){let R=[];return k.e.isEmpty(u)?R.push(w.h.replace(new k.e(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn),c+"  "+b)):(R.push(w.h.insert(new G.L(u.startLineNumber,u.startColumn),c+(L?" ":""))),R.push(w.h.insert(new G.L(u.endLineNumber,u.endColumn),(L?" ":"")+b))),R}getEditOperations(u,c){const b=this._selection.startLineNumber,L=this._selection.startColumn;u.tokenizeIfCheap(b);const R=u.getLanguageIdAtPosition(b,L),T=N.zu.getComments(R);!T||!T.blockCommentStartToken||!T.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,T.blockCommentStartToken,T.blockCommentEndToken,this._insertSpace,u,c)}computeCursorState(u,c){const b=c.getInverseEditOperations();if(b.length===2){const L=b[0],R=b[1];return new x.Y(L.range.endLineNumber,L.range.endColumn,R.range.startLineNumber,R.range.startColumn)}else{const L=b[0].range,R=this._usedEndToken?-this._usedEndToken.length-1:0;return new x.Y(L.endLineNumber,L.endColumn+R,L.endLineNumber,L.endColumn+R)}}}var C=t(97295);class l{constructor(u,c,b,L,R,T){this._selection=u,this._tabSize=c,this._type=b,this._insertSpace=L,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=R,this._ignoreFirstLine=T||!1}static _gatherPreflightCommentStrings(u,c,b){u.tokenizeIfCheap(c);const L=u.getLanguageIdAtPosition(c,1),R=N.zu.getComments(L),T=R?R.lineCommentToken:null;if(!T)return null;let j=[];for(let q=0,ie=b-c+1;q<ie;q++)j[q]={ignore:!1,commentStr:T,commentStrOffset:0,commentStrLength:T.length};return j}static _analyzeLines(u,c,b,L,R,T,j){let q=!0,ie;u===0?ie=!0:u===1?ie=!1:ie=!0;for(let ne=0,he=L.length;ne<he;ne++){const $=L[ne],V=R+ne;if(V===R&&j){$.ignore=!0;continue}const z=b.getLineContent(V),Q=C.LC(z);if(Q===-1){$.ignore=T,$.commentStrOffset=z.length;continue}if(q=!1,$.ignore=!1,$.commentStrOffset=Q,ie&&!s._haystackHasNeedleAtOffset(z,$.commentStr,Q)&&(u===0?ie=!1:u===1||($.ignore=!0)),ie&&c){const le=Q+$.commentStrLength;le<z.length&&z.charCodeAt(le)===32&&($.commentStrLength+=1)}}if(u===0&&q){ie=!1;for(let ne=0,he=L.length;ne<he;ne++)L[ne].ignore=!1}return{supported:!0,shouldRemoveComments:ie,lines:L}}static _gatherPreflightData(u,c,b,L,R,T,j){const q=l._gatherPreflightCommentStrings(b,L,R);return q===null?{supported:!1}:l._analyzeLines(u,c,b,q,L,T,j)}_executeLineComments(u,c,b,L){let R;b.shouldRemoveComments?R=l._createRemoveLineCommentsOperations(b.lines,L.startLineNumber):(l._normalizeInsertionPoint(u,b.lines,L.startLineNumber,this._tabSize),R=this._createAddLineCommentsOperations(b.lines,L.startLineNumber));const T=new G.L(L.positionLineNumber,L.positionColumn);for(let j=0,q=R.length;j<q;j++)c.addEditOperation(R[j].range,R[j].text),k.e.isEmpty(R[j].range)&&k.e.getStartPosition(R[j].range).equals(T)&&u.getLineContent(T.lineNumber).length+1===T.column&&(this._deltaColumn=(R[j].text||"").length);this._selectionId=c.trackSelection(L)}_attemptRemoveBlockComment(u,c,b,L){let R=c.startLineNumber,T=c.endLineNumber,j=L.length+Math.max(u.getLineFirstNonWhitespaceColumn(c.startLineNumber),c.startColumn),q=u.getLineContent(R).lastIndexOf(b,j-1),ie=u.getLineContent(T).indexOf(L,c.endColumn-1-b.length);return q!==-1&&ie===-1&&(ie=u.getLineContent(R).indexOf(L,q+b.length),T=R),q===-1&&ie!==-1&&(q=u.getLineContent(T).lastIndexOf(b,ie),R=T),c.isEmpty()&&(q===-1||ie===-1)&&(q=u.getLineContent(R).indexOf(b),q!==-1&&(ie=u.getLineContent(R).indexOf(L,q+b.length))),q!==-1&&u.getLineContent(R).charCodeAt(q+b.length)===32&&(b+=" "),ie!==-1&&u.getLineContent(T).charCodeAt(ie-1)===32&&(L=" "+L,ie-=1),q!==-1&&ie!==-1?s._createRemoveBlockCommentOperations(new k.e(R,q+b.length+1,T,ie+1),b,L):null}_executeBlockComment(u,c,b){u.tokenizeIfCheap(b.startLineNumber);let L=u.getLanguageIdAtPosition(b.startLineNumber,1),R=N.zu.getComments(L);if(!R||!R.blockCommentStartToken||!R.blockCommentEndToken)return;const T=R.blockCommentStartToken,j=R.blockCommentEndToken;let q=this._attemptRemoveBlockComment(u,b,T,j);if(!q){if(b.isEmpty()){const ie=u.getLineContent(b.startLineNumber);let ne=C.LC(ie);ne===-1&&(ne=ie.length),q=s._createAddBlockCommentOperations(new k.e(b.startLineNumber,ne+1,b.startLineNumber,ie.length+1),T,j,this._insertSpace)}else q=s._createAddBlockCommentOperations(new k.e(b.startLineNumber,u.getLineFirstNonWhitespaceColumn(b.startLineNumber),b.endLineNumber,u.getLineMaxColumn(b.endLineNumber)),T,j,this._insertSpace);q.length===1&&(this._deltaColumn=T.length+1)}this._selectionId=c.trackSelection(b);for(const ie of q)c.addEditOperation(ie.range,ie.text)}getEditOperations(u,c){let b=this._selection;if(this._moveEndPositionDown=!1,b.startLineNumber===b.endLineNumber&&this._ignoreFirstLine){c.addEditOperation(new k.e(b.startLineNumber,u.getLineMaxColumn(b.startLineNumber),b.startLineNumber+1,1),b.startLineNumber===u.getLineCount()?"":`
`),this._selectionId=c.trackSelection(b);return}b.startLineNumber<b.endLineNumber&&b.endColumn===1&&(this._moveEndPositionDown=!0,b=b.setEndPosition(b.endLineNumber-1,u.getLineMaxColumn(b.endLineNumber-1)));const L=l._gatherPreflightData(this._type,this._insertSpace,u,b.startLineNumber,b.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return L.supported?this._executeLineComments(u,c,L,b):this._executeBlockComment(u,c,b)}computeCursorState(u,c){let b=c.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(b=b.setEndPosition(b.endLineNumber+1,1)),new x.Y(b.selectionStartLineNumber,b.selectionStartColumn+this._deltaColumn,b.positionLineNumber,b.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(u,c){let b=[];for(let L=0,R=u.length;L<R;L++){const T=u[L];T.ignore||b.push(w.h.delete(new k.e(c+L,T.commentStrOffset+1,c+L,T.commentStrOffset+T.commentStrLength+1)))}return b}_createAddLineCommentsOperations(u,c){let b=[];const L=this._insertSpace?" ":"";for(let R=0,T=u.length;R<T;R++){const j=u[R];j.ignore||b.push(w.h.insert(new G.L(c+R,j.commentStrOffset+1),j.commentStr+L))}return b}static nextVisibleColumn(u,c,b,L){return b?u+(c-u%c):u+L}static _normalizeInsertionPoint(u,c,b,L){let R=1073741824,T,j;for(let q=0,ie=c.length;q<ie;q++){if(c[q].ignore)continue;const ne=u.getLineContent(b+q);let he=0;for(let $=0,V=c[q].commentStrOffset;he<R&&$<V;$++)he=l.nextVisibleColumn(he,L,ne.charCodeAt($)===9,1);he<R&&(R=he)}R=Math.floor(R/L)*L;for(let q=0,ie=c.length;q<ie;q++){if(c[q].ignore)continue;const ne=u.getLineContent(b+q);let he=0;for(T=0,j=c[q].commentStrOffset;he<R&&T<j;T++)he=l.nextVisibleColumn(he,L,ne.charCodeAt(T)===9,1);he>R?c[q].commentStrOffset=T-1:c[q].commentStrOffset=T}}}var m=t(63580),y=t(84144);class n extends W.R6{constructor(u,c){super(c),this._type=u}run(u,c){if(!c.hasModel())return;const b=c.getModel(),L=[],R=b.getOptions(),T=c.getOption(19),j=c.getSelections().map((ie,ne)=>({selection:ie,index:ne,ignoreFirstLine:!1}));j.sort((ie,ne)=>k.e.compareRangesUsingStarts(ie.selection,ne.selection));let q=j[0];for(let ie=1;ie<j.length;ie++){const ne=j[ie];q.selection.endLineNumber===ne.selection.startLineNumber&&(q.index<ne.index?ne.ignoreFirstLine=!0:(q.ignoreFirstLine=!0,q=ne))}for(const ie of j)L.push(new l(ie.selection,R.tabSize,this._type,T.insertSpace,T.ignoreEmptyLines,ie.ignoreFirstLine));c.pushUndoStop(),c.executeCommands(this.id,L),c.pushUndoStop()}}class p extends n{constructor(){super(0,{id:"editor.action.commentLine",label:m.N("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:y.eH.MenubarEditMenu,group:"5_insert",title:m.N({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class f extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:m.N("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,h.gx)(2089,2081),weight:100}})}}class v extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:m.N("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,h.gx)(2089,2099),weight:100}})}}class d extends W.R6{constructor(){super({id:"editor.action.blockComment",label:m.N("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:y.eH.MenubarEditMenu,group:"5_insert",title:m.N({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(u,c){if(!c.hasModel())return;const b=c.getOption(19),L=[],R=c.getSelections();for(const T of R)L.push(new s(T,b.insertSpace));c.pushUndoStop(),c.executeCommands(this.id,L),c.pushUndoStop()}}(0,W.Qr)(p),(0,W.Qr)(f),(0,W.Qr)(v),(0,W.Qr)(d)},16158:function(Ct,we,t){"use strict";t.r(we),t.d(we,{ContextMenuController:function(){return p}});var h=t(65321),W=t(76033),k=t(74741),O=t(9917),w=t(1432),G=t(16830),x=t(29102),N=t(63580),s=t(84144),C=t(38819),l=t(5606),m=t(91847),y=function(v,d,a,u){var c=arguments.length,b=c<3?d:u===null?u=Object.getOwnPropertyDescriptor(d,a):u,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,d,a,u);else for(var R=v.length-1;R>=0;R--)(L=v[R])&&(b=(c<3?L(b):c>3?L(d,a,b):L(d,a))||b);return c>3&&b&&Object.defineProperty(d,a,b),b},n=function(v,d){return function(a,u){d(a,u,v)}};let p=class vl{constructor(d,a,u,c,b,L){this._contextMenuService=a,this._contextViewService=u,this._contextKeyService=c,this._keybindingService=b,this._menuService=L,this._toDispose=new O.SL,this._contextMenuIsBeingShownCount=0,this._editor=d,this._toDispose.add(this._editor.onContextMenu(R=>this._onContextMenu(R))),this._toDispose.add(this._editor.onMouseWheel(R=>{if(this._contextMenuIsBeingShownCount>0){const T=this._contextViewService.getContextViewElement(),j=R.srcElement;j.shadowRoot&&h.Ay(T)===j.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(R=>{R.keyCode===58&&(R.preventDefault(),R.stopPropagation(),this.showContextMenu())}))}static get(d){return d.getContribution(vl.ID)}_onContextMenu(d){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),d.target.position&&!this._editor.getSelection().containsPosition(d.target.position)&&this._editor.setPosition(d.target.position);return}if(d.target.type===12||(d.event.preventDefault(),d.event.stopPropagation(),d.target.type!==6&&d.target.type!==7&&d.target.type!==1))return;if(this._editor.focus(),d.target.position){let u=!1;for(const c of this._editor.getSelections())if(c.containsPosition(d.target.position)){u=!0;break}u||this._editor.setPosition(d.target.position)}let a=null;d.target.type!==1&&(a={x:d.event.posx-1,width:2,y:d.event.posy-1,height:2}),this.showContextMenu(a)}showContextMenu(d){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const a=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?s.eH.SimpleEditorContext:s.eH.EditorContext);a.length>0&&this._doShowContextMenu(a,d)}_getMenuActions(d,a){const u=[],c=this._menuService.createMenu(a,this._contextKeyService),b=c.getActions({arg:d.uri});c.dispose();for(let L of b){const[,R]=L;let T=0;for(const j of R)if(j instanceof s.NZ){const q=this._getMenuActions(d,j.item.submenu);q.length>0&&(u.push(new k.wY(j.id,j.label,q)),T++)}else u.push(j),T++;T&&u.push(new k.Z0)}return u.length&&u.pop(),u}_doShowContextMenu(d,a=null){if(!this._editor.hasModel())return;const u=this._editor.getOption(52);if(this._editor.updateOptions({hover:{enabled:!1}}),!a){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const b=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),L=h.i(this._editor.getDomNode()),R=L.left+b.left,T=L.top+b.top+b.height;a={x:R,y:T}}const c=this._editor.getOption(113)&&!w.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>d,getActionViewItem:b=>{const L=this._keybindingFor(b);if(L)return new W.g(b,b,{label:!0,keybinding:L.getLabel(),isMenu:!0});const R=b;return typeof R.getActionViewItem=="function"?R.getActionViewItem():new W.g(b,b,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:b=>this._keybindingFor(b),onHide:b=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:u})}})}_keybindingFor(d){return this._keybindingService.lookupKeybinding(d.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};p.ID="editor.contrib.contextmenu",p=y([n(1,l.i),n(2,l.u),n(3,C.i6),n(4,m.d),n(5,s.co)],p);class f extends G.R6{constructor(){super({id:"editor.action.showContextMenu",label:N.N("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:x.u.textInputFocus,primary:1092,weight:100}})}run(d,a){p.get(a).showContextMenu()}}(0,G._K)(p.ID,p),(0,G.Qr)(f)},42834:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CursorRedo:function(){return s},CursorUndo:function(){return N},CursorUndoRedoController:function(){return x}});var h=t(9917),W=t(16830),k=t(29102),O=t(63580);class w{constructor(l){this.selections=l}equals(l){const m=this.selections.length,y=l.selections.length;if(m!==y)return!1;for(let n=0;n<m;n++)if(!this.selections[n].equalsSelection(l.selections[n]))return!1;return!0}}class G{constructor(l,m,y){this.cursorState=l,this.scrollTop=m,this.scrollLeft=y}}class x extends h.JT{constructor(l){super(),this._editor=l,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(l.onDidChangeModel(m=>{this._undoStack=[],this._redoStack=[]})),this._register(l.onDidChangeModelContent(m=>{this._undoStack=[],this._redoStack=[]})),this._register(l.onDidChangeCursorSelection(m=>{if(this._isCursorUndoRedo||!m.oldSelections||m.oldModelVersionId!==m.modelVersionId)return;const y=new w(m.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(y)||(this._undoStack.push(new G(y,l.getScrollTop(),l.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(l){return l.getContribution(x.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new G(new w(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new G(new w(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(l){this._isCursorUndoRedo=!0,this._editor.setSelections(l.cursorState.selections),this._editor.setScrollPosition({scrollTop:l.scrollTop,scrollLeft:l.scrollLeft}),this._isCursorUndoRedo=!1}}x.ID="editor.contrib.cursorUndoRedoController";class N extends W.R6{constructor(){super({id:"cursorUndo",label:O.N("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:k.u.textInputFocus,primary:2099,weight:100}})}run(l,m,y){x.get(m).cursorUndo()}}class s extends W.R6{constructor(){super({id:"cursorRedo",label:O.N("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(l,m,y){x.get(m).cursorRedo()}}(0,W._K)(x.ID,x),(0,W.Qr)(N),(0,W.Qr)(s)},87596:function(Ct,we,t){"use strict";t.r(we),t.d(we,{DragAndDropController:function(){return C}});var h=t(9917),W=t(1432),k=t(16830),O=t(50187),w=t(24314),G=t(3860),x=t(24979);class N{constructor(m,y,n){this.selection=m,this.targetPosition=y,this.copy=n,this.targetSelection=null}getEditOperations(m,y){let n=m.getValueInRange(this.selection);if(this.copy||y.addEditOperation(this.selection,null),y.addEditOperation(new w.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new G.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new G.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new G.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new G.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new G.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(m,y){return this.targetSelection}}function s(l){return W.dz?l.altKey:l.ctrlKey}class C extends h.JT{constructor(m){super(),this._editor=m,this._register(this._editor.onMouseDown(y=>this._onEditorMouseDown(y))),this._register(this._editor.onMouseUp(y=>this._onEditorMouseUp(y))),this._register(this._editor.onMouseDrag(y=>this._onEditorMouseDrag(y))),this._register(this._editor.onMouseDrop(y=>this._onEditorMouseDrop(y))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(y=>this.onEditorKeyDown(y))),this._register(this._editor.onKeyUp(y=>this.onEditorKeyUp(y))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(m){!this._editor.getOption(31)||this._editor.getOption(18)||(s(m)&&(this._modifierPressed=!0),this._mouseDown&&s(m)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(m){!this._editor.getOption(31)||this._editor.getOption(18)||(s(m)&&(this._modifierPressed=!1),this._mouseDown&&m.keyCode===C.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(m){this._mouseDown=!0}_onEditorMouseUp(m){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(m){let y=m.target;if(this._dragSelection===null){let p=(this._editor.getSelections()||[]).filter(f=>y.position&&f.containsPosition(y.position));if(p.length===1)this._dragSelection=p[0];else return}s(m.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),y.position&&(this._dragSelection.containsPosition(y.position)?this._removeDecoration():this.showAt(y.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(m){if(m.target&&(this._hitContent(m.target)||this._hitMargin(m.target))&&m.target.position){let y=new O.L(m.target.position.lineNumber,m.target.position.column);if(this._dragSelection===null){let n=null;if(m.event.shiftKey){let p=this._editor.getSelection();if(p){const{selectionStartLineNumber:f,selectionStartColumn:v}=p;n=[new G.Y(f,v,y.lineNumber,y.column)]}}else n=(this._editor.getSelections()||[]).map(p=>p.containsPosition(y)?new G.Y(y.lineNumber,y.column,y.lineNumber,y.column):p);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(y)||(s(m.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(y)||this._dragSelection.getStartPosition().equals(y)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(C.ID,new N(this._dragSelection,y,s(m.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(m){let y=[{range:new w.e(m.lineNumber,m.column,m.lineNumber,m.column),options:C._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,y),this._editor.revealPosition(m,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(m){return m.type===6||m.type===7}_hitMargin(m){return m.type===2||m.type===3||m.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}C.ID="editor.contrib.dragAndDrop",C.TRIGGER_KEY_VALUE=W.dz?6:5,C._DECORATION_OPTIONS=x.qx.register({description:"dnd-target",className:"dnd-target"}),(0,k._K)(C.ID,C)},81372:function(Ct,we,t){"use strict";t.r(we),t.d(we,{getDocumentSymbols:function(){return s}});var h=t(71050),W=t(98401),k=t(70666),O=t(51200),w=t(88216),G=t(86895),x=t(94565),N=function(C,l,m,y){function n(p){return p instanceof m?p:new m(function(f){f(p)})}return new(m||(m=Promise))(function(p,f){function v(u){try{a(y.next(u))}catch(c){f(c)}}function d(u){try{a(y.throw(u))}catch(c){f(c)}}function a(u){u.done?p(u.value):n(u.value).then(v,d)}a((y=y.apply(C,l||[])).next())})};function s(C,l,m){return N(this,void 0,void 0,function*(){const y=yield G.C3.create(C,m);return l?y.asListOfDocumentSymbols():y.getTopLevelSymbols()})}x.P.registerCommand("_executeDocumentSymbolProvider",function(C,...l){return N(this,void 0,void 0,function*(){const[m]=l;(0,W.p_)(k.o.isUri(m));const y=C.get(O.q).getModel(m);if(y)return s(y,!1,h.T.None);const n=yield C.get(w.S).createModelReference(m);try{return yield s(n.object.textEditorModel,!1,h.T.None)}finally{n.dispose()}})})},86895:function(Ct,we,t){"use strict";t.d(we,{C3:function(){return m}});var h=t(9488),W=t(71050),k=t(17301),O=t(56899),w=t(43702),G=t(24314),x=t(60303),N=t(5405);class s{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(n,p){let f;typeof n=="string"?f=`${p.id}/${n}`:(f=`${p.id}/${n.name}`,p.children.get(f)!==void 0&&(f=`${p.id}/${n.name}_${n.range.startLineNumber}_${n.range.startColumn}`));let v=f;for(let d=0;p.children.get(v)!==void 0;d++)v=`${f}_${d}`;return v}static empty(n){return n.children.size===0}}class C extends s{constructor(n,p,f){super(),this.id=n,this.parent=p,this.symbol=f,this.children=new Map}}class l extends s{constructor(n,p,f,v){super(),this.id=n,this.parent=p,this.label=f,this.order=v,this.children=new Map}}class m extends s{constructor(n){super(),this.uri=n,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(n,p){let f=this._keys.for(n,!0),v=m._requests.get(f);if(!v){let d=new W.A;v={promiseCnt:0,source:d,promise:m._create(n,d.token),model:void 0},m._requests.set(f,v);const a=Date.now();v.promise.then(()=>{this._requestDurations.update(n,Date.now()-a)})}return v.model?Promise.resolve(v.model):(v.promiseCnt+=1,p.onCancellationRequested(()=>{--v.promiseCnt===0&&(v.source.cancel(),m._requests.delete(f))}),new Promise((d,a)=>{v.promise.then(u=>{v.model=u,d(u)},u=>{m._requests.delete(f),a(u)})}))}static _create(n,p){const f=new W.A(p),v=new m(n.uri),d=x.vJ.ordered(n),a=d.map((c,b)=>{var L;let R=s.findId(`provider_${b}`,v),T=new l(R,v,(L=c.displayName)!==null&&L!==void 0?L:"Unknown Outline Provider",b);return Promise.resolve(c.provideDocumentSymbols(n,f.token)).then(j=>{for(const q of j||[])m._makeOutlineElement(q,T);return T},j=>((0,k.Cp)(j),T)).then(j=>{s.empty(j)?j.remove():v._groups.set(R,j)})}),u=x.vJ.onDidChange(()=>{const c=x.vJ.ordered(n);(0,h.fS)(c,d)||f.cancel()});return Promise.all(a).then(()=>f.token.isCancellationRequested&&!p.isCancellationRequested?m._create(n,p):v._compact()).finally(()=>{u.dispose()})}static _makeOutlineElement(n,p){let f=s.findId(n,p),v=new C(f,p,n);if(n.children)for(const d of n.children)m._makeOutlineElement(d,v);p.children.set(v.id,v)}_compact(){let n=0;for(const[p,f]of this._groups)f.children.size===0?this._groups.delete(p):n+=1;if(n!==1)this.children=this._groups;else{let p=O.$.first(this._groups.values());for(let[,f]of p.children)f.parent=this,this.children.set(f.id,f)}return this}getTopLevelSymbols(){const n=[];for(const p of this.children.values())p instanceof C?n.push(p.symbol):n.push(...O.$.map(p.children.values(),f=>f.symbol));return n.sort((p,f)=>G.e.compareRangesUsingStarts(p.range,f.range))}asListOfDocumentSymbols(){const n=this.getTopLevelSymbols(),p=[];return m._flattenDocumentSymbols(p,n,""),p.sort((f,v)=>G.e.compareRangesUsingStarts(f.range,v.range))}static _flattenDocumentSymbols(n,p,f){for(const v of p)n.push({kind:v.kind,tags:v.tags,name:v.name,detail:v.detail,containerName:v.containerName||f,range:v.range,selectionRange:v.selectionRange,children:void 0}),v.children&&m._flattenDocumentSymbols(n,v.children,v.name)}}m._requestDurations=new N.Y(x.vJ,350),m._requests=new w.z6(9,.75),m._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(y,n){return`${y.id}/${n?y.getVersionId():""}/${this._hash(x.vJ.all(y))}`}_hash(y){let n="";for(const p of y){let f=this._data.get(p);typeof f=="undefined"&&(f=this._counter++,this._data.set(p,f)),n+=f}return n}}},40539:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CommonFindController:function(){return an},FindController:function(){return zn},MatchFindAction:function(){return mn},NextMatchFindAction:function(){return Qn},NextSelectionMatchFindAction:function(){return On},PreviousMatchFindAction:function(){return Bn},PreviousSelectionMatchFindAction:function(){return qn},SelectionMatchFindAction:function(){return An},StartFindAction:function(){return Kn},StartFindReplaceAction:function(){return Hn},StartFindWithSelectionAction:function(){return is},getSelectionSearchString:function(){return Xn}});var h=t(15393),W=t(9917),k=t(97295),O=t(16830),w=t(29102),G=t(9488),x=t(61329),N=t(50187),s=t(24314),C=t(3860),l=t(77277),m=t(84973),y=t(24979),n=t(73910),p=t(97781);class f{constructor(U){this._editor=U,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const U=this._findScopeDecorationIds.map(me=>this._editor.getModel().getDecorationRange(me)).filter(me=>!!me);if(U.length)return U}return null}getStartPosition(){return this._startPosition}setStartPosition(U){this._startPosition=U,this.setCurrentFindMatch(null)}_getDecorationIndex(U){const me=this._decorations.indexOf(U);return me>=0?me+1:1}getCurrentMatchesPosition(U){let me=this._editor.getModel().getDecorationsInRange(U);for(const Ee of me){const $e=Ee.options;if($e===f._FIND_MATCH_DECORATION||$e===f._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(Ee.id)}return 0}setCurrentFindMatch(U){let me=null,Ee=0;if(U)for(let $e=0,et=this._decorations.length;$e<et;$e++){let wt=this._editor.getModel().getDecorationRange(this._decorations[$e]);if(U.equalsRange(wt)){me=this._decorations[$e],Ee=$e+1;break}}return(this._highlightedDecorationId!==null||me!==null)&&this._editor.changeDecorations($e=>{if(this._highlightedDecorationId!==null&&($e.changeDecorationOptions(this._highlightedDecorationId,f._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),me!==null&&(this._highlightedDecorationId=me,$e.changeDecorationOptions(this._highlightedDecorationId,f._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&($e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),me!==null){let et=this._editor.getModel().getDecorationRange(me);if(et.startLineNumber!==et.endLineNumber&&et.endColumn===1){let wt=et.endLineNumber-1,Rt=this._editor.getModel().getLineMaxColumn(wt);et=new s.e(et.startLineNumber,et.startColumn,wt,Rt)}this._rangeHighlightDecorationId=$e.addDecoration(et,f._RANGE_HIGHLIGHT_DECORATION)}}),Ee}set(U,me){this._editor.changeDecorations(Ee=>{let $e=f._FIND_MATCH_DECORATION,et=[];if(U.length>1e3){$e=f._FIND_MATCH_NO_OVERVIEW_DECORATION;const Rt=this._editor.getModel().getLineCount(),fi=this._editor.getLayoutInfo().height/Rt,ii=Math.max(2,Math.ceil(3/fi));let bt=U[0].range.startLineNumber,B=U[0].range.endLineNumber;for(let _e=1,We=U.length;_e<We;_e++){const rt=U[_e].range;B+ii>=rt.startLineNumber?rt.endLineNumber>B&&(B=rt.endLineNumber):(et.push({range:new s.e(bt,1,B,1),options:f._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),bt=rt.startLineNumber,B=rt.endLineNumber)}et.push({range:new s.e(bt,1,B,1),options:f._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let wt=new Array(U.length);for(let Rt=0,ti=U.length;Rt<ti;Rt++)wt[Rt]={range:U[Rt].range,options:$e};this._decorations=Ee.deltaDecorations(this._decorations,wt),this._overviewRulerApproximateDecorations=Ee.deltaDecorations(this._overviewRulerApproximateDecorations,et),this._rangeHighlightDecorationId&&(Ee.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(Rt=>Ee.removeDecoration(Rt)),this._findScopeDecorationIds=[]),me!=null&&me.length&&(this._findScopeDecorationIds=me.map(Rt=>Ee.addDecoration(Rt,f._FIND_SCOPE_DECORATION)))})}matchBeforePosition(U){if(this._decorations.length===0)return null;for(let me=this._decorations.length-1;me>=0;me--){let Ee=this._decorations[me],$e=this._editor.getModel().getDecorationRange(Ee);if(!(!$e||$e.endLineNumber>U.lineNumber)){if($e.endLineNumber<U.lineNumber)return $e;if(!($e.endColumn>U.column))return $e}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(U){if(this._decorations.length===0)return null;for(let me=0,Ee=this._decorations.length;me<Ee;me++){let $e=this._decorations[me],et=this._editor.getModel().getDecorationRange($e);if(!(!et||et.startLineNumber<U.lineNumber)){if(et.startLineNumber>U.lineNumber)return et;if(!(et.startColumn<U.column))return et}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let U=[];return U=U.concat(this._decorations),U=U.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&U.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&U.push(this._rangeHighlightDecorationId),U}}f._CURRENT_FIND_MATCH_DECORATION=y.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,p.EN)(n.Fm),position:m.sh.Center},minimap:{color:(0,p.EN)(n.KT),position:m.F5.Inline}}),f._FIND_MATCH_DECORATION=y.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,p.EN)(n.Fm),position:m.sh.Center},minimap:{color:(0,p.EN)(n.KT),position:m.F5.Inline}}),f._FIND_MATCH_NO_OVERVIEW_DECORATION=y.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),f._FIND_MATCH_ONLY_OVERVIEW_DECORATION=y.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,p.EN)(n.Fm),position:m.sh.Center}}),f._RANGE_HIGHLIGHT_DECORATION=y.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),f._FIND_SCOPE_DECORATION=y.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class v{constructor(U,me,Ee){this._editorSelection=U,this._ranges=me,this._replaceStrings=Ee,this._trackedEditorSelectionId=null}getEditOperations(U,me){if(this._ranges.length>0){let Ee=[];for(let wt=0;wt<this._ranges.length;wt++)Ee.push({range:this._ranges[wt],text:this._replaceStrings[wt]});Ee.sort((wt,Rt)=>s.e.compareRangesUsingStarts(wt.range,Rt.range));let $e=[],et=Ee[0];for(let wt=1;wt<Ee.length;wt++)et.range.endLineNumber===Ee[wt].range.startLineNumber&&et.range.endColumn===Ee[wt].range.startColumn?(et.range=et.range.plusRange(Ee[wt].range),et.text=et.text+Ee[wt].text):($e.push(et),et=Ee[wt]);$e.push(et);for(const wt of $e)me.addEditOperation(wt.range,wt.text)}this._trackedEditorSelectionId=me.trackSelection(this._editorSelection)}computeCursorState(U,me){return me.getTrackedSelection(this._trackedEditorSelectionId)}}function d(Lt,U){if(Lt&&Lt[0]!==""){const me=a(Lt,U,"-"),Ee=a(Lt,U,"_");return me&&!Ee?u(Lt,U,"-"):!me&&Ee?u(Lt,U,"_"):Lt[0].toUpperCase()===Lt[0]?U.toUpperCase():Lt[0].toLowerCase()===Lt[0]?U.toLowerCase():k.Kw(Lt[0][0])&&U.length>0?U[0].toUpperCase()+U.substr(1):Lt[0][0].toUpperCase()!==Lt[0][0]&&U.length>0?U[0].toLowerCase()+U.substr(1):U}else return U}function a(Lt,U,me){return Lt[0].indexOf(me)!==-1&&U.indexOf(me)!==-1&&Lt[0].split(me).length===U.split(me).length}function u(Lt,U,me){const Ee=U.split(me),$e=Lt[0].split(me);let et="";return Ee.forEach((wt,Rt)=>{et+=d([$e[Rt]],wt)+me}),et.slice(0,-1)}class c{constructor(U){this.staticValue=U,this.kind=0}}class b{constructor(U){this.pieces=U,this.kind=1}}class L{constructor(U){!U||U.length===0?this._state=new c(""):U.length===1&&U[0].staticValue!==null?this._state=new c(U[0].staticValue):this._state=new b(U)}static fromStaticValue(U){return new L([R.staticValue(U)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(U,me){if(this._state.kind===0)return me?d(U,this._state.staticValue):this._state.staticValue;let Ee="";for(let $e=0,et=this._state.pieces.length;$e<et;$e++){let wt=this._state.pieces[$e];if(wt.staticValue!==null){Ee+=wt.staticValue;continue}let Rt=L._substitute(wt.matchIndex,U);if(wt.caseOps!==null&&wt.caseOps.length>0){let ti=[],fi=wt.caseOps.length,ii=0;for(let bt=0,B=Rt.length;bt<B;bt++){if(ii>=fi){ti.push(Rt.slice(bt));break}switch(wt.caseOps[ii]){case"U":ti.push(Rt[bt].toUpperCase());break;case"u":ti.push(Rt[bt].toUpperCase()),ii++;break;case"L":ti.push(Rt[bt].toLowerCase());break;case"l":ti.push(Rt[bt].toLowerCase()),ii++;break;default:ti.push(Rt[bt])}}Rt=ti.join("")}Ee+=Rt}return Ee}static _substitute(U,me){if(me===null)return"";if(U===0)return me[0];let Ee="";for(;U>0;){if(U<me.length)return(me[U]||"")+Ee;Ee=String(U%10)+Ee,U=Math.floor(U/10)}return"$"+Ee}}class R{constructor(U,me,Ee){this.staticValue=U,this.matchIndex=me,!Ee||Ee.length===0?this.caseOps=null:this.caseOps=Ee.slice(0)}static staticValue(U){return new R(U,-1,null)}static caseOps(U,me){return new R(null,U,me)}}class T{constructor(U){this._source=U,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(U){this._emitStatic(this._source.substring(this._lastCharIndex,U)),this._lastCharIndex=U}emitStatic(U,me){this._emitStatic(U),this._lastCharIndex=me}_emitStatic(U){U.length!==0&&(this._currentStaticPiece+=U)}emitMatchIndex(U,me,Ee){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=R.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=R.caseOps(U,Ee),this._lastCharIndex=me}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=R.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}function j(Lt){if(!Lt||Lt.length===0)return new L(null);let U=[],me=new T(Lt);for(let Ee=0,$e=Lt.length;Ee<$e;Ee++){let et=Lt.charCodeAt(Ee);if(et===92){if(Ee++,Ee>=$e)break;let wt=Lt.charCodeAt(Ee);switch(wt){case 92:me.emitUnchanged(Ee-1),me.emitStatic("\\",Ee+1);break;case 110:me.emitUnchanged(Ee-1),me.emitStatic(`
`,Ee+1);break;case 116:me.emitUnchanged(Ee-1),me.emitStatic("	",Ee+1);break;case 117:case 85:case 108:case 76:me.emitUnchanged(Ee-1),me.emitStatic("",Ee+1),U.push(String.fromCharCode(wt));break}continue}if(et===36){if(Ee++,Ee>=$e)break;let wt=Lt.charCodeAt(Ee);if(wt===36){me.emitUnchanged(Ee-1),me.emitStatic("$",Ee+1);continue}if(wt===48||wt===38){me.emitUnchanged(Ee-1),me.emitMatchIndex(0,Ee+1,U),U.length=0;continue}if(49<=wt&&wt<=57){let Rt=wt-48;if(Ee+1<$e){let ti=Lt.charCodeAt(Ee+1);if(48<=ti&&ti<=57){Ee++,Rt=Rt*10+(ti-48),me.emitUnchanged(Ee-2),me.emitMatchIndex(Rt,Ee+1,U),U.length=0;continue}}me.emitUnchanged(Ee-1),me.emitMatchIndex(Rt,Ee+1,U),U.length=0;continue}}}return me.finalize()}var q=t(38819);const ie=new q.uy("findWidgetVisible",!1),ne=new q.uy("findInputFocussed",!1),he=new q.uy("replaceInputFocussed",!1),$={primary:545,mac:{primary:2593}},V={primary:565,mac:{primary:2613}},z={primary:560,mac:{primary:2608}},Q={primary:554,mac:{primary:2602}},le={primary:558,mac:{primary:2606}},E={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},I=19999,A=240;class H{constructor(U,me){this._toDispose=new W.SL,this._editor=U,this._state=me,this._isDisposed=!1,this._startSearchingTimer=new h._F,this._decorations=new f(U),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new h.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(Ee=>{(Ee.reason===3||Ee.reason===5||Ee.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(Ee=>{this._ignoreModelContentChanged||(Ee.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(Ee=>this._onStateChanged(Ee))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,W.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(U){this._isDisposed||this._editor.hasModel()&&(U.searchString||U.isReplaceRevealed||U.isRegex||U.wholeWord||U.matchCase||U.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{U.searchScope?this.research(U.moveCursor,this._state.searchScope):this.research(U.moveCursor)},A)):U.searchScope?this.research(U.moveCursor,this._state.searchScope):this.research(U.moveCursor))}static _getSearchRange(U,me){return me||U.getFullModelRange()}research(U,me){let Ee=null;typeof me!="undefined"?me!==null&&(Array.isArray(me)?Ee=me:Ee=[me]):Ee=this._decorations.getFindScopes(),Ee!==null&&(Ee=Ee.map(Rt=>{if(Rt.startLineNumber!==Rt.endLineNumber){let ti=Rt.endLineNumber;return Rt.endColumn===1&&(ti=ti-1),new s.e(Rt.startLineNumber,1,ti,this._editor.getModel().getLineMaxColumn(ti))}return Rt}));let $e=this._findMatches(Ee,!1,I);this._decorations.set($e,Ee);const et=this._editor.getSelection();let wt=this._decorations.getCurrentMatchesPosition(et);if(wt===0&&$e.length>0){const Rt=(0,G.lG)($e.map(ti=>ti.range),ti=>s.e.compareRangesUsingStarts(ti,et)>=0);wt=Rt>0?Rt-1+1:wt}this._state.changeMatchInfo(wt,this._decorations.getCount(),void 0),U&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let U=this._decorations.getFindScope();return U&&this._editor.revealRangeInCenterIfOutsideViewport(U,0),!0}return!1}_setCurrentFindMatch(U){let me=this._decorations.setCurrentFindMatch(U);this._state.changeMatchInfo(me,this._decorations.getCount(),U),this._editor.setSelection(U),this._editor.revealRangeInCenterIfOutsideViewport(U,0)}_prevSearchPosition(U){let me=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:Ee,column:$e}=U,et=this._editor.getModel();return me||$e===1?(Ee===1?Ee=et.getLineCount():Ee--,$e=et.getLineMaxColumn(Ee)):$e--,new N.L(Ee,$e)}_moveToPrevMatch(U,me=!1){if(!this._state.canNavigateBack()){const ii=this._decorations.matchAfterPosition(U);ii&&this._setCurrentFindMatch(ii);return}if(this._decorations.getCount()<I){let ii=this._decorations.matchBeforePosition(U);ii&&ii.isEmpty()&&ii.getStartPosition().equals(U)&&(U=this._prevSearchPosition(U),ii=this._decorations.matchBeforePosition(U)),ii&&this._setCurrentFindMatch(ii);return}if(this._cannotFind())return;let Ee=this._decorations.getFindScope(),$e=H._getSearchRange(this._editor.getModel(),Ee);$e.getEndPosition().isBefore(U)&&(U=$e.getEndPosition()),U.isBefore($e.getStartPosition())&&(U=$e.getEndPosition());let{lineNumber:et,column:wt}=U,Rt=this._editor.getModel(),ti=new N.L(et,wt),fi=Rt.findPreviousMatch(this._state.searchString,ti,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(fi&&fi.range.isEmpty()&&fi.range.getStartPosition().equals(ti)&&(ti=this._prevSearchPosition(ti),fi=Rt.findPreviousMatch(this._state.searchString,ti,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),!!fi){if(!me&&!$e.containsRange(fi.range))return this._moveToPrevMatch(fi.range.getStartPosition(),!0);this._setCurrentFindMatch(fi.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(U){let me=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:Ee,column:$e}=U,et=this._editor.getModel();return me||$e===et.getLineMaxColumn(Ee)?(Ee===et.getLineCount()?Ee=1:Ee++,$e=1):$e++,new N.L(Ee,$e)}_moveToNextMatch(U){if(!this._state.canNavigateForward()){const Ee=this._decorations.matchBeforePosition(U);Ee&&this._setCurrentFindMatch(Ee);return}if(this._decorations.getCount()<I){let Ee=this._decorations.matchAfterPosition(U);Ee&&Ee.isEmpty()&&Ee.getStartPosition().equals(U)&&(U=this._nextSearchPosition(U),Ee=this._decorations.matchAfterPosition(U)),Ee&&this._setCurrentFindMatch(Ee);return}let me=this._getNextMatch(U,!1,!0);me&&this._setCurrentFindMatch(me.range)}_getNextMatch(U,me,Ee,$e=!1){if(this._cannotFind())return null;let et=this._decorations.getFindScope(),wt=H._getSearchRange(this._editor.getModel(),et);wt.getEndPosition().isBefore(U)&&(U=wt.getStartPosition()),U.isBefore(wt.getStartPosition())&&(U=wt.getStartPosition());let{lineNumber:Rt,column:ti}=U,fi=this._editor.getModel(),ii=new N.L(Rt,ti),bt=fi.findNextMatch(this._state.searchString,ii,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,me);return Ee&&bt&&bt.range.isEmpty()&&bt.range.getStartPosition().equals(ii)&&(ii=this._nextSearchPosition(ii),bt=fi.findNextMatch(this._state.searchString,ii,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,me)),bt?!$e&&!wt.containsRange(bt.range)?this._getNextMatch(bt.range.getEndPosition(),me,Ee,!0):bt:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?j(this._state.replaceString):L.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let U=this._getReplacePattern(),me=this._editor.getSelection(),Ee=this._getNextMatch(me.getStartPosition(),!0,!1);if(Ee)if(me.equalsRange(Ee.range)){let $e=U.buildReplaceString(Ee.matches,this._state.preserveCase),et=new x.T4(me,$e);this._executeEditorCommand("replace",et),this._decorations.setStartPosition(new N.L(me.startLineNumber,me.startColumn+$e.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(Ee.range)}_findMatches(U,me,Ee){const $e=(U||[null]).map(et=>H._getSearchRange(this._editor.getModel(),et));return this._editor.getModel().findMatches(this._state.searchString,$e,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,me,Ee)}replaceAll(){if(!this._hasMatches())return;const U=this._decorations.getFindScopes();U===null&&this._state.matchesCount>=I?this._largeReplaceAll():this._regularReplaceAll(U),this.research(!1)}_largeReplaceAll(){const me=new l.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!me)return;let Ee=me.regex;if(!Ee.multiline){let bt="mu";Ee.ignoreCase&&(bt+="i"),Ee.global&&(bt+="g"),Ee=new RegExp(Ee.source,bt)}const $e=this._editor.getModel(),et=$e.getValue(1),wt=$e.getFullModelRange(),Rt=this._getReplacePattern();let ti;const fi=this._state.preserveCase;Rt.hasReplacementPatterns||fi?ti=et.replace(Ee,function(){return Rt.buildReplaceString(arguments,fi)}):ti=et.replace(Ee,Rt.buildReplaceString(null,fi));let ii=new x.hP(wt,ti,this._editor.getSelection());this._executeEditorCommand("replaceAll",ii)}_regularReplaceAll(U){const me=this._getReplacePattern();let Ee=this._findMatches(U,me.hasReplacementPatterns||this._state.preserveCase,1073741824),$e=[];for(let wt=0,Rt=Ee.length;wt<Rt;wt++)$e[wt]=me.buildReplaceString(Ee[wt].matches,this._state.preserveCase);let et=new v(this._editor.getSelection(),Ee.map(wt=>wt.range),$e);this._executeEditorCommand("replaceAll",et)}selectAllMatches(){if(!this._hasMatches())return;let U=this._decorations.getFindScopes(),Ee=this._findMatches(U,!1,1073741824).map(et=>new C.Y(et.range.startLineNumber,et.range.startColumn,et.range.endLineNumber,et.range.endColumn)),$e=this._editor.getSelection();for(let et=0,wt=Ee.length;et<wt;et++)if(Ee[et].equalsRange($e)){Ee=[$e].concat(Ee.slice(0,et)).concat(Ee.slice(et+1));break}this._editor.setSelections(Ee)}_executeEditorCommand(U,me){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(U,me),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var Y=t(65321),X=t(93794),re=t(73046),fe=t(41264),ue=t(4669);const Oe={inputActiveOptionBorder:fe.Il.fromHex("#007ACC00"),inputActiveOptionForeground:fe.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:fe.Il.fromHex("#0E639C50")};class Ce extends X.${constructor(U){super(),this._onChange=this._register(new ue.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ue.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Oe),U),this._checked=this._opts.isChecked;const me=["monaco-custom-checkbox"];this._opts.icon&&me.push(...re.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&me.push(...this._opts.actionClassName.split(" ")),this._checked&&me.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...me),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,Ee=>{this.checked=!this._checked,this._onChange.fire(!1),Ee.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,Ee=>{if(Ee.keyCode===10||Ee.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),Ee.preventDefault();return}this._onKeyDown.fire(Ee)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(U){this._checked=U,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(U){U.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=U.inputActiveOptionBorder),U.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=U.inputActiveOptionForeground),U.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=U.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var oe=t(63580);const ae=oe.N("caseDescription","Match Case"),Be=oe.N("wordsDescription","Match Whole Word"),Ve=oe.N("regexDescription","Use Regular Expression");class se extends Ce{constructor(U){super({icon:re.lA.caseSensitive,title:ae+U.appendTitle,isChecked:U.isChecked,inputActiveOptionBorder:U.inputActiveOptionBorder,inputActiveOptionForeground:U.inputActiveOptionForeground,inputActiveOptionBackground:U.inputActiveOptionBackground})}}class ce extends Ce{constructor(U){super({icon:re.lA.wholeWord,title:Be+U.appendTitle,isChecked:U.isChecked,inputActiveOptionBorder:U.inputActiveOptionBorder,inputActiveOptionForeground:U.inputActiveOptionForeground,inputActiveOptionBackground:U.inputActiveOptionBackground})}}class Te extends Ce{constructor(U){super({icon:re.lA.regex,title:Ve+U.appendTitle,isChecked:U.isChecked,inputActiveOptionBorder:U.inputActiveOptionBorder,inputActiveOptionForeground:U.inputActiveOptionForeground,inputActiveOptionBackground:U.inputActiveOptionBackground})}}class xe extends X.${constructor(U,me,Ee,$e){super(),this._hideSoon=this._register(new h.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=U,this._state=me,this._keybindingService=Ee,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const et=$e.getColorTheme().getColor(n.PR),wt=$e.getColorTheme().getColor(n.Pv),Rt=$e.getColorTheme().getColor(n.XE);this.caseSensitive=this._register(new se({appendTitle:this._keybindingLabelFor(E.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:et,inputActiveOptionForeground:wt,inputActiveOptionBackground:Rt})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new ce({appendTitle:this._keybindingLabelFor(E.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:et,inputActiveOptionForeground:wt,inputActiveOptionBackground:Rt})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Te({appendTitle:this._keybindingLabelFor(E.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:et,inputActiveOptionForeground:wt,inputActiveOptionBackground:Rt})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(ti=>{let fi=!1;ti.isRegex&&(this.regex.checked=this._state.isRegex,fi=!0),ti.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,fi=!0),ti.matchCase&&(this.caseSensitive.checked=this._state.matchCase,fi=!0),!this._state.isRevealed&&fi&&this._revealTemporarily()})),this._register(Y.j_(this._domNode,ti=>this._onMouseOut())),this._register(Y.nm(this._domNode,"mouseover",ti=>this._onMouseOver())),this._applyTheme($e.getColorTheme()),this._register($e.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(U){let me=this._keybindingService.lookupKeybinding(U);return me?` (${me.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return xe.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(U){let me={inputActiveOptionBorder:U.getColor(n.PR),inputActiveOptionForeground:U.getColor(n.Pv),inputActiveOptionBackground:U.getColor(n.XE)};this.caseSensitive.style(me),this.wholeWords.style(me),this.regex.style(me)}}xe.ID="editor.contrib.findOptionsWidget",(0,p.Ic)((Lt,U)=>{const me=Lt.getColor(n.D0);me&&U.addRule(`.monaco-editor .findOptionsWidget { background-color: ${me}; }`);const Ee=Lt.getColor(n.Hf);Ee&&U.addRule(`.monaco-editor .findOptionsWidget { color: ${Ee}; }`);const $e=Lt.getColor(n.rh);$e&&U.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${$e}; }`);const et=Lt.getColor(n.lR);et&&U.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${et}; }`)});function Fe(Lt,U){return Lt===1?!0:Lt===2?!1:U}class Le extends W.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new ue.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Fe(this._isRegexOverride,this._isRegex)}get wholeWord(){return Fe(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Fe(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Fe(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(U,me,Ee){let $e={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},et=!1;me===0&&(U=0),U>me&&(U=me),this._matchesPosition!==U&&(this._matchesPosition=U,$e.matchesPosition=!0,et=!0),this._matchesCount!==me&&(this._matchesCount=me,$e.matchesCount=!0,et=!0),typeof Ee!="undefined"&&(s.e.equalsRange(this._currentMatch,Ee)||(this._currentMatch=Ee,$e.currentMatch=!0,et=!0)),et&&this._onFindReplaceStateChange.fire($e)}change(U,me,Ee=!0){var $e;let et={moveCursor:me,updateHistory:Ee,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},wt=!1;const Rt=this.isRegex,ti=this.wholeWord,fi=this.matchCase,ii=this.preserveCase;typeof U.searchString!="undefined"&&this._searchString!==U.searchString&&(this._searchString=U.searchString,et.searchString=!0,wt=!0),typeof U.replaceString!="undefined"&&this._replaceString!==U.replaceString&&(this._replaceString=U.replaceString,et.replaceString=!0,wt=!0),typeof U.isRevealed!="undefined"&&this._isRevealed!==U.isRevealed&&(this._isRevealed=U.isRevealed,et.isRevealed=!0,wt=!0),typeof U.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==U.isReplaceRevealed&&(this._isReplaceRevealed=U.isReplaceRevealed,et.isReplaceRevealed=!0,wt=!0),typeof U.isRegex!="undefined"&&(this._isRegex=U.isRegex),typeof U.wholeWord!="undefined"&&(this._wholeWord=U.wholeWord),typeof U.matchCase!="undefined"&&(this._matchCase=U.matchCase),typeof U.preserveCase!="undefined"&&(this._preserveCase=U.preserveCase),typeof U.searchScope!="undefined"&&(!(($e=U.searchScope)===null||$e===void 0)&&$e.every(bt=>{var B;return(B=this._searchScope)===null||B===void 0?void 0:B.some(_e=>!s.e.equalsRange(_e,bt))})||(this._searchScope=U.searchScope,et.searchScope=!0,wt=!0)),typeof U.loop!="undefined"&&this._loop!==U.loop&&(this._loop=U.loop,et.loop=!0,wt=!0),this._isRegexOverride=typeof U.isRegexOverride!="undefined"?U.isRegexOverride:0,this._wholeWordOverride=typeof U.wholeWordOverride!="undefined"?U.wholeWordOverride:0,this._matchCaseOverride=typeof U.matchCaseOverride!="undefined"?U.matchCaseOverride:0,this._preserveCaseOverride=typeof U.preserveCaseOverride!="undefined"?U.preserveCaseOverride:0,Rt!==this.isRegex&&(wt=!0,et.isRegex=!0),ti!==this.wholeWord&&(wt=!0,et.wholeWord=!0),fi!==this.matchCase&&(wt=!0,et.matchCase=!0),ii!==this.preserveCase&&(wt=!0,et.preserveCase=!0),wt&&this._onFindReplaceStateChange.fire(et)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=I}}var Me=t(35996),Se=t(83080),ze=t(17301),Ye=t(1432),qe=t(97862);const ht=oe.N("defaultLabel","input");class kt extends X.${constructor(U,me,Ee,$e){super(),this._showOptionButtons=Ee,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new ue.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ue.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ue.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new ue.Q5),this._onKeyUp=this._register(new ue.Q5),this._onCaseSensitiveKeyDown=this._register(new ue.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new ue.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=me,this.placeholder=$e.placeholder||"",this.validation=$e.validation,this.label=$e.label||ht,this.inputActiveOptionBorder=$e.inputActiveOptionBorder,this.inputActiveOptionForeground=$e.inputActiveOptionForeground,this.inputActiveOptionBackground=$e.inputActiveOptionBackground,this.inputBackground=$e.inputBackground,this.inputForeground=$e.inputForeground,this.inputBorder=$e.inputBorder,this.inputValidationInfoBorder=$e.inputValidationInfoBorder,this.inputValidationInfoBackground=$e.inputValidationInfoBackground,this.inputValidationInfoForeground=$e.inputValidationInfoForeground,this.inputValidationWarningBorder=$e.inputValidationWarningBorder,this.inputValidationWarningBackground=$e.inputValidationWarningBackground,this.inputValidationWarningForeground=$e.inputValidationWarningForeground,this.inputValidationErrorBorder=$e.inputValidationErrorBorder,this.inputValidationErrorBackground=$e.inputValidationErrorBackground,this.inputValidationErrorForeground=$e.inputValidationErrorForeground;const et=$e.appendCaseSensitiveLabel||"",wt=$e.appendWholeWordsLabel||"",Rt=$e.appendRegexLabel||"",ti=$e.history||[],fi=!!$e.flexibleHeight,ii=!!$e.flexibleWidth,bt=$e.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new qe.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:ti,showHistoryHint:$e.showHistoryHint,flexibleHeight:fi,flexibleWidth:ii,flexibleMaxHeight:bt})),this.regex=this._register(new Te({appendTitle:Rt,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(We=>{this._onDidOptionChange.fire(We),!We&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(We=>{this._onRegexKeyDown.fire(We)})),this.wholeWords=this._register(new ce({appendTitle:wt,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(We=>{this._onDidOptionChange.fire(We),!We&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new se({appendTitle:et,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(We=>{this._onDidOptionChange.fire(We),!We&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(We=>{this._onCaseSensitiveKeyDown.fire(We)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let B=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,We=>{if(We.equals(15)||We.equals(17)||We.equals(9)){let rt=B.indexOf(document.activeElement);if(rt>=0){let yt=-1;We.equals(17)?yt=(rt+1)%B.length:We.equals(15)&&(rt===0?yt=B.length-1:yt=rt-1),We.equals(9)?(B[rt].blur(),this.inputBox.focus()):yt>=0&&B[yt].focus(),Y.zB.stop(We,!0)}}});let _e=document.createElement("div");_e.className="controls",_e.style.display=this._showOptionButtons?"block":"none",_e.appendChild(this.caseSensitive.domNode),_e.appendChild(this.wholeWords.domNode),_e.appendChild(this.regex.domNode),this.domNode.appendChild(_e),U&&U.appendChild(this.domNode),this._register(Y.nm(this.inputBox.inputElement,"compositionstart",We=>{this.imeSessionInProgress=!0})),this._register(Y.nm(this.inputBox.inputElement,"compositionend",We=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,We=>this._onKeyDown.fire(We)),this.onkeyup(this.inputBox.inputElement,We=>this._onKeyUp.fire(We)),this.oninput(this.inputBox.inputElement,We=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,We=>this._onMouseDown.fire(We))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(U){this.fixFocusOnOptionClickEnabled=U}setEnabled(U){U?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(U){this.inputBox.value!==U&&(this.inputBox.value=U)}style(U){this.inputActiveOptionBorder=U.inputActiveOptionBorder,this.inputActiveOptionForeground=U.inputActiveOptionForeground,this.inputActiveOptionBackground=U.inputActiveOptionBackground,this.inputBackground=U.inputBackground,this.inputForeground=U.inputForeground,this.inputBorder=U.inputBorder,this.inputValidationInfoBackground=U.inputValidationInfoBackground,this.inputValidationInfoForeground=U.inputValidationInfoForeground,this.inputValidationInfoBorder=U.inputValidationInfoBorder,this.inputValidationWarningBackground=U.inputValidationWarningBackground,this.inputValidationWarningForeground=U.inputValidationWarningForeground,this.inputValidationWarningBorder=U.inputValidationWarningBorder,this.inputValidationErrorBackground=U.inputValidationErrorBackground,this.inputValidationErrorForeground=U.inputValidationErrorForeground,this.inputValidationErrorBorder=U.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const U={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(U),this.wholeWords.style(U),this.caseSensitive.style(U);const me={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(me)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(U){this.caseSensitive.checked=U}getWholeWords(){return this.wholeWords.checked}setWholeWords(U){this.wholeWords.checked=U}getRegex(){return this.regex.checked}setRegex(U){this.regex.checked=U,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const zt=oe.N("defaultLabel","input"),Ke=oe.N("label.preserveCaseCheckbox","Preserve Case");class Je extends Ce{constructor(U){super({icon:re.lA.preserveCase,title:Ke+U.appendTitle,isChecked:U.isChecked,inputActiveOptionBorder:U.inputActiveOptionBorder,inputActiveOptionForeground:U.inputActiveOptionForeground,inputActiveOptionBackground:U.inputActiveOptionBackground})}}class Ze extends X.${constructor(U,me,Ee,$e){super(),this._showOptionButtons=Ee,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new ue.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ue.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ue.Q5),this._onInput=this._register(new ue.Q5),this._onKeyUp=this._register(new ue.Q5),this._onPreserveCaseKeyDown=this._register(new ue.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=me,this.placeholder=$e.placeholder||"",this.validation=$e.validation,this.label=$e.label||zt,this.inputActiveOptionBorder=$e.inputActiveOptionBorder,this.inputActiveOptionForeground=$e.inputActiveOptionForeground,this.inputActiveOptionBackground=$e.inputActiveOptionBackground,this.inputBackground=$e.inputBackground,this.inputForeground=$e.inputForeground,this.inputBorder=$e.inputBorder,this.inputValidationInfoBorder=$e.inputValidationInfoBorder,this.inputValidationInfoBackground=$e.inputValidationInfoBackground,this.inputValidationInfoForeground=$e.inputValidationInfoForeground,this.inputValidationWarningBorder=$e.inputValidationWarningBorder,this.inputValidationWarningBackground=$e.inputValidationWarningBackground,this.inputValidationWarningForeground=$e.inputValidationWarningForeground,this.inputValidationErrorBorder=$e.inputValidationErrorBorder,this.inputValidationErrorBackground=$e.inputValidationErrorBackground,this.inputValidationErrorForeground=$e.inputValidationErrorForeground;const et=$e.appendPreserveCaseLabel||"",wt=$e.history||[],Rt=!!$e.flexibleHeight,ti=!!$e.flexibleWidth,fi=$e.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new qe.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:wt,showHistoryHint:$e.showHistoryHint,flexibleHeight:Rt,flexibleWidth:ti,flexibleMaxHeight:fi})),this.preserveCase=this._register(new Je({appendTitle:et,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(B=>{this._onDidOptionChange.fire(B),!B&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(B=>{this._onPreserveCaseKeyDown.fire(B)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let ii=[this.preserveCase.domNode];this.onkeydown(this.domNode,B=>{if(B.equals(15)||B.equals(17)||B.equals(9)){let _e=ii.indexOf(document.activeElement);if(_e>=0){let We=-1;B.equals(17)?We=(_e+1)%ii.length:B.equals(15)&&(_e===0?We=ii.length-1:We=_e-1),B.equals(9)?(ii[_e].blur(),this.inputBox.focus()):We>=0&&ii[We].focus(),Y.zB.stop(B,!0)}}});let bt=document.createElement("div");bt.className="controls",bt.style.display=this._showOptionButtons?"block":"none",bt.appendChild(this.preserveCase.domNode),this.domNode.appendChild(bt),U&&U.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,B=>this._onKeyDown.fire(B)),this.onkeyup(this.inputBox.inputElement,B=>this._onKeyUp.fire(B)),this.oninput(this.inputBox.inputElement,B=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,B=>this._onMouseDown.fire(B))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(U){U?this.enable():this.disable()}style(U){this.inputActiveOptionBorder=U.inputActiveOptionBorder,this.inputActiveOptionForeground=U.inputActiveOptionForeground,this.inputActiveOptionBackground=U.inputActiveOptionBackground,this.inputBackground=U.inputBackground,this.inputForeground=U.inputForeground,this.inputBorder=U.inputBorder,this.inputValidationInfoBackground=U.inputValidationInfoBackground,this.inputValidationInfoForeground=U.inputValidationInfoForeground,this.inputValidationInfoBorder=U.inputValidationInfoBorder,this.inputValidationWarningBackground=U.inputValidationWarningBackground,this.inputValidationWarningForeground=U.inputValidationWarningForeground,this.inputValidationWarningBorder=U.inputValidationWarningBorder,this.inputValidationErrorBackground=U.inputValidationErrorBackground,this.inputValidationErrorForeground=U.inputValidationErrorForeground,this.inputValidationErrorBorder=U.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const U={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(U);const me={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(me)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(U){this.preserveCase.checked=U}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(U){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=U,this.domNode.style.width=U+"px"}dispose(){super.dispose()}}var Ae=t(49989),He=t(79599),It=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},Bt=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}};const oi="historyNavigationWidget",ni="historyNavigationForwardsEnabled",hi="historyNavigationBackwardsEnabled";function Di(Lt,U,me){new q.uy(me,U).bindTo(Lt)}function Ti(Lt,U){return Lt.createScoped(U.target)}function Ii(Lt,U){return Lt.getContext(document.activeElement).getValue(U)}function ai(Lt,U){const me=Ti(Lt,U);Di(me,U,oi);const Ee=new q.uy(ni,!0).bindTo(me),$e=new q.uy(hi,!0).bindTo(me);return{scopedContextKeyService:me,historyNavigationForwardsEnablement:Ee,historyNavigationBackwardsEnablement:$e}}let Pt=class extends kt{constructor(U,me,Ee,$e,et=!1){super(U,me,et,Ee),this._register(ai($e,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Pt=It([Bt(3,q.i6)],Pt);let Gt=class extends Ze{constructor(U,me,Ee,$e,et=!1){super(U,me,et,Ee),this._register(ai($e,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Gt=It([Bt(3,q.i6)],Gt),Ae.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:q.Ao.and(q.Ao.has(oi),q.Ao.equals(hi,!0),He._y.Visible.isEqualTo(!1)),primary:16,secondary:[528],handler:Lt=>{const U=Ii(Lt.get(q.i6),oi);U&&U.historyNavigator.showPreviousValue()}}),Ae.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:q.Ao.and(q.Ao.has(oi),q.Ao.equals(ni,!0),He._y.Visible.isEqualTo(!1)),primary:18,secondary:[530],handler:Lt=>{const U=Ii(Lt.get(q.i6),oi);U&&U.historyNavigator.showNextValue()}});function ot(Lt){var U,me;return((U=Lt.lookupKeybinding("history.showPrevious"))===null||U===void 0?void 0:U.getElectronAccelerator())==="Up"&&((me=Lt.lookupKeybinding("history.showNext"))===null||me===void 0?void 0:me.getElectronAccelerator())==="Down"}var mt=t(59554),ft=function(Lt,U,me,Ee){function $e(et){return et instanceof me?et:new me(function(wt){wt(et)})}return new(me||(me=Promise))(function(et,wt){function Rt(ii){try{fi(Ee.next(ii))}catch(bt){wt(bt)}}function ti(ii){try{fi(Ee.throw(ii))}catch(bt){wt(bt)}}function fi(ii){ii.done?et(ii.value):$e(ii.value).then(Rt,ti)}fi((Ee=Ee.apply(Lt,U||[])).next())})};const Xe=(0,mt.q5)("find-selection",re.lA.selection,oe.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Ge=(0,mt.q5)("find-collapsed",re.lA.chevronRight,oe.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Ie=(0,mt.q5)("find-expanded",re.lA.chevronDown,oe.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Pe=(0,mt.q5)("find-replace",re.lA.replace,oe.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),je=(0,mt.q5)("find-replace-all",re.lA.replaceAll,oe.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),dt=(0,mt.q5)("find-previous-match",re.lA.arrowUp,oe.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Nt=(0,mt.q5)("find-next-match",re.lA.arrowDown,oe.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),$t=oe.N("label.find","Find"),Xt=oe.N("placeholder.find","Find"),Ci=oe.N("label.previousMatchButton","Previous Match"),Zt=oe.N("label.nextMatchButton","Next Match"),mi=oe.N("label.toggleSelectionFind","Find in Selection"),pt=oe.N("label.closeButton","Close"),ut=oe.N("label.replace","Replace"),tt=oe.N("placeholder.replace","Replace"),de=oe.N("label.replaceButton","Replace"),be=oe.N("label.replaceAllButton","Replace All"),J=oe.N("label.toggleReplaceButton","Toggle Replace"),pe=oe.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",I),ke=oe.N("label.matchesLocation","{0} of {1}"),at=oe.N("label.noResults","No results"),st=419,Et=275-54;let Wt=69;const Mt=33,Jt="ctrlEnterReplaceAll.windows.donotask",jt=Ye.dz?256:2048;class ui{constructor(U){this.afterLineNumber=U,this.heightInPx=Mt,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function _i(Lt,U,me){const Ee=!!U.match(/\n/);if(me&&Ee&&me.selectionStart>0){Lt.stopPropagation();return}}function bi(Lt,U,me){const Ee=!!U.match(/\n/);if(me&&Ee&&me.selectionEnd<me.value.length){Lt.stopPropagation();return}}class Ai extends X.${constructor(U,me,Ee,$e,et,wt,Rt,ti,fi){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=U,this._controller=me,this._state=Ee,this._contextViewProvider=$e,this._keybindingService=et,this._contextKeyService=wt,this._storageService=ti,this._notificationService=fi,this._ctrlEnterReplaceAllWarningPrompted=!!ti.getBoolean(Jt,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new h.vp(500),this._register((0,W.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ii=>this._onStateChanged(ii))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ii=>{if(ii.hasChanged(80)&&(this._codeEditor.getOption(80)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ii.hasChanged(129)&&this._tryUpdateWidgetWidth(),ii.hasChanged(2)&&this.updateAccessibilitySupport(),ii.hasChanged(35)){const bt=this._codeEditor.getOption(35).addExtraSpaceOnTop;bt&&!this._viewZone&&(this._viewZone=new ui(0),this._showViewZone()),!bt&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>ft(this,void 0,void 0,function*(){if(this._isVisible){let ii=yield this._controller.getGlobalBufferTerm();ii&&ii!==this._state.searchString&&(this._state.change({searchString:ii},!1),this._findInput.select())}}))),this._findInputFocused=ne.bindTo(wt),this._findFocusTracker=this._register(Y.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=he.bindTo(wt),this._replaceFocusTracker=this._register(Y.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new ui(0)),this._applyTheme(Rt.getColorTheme()),this._register(Rt.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ii=>{if(ii.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Ai.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(U){if(U.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(U.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),U.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),U.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(80)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Y.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(U.isRevealed||U.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),U.isRegex&&this._findInput.setRegex(this._state.isRegex),U.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),U.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),U.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),U.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),U.searchString||U.matchesCount||U.matchesPosition){let me=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",me),this._updateMatchesCount(),this._updateButtons()}(U.searchString||U.currentMatch)&&this._layoutViewZone(),U.updateHistory&&this._delayedUpdateHistory(),U.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ze.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Wt+"px",this._state.matchesCount>=I?this._matchesCount.title=pe:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let U;if(this._state.matchesCount>0){let me=String(this._state.matchesCount);this._state.matchesCount>=I&&(me+="+");let Ee=String(this._state.matchesPosition);Ee==="0"&&(Ee="?"),U=k.WU(ke,Ee,me)}else U=at;this._matchesCount.appendChild(document.createTextNode(U)),(0,Me.Z9)(this._getAriaLabel(U,this._state.currentMatch,this._state.searchString)),Wt=Math.max(Wt,this._matchesCount.clientWidth)}_getAriaLabel(U,me,Ee){if(U===at)return Ee===""?oe.N("ariaSearchNoResultEmpty","{0} found",U):oe.N("ariaSearchNoResult","{0} found for '{1}'",U,Ee);if(me){const $e=oe.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",U,Ee,me.startLineNumber+":"+me.startColumn),et=this._codeEditor.getModel();return et&&me.startLineNumber<=et.getLineCount()&&me.startLineNumber>=1?`${et.getLineContent(me.startLineNumber)}, ${$e}`:$e}return oe.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",U,Ee)}_updateToggleSelectionFindButton(){let U=this._codeEditor.getSelection(),me=U?U.startLineNumber!==U.endLineNumber||U.startColumn!==U.endColumn:!1,Ee=this._toggleSelectionFind.checked;this._isVisible&&(Ee||me)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let U=this._state.searchString.length>0,me=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&U&&me&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&U&&me&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&U),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&U),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let Ee=!this._codeEditor.getOption(80);this._toggleReplaceBtn.setEnabled(this._isVisible&&Ee)}_reveal(){if(this._revealTimeouts.forEach(U=>{clearTimeout(U)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const U=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const Ee=!!U&&U.startLineNumber!==U.endLineNumber;this._toggleSelectionFind.checked=Ee;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let me=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&U){const Ee=this._codeEditor.getDomNode();if(Ee){const $e=Y.i(Ee),et=this._codeEditor.getScrolledVisiblePosition(U.getStartPosition()),wt=$e.left+(et?et.left:0),Rt=et?et.top:0;if(this._viewZone&&Rt<this._viewZone.heightInPx){U.endLineNumber>U.startLineNumber&&(me=!1);const ti=Y.xQ(this._domNode).left;wt>ti&&(me=!1);const fi=this._codeEditor.getScrolledVisiblePosition(U.getEndPosition());$e.left+(fi?fi.left:0)>ti&&(me=!1)}}}this._showViewZone(me)}}_hide(U){this._revealTimeouts.forEach(me=>{clearTimeout(me)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),U&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(U){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const Ee=this._viewZone;this._viewZoneId!==void 0||!Ee||this._codeEditor.changeViewZones($e=>{Ee.heightInPx=this._getHeight(),this._viewZoneId=$e.addZone(Ee),this._codeEditor.setScrollTop(U||this._codeEditor.getScrollTop()+Ee.heightInPx)})}_showViewZone(U=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new ui(0));const Ee=this._viewZone;this._codeEditor.changeViewZones($e=>{if(this._viewZoneId!==void 0){const et=this._getHeight();if(et===Ee.heightInPx)return;let wt=et-Ee.heightInPx;Ee.heightInPx=et,$e.layoutZone(this._viewZoneId),U&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+wt);return}else{let et=this._getHeight();if(et-=this._codeEditor.getOption(74).top,et<=0)return;Ee.heightInPx=et,this._viewZoneId=$e.addZone(Ee),U&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+et)}})}_removeViewZone(){this._codeEditor.changeViewZones(U=>{this._viewZoneId!==void 0&&(U.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(U){let me={inputActiveOptionBorder:U.getColor(n.PR),inputActiveOptionBackground:U.getColor(n.XE),inputActiveOptionForeground:U.getColor(n.Pv),inputBackground:U.getColor(n.sE),inputForeground:U.getColor(n.zJ),inputBorder:U.getColor(n.dt),inputValidationInfoBackground:U.getColor(n._l),inputValidationInfoForeground:U.getColor(n.YI),inputValidationInfoBorder:U.getColor(n.EP),inputValidationWarningBackground:U.getColor(n.RV),inputValidationWarningForeground:U.getColor(n.SU),inputValidationWarningBorder:U.getColor(n.C3),inputValidationErrorBackground:U.getColor(n.p),inputValidationErrorForeground:U.getColor(n._t),inputValidationErrorBorder:U.getColor(n.OZ)};this._findInput.style(me),this._replaceInput.style(me),this._toggleSelectionFind.style(me)}_tryUpdateWidgetWidth(){if(!this._isVisible||!Y.Uw(this._domNode))return;const U=this._codeEditor.getLayoutInfo();if(U.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const Ee=U.width,$e=U.minimap.minimapWidth;let et=!1,wt=!1,Rt=!1;if(this._resized&&Y.w(this._domNode)>st){this._domNode.style.maxWidth=`${Ee-28-$e-15}px`,this._replaceInput.width=Y.w(this._findInput.domNode);return}if(st+28+$e>=Ee&&(wt=!0),st+28+$e-Wt>=Ee&&(Rt=!0),st+28+$e-Wt>=Ee+50&&(et=!0),this._domNode.classList.toggle("collapsed-find-widget",et),this._domNode.classList.toggle("narrow-find-widget",Rt),this._domNode.classList.toggle("reduced-find-widget",wt),!Rt&&!et&&(this._domNode.style.maxWidth=`${Ee-28-$e-15}px`),this._resized){this._findInput.inputBox.layout();let ti=this._findInput.inputBox.element.clientWidth;ti>0&&(this._replaceInput.width=ti)}else this._isReplaceVisible&&(this._replaceInput.width=Y.w(this._findInput.domNode))}_getHeight(){let U=0;return U+=4,U+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(U+=4,U+=this._replaceInput.inputBox.height+2),U+=4,U}_tryUpdateHeight(){const U=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===U?!1:(this._cachedHeight=U,this._domNode.style.height=`${U}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let U=this._codeEditor.getSelections();U.map(me=>{me.endColumn===1&&me.endLineNumber>me.startLineNumber&&(me=me.setEndPosition(me.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(me.endLineNumber-1)));const Ee=this._state.currentMatch;return me.startLineNumber!==me.endLineNumber&&!s.e.equalsRange(me,Ee)?me:null}).filter(me=>!!me),U.length&&this._state.change({searchScope:U},!0)}}_onFindInputMouseDown(U){U.middleButton&&U.stopPropagation()}_onFindInputKeyDown(U){if(U.equals(jt|3))if(this._keybindingService.dispatchEvent(U,U.target)){U.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),U.preventDefault();return}if(U.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),U.preventDefault();return}if(U.equals(2066)){this._codeEditor.focus(),U.preventDefault();return}if(U.equals(16))return _i(U,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(U.equals(18))return bi(U,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(U){if(U.equals(jt|3))if(this._keybindingService.dispatchEvent(U,U.target)){U.preventDefault();return}else{Ye.ED&&Ye.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(oe.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Jt,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),U.preventDefault();return}if(U.equals(2)){this._findInput.focusOnCaseSensitive(),U.preventDefault();return}if(U.equals(1026)){this._findInput.focus(),U.preventDefault();return}if(U.equals(2066)){this._codeEditor.focus(),U.preventDefault();return}if(U.equals(16))return _i(U,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(U.equals(18))return bi(U,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(U){return 0}_keybindingLabelFor(U){let me=this._keybindingService.lookupKeybinding(U);return me?` (${me.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Pt(null,this._contextViewProvider,{width:Et,label:$t,placeholder:Xt,appendCaseSensitiveLabel:this._keybindingLabelFor(E.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(E.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(E.ToggleRegexCommand),validation:ti=>{if(ti.length===0||!this._findInput.getRegex())return null;try{return new RegExp(ti,"gu"),null}catch(fi){return{content:fi.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ot(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ti=>this._onFindInputKeyDown(ti))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ti=>{ti.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),ti.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ti=>{ti.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ti.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ti=>{this._tryUpdateHeight()&&this._showViewZone()})),Ye.IJ&&this._register(this._findInput.onMouseDown(ti=>this._onFindInputMouseDown(ti))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ri({label:Ci+this._keybindingLabelFor(E.PreviousMatchFindAction),icon:dt,onTrigger:()=>{this._codeEditor.getAction(E.PreviousMatchFindAction).run().then(void 0,ze.dL)}})),this._nextBtn=this._register(new Ri({label:Zt+this._keybindingLabelFor(E.NextMatchFindAction),icon:Nt,onTrigger:()=>{this._codeEditor.getAction(E.NextMatchFindAction).run().then(void 0,ze.dL)}}));let Ee=document.createElement("div");Ee.className="find-part",Ee.appendChild(this._findInput.domNode);const $e=document.createElement("div");$e.className="find-actions",Ee.appendChild($e),$e.appendChild(this._matchesCount),$e.appendChild(this._prevBtn.domNode),$e.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ce({icon:Xe,title:mi+this._keybindingLabelFor(E.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let ti=this._codeEditor.getSelections();ti.map(fi=>(fi.endColumn===1&&fi.endLineNumber>fi.startLineNumber&&(fi=fi.setEndPosition(fi.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(fi.endLineNumber-1))),fi.isEmpty()?null:fi)).filter(fi=>!!fi),ti.length&&this._state.change({searchScope:ti},!0)}}else this._state.change({searchScope:null},!0)})),$e.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ri({label:pt+this._keybindingLabelFor(E.CloseFindWidgetCommand),icon:mt.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ti=>{ti.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ti.preventDefault())}})),$e.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new Gt(null,void 0,{label:ut,placeholder:tt,appendPreserveCaseLabel:this._keybindingLabelFor(E.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>ot(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ti=>this._onReplaceInputKeyDown(ti))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ti=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ti=>{ti.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ti.preventDefault())})),this._replaceBtn=this._register(new Ri({label:de+this._keybindingLabelFor(E.ReplaceOneAction),icon:Pe,onTrigger:()=>{this._controller.replace()},onKeyDown:ti=>{ti.equals(1026)&&(this._closeBtn.focus(),ti.preventDefault())}})),this._replaceAllBtn=this._register(new Ri({label:be+this._keybindingLabelFor(E.ReplaceAllAction),icon:je,onTrigger:()=>{this._controller.replaceAll()}}));let et=document.createElement("div");et.className="replace-part",et.appendChild(this._replaceInput.domNode);const wt=document.createElement("div");wt.className="replace-actions",et.appendChild(wt),wt.appendChild(this._replaceBtn.domNode),wt.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ri({label:J,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Y.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${st}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Ee),this._domNode.appendChild(et),this._resizeSash=new Se.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Rt=st;this._register(this._resizeSash.onDidStart(()=>{Rt=Y.w(this._domNode)})),this._register(this._resizeSash.onDidChange(ti=>{this._resized=!0;let fi=Rt+ti.startX-ti.currentX;if(fi<st)return;const ii=parseFloat(Y.Dx(this._domNode).maxWidth)||0;fi>ii||(this._domNode.style.width=`${fi}px`,this._isReplaceVisible&&(this._replaceInput.width=Y.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const ti=Y.w(this._domNode);if(ti<st)return;let fi=st;if(!this._resized||ti===st){const ii=this._codeEditor.getLayoutInfo();fi=ii.width-28-ii.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${fi}px`,this._isReplaceVisible&&(this._replaceInput.width=Y.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const U=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(U!==2)}}Ai.ID="editor.contrib.findWidget";class Ri extends X.${constructor(U){super(),this._opts=U;let me="button";this._opts.className&&(me=me+" "+this._opts.className),this._opts.icon&&(me=me+" "+p.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=me,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,Ee=>{this._opts.onTrigger(),Ee.preventDefault()}),this.onkeydown(this._domNode,Ee=>{if(Ee.equals(10)||Ee.equals(3)){this._opts.onTrigger(),Ee.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(Ee)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(U){this._domNode.classList.toggle("disabled",!U),this._domNode.setAttribute("aria-disabled",String(!U)),this._domNode.tabIndex=U?0:-1}setExpanded(U){this._domNode.setAttribute("aria-expanded",String(!!U)),U?(this._domNode.classList.remove(...p.kS.asClassNameArray(Ge)),this._domNode.classList.add(...p.kS.asClassNameArray(Ie))):(this._domNode.classList.remove(...p.kS.asClassNameArray(Ie)),this._domNode.classList.add(...p.kS.asClassNameArray(Ge)))}}(0,p.Ic)((Lt,U)=>{const me=(We,rt)=>{rt&&U.addRule(`.monaco-editor ${We} { background-color: ${rt}; }`)};me(".findMatch",Lt.getColor(n.MU)),me(".currentFindMatch",Lt.getColor(n.ny)),me(".findScope",Lt.getColor(n.jU));const Ee=Lt.getColor(n.D0);me(".find-widget",Ee);const $e=Lt.getColor(n.rh);$e&&U.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${$e}; }`);const et=Lt.getColor(n.Ei);et&&U.addRule(`.monaco-editor .findMatch { border: 1px ${Lt.type==="hc"?"dotted":"solid"} ${et}; box-sizing: border-box; }`);const wt=Lt.getColor(n.pn);wt&&U.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${wt}; padding: 1px; box-sizing: border-box; }`);const Rt=Lt.getColor(n.gk);Rt&&U.addRule(`.monaco-editor .findScope { border: 1px ${Lt.type==="hc"?"dashed":"solid"} ${Rt}; }`);const ti=Lt.getColor(n.lR);ti&&U.addRule(`.monaco-editor .find-widget { border: 1px solid ${ti}; }`);const fi=Lt.getColor(n.Hf);fi&&U.addRule(`.monaco-editor .find-widget { color: ${fi}; }`);const ii=Lt.getColor(n.Id);ii&&U.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${ii}; }`);const bt=Lt.getColor(n.Ng);if(bt)U.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${bt}; }`);else{const We=Lt.getColor(n.D1);We&&U.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${We}; }`)}const B=Lt.getColor(n.lU);B&&U.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${B} !important;
		}
	`);const _e=Lt.getColor(n.R8);_e&&U.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${_e}; }`)});var zi=t(84144),hn=t(84972),bn=t(5606),Xi=t(91847),xn=t(59422),Sn=t(87060),en=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},Pn=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}},Ln=function(Lt,U,me,Ee){function $e(et){return et instanceof me?et:new me(function(wt){wt(et)})}return new(me||(me=Promise))(function(et,wt){function Rt(ii){try{fi(Ee.next(ii))}catch(bt){wt(bt)}}function ti(ii){try{fi(Ee.throw(ii))}catch(bt){wt(bt)}}function fi(ii){ii.done?et(ii.value):$e(ii.value).then(Rt,ti)}fi((Ee=Ee.apply(Lt,U||[])).next())})};const Dn=524288;function Xn(Lt,U="single",me=!1){if(!Lt.hasModel())return null;const Ee=Lt.getSelection();if(U==="single"&&Ee.startLineNumber===Ee.endLineNumber||U==="multiple"){if(Ee.isEmpty()){const $e=Lt.getConfiguredWordAtPosition(Ee.getStartPosition());if($e&&me===!1)return $e.word}else if(Lt.getModel().getValueLengthInRange(Ee)<Dn)return Lt.getModel().getValueInRange(Ee)}return null}let an=class Cl extends W.JT{constructor(U,me,Ee,$e){super(),this._editor=U,this._findWidgetVisible=ie.bindTo(me),this._contextKeyService=me,this._storageService=Ee,this._clipboardService=$e,this._updateHistoryDelayer=new h.vp(500),this._state=this._register(new Le),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(et=>this._onStateChanged(et))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let et=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),et&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(U){return U.getContribution(Cl.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(U){this.saveQueryState(U),U.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),U.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(U){U.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),U.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),U.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),U.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!ne.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let U=this._editor.getSelections();U.map(me=>(me.endColumn===1&&me.endLineNumber>me.startLineNumber&&(me=me.setEndPosition(me.endLineNumber-1,this._editor.getModel().getLineMaxColumn(me.endLineNumber-1))),me.isEmpty()?null:me)).filter(me=>!!me),U.length&&this._state.change({searchScope:U},!0)}}setSearchString(U){this._state.isRegex&&(U=k.ec(U)),this._state.change({searchString:U},!1)}highlightFindOptions(U=!1){}_start(U){return Ln(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let me={isRevealed:!0};if(U.seedSearchStringFromSelection==="single"){let Ee=Xn(this._editor,U.seedSearchStringFromSelection,U.seedSearchStringFromNonEmptySelection);Ee&&(this._state.isRegex?me.searchString=k.ec(Ee):me.searchString=Ee)}else if(U.seedSearchStringFromSelection==="multiple"&&!U.updateSearchScope){let Ee=Xn(this._editor,U.seedSearchStringFromSelection);Ee&&(me.searchString=Ee)}if(!me.searchString&&U.seedSearchStringFromGlobalClipboard){let Ee=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Ee&&(me.searchString=Ee)}if(U.forceRevealReplace?me.isReplaceRevealed=!0:this._findWidgetVisible.get()||(me.isReplaceRevealed=!1),U.updateSearchScope){let Ee=this._editor.getSelections();Ee.some($e=>!$e.isEmpty())&&(me.searchScope=Ee)}me.loop=U.loop,this._state.change(me,!1),this._model||(this._model=new H(this._editor,this._state))})}start(U){return this._start(U)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ln(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(U){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(U)}};an.ID="editor.contrib.findController",an=en([Pn(1,q.i6),Pn(2,Sn.Uy),Pn(3,hn.p)],an);let zn=class extends an{constructor(U,me,Ee,$e,et,wt,Rt,ti){super(U,Ee,Rt,ti),this._contextViewService=me,this._keybindingService=$e,this._themeService=et,this._notificationService=wt,this._widget=null,this._findOptionsWidget=null}_start(U){const me=Object.create(null,{_start:{get:()=>super._start}});return Ln(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Ee=this._editor.getSelection();let $e=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":$e=!0;break;case"never":$e=!1;break;case"multiline":$e=!!Ee&&Ee.startLineNumber!==Ee.endLineNumber;break;default:break}U.updateSearchScope=$e,yield me._start.call(this,U),this._widget&&(U.shouldFocus===2?this._widget.focusReplaceInput():U.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(U=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!U?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Ai(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new xe(this._editor,this._state,this._keybindingService,this._themeService))}};zn=en([Pn(1,bn.u),Pn(2,q.i6),Pn(3,Xi.d),Pn(4,p.XE),Pn(5,xn.lT),Pn(6,Sn.Uy),Pn(7,hn.p)],zn);const Kn=(0,O.rn)(new O.jY({id:E.StartFindAction,label:oe.N("startFindAction","Find"),alias:"Find",precondition:q.Ao.or(w.u.focus,q.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:zi.eH.MenubarEditMenu,group:"3_find",title:oe.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Kn.addImplementation(0,(Lt,U,me)=>{const Ee=an.get(U);return Ee?Ee.start({forceRevealReplace:!1,seedSearchStringFromSelection:U.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:U.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:U.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(35).loop}):!1});class is extends O.R6{constructor(){super({id:E.StartFindWithSelection,label:oe.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(U,me){return Ln(this,void 0,void 0,function*(){let Ee=an.get(me);Ee&&(yield Ee.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:me.getOption(35).loop}),Ee.setGlobalBufferTerm(Ee.getState().searchString))})}}class mn extends O.R6{run(U,me){return Ln(this,void 0,void 0,function*(){let Ee=an.get(me);Ee&&!this._run(Ee)&&(yield Ee.start({forceRevealReplace:!1,seedSearchStringFromSelection:Ee.getState().searchString.length===0&&me.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:me.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:me.getOption(35).loop}),this._run(Ee))})}}class Qn extends mn{constructor(){super({id:E.NextMatchFindAction,label:oe.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:w.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:q.Ao.and(w.u.focus,ne),primary:3,weight:100}]})}_run(U){return U.moveToNextMatch()?(U.editor.pushUndoStop(),!0):!1}}class Bn extends mn{constructor(){super({id:E.PreviousMatchFindAction,label:oe.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:w.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:q.Ao.and(w.u.focus,ne),primary:1027,weight:100}]})}_run(U){return U.moveToPrevMatch()}}class An extends O.R6{run(U,me){return Ln(this,void 0,void 0,function*(){let Ee=an.get(me);if(!Ee)return;const $e=me.getOption(35).seedSearchStringFromSelection==="selection";let et=null;me.getOption(35).seedSearchStringFromSelection!=="never"&&(et=Xn(me,"single",$e)),et&&Ee.setSearchString(et),this._run(Ee)||(yield Ee.start({forceRevealReplace:!1,seedSearchStringFromSelection:me.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:$e,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:me.getOption(35).loop}),this._run(Ee))})}}class On extends An{constructor(){super({id:E.NextSelectionMatchFindAction,label:oe.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:w.u.focus,primary:2109,weight:100}})}_run(U){return U.moveToNextMatch()}}class qn extends An{constructor(){super({id:E.PreviousSelectionMatchFindAction,label:oe.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:w.u.focus,primary:3133,weight:100}})}_run(U){return U.moveToPrevMatch()}}const Hn=(0,O.rn)(new O.jY({id:E.StartFindReplaceAction,label:oe.N("startReplace","Replace"),alias:"Replace",precondition:q.Ao.or(w.u.focus,q.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:zi.eH.MenubarEditMenu,group:"3_find",title:oe.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Hn.addImplementation(0,(Lt,U,me)=>{if(!U.hasModel()||U.getOption(80))return!1;const Ee=an.get(U);if(!Ee)return!1;const $e=U.getSelection(),et=Ee.isFindInputFocused(),wt=!$e.isEmpty()&&$e.startLineNumber===$e.endLineNumber&&U.getOption(35).seedSearchStringFromSelection!=="never"&&!et,Rt=et||wt?2:1;return Ee.start({forceRevealReplace:!0,seedSearchStringFromSelection:wt?"single":"none",seedSearchStringFromNonEmptySelection:U.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:U.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:Rt,shouldAnimate:!0,updateSearchScope:!1,loop:U.getOption(35).loop})}),(0,O._K)(an.ID,zn),(0,O.Qr)(is),(0,O.Qr)(Qn),(0,O.Qr)(Bn),(0,O.Qr)(On),(0,O.Qr)(qn);const sn=O._l.bindToContribution(an.get);(0,O.fK)(new sn({id:E.CloseFindWidgetCommand,precondition:ie,handler:Lt=>Lt.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:q.Ao.and(w.u.focus,q.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,O.fK)(new sn({id:E.ToggleCaseSensitiveCommand,precondition:void 0,handler:Lt=>Lt.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:w.u.focus,primary:$.primary,mac:$.mac,win:$.win,linux:$.linux}})),(0,O.fK)(new sn({id:E.ToggleWholeWordCommand,precondition:void 0,handler:Lt=>Lt.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:w.u.focus,primary:V.primary,mac:V.mac,win:V.win,linux:V.linux}})),(0,O.fK)(new sn({id:E.ToggleRegexCommand,precondition:void 0,handler:Lt=>Lt.toggleRegex(),kbOpts:{weight:100+5,kbExpr:w.u.focus,primary:z.primary,mac:z.mac,win:z.win,linux:z.linux}})),(0,O.fK)(new sn({id:E.ToggleSearchScopeCommand,precondition:void 0,handler:Lt=>Lt.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:w.u.focus,primary:Q.primary,mac:Q.mac,win:Q.win,linux:Q.linux}})),(0,O.fK)(new sn({id:E.TogglePreserveCaseCommand,precondition:void 0,handler:Lt=>Lt.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:w.u.focus,primary:le.primary,mac:le.mac,win:le.win,linux:le.linux}})),(0,O.fK)(new sn({id:E.ReplaceOneAction,precondition:ie,handler:Lt=>Lt.replace(),kbOpts:{weight:100+5,kbExpr:w.u.focus,primary:3094}})),(0,O.fK)(new sn({id:E.ReplaceOneAction,precondition:ie,handler:Lt=>Lt.replace(),kbOpts:{weight:100+5,kbExpr:q.Ao.and(w.u.focus,he),primary:3}})),(0,O.fK)(new sn({id:E.ReplaceAllAction,precondition:ie,handler:Lt=>Lt.replaceAll(),kbOpts:{weight:100+5,kbExpr:w.u.focus,primary:2563}})),(0,O.fK)(new sn({id:E.ReplaceAllAction,precondition:ie,handler:Lt=>Lt.replaceAll(),kbOpts:{weight:100+5,kbExpr:q.Ao.and(w.u.focus,he),primary:void 0,mac:{primary:2051}}})),(0,O.fK)(new sn({id:E.SelectAllMatchesAction,precondition:ie,handler:Lt=>Lt.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:w.u.focus,primary:515}}))},5697:function(Ct,we,t){"use strict";t.r(we),t.d(we,{FoldingController:function(){return ht},editorFoldForeground:function(){return mt},foldBackgroundBackground:function(){return ot}});var h=t(15393),W=t(17301),k=t(22258),O=t(9917),w=t(97295),G=t(98401),x=t(55812),N=t(16830),s=t(29102),C=t(60303),l=t(94660),m=t(4669);const y=65535,n=16777215,p=4278190080;class f{constructor(Xe,Ge,Ie){if(Xe.length!==Ge.length||Xe.length>y)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=Xe,this._endIndexes=Ge,this._collapseStates=new Uint32Array(Math.ceil(Xe.length/32)),this._types=Ie,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let Xe=[],Ge=(Ie,Pe)=>{let je=Xe[Xe.length-1];return this.getStartLineNumber(je)<=Ie&&this.getEndLineNumber(je)>=Pe};for(let Ie=0,Pe=this._startIndexes.length;Ie<Pe;Ie++){let je=this._startIndexes[Ie],dt=this._endIndexes[Ie];if(je>n||dt>n)throw new Error("startLineNumber or endLineNumber must not exceed "+n);for(;Xe.length>0&&!Ge(je,dt);)Xe.pop();let Nt=Xe.length>0?Xe[Xe.length-1]:-1;Xe.push(Ie),this._startIndexes[Ie]=je+((Nt&255)<<24),this._endIndexes[Ie]=dt+((Nt&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(Xe){return this._startIndexes[Xe]&n}getEndLineNumber(Xe){return this._endIndexes[Xe]&n}getType(Xe){return this._types?this._types[Xe]:void 0}hasTypes(){return!!this._types}isCollapsed(Xe){let Ge=Xe/32|0,Ie=Xe%32;return(this._collapseStates[Ge]&1<<Ie)!==0}setCollapsed(Xe,Ge){let Ie=Xe/32|0,Pe=Xe%32,je=this._collapseStates[Ie];Ge?this._collapseStates[Ie]=je|1<<Pe:this._collapseStates[Ie]=je&~(1<<Pe)}setCollapsedAllOfType(Xe,Ge){let Ie=!1;if(this._types)for(let Pe=0;Pe<this._types.length;Pe++)this._types[Pe]===Xe&&(this.setCollapsed(Pe,Ge),Ie=!0);return Ie}toRegion(Xe){return new v(this,Xe)}getParentIndex(Xe){this.ensureParentIndices();let Ge=((this._startIndexes[Xe]&p)>>>24)+((this._endIndexes[Xe]&p)>>>16);return Ge===y?-1:Ge}contains(Xe,Ge){return this.getStartLineNumber(Xe)<=Ge&&this.getEndLineNumber(Xe)>=Ge}findIndex(Xe){let Ge=0,Ie=this._startIndexes.length;if(Ie===0)return-1;for(;Ge<Ie;){let Pe=Math.floor((Ge+Ie)/2);Xe<this.getStartLineNumber(Pe)?Ie=Pe:Ge=Pe+1}return Ge-1}findRange(Xe){let Ge=this.findIndex(Xe);if(Ge>=0){if(this.getEndLineNumber(Ge)>=Xe)return Ge;for(Ge=this.getParentIndex(Ge);Ge!==-1;){if(this.contains(Ge,Xe))return Ge;Ge=this.getParentIndex(Ge)}}return-1}toString(){let Xe=[];for(let Ge=0;Ge<this.length;Ge++)Xe[Ge]=`[${this.isCollapsed(Ge)?"+":"-"}] ${this.getStartLineNumber(Ge)}/${this.getEndLineNumber(Ge)}`;return Xe.join(", ")}}class v{constructor(Xe,Ge){this.ranges=Xe,this.index=Ge}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(Xe){return Xe.startLineNumber<=this.startLineNumber&&Xe.endLineNumber>=this.endLineNumber}containsLine(Xe){return this.startLineNumber<=Xe&&Xe<=this.endLineNumber}}class d{constructor(Xe,Ge){this._updateEventEmitter=new m.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=Xe,this._decorationProvider=Ge,this._regions=new f(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(Xe){if(!Xe.length)return;Xe=Xe.sort((Ie,Pe)=>Ie.regionIndex-Pe.regionIndex);const Ge={};this._decorationProvider.changeDecorations(Ie=>{let Pe=0,je=-1,dt=-1;const Nt=$t=>{for(;Pe<$t;){const Xt=this._regions.getEndLineNumber(Pe),Ci=this._regions.isCollapsed(Pe);Xt<=je&&Ie.changeDecorationOptions(this._editorDecorationIds[Pe],this._decorationProvider.getDecorationOption(Ci,Xt<=dt)),Ci&&Xt>dt&&(dt=Xt),Pe++}};for(let $t of Xe){let Xt=$t.regionIndex,Ci=this._editorDecorationIds[Xt];if(Ci&&!Ge[Ci]){Ge[Ci]=!0,Nt(Xt);let Zt=!this._regions.isCollapsed(Xt);this._regions.setCollapsed(Xt,Zt),je=Math.max(je,this._regions.getEndLineNumber(Xt))}}Nt(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:Xe})}update(Xe,Ge=[]){let Ie=[],Pe=(Zt,mi)=>{for(let pt of Ge)if(Zt<pt&&pt<=mi)return!0;return!1},je=-1,dt=(Zt,mi)=>{const pt=Xe.getStartLineNumber(Zt),ut=Xe.getEndLineNumber(Zt);mi||(mi=Xe.isCollapsed(Zt)),mi&&Pe(pt,ut)&&(mi=!1),Xe.setCollapsed(Zt,mi);const tt=this._textModel.getLineMaxColumn(pt),de={startLineNumber:pt,startColumn:Math.max(tt-1,1),endLineNumber:pt,endColumn:tt};Ie.push({range:de,options:this._decorationProvider.getDecorationOption(mi,ut<=je)}),mi&&ut>je&&(je=ut)},Nt=0,$t=()=>{for(;Nt<this._regions.length;){let Zt=this._regions.isCollapsed(Nt);if(Nt++,Zt)return Nt-1}return-1},Xt=0,Ci=$t();for(;Ci!==-1&&Xt<Xe.length;){let Zt=this._textModel.getDecorationRange(this._editorDecorationIds[Ci]);if(Zt){let mi=Zt.startLineNumber;if(Zt.startColumn===Math.max(Zt.endColumn-1,1)&&this._textModel.getLineMaxColumn(mi)===Zt.endColumn)for(;Xt<Xe.length;){let pt=Xe.getStartLineNumber(Xt);if(mi>=pt)dt(Xt,mi===pt),Xt++;else break}}Ci=$t()}for(;Xt<Xe.length;)dt(Xt,!1),Xt++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,Ie),this._regions=Xe,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let Xe=[];for(let Ge=0;Ge<this._regions.length;Ge++)if(this._regions.isCollapsed(Ge)){let Ie=this._textModel.getDecorationRange(this._editorDecorationIds[Ge]);if(Ie){let Pe=Ie.startLineNumber,je=Ie.endLineNumber+this._regions.getEndLineNumber(Ge)-this._regions.getStartLineNumber(Ge);Xe.push({startLineNumber:Pe,endLineNumber:je})}}if(Xe.length>0)return Xe}applyMemento(Xe){if(!Array.isArray(Xe))return;let Ge=[];for(let Ie of Xe){let Pe=this.getRegionAtLine(Ie.startLineNumber);Pe&&!Pe.isCollapsed&&Ge.push(Pe)}this.toggleCollapseState(Ge)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(Xe,Ge){let Ie=[];if(this._regions){let Pe=this._regions.findRange(Xe),je=1;for(;Pe>=0;){let dt=this._regions.toRegion(Pe);(!Ge||Ge(dt,je))&&Ie.push(dt),je++,Pe=dt.parentIndex}}return Ie}getRegionAtLine(Xe){if(this._regions){let Ge=this._regions.findRange(Xe);if(Ge>=0)return this._regions.toRegion(Ge)}return null}getRegionsInside(Xe,Ge){let Ie=[],Pe=Xe?Xe.regionIndex+1:0,je=Xe?Xe.endLineNumber:Number.MAX_VALUE;if(Ge&&Ge.length===2){const dt=[];for(let Nt=Pe,$t=this._regions.length;Nt<$t;Nt++){let Xt=this._regions.toRegion(Nt);if(this._regions.getStartLineNumber(Nt)<je){for(;dt.length>0&&!Xt.containedBy(dt[dt.length-1]);)dt.pop();dt.push(Xt),Ge(Xt,dt.length)&&Ie.push(Xt)}else break}}else for(let dt=Pe,Nt=this._regions.length;dt<Nt;dt++){let $t=this._regions.toRegion(dt);if(this._regions.getStartLineNumber(dt)<je)(!Ge||Ge($t))&&Ie.push($t);else break}return Ie}}function a(ft,Xe,Ge){let Ie=[];for(let Pe of Ge){let je=ft.getRegionAtLine(Pe);if(je){const dt=!je.isCollapsed;if(Ie.push(je),Xe>1){let Nt=ft.getRegionsInside(je,($t,Xt)=>$t.isCollapsed!==dt&&Xt<Xe);Ie.push(...Nt)}}}ft.toggleCollapseState(Ie)}function u(ft,Xe,Ge=Number.MAX_VALUE,Ie){let Pe=[];if(Ie&&Ie.length>0)for(let je of Ie){let dt=ft.getRegionAtLine(je);if(dt&&(dt.isCollapsed!==Xe&&Pe.push(dt),Ge>1)){let Nt=ft.getRegionsInside(dt,($t,Xt)=>$t.isCollapsed!==Xe&&Xt<Ge);Pe.push(...Nt)}}else{let je=ft.getRegionsInside(null,(dt,Nt)=>dt.isCollapsed!==Xe&&Nt<Ge);Pe.push(...je)}ft.toggleCollapseState(Pe)}function c(ft,Xe,Ge,Ie){let Pe=[];for(let je of Ie){let dt=ft.getAllRegionsAtLine(je,(Nt,$t)=>Nt.isCollapsed!==Xe&&$t<=Ge);Pe.push(...dt)}ft.toggleCollapseState(Pe)}function b(ft,Xe,Ge){let Ie=[];for(let Pe of Ge){let je=ft.getAllRegionsAtLine(Pe,dt=>dt.isCollapsed!==Xe);je.length>0&&Ie.push(je[0])}ft.toggleCollapseState(Ie)}function L(ft,Xe,Ge,Ie){let Pe=(dt,Nt)=>Nt===Xe&&dt.isCollapsed!==Ge&&!Ie.some($t=>dt.containsLine($t)),je=ft.getRegionsInside(null,Pe);ft.toggleCollapseState(je)}function R(ft,Xe,Ge){let Ie=[];for(let dt of Ge)Ie.push(ft.getAllRegionsAtLine(dt,void 0)[0]);let Pe=dt=>Ie.every(Nt=>!Nt.containedBy(dt)&&!dt.containedBy(Nt))&&dt.isCollapsed!==Xe,je=ft.getRegionsInside(null,Pe);ft.toggleCollapseState(je)}function T(ft,Xe,Ge){let Ie=ft.textModel,Pe=ft.regions,je=[];for(let dt=Pe.length-1;dt>=0;dt--)if(Ge!==Pe.isCollapsed(dt)){let Nt=Pe.getStartLineNumber(dt);Xe.test(Ie.getLineContent(Nt))&&je.push(Pe.toRegion(dt))}ft.toggleCollapseState(je)}function j(ft,Xe,Ge){let Ie=ft.regions,Pe=[];for(let je=Ie.length-1;je>=0;je--)Ge!==Ie.isCollapsed(je)&&Xe===Ie.getType(je)&&Pe.push(Ie.toRegion(je));ft.toggleCollapseState(Pe)}function q(ft,Xe){let Ge=null,Ie=Xe.getRegionAtLine(ft);if(Ie!==null&&(Ge=Ie.startLineNumber,ft===Ge)){let Pe=Ie.parentIndex;Pe!==-1?Ge=Xe.regions.getStartLineNumber(Pe):Ge=null}return Ge}function ie(ft,Xe){let Ge=Xe.getRegionAtLine(ft);if(Ge!==null&&Ge.startLineNumber===ft){if(ft!==Ge.startLineNumber)return Ge.startLineNumber;{let Ie=Ge.parentIndex,Pe=0;for(Ie!==-1&&(Pe=Xe.regions.getStartLineNumber(Ge.parentIndex));Ge!==null;)if(Ge.regionIndex>0){if(Ge=Xe.regions.toRegion(Ge.regionIndex-1),Ge.startLineNumber<=Pe)return null;if(Ge.parentIndex===Ie)return Ge.startLineNumber}else return null}}else if(Xe.regions.length>0)for(Ge=Xe.regions.toRegion(Xe.regions.length-1);Ge!==null;){if(Ge.startLineNumber<ft)return Ge.startLineNumber;Ge.regionIndex>0?Ge=Xe.regions.toRegion(Ge.regionIndex-1):Ge=null}return null}function ne(ft,Xe){let Ge=Xe.getRegionAtLine(ft);if(Ge!==null&&Ge.startLineNumber===ft){let Ie=Ge.parentIndex,Pe=0;if(Ie!==-1)Pe=Xe.regions.getEndLineNumber(Ge.parentIndex);else{if(Xe.regions.length===0)return null;Pe=Xe.regions.getEndLineNumber(Xe.regions.length-1)}for(;Ge!==null;)if(Ge.regionIndex<Xe.regions.length){if(Ge=Xe.regions.toRegion(Ge.regionIndex+1),Ge.startLineNumber>=Pe)return null;if(Ge.parentIndex===Ie)return Ge.startLineNumber}else return null}else if(Xe.regions.length>0)for(Ge=Xe.regions.toRegion(0);Ge!==null;){if(Ge.startLineNumber>ft)return Ge.startLineNumber;Ge.regionIndex<Xe.regions.length?Ge=Xe.regions.toRegion(Ge.regionIndex+1):Ge=null}return null}var he=t(9488),$=t(24314);class V{constructor(Xe){this._updateEventEmitter=new m.Q5,this._foldingModel=Xe,this._foldingModelListener=Xe.onDidChange(Ge=>this.updateHiddenRanges()),this._hiddenRanges=[],Xe.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let Xe=!1,Ge=[],Ie=0,Pe=0,je=Number.MAX_VALUE,dt=-1,Nt=this._foldingModel.regions;for(;Ie<Nt.length;Ie++){if(!Nt.isCollapsed(Ie))continue;let $t=Nt.getStartLineNumber(Ie)+1,Xt=Nt.getEndLineNumber(Ie);je<=$t&&Xt<=dt||(!Xe&&Pe<this._hiddenRanges.length&&this._hiddenRanges[Pe].startLineNumber===$t&&this._hiddenRanges[Pe].endLineNumber===Xt?(Ge.push(this._hiddenRanges[Pe]),Pe++):(Xe=!0,Ge.push(new $.e($t,1,Xt,1))),je=$t,dt=Xt)}(Xe||Pe<this._hiddenRanges.length)&&this.applyHiddenRanges(Ge)}applyMemento(Xe){if(!Array.isArray(Xe)||Xe.length===0)return!1;let Ge=[];for(let Ie of Xe){if(!Ie.startLineNumber||!Ie.endLineNumber)return!1;Ge.push(new $.e(Ie.startLineNumber+1,1,Ie.endLineNumber,1))}return this.applyHiddenRanges(Ge),!0}getMemento(){return this._hiddenRanges.map(Xe=>({startLineNumber:Xe.startLineNumber-1,endLineNumber:Xe.endLineNumber}))}applyHiddenRanges(Xe){this._hiddenRanges=Xe,this._updateEventEmitter.fire(Xe)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Xe){return Q(this._hiddenRanges,Xe)!==null}adjustSelections(Xe){let Ge=!1,Ie=this._foldingModel.textModel,Pe=null,je=dt=>((!Pe||!z(dt,Pe))&&(Pe=Q(this._hiddenRanges,dt)),Pe?Pe.startLineNumber-1:null);for(let dt=0,Nt=Xe.length;dt<Nt;dt++){let $t=Xe[dt],Xt=je($t.startLineNumber);Xt&&($t=$t.setStartPosition(Xt,Ie.getLineMaxColumn(Xt)),Ge=!0);let Ci=je($t.endLineNumber);Ci&&($t=$t.setEndPosition(Ci,Ie.getLineMaxColumn(Ci)),Ge=!0),Xe[dt]=$t}return Ge}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function z(ft,Xe){return ft>=Xe.startLineNumber&&ft<=Xe.endLineNumber}function Q(ft,Xe){let Ge=(0,he.lG)(ft,Ie=>Xe<Ie.startLineNumber)-1;return Ge>=0&&ft[Ge].endLineNumber>=Xe?ft[Ge]:null}var le=t(24979);const E=5e3,I="indent";class A{constructor(Xe){this.editorModel=Xe,this.id=I}dispose(){}compute(Xe){let Ge=l.zu.getFoldingRules(this.editorModel.getLanguageId()),Ie=Ge&&!!Ge.offSide,Pe=Ge&&Ge.markers;return Promise.resolve(Y(this.editorModel,Ie,Pe))}}class H{constructor(Xe){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=Xe}insertFirst(Xe,Ge,Ie){if(Xe>n||Ge>n)return;let Pe=this._length;this._startIndexes[Pe]=Xe,this._endIndexes[Pe]=Ge,this._length++,Ie<1e3&&(this._indentOccurrences[Ie]=(this._indentOccurrences[Ie]||0)+1)}toIndentRanges(Xe){if(this._length<=this._foldingRangesLimit){let Ge=new Uint32Array(this._length),Ie=new Uint32Array(this._length);for(let Pe=this._length-1,je=0;Pe>=0;Pe--,je++)Ge[je]=this._startIndexes[Pe],Ie[je]=this._endIndexes[Pe];return new f(Ge,Ie)}else{let Ge=0,Ie=this._indentOccurrences.length;for(let Nt=0;Nt<this._indentOccurrences.length;Nt++){let $t=this._indentOccurrences[Nt];if($t){if($t+Ge>this._foldingRangesLimit){Ie=Nt;break}Ge+=$t}}const Pe=Xe.getOptions().tabSize;let je=new Uint32Array(this._foldingRangesLimit),dt=new Uint32Array(this._foldingRangesLimit);for(let Nt=this._length-1,$t=0;Nt>=0;Nt--){let Xt=this._startIndexes[Nt],Ci=Xe.getLineContent(Xt),Zt=le.yO.computeIndentLevel(Ci,Pe);(Zt<Ie||Zt===Ie&&Ge++<this._foldingRangesLimit)&&(je[$t]=Xt,dt[$t]=this._endIndexes[Nt],$t++)}return new f(je,dt)}}}function Y(ft,Xe,Ge,Ie=E){const Pe=ft.getOptions().tabSize;let je=new H(Ie),dt;Ge&&(dt=new RegExp(`(${Ge.start.source})|(?:${Ge.end.source})`));let Nt=[],$t=ft.getLineCount()+1;Nt.push({indent:-1,endAbove:$t,line:$t});for(let Xt=ft.getLineCount();Xt>0;Xt--){let Ci=ft.getLineContent(Xt),Zt=le.yO.computeIndentLevel(Ci,Pe),mi=Nt[Nt.length-1];if(Zt===-1){Xe&&(mi.endAbove=Xt);continue}let pt;if(dt&&(pt=Ci.match(dt)))if(pt[1]){let ut=Nt.length-1;for(;ut>0&&Nt[ut].indent!==-2;)ut--;if(ut>0){Nt.length=ut+1,mi=Nt[ut],je.insertFirst(Xt,mi.line,Zt),mi.line=Xt,mi.indent=Zt,mi.endAbove=Xt;continue}}else{Nt.push({indent:-2,endAbove:Xt,line:Xt});continue}if(mi.indent>Zt){do Nt.pop(),mi=Nt[Nt.length-1];while(mi.indent>Zt);let ut=mi.endAbove-1;ut-Xt>=1&&je.insertFirst(Xt,ut,Zt)}mi.indent===Zt?mi.endAbove=Xt:Nt.push({indent:Zt,endAbove:Xt,line:Xt})}return je.toIndentRanges(ft)}const X=5e3,re={},fe="syntax";class ue{constructor(Xe,Ge,Ie,Pe=X){this.editorModel=Xe,this.providers=Ge,this.limit=Pe,this.id=fe;for(const je of Ge)typeof je.onDidChange=="function"&&(this.disposables||(this.disposables=new O.SL),this.disposables.add(je.onDidChange(Ie)))}compute(Xe){return Oe(this.providers,this.editorModel,Xe).then(Ge=>Ge?oe(Ge,this.limit):null)}dispose(){var Xe;(Xe=this.disposables)===null||Xe===void 0||Xe.dispose()}}function Oe(ft,Xe,Ge){let Ie=null,Pe=ft.map((je,dt)=>Promise.resolve(je.provideFoldingRanges(Xe,re,Ge)).then(Nt=>{if(!Ge.isCancellationRequested&&Array.isArray(Nt)){Array.isArray(Ie)||(Ie=[]);let $t=Xe.getLineCount();for(let Xt of Nt)Xt.start>0&&Xt.end>Xt.start&&Xt.end<=$t&&Ie.push({start:Xt.start,end:Xt.end,rank:dt,kind:Xt.kind})}},W.Cp));return Promise.all(Pe).then(je=>Ie)}class Ce{constructor(Xe){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=Xe}add(Xe,Ge,Ie,Pe){if(Xe>n||Ge>n)return;let je=this._length;this._startIndexes[je]=Xe,this._endIndexes[je]=Ge,this._nestingLevels[je]=Pe,this._types[je]=Ie,this._length++,Pe<30&&(this._nestingLevelCounts[Pe]=(this._nestingLevelCounts[Pe]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let Xe=new Uint32Array(this._length),Ge=new Uint32Array(this._length);for(let Ie=0;Ie<this._length;Ie++)Xe[Ie]=this._startIndexes[Ie],Ge[Ie]=this._endIndexes[Ie];return new f(Xe,Ge,this._types)}else{let Xe=0,Ge=this._nestingLevelCounts.length;for(let dt=0;dt<this._nestingLevelCounts.length;dt++){let Nt=this._nestingLevelCounts[dt];if(Nt){if(Nt+Xe>this._foldingRangesLimit){Ge=dt;break}Xe+=Nt}}let Ie=new Uint32Array(this._foldingRangesLimit),Pe=new Uint32Array(this._foldingRangesLimit),je=[];for(let dt=0,Nt=0;dt<this._length;dt++){let $t=this._nestingLevels[dt];($t<Ge||$t===Ge&&Xe++<this._foldingRangesLimit)&&(Ie[Nt]=this._startIndexes[dt],Pe[Nt]=this._endIndexes[dt],je[Nt]=this._types[dt],Nt++)}return new f(Ie,Pe,je)}}}function oe(ft,Xe){let Ge=ft.sort((dt,Nt)=>{let $t=dt.start-Nt.start;return $t===0&&($t=dt.rank-Nt.rank),$t}),Ie=new Ce(Xe),Pe,je=[];for(let dt of Ge)if(!Pe)Pe=dt,Ie.add(dt.start,dt.end,dt.kind&&dt.kind.value,je.length);else if(dt.start>Pe.start)if(dt.end<=Pe.end)je.push(Pe),Pe=dt,Ie.add(dt.start,dt.end,dt.kind&&dt.kind.value,je.length);else{if(dt.start>Pe.end){do Pe=je.pop();while(Pe&&dt.start>Pe.end);Pe&&je.push(Pe),Pe=dt}Ie.add(dt.start,dt.end,dt.kind&&dt.kind.value,je.length)}return Ie.toIndentRanges()}const ae="init";class Be{constructor(Xe,Ge,Ie,Pe){if(this.editorModel=Xe,this.id=ae,Ge.length){let je=dt=>({range:{startLineNumber:dt.startLineNumber,startColumn:0,endLineNumber:dt.endLineNumber,endColumn:Xe.getLineLength(dt.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=Xe.deltaDecorations([],Ge.map(je)),this.timeout=setTimeout(Ie,Pe)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(Xe){let Ge=[];if(this.decorationIds)for(let Ie of this.decorationIds){let Pe=this.editorModel.getDecorationRange(Ie);Pe&&Ge.push({start:Pe.startLineNumber,end:Pe.endLineNumber,rank:1})}return Promise.resolve(oe(Ge,Number.MAX_VALUE))}}var Ve=t(63580),se=t(38819),ce=t(73910),Te=t(97781),xe=t(73046),Fe=t(59554);const Le=(0,Fe.q5)("folding-expanded",xe.lA.chevronDown,(0,Ve.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Me=(0,Fe.q5)("folding-collapsed",xe.lA.chevronRight,(0,Ve.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class Se{constructor(Xe){this.editor=Xe,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(Xe,Ge){return Ge?Se.HIDDEN_RANGE_DECORATION:Xe?this.showFoldingHighlights?Se.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Se.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?Se.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Se.EXPANDED_VISUAL_DECORATION}deltaDecorations(Xe,Ge){return this.editor.deltaDecorations(Xe,Ge)}changeDecorations(Xe){return this.editor.changeDecorations(Xe)}}Se.COLLAPSED_VISUAL_DECORATION=le.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Te.kS.asClassName(Me)}),Se.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=le.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Te.kS.asClassName(Me)}),Se.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=le.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Te.kS.asClassName(Le)}),Se.EXPANDED_VISUAL_DECORATION=le.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Te.kS.asClassName(Le)}),Se.HIDDEN_RANGE_DECORATION=le.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var ze=function(ft,Xe,Ge,Ie){var Pe=arguments.length,je=Pe<3?Xe:Ie===null?Ie=Object.getOwnPropertyDescriptor(Xe,Ge):Ie,dt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")je=Reflect.decorate(ft,Xe,Ge,Ie);else for(var Nt=ft.length-1;Nt>=0;Nt--)(dt=ft[Nt])&&(je=(Pe<3?dt(je):Pe>3?dt(Xe,Ge,je):dt(Xe,Ge))||je);return Pe>3&&je&&Object.defineProperty(Xe,Ge,je),je},Ye=function(ft,Xe){return function(Ge,Ie){Xe(Ge,Ie,ft)}};const qe=new se.uy("foldingEnabled",!1);let ht=class bl extends O.JT{constructor(Xe,Ge){super(),this.contextKeyService=Ge,this.localToDispose=this._register(new O.SL),this.editor=Xe;const Ie=this.editor.getOptions();this._isEnabled=Ie.get(37),this._useFoldingProviders=Ie.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=Ie.get(41),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Ie.get(40),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Se(Xe),this.foldingDecorationProvider.autoHideFoldingControls=Ie.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Ie.get(39),this.foldingEnabled=qe.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Pe=>{if(Pe.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Pe.hasChanged(98)||Pe.hasChanged(39)){const je=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=je.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=je.get(39),this.onModelContentChanged()}Pe.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),Pe.hasChanged(41)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(41)),Pe.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(Xe){return Xe.getContribution(bl.ID)}saveViewState(){let Xe=this.editor.getModel();if(!Xe||!this._isEnabled||Xe.isTooLargeForTokenization())return{};if(this.foldingModel){let Ge=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),Ie=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Ge,lineCount:Xe.getLineCount(),provider:Ie,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Xe){let Ge=this.editor.getModel();if(!Ge||!this._isEnabled||Ge.isTooLargeForTokenization()||!this.hiddenRangeModel||!Xe||Xe.lineCount!==Ge.getLineCount()||(this._currentModelHasFoldedImports=!!Xe.foldedImports,!Xe.collapsedRegions))return;(Xe.provider===fe||Xe.provider===ae)&&(this.foldingStateMemento=Xe);const Ie=Xe.collapsedRegions;if(this.hiddenRangeModel.applyMemento(Ie)){const Pe=this.getFoldingModel();Pe&&Pe.then(je=>{if(je){this._restoringViewState=!0;try{je.applyMemento(Ie)}finally{this._restoringViewState=!1}}}).then(void 0,W.dL)}}onModelChanged(){this.localToDispose.clear();let Xe=this.editor.getModel();!this._isEnabled||!Xe||Xe.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new d(Xe,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new V(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(Ge=>this.onHiddenRangesChanges(Ge))),this.updateScheduler=new h.vp(200),this.cursorChangedScheduler=new h.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(C.aC.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(Ge=>this.onEditorMouseDown(Ge))),this.localToDispose.add(this.editor.onMouseUp(Ge=>this.onEditorMouseUp(Ge))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(Xe){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new A(Xe),this._useFoldingProviders&&this.foldingModel){let Ge=C.aC.ordered(this.foldingModel.textModel);if(Ge.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new Be(Xe,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);Ge.length>0&&(this.rangeProvider=new ue(Xe,Ge,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Xe=this.foldingModel;if(!Xe)return null;const Ge=this.getRangeProvider(Xe.textModel);let Ie=this.foldingRegionPromise=(0,h.PG)(Pe=>Ge.compute(Pe));return Ie.then(Pe=>{if(Pe&&Ie===this.foldingRegionPromise){let je;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const $t=Pe.setCollapsedAllOfType(C.AD.Imports.value,!0);$t&&(je=x.ZF.capture(this.editor),this._currentModelHasFoldedImports=$t)}let dt=this.editor.getSelections(),Nt=dt?dt.map($t=>$t.startLineNumber):[];Xe.update(Pe,Nt),je&&je.restore(this.editor)}return Xe})}).then(void 0,Xe=>((0,W.dL)(Xe),null)))}onHiddenRangesChanges(Xe){if(this.hiddenRangeModel&&Xe.length&&!this._restoringViewState){let Ge=this.editor.getSelections();Ge&&this.hiddenRangeModel.adjustSelections(Ge)&&this.editor.setSelections(Ge)}this.editor.setHiddenAreas(Xe)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Xe=this.getFoldingModel();Xe&&Xe.then(Ge=>{if(Ge){let Ie=this.editor.getSelections();if(Ie&&Ie.length>0){let Pe=[];for(let je of Ie){let dt=je.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(dt)&&Pe.push(...Ge.getAllRegionsAtLine(dt,Nt=>Nt.isCollapsed&&dt>Nt.startLineNumber))}Pe.length&&(Ge.toggleCollapseState(Pe),this.reveal(Ie[0].getPosition()))}}}).then(void 0,W.dL)}onEditorMouseDown(Xe){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Xe.target||!Xe.target.range||!Xe.event.leftButton&&!Xe.event.middleButton)return;const Ge=Xe.target.range;let Ie=!1;switch(Xe.target.type){case 4:const Pe=Xe.target.detail,je=Xe.target.element.offsetLeft;if(Pe.offsetX-je<5)return;Ie=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Xe.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let Nt=this.editor.getModel();if(Nt&&Ge.startColumn===Nt.getLineMaxColumn(Ge.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:Ge.startLineNumber,iconClicked:Ie}}onEditorMouseUp(Xe){const Ge=this.getFoldingModel();if(!Ge||!this.mouseDownInfo||!Xe.target)return;let Ie=this.mouseDownInfo.lineNumber,Pe=this.mouseDownInfo.iconClicked,je=Xe.target.range;if(!(!je||je.startLineNumber!==Ie)){if(Pe){if(Xe.target.type!==4)return}else{let dt=this.editor.getModel();if(!dt||je.startColumn!==dt.getLineMaxColumn(Ie))return}Ge.then(dt=>{if(dt){let Nt=dt.getRegionAtLine(Ie);if(Nt&&Nt.startLineNumber===Ie){let $t=Nt.isCollapsed;if(Pe||$t){let Xt=Xe.event.altKey,Ci=[];if(Xt){let Zt=pt=>!pt.containedBy(Nt)&&!Nt.containedBy(pt),mi=dt.getRegionsInside(null,Zt);for(const pt of mi)pt.isCollapsed&&Ci.push(pt);Ci.length===0&&(Ci=mi)}else{let Zt=Xe.event.middleButton||Xe.event.shiftKey;if(Zt)for(const mi of dt.getRegionsInside(Nt))mi.isCollapsed===$t&&Ci.push(mi);($t||!Zt||Ci.length===0)&&Ci.push(Nt)}dt.toggleCollapseState(Ci),this.reveal({lineNumber:Ie,column:1})}}}}).then(void 0,W.dL)}}reveal(Xe){this.editor.revealPositionInCenterIfOutsideViewport(Xe,0)}};ht.ID="editor.contrib.folding",ht=ze([Ye(1,se.i6)],ht);class kt extends N.R6{runEditorCommand(Xe,Ge,Ie){let Pe=ht.get(Ge);if(!Pe)return;let je=Pe.getFoldingModel();if(je)return this.reportTelemetry(Xe,Ge),je.then(dt=>{if(dt){this.invoke(Pe,dt,Ge,Ie);const Nt=Ge.getSelection();Nt&&Pe.reveal(Nt.getStartPosition())}})}getSelectedLines(Xe){let Ge=Xe.getSelections();return Ge?Ge.map(Ie=>Ie.startLineNumber):[]}getLineNumbers(Xe,Ge){return Xe&&Xe.selectionLines?Xe.selectionLines.map(Ie=>Ie+1):this.getSelectedLines(Ge)}run(Xe,Ge){}}function zt(ft){if(!G.o8(ft)){if(!G.Kn(ft))return!1;const Xe=ft;if(!G.o8(Xe.levels)&&!G.hj(Xe.levels)||!G.o8(Xe.direction)&&!G.HD(Xe.direction)||!G.o8(Xe.selectionLines)&&(!G.kJ(Xe.selectionLines)||!Xe.selectionLines.every(G.hj)))return!1}return!0}class Ke extends kt{constructor(){super({id:"editor.unfold",label:Ve.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:zt,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Xe,Ge,Ie,Pe){let je=Pe&&Pe.levels||1,dt=this.getLineNumbers(Pe,Ie);Pe&&Pe.direction==="up"?c(Ge,!1,je,dt):u(Ge,!1,je,dt)}}class Je extends kt{constructor(){super({id:"editor.unfoldRecursively",label:Ve.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2137),weight:100}})}invoke(Xe,Ge,Ie,Pe){u(Ge,!1,Number.MAX_VALUE,this.getSelectedLines(Ie))}}class Ze extends kt{constructor(){super({id:"editor.fold",label:Ve.N("foldAction.label","Fold"),alias:"Fold",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:zt,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Xe,Ge,Ie,Pe){let je=this.getLineNumbers(Pe,Ie);const dt=Pe&&Pe.levels,Nt=Pe&&Pe.direction;typeof dt!="number"&&typeof Nt!="string"?b(Ge,!0,je):Nt==="up"?c(Ge,!0,dt||1,je):u(Ge,!0,dt||1,je)}}class Ae extends kt{constructor(){super({id:"editor.toggleFold",label:Ve.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2090),weight:100}})}invoke(Xe,Ge,Ie){let Pe=this.getSelectedLines(Ie);a(Ge,1,Pe)}}class He extends kt{constructor(){super({id:"editor.foldRecursively",label:Ve.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2135),weight:100}})}invoke(Xe,Ge,Ie){let Pe=this.getSelectedLines(Ie);u(Ge,!0,Number.MAX_VALUE,Pe)}}class It extends kt{constructor(){super({id:"editor.foldAllBlockComments",label:Ve.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2133),weight:100}})}invoke(Xe,Ge,Ie){if(Ge.regions.hasTypes())j(Ge,C.AD.Comment.value,!0);else{const Pe=Ie.getModel();if(!Pe)return;const je=l.zu.getComments(Pe.getLanguageId());if(je&&je.blockCommentStartToken){let dt=new RegExp("^\\s*"+(0,w.ec)(je.blockCommentStartToken));T(Ge,dt,!0)}}}}class Bt extends kt{constructor(){super({id:"editor.foldAllMarkerRegions",label:Ve.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2077),weight:100}})}invoke(Xe,Ge,Ie){if(Ge.regions.hasTypes())j(Ge,C.AD.Region.value,!0);else{const Pe=Ie.getModel();if(!Pe)return;const je=l.zu.getFoldingRules(Pe.getLanguageId());if(je&&je.markers&&je.markers.start){let dt=new RegExp(je.markers.start);T(Ge,dt,!0)}}}}class oi extends kt{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:Ve.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2078),weight:100}})}invoke(Xe,Ge,Ie){if(Ge.regions.hasTypes())j(Ge,C.AD.Region.value,!1);else{const Pe=Ie.getModel();if(!Pe)return;const je=l.zu.getFoldingRules(Pe.getLanguageId());if(je&&je.markers&&je.markers.start){let dt=new RegExp(je.markers.start);T(Ge,dt,!1)}}}}class ni extends kt{constructor(){super({id:"editor.foldAllExcept",label:Ve.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2131),weight:100}})}invoke(Xe,Ge,Ie){let Pe=this.getSelectedLines(Ie);R(Ge,!0,Pe)}}class hi extends kt{constructor(){super({id:"editor.unfoldAllExcept",label:Ve.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2129),weight:100}})}invoke(Xe,Ge,Ie){let Pe=this.getSelectedLines(Ie);R(Ge,!1,Pe)}}class Di extends kt{constructor(){super({id:"editor.foldAll",label:Ve.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2069),weight:100}})}invoke(Xe,Ge,Ie){u(Ge,!0)}}class Ti extends kt{constructor(){super({id:"editor.unfoldAll",label:Ve.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2088),weight:100}})}invoke(Xe,Ge,Ie){u(Ge,!1)}}class Ii extends kt{getFoldingLevel(){return parseInt(this.id.substr(Ii.ID_PREFIX.length))}invoke(Xe,Ge,Ie){L(Ge,this.getFoldingLevel(),!0,this.getSelectedLines(Ie))}}Ii.ID_PREFIX="editor.foldLevel",Ii.ID=ft=>Ii.ID_PREFIX+ft;class ai extends kt{constructor(){super({id:"editor.gotoParentFold",label:Ve.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Xe,Ge,Ie){let Pe=this.getSelectedLines(Ie);if(Pe.length>0){let je=q(Pe[0],Ge);je!==null&&Ie.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}class Pt extends kt{constructor(){super({id:"editor.gotoPreviousFold",label:Ve.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Xe,Ge,Ie){let Pe=this.getSelectedLines(Ie);if(Pe.length>0){let je=ie(Pe[0],Ge);je!==null&&Ie.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}class Gt extends kt{constructor(){super({id:"editor.gotoNextFold",label:Ve.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,weight:100}})}invoke(Xe,Ge,Ie){let Pe=this.getSelectedLines(Ie);if(Pe.length>0){let je=ne(Pe[0],Ge);je!==null&&Ie.setSelection({startLineNumber:je,startColumn:1,endLineNumber:je,endColumn:1})}}}(0,N._K)(ht.ID,ht),(0,N.Qr)(Ke),(0,N.Qr)(Je),(0,N.Qr)(Ze),(0,N.Qr)(He),(0,N.Qr)(Di),(0,N.Qr)(Ti),(0,N.Qr)(It),(0,N.Qr)(Bt),(0,N.Qr)(oi),(0,N.Qr)(ni),(0,N.Qr)(hi),(0,N.Qr)(Ae),(0,N.Qr)(ai),(0,N.Qr)(Pt),(0,N.Qr)(Gt);for(let ft=1;ft<=7;ft++)(0,N.QG)(new Ii({id:Ii.ID(ft),label:Ve.N("foldLevelAction.label","Fold Level {0}",ft),alias:`Fold Level ${ft}`,precondition:qe,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,k.gx)(2089,2048|21+ft),weight:100}}));const ot=(0,ce.P6)("editor.foldBackground",{light:(0,ce.Zn)(ce.hE,.3),dark:(0,ce.Zn)(ce.hE,.3),hc:null},Ve.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),mt=(0,ce.P6)("editorGutter.foldingControlForeground",{dark:ce.XZ,light:ce.XZ,hc:ce.XZ},Ve.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,Te.Ic)((ft,Xe)=>{const Ge=ft.getColor(ot);Ge&&Xe.addRule(`.monaco-editor .folded-background { background-color: ${Ge}; }`);const Ie=ft.getColor(mt);Ie&&Xe.addRule(`
		.monaco-editor .cldr${Te.kS.asCSSSelector(Le)},
		.monaco-editor .cldr${Te.kS.asCSSSelector(Me)} {
			color: ${Ie} !important;
		}
		`)})},23111:function(Ct,we,t){"use strict";t.r(we);var h=t(16830),W=t(82334),k=t(63580);class O extends h.R6{constructor(){super({id:"editor.action.fontZoomIn",label:k.N("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(N,s){W.C.setZoomLevel(W.C.getZoomLevel()+1)}}class w extends h.R6{constructor(){super({id:"editor.action.fontZoomOut",label:k.N("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(N,s){W.C.setZoomLevel(W.C.getZoomLevel()-1)}}class G extends h.R6{constructor(){super({id:"editor.action.fontZoomReset",label:k.N("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(N,s){W.C.setZoomLevel(0)}}(0,h.Qr)(O),(0,h.Qr)(w),(0,h.Qr)(G)},93761:function(Ct,we,t){"use strict";t.d(we,{xC:function(){return T},Zg:function(){return L},x$:function(){return j},Qq:function(){return ie},Qs:function(){return V}});var h=t(35996),W=t(9488),k=t(71050),O=t(17301),w=t(56899),G=t(91741),x=t(98401),N=t(70666),s=t(55812),C=t(65520),l=t(50187),m=t(24314),y=t(3860),n=t(60303),p=t(90469),f=t(88216),v=t(69939),d=t(63580),a=t(94565);class u{constructor(Q){this.value=Q,this._lower=Q.toLowerCase()}static toKey(Q){return typeof Q=="string"?Q.toLowerCase():Q._lower}}var c=t(72065),b=function(z,Q,le,E){function I(A){return A instanceof le?A:new le(function(H){H(A)})}return new(le||(le=Promise))(function(A,H){function Y(fe){try{re(E.next(fe))}catch(ue){H(ue)}}function X(fe){try{re(E.throw(fe))}catch(ue){H(ue)}}function re(fe){fe.done?A(fe.value):I(fe.value).then(Y,X)}re((E=E.apply(z,Q||[])).next())})};function L(z){if(z=z.filter(I=>I.range),!z.length)return;let{range:Q}=z[0];for(let I=1;I<z.length;I++)Q=m.e.plusRange(Q,z[I].range);const{startLineNumber:le,endLineNumber:E}=Q;le===E?z.length===1?(0,h.Z9)(d.N("hint11","Made 1 formatting edit on line {0}",le)):(0,h.Z9)(d.N("hintn1","Made {0} formatting edits on line {1}",z.length,le)):z.length===1?(0,h.Z9)(d.N("hint1n","Made 1 formatting edit between lines {0} and {1}",le,E)):(0,h.Z9)(d.N("hintnn","Made {0} formatting edits between lines {1} and {2}",z.length,le,E))}function R(z){const Q=[],le=new Set,E=n.Az.ordered(z);for(const A of E)Q.push(A),A.extensionId&&le.add(u.toKey(A.extensionId));const I=n.vN.ordered(z);for(const A of I){if(A.extensionId){if(le.has(u.toKey(A.extensionId)))continue;le.add(u.toKey(A.extensionId))}Q.push({displayName:A.displayName,extensionId:A.extensionId,provideDocumentFormattingEdits(H,Y,X){return A.provideDocumentRangeFormattingEdits(H,H.getFullModelRange(),Y,X)}})}return Q}class T{static setFormatterSelector(Q){return{dispose:T._selectors.unshift(Q)}}static select(Q,le,E){return b(this,void 0,void 0,function*(){if(Q.length===0)return;const I=w.$.first(T._selectors);if(I)return yield I(Q,le,E)})}}T._selectors=new G.S;function j(z,Q,le,E,I,A){return b(this,void 0,void 0,function*(){const H=z.get(c.TG),Y=(0,C.CL)(Q)?Q.getModel():Q,X=n.vN.ordered(Y),re=yield T.select(X,Y,E);re&&(I.report(re),yield H.invokeFunction(q,re,Q,le,A))})}function q(z,Q,le,E,I){return b(this,void 0,void 0,function*(){const A=z.get(p.p);let H,Y;(0,C.CL)(le)?(H=le.getModel(),Y=new s.Dl(le,5,void 0,I)):(H=le,Y=new s.YQ(le,I));let X=[],re=0;for(let oe of(0,W._2)(E).sort(m.e.compareRangesUsingStarts))re>0&&m.e.areIntersectingOrTouching(X[re-1],oe)?X[re-1]=m.e.fromPositions(X[re-1].getStartPosition(),oe.getEndPosition()):re=X.push(oe);const fe=oe=>b(this,void 0,void 0,function*(){return(yield Q.provideDocumentRangeFormattingEdits(H,oe,H.getFormattingOptions(),Y.token))||[]}),ue=(oe,ae)=>{if(!oe.length||!ae.length)return!1;const Be=oe.reduce((Ve,se)=>m.e.plusRange(Ve,se.range),oe[0].range);if(!ae.some(Ve=>m.e.intersectRanges(Be,Ve.range)))return!1;for(let Ve of oe)for(let se of ae)if(m.e.intersectRanges(Ve.range,se.range))return!0;return!1},Oe=[],Ce=[];try{for(let oe of X){if(Y.token.isCancellationRequested)return!0;Ce.push(yield fe(oe))}for(let oe=0;oe<X.length;++oe)for(let ae=oe+1;ae<X.length;++ae){if(Y.token.isCancellationRequested)return!0;if(ue(Ce[oe],Ce[ae])){const Be=m.e.plusRange(X[oe],X[ae]),Ve=yield fe(Be);X.splice(ae,1),X.splice(oe,1),X.push(Be),Ce.splice(ae,1),Ce.splice(oe,1),Ce.push(Ve),oe=0,ae=0}}for(let oe of Ce){if(Y.token.isCancellationRequested)return!0;const ae=yield A.computeMoreMinimalEdits(H.uri,oe);ae&&Oe.push(...ae)}}finally{Y.dispose()}if(Oe.length===0)return!1;if((0,C.CL)(le))v.V.execute(le,Oe,!0),L(Oe),le.revealPositionInCenterIfOutsideViewport(le.getPosition(),1);else{const[{range:oe}]=Oe,ae=new y.Y(oe.startLineNumber,oe.startColumn,oe.endLineNumber,oe.endColumn);H.pushEditOperations([ae],Oe.map(Be=>({text:Be.text,range:m.e.lift(Be.range),forceMoveMarkers:!0})),Be=>{for(const{range:Ve}of Be)if(m.e.areIntersectingOrTouching(Ve,ae))return[new y.Y(Ve.startLineNumber,Ve.startColumn,Ve.endLineNumber,Ve.endColumn)];return null})}return!0})}function ie(z,Q,le,E,I){return b(this,void 0,void 0,function*(){const A=z.get(c.TG),H=(0,C.CL)(Q)?Q.getModel():Q,Y=R(H),X=yield T.select(Y,H,le);X&&(E.report(X),yield A.invokeFunction(ne,X,Q,le,I))})}function ne(z,Q,le,E,I){return b(this,void 0,void 0,function*(){const A=z.get(p.p);let H,Y;(0,C.CL)(le)?(H=le.getModel(),Y=new s.Dl(le,5,void 0,I)):(H=le,Y=new s.YQ(le,I));let X;try{const re=yield Q.provideDocumentFormattingEdits(H,H.getFormattingOptions(),Y.token);if(X=yield A.computeMoreMinimalEdits(H.uri,re),Y.token.isCancellationRequested)return!0}finally{Y.dispose()}if(!X||X.length===0)return!1;if((0,C.CL)(le))v.V.execute(le,X,E!==2),E!==2&&(L(X),le.revealPositionInCenterIfOutsideViewport(le.getPosition(),1));else{const[{range:re}]=X,fe=new y.Y(re.startLineNumber,re.startColumn,re.endLineNumber,re.endColumn);H.pushEditOperations([fe],X.map(ue=>({text:ue.text,range:m.e.lift(ue.range),forceMoveMarkers:!0})),ue=>{for(const{range:Oe}of ue)if(m.e.areIntersectingOrTouching(Oe,fe))return[new y.Y(Oe.startLineNumber,Oe.startColumn,Oe.endLineNumber,Oe.endColumn)];return null})}return!0})}function he(z,Q,le,E,I){return b(this,void 0,void 0,function*(){const A=n.vN.ordered(Q);for(const H of A){let Y=yield Promise.resolve(H.provideDocumentRangeFormattingEdits(Q,le,E,I)).catch(O.Cp);if((0,W.Of)(Y))return yield z.computeMoreMinimalEdits(Q.uri,Y)}})}function $(z,Q,le,E){return b(this,void 0,void 0,function*(){const I=R(Q);for(const A of I){let H=yield Promise.resolve(A.provideDocumentFormattingEdits(Q,le,E)).catch(O.Cp);if((0,W.Of)(H))return yield z.computeMoreMinimalEdits(Q.uri,H)}})}function V(z,Q,le,E,I){const A=n.ln.ordered(Q);return A.length===0||A[0].autoFormatTriggerCharacters.indexOf(E)<0?Promise.resolve(void 0):Promise.resolve(A[0].provideOnTypeFormattingEdits(Q,le,E,I,k.T.None)).catch(O.Cp).then(H=>z.computeMoreMinimalEdits(Q.uri,H))}a.P.registerCommand("_executeFormatRangeProvider",function(z,...Q){return b(this,void 0,void 0,function*(){const[le,E,I]=Q;(0,x.p_)(N.o.isUri(le)),(0,x.p_)(m.e.isIRange(E));const A=z.get(f.S),H=z.get(p.p),Y=yield A.createModelReference(le);try{return he(H,Y.object.textEditorModel,m.e.lift(E),I,k.T.None)}finally{Y.dispose()}})}),a.P.registerCommand("_executeFormatDocumentProvider",function(z,...Q){return b(this,void 0,void 0,function*(){const[le,E]=Q;(0,x.p_)(N.o.isUri(le));const I=z.get(f.S),A=z.get(p.p),H=yield I.createModelReference(le);try{return $(A,H.object.textEditorModel,E,k.T.None)}finally{H.dispose()}})}),a.P.registerCommand("_executeFormatOnTypeProvider",function(z,...Q){return b(this,void 0,void 0,function*(){const[le,E,I,A]=Q;(0,x.p_)(N.o.isUri(le)),(0,x.p_)(l.L.isIPosition(E)),(0,x.p_)(typeof I=="string");const H=z.get(f.S),Y=z.get(p.p),X=yield H.createModelReference(le);try{return V(Y,X.object.textEditorModel,l.L.lift(E),I,A)}finally{X.dispose()}})})},44818:function(Ct,we,t){"use strict";t.r(we);var h=t(9488),W=t(71050),k=t(17301),O=t(22258),w=t(9917),G=t(16830),x=t(11640),N=t(44906),s=t(24314),C=t(29102),l=t(60303),m=t(90469),y=t(93761),n=t(69939),p=t(63580),f=t(94565),v=t(38819),d=t(72065),a=t(90535),u=function(q,ie,ne,he){var $=arguments.length,V=$<3?ie:he===null?he=Object.getOwnPropertyDescriptor(ie,ne):he,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(q,ie,ne,he);else for(var Q=q.length-1;Q>=0;Q--)(z=q[Q])&&(V=($<3?z(V):$>3?z(ie,ne,V):z(ie,ne))||V);return $>3&&V&&Object.defineProperty(ie,ne,V),V},c=function(q,ie){return function(ne,he){ie(ne,he,q)}},b=function(q,ie,ne,he){function $(V){return V instanceof ne?V:new ne(function(z){z(V)})}return new(ne||(ne=Promise))(function(V,z){function Q(I){try{E(he.next(I))}catch(A){z(A)}}function le(I){try{E(he.throw(I))}catch(A){z(A)}}function E(I){I.done?V(I.value):$(I.value).then(Q,le)}E((he=he.apply(q,ie||[])).next())})};let L=class{constructor(ie,ne){this._workerService=ne,this._callOnDispose=new w.SL,this._callOnModel=new w.SL,this._editor=ie,this._callOnDispose.add(ie.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(ie.onDidChangeModel(()=>this._update())),this._callOnDispose.add(ie.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(l.ln.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(48)||!this._editor.hasModel())return;const ie=this._editor.getModel(),[ne]=l.ln.ordered(ie);if(!ne||!ne.autoFormatTriggerCharacters)return;let he=new N.q;for(let $ of ne.autoFormatTriggerCharacters)he.add($.charCodeAt(0));this._callOnModel.add(this._editor.onDidType($=>{let V=$.charCodeAt($.length-1);he.has(V)&&this._trigger(String.fromCharCode(V))}))}_trigger(ie){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const ne=this._editor.getModel(),he=this._editor.getPosition();let $=!1;const V=this._editor.onDidChangeModelContent(z=>{if(z.isFlush){$=!0,V.dispose();return}for(let Q=0,le=z.changes.length;Q<le;Q++)if(z.changes[Q].range.endLineNumber<=he.lineNumber){$=!0,V.dispose();return}});(0,y.Qs)(this._workerService,ne,he,ie,ne.getFormattingOptions()).then(z=>{V.dispose(),!$&&(0,h.Of)(z)&&(n.V.execute(this._editor,z,!0),(0,y.Zg)(z))},z=>{throw V.dispose(),z})}};L.ID="editor.contrib.autoFormat",L=u([c(1,m.p)],L);let R=class{constructor(ie,ne){this.editor=ie,this._instantiationService=ne,this._callOnDispose=new w.SL,this._callOnModel=new w.SL,this._callOnDispose.add(ie.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(ie.onDidChangeModel(()=>this._update())),this._callOnDispose.add(ie.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(l.vN.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(47)&&this.editor.hasModel()&&l.vN.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:ie})=>this._trigger(ie)))}_trigger(ie){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(y.x$,this.editor,ie,2,a.E.None,W.T.None).catch(k.dL))}};R.ID="editor.contrib.formatOnPaste",R=u([c(1,d.TG)],R);class T extends G.R6{constructor(){super({id:"editor.action.formatDocument",label:p.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:v.Ao.and(C.u.notInCompositeEditor,C.u.writable,C.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:C.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(ie,ne){return b(this,void 0,void 0,function*(){if(ne.hasModel()){const he=ie.get(d.TG);yield ie.get(a.e).showWhile(he.invokeFunction(y.Qq,ne,1,a.E.None,W.T.None),250)}})}}class j extends G.R6{constructor(){super({id:"editor.action.formatSelection",label:p.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:v.Ao.and(C.u.writable,C.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:C.u.editorTextFocus,primary:(0,O.gx)(2089,2084),weight:100},contextMenuOpts:{when:C.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(ie,ne){return b(this,void 0,void 0,function*(){if(!ne.hasModel())return;const he=ie.get(d.TG),$=ne.getModel(),V=ne.getSelections().map(Q=>Q.isEmpty()?new s.e(Q.startLineNumber,1,Q.startLineNumber,$.getLineMaxColumn(Q.startLineNumber)):Q);yield ie.get(a.e).showWhile(he.invokeFunction(y.x$,ne,V,1,a.E.None,W.T.None),250)})}}(0,G._K)(L.ID,L),(0,G._K)(R.ID,R),(0,G.Qr)(T),(0,G.Qr)(j),f.P.registerCommand("editor.action.format",q=>b(void 0,void 0,void 0,function*(){const ie=q.get(x.$).getFocusedCodeEditor();if(!ie||!ie.hasModel())return;const ne=q.get(f.H);ie.getSelection().isEmpty()?yield ne.executeCommand("editor.action.formatDocument"):yield ne.executeCommand("editor.action.formatSelection")}))},69939:function(Ct,we,t){"use strict";t.d(we,{V:function(){return k}});var h=t(69386),W=t(24314);class k{static _handleEolEdits(w,G){let x,N=[];for(let s of G)typeof s.eol=="number"&&(x=s.eol),s.range&&typeof s.text=="string"&&N.push(s);return typeof x=="number"&&w.hasModel()&&w.getModel().pushEOL(x),N}static _isFullModelReplaceEdit(w,G){if(!w.hasModel())return!1;const x=w.getModel(),N=x.validateRange(G.range);return x.getFullModelRange().equalsRange(N)}static execute(w,G,x){x&&w.pushUndoStop();const N=k._handleEolEdits(w,G);N.length===1&&k._isFullModelReplaceEdit(w,N[0])?w.executeEdits("formatEditsCommand",N.map(s=>h.h.replace(W.e.lift(s.range),s.text))):w.executeEdits("formatEditsCommand",N.map(s=>h.h.replaceMove(W.e.lift(s.range),s.text))),x&&w.pushUndoStop()}}},2268:function(Ct,we,t){"use strict";t.r(we),t.d(we,{MarkerController:function(){return Le},NextMarkerAction:function(){return Se}});var h=t(73046),W=t(9917),k=t(16830),O=t(11640),w=t(50187),G=t(24314),x=t(29102),N=t(9488),s=t(4669),C=t(91741),l=t(97295),m=t(70666),y=t(65026),n=t(72065),p=t(98674),f=function(zt,Ke,Je,Ze){var Ae=arguments.length,He=Ae<3?Ke:Ze===null?Ze=Object.getOwnPropertyDescriptor(Ke,Je):Ze,It;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(zt,Ke,Je,Ze);else for(var Bt=zt.length-1;Bt>=0;Bt--)(It=zt[Bt])&&(He=(Ae<3?It(He):Ae>3?It(Ke,Je,He):It(Ke,Je))||He);return Ae>3&&He&&Object.defineProperty(Ke,Je,He),He},v=function(zt,Ke){return function(Je,Ze){Ke(Je,Ze,zt)}};class d{constructor(Ke,Je,Ze){this.marker=Ke,this.index=Je,this.total=Ze}}let a=class Sl{constructor(Ke,Je){this._markerService=Je,this._onDidChange=new s.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new W.SL,this._markers=[],this._nextIdx=-1,m.o.isUri(Ke)?this._resourceFilter=Ae=>Ae.toString()===Ke.toString():Ke&&(this._resourceFilter=Ke);const Ze=()=>{this._markers=this._markerService.read({resource:m.o.isUri(Ke)?Ke:void 0,severities:p.ZL.Error|p.ZL.Warning|p.ZL.Info}),typeof Ke=="function"&&(this._markers=this._markers.filter(Ae=>this._resourceFilter(Ae.resource))),this._markers.sort(Sl._compareMarker)};Ze(),this._dispoables.add(Je.onMarkerChanged(Ae=>{(!this._resourceFilter||Ae.some(He=>this._resourceFilter(He)))&&(Ze(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(Ke){return!this._resourceFilter&&!Ke?!0:!this._resourceFilter||!Ke?!1:this._resourceFilter(Ke)}get selected(){const Ke=this._markers[this._nextIdx];return Ke&&new d(Ke,this._nextIdx+1,this._markers.length)}_initIdx(Ke,Je,Ze){let Ae=!1,He=this._markers.findIndex(It=>It.resource.toString()===Ke.uri.toString());He<0&&(He=(0,N.ry)(this._markers,{resource:Ke.uri},(It,Bt)=>(0,l.qu)(It.resource.toString(),Bt.resource.toString())),He<0&&(He=~He));for(let It=He;It<this._markers.length;It++){let Bt=G.e.lift(this._markers[It]);if(Bt.isEmpty()){const oi=Ke.getWordAtPosition(Bt.getStartPosition());oi&&(Bt=new G.e(Bt.startLineNumber,oi.startColumn,Bt.startLineNumber,oi.endColumn))}if(Je&&(Bt.containsPosition(Je)||Je.isBeforeOrEqual(Bt.getStartPosition()))){this._nextIdx=It,Ae=!0;break}if(this._markers[It].resource.toString()!==Ke.uri.toString())break}Ae||(this._nextIdx=Ze?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(Ke,Je,Ze){if(this._markers.length===0)return!1;let Ae=this._nextIdx;return this._nextIdx===-1?this._initIdx(Je,Ze,Ke):Ke?this._nextIdx=(this._nextIdx+1)%this._markers.length:Ke||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),Ae!==this._nextIdx}find(Ke,Je){let Ze=this._markers.findIndex(Ae=>Ae.resource.toString()===Ke.toString());if(!(Ze<0)){for(;Ze<this._markers.length;Ze++)if(G.e.containsPosition(this._markers[Ze],Je))return new d(this._markers[Ze],Ze+1,this._markers.length)}}static _compareMarker(Ke,Je){let Ze=(0,l.qu)(Ke.resource.toString(),Je.resource.toString());return Ze===0&&(Ze=p.ZL.compare(Ke.severity,Je.severity)),Ze===0&&(Ze=G.e.compareRangesUsingStarts(Ke,Je)),Ze}};a=f([v(1,p.lT)],a);const u=(0,n.yh)("IMarkerNavigationService");let c=class{constructor(Ke){this._markerService=Ke,this._provider=new C.S}getMarkerList(Ke){for(let Je of this._provider){const Ze=Je.getMarkerList(Ke);if(Ze)return Ze}return new a(Ke,this._markerService)}};c=f([v(0,p.lT)],c),(0,y.z)(u,c,!0);var b=t(63580),L=t(84144),R=t(38819),T=t(59554),j=t(65321),q=t(13433),ie=t(41264),ne=t(68843),he=t(95935),$=t(15232),V=t(42499),z=t(44349),Q=t(50988),le=t(14603),E=t(73910),I=t(97781),A;(function(zt){function Ke(Je){switch(Je){case le.Z.Ignore:return"severity-ignore "+h.lA.info.classNames;case le.Z.Info:return h.lA.info.classNames;case le.Z.Warning:return h.lA.warning.classNames;case le.Z.Error:return h.lA.error.classNames;default:return""}}zt.className=Ke})(A||(A={})),(0,I.Ic)((zt,Ke)=>{const Je=zt.getColor(E.Jp);if(Je){const He=h.lA.error.cssSelector;Ke.addRule(`
			.monaco-editor .zone-widget ${He},
			.markers-panel .marker-icon${He},
			.text-search-provider-messages .providerMessage ${He},
			.extensions-viewlet > .extensions ${He} {
				color: ${Je};
			}
		`)}const Ze=zt.getColor(E.BO);if(Ze){const He=h.lA.warning.cssSelector;Ke.addRule(`
			.monaco-editor .zone-widget ${He},
			.markers-panel .marker-icon${He},
			.extensions-viewlet > .extensions ${He},
			.extension-editor ${He},
			.text-search-provider-messages .providerMessage ${He},
			.preferences-editor ${He} {
				color: ${Ze};
			}
		`)}const Ae=zt.getColor(E.OL);if(Ae){const He=h.lA.info.cssSelector;Ke.addRule(`
			.monaco-editor .zone-widget ${He},
			.markers-panel .marker-icon${He},
			.extensions-viewlet > .extensions ${He},
			.text-search-provider-messages .providerMessage ${He},
			.extension-editor ${He} {
				color: ${Ae};
			}
		`)}});var H=function(zt,Ke,Je,Ze){var Ae=arguments.length,He=Ae<3?Ke:Ze===null?Ze=Object.getOwnPropertyDescriptor(Ke,Je):Ze,It;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(zt,Ke,Je,Ze);else for(var Bt=zt.length-1;Bt>=0;Bt--)(It=zt[Bt])&&(He=(Ae<3?It(He):Ae>3?It(Ke,Je,He):It(Ke,Je))||He);return Ae>3&&He&&Object.defineProperty(Ke,Je,He),He},Y=function(zt,Ke){return function(Je,Ze){Ke(Je,Ze,zt)}};class X{constructor(Ke,Je,Ze,Ae,He){this._openerService=Ae,this._labelService=He,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new W.SL,this._editor=Je;const It=document.createElement("div");It.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),It.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),It.appendChild(this._relatedBlock),this._disposables.add(j.mu(this._relatedBlock,"click",Bt=>{Bt.preventDefault();const oi=this._relatedDiagnostics.get(Bt.target);oi&&Ze(oi)})),this._scrollable=new q.NB(It,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),Ke.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Bt=>{It.style.left=`-${Bt.scrollLeft}px`,It.style.top=`-${Bt.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,W.B9)(this._disposables)}update(Ke){const{source:Je,message:Ze,relatedInformation:Ae,code:He}=Ke;let It=((Je==null?void 0:Je.length)||0)+2;He&&(typeof He=="string"?It+=He.length:It+=He.value.length);const Bt=(0,l.uq)(Ze);this._lines=Bt.length,this._longestLineLength=0;for(const Ti of Bt)this._longestLineLength=Math.max(Ti.length+It,this._longestLineLength);j.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(Ke)),this._editor.applyFontInfo(this._messageBlock);let oi=this._messageBlock;for(const Ti of Bt)oi=document.createElement("div"),oi.innerText=Ti,Ti===""&&(oi.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(oi);if(Je||He){const Ti=document.createElement("span");if(Ti.classList.add("details"),oi.appendChild(Ti),Je){const Ii=document.createElement("span");Ii.innerText=Je,Ii.classList.add("source"),Ti.appendChild(Ii)}if(He)if(typeof He=="string"){const Ii=document.createElement("span");Ii.innerText=`(${He})`,Ii.classList.add("code"),Ti.appendChild(Ii)}else{this._codeLink=j.$("a.code-link"),this._codeLink.setAttribute("href",`${He.target.toString()}`),this._codeLink.onclick=ai=>{this._openerService.open(He.target,{allowCommands:!0}),ai.preventDefault(),ai.stopPropagation()};const Ii=j.R3(this._codeLink,j.$("span"));Ii.innerText=He.value,Ti.appendChild(this._codeLink)}}if(j.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,N.Of)(Ae)){const Ti=this._relatedBlock.appendChild(document.createElement("div"));Ti.style.paddingTop=`${Math.floor(this._editor.getOption(58)*.66)}px`,this._lines+=1;for(const Ii of Ae){let ai=document.createElement("div"),Pt=document.createElement("a");Pt.classList.add("filename"),Pt.innerText=`${(0,ne.p)(Ii.resource)}(${Ii.startLineNumber}, ${Ii.startColumn}): `,Pt.title=this._labelService.getUriLabel(Ii.resource),this._relatedDiagnostics.set(Pt,Ii);let Gt=document.createElement("span");Gt.innerText=Ii.message,ai.appendChild(Pt),ai.appendChild(Gt),this._lines+=1,Ti.appendChild(ai)}}const ni=this._editor.getOption(43),hi=Math.ceil(ni.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Di=ni.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:hi,scrollHeight:Di})}layout(Ke,Je){this._scrollable.getDomNode().style.height=`${Ke}px`,this._scrollable.getDomNode().style.width=`${Je}px`,this._scrollable.setScrollDimensions({width:Je,height:Ke})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(Ke){let Je="";switch(Ke.severity){case p.ZL.Error:Je=b.N("Error","Error");break;case p.ZL.Warning:Je=b.N("Warning","Warning");break;case p.ZL.Info:Je=b.N("Info","Info");break;case p.ZL.Hint:Je=b.N("Hint","Hint");break}let Ze=b.N("marker aria","{0} at {1}. ",Je,Ke.startLineNumber+":"+Ke.startColumn);const Ae=this._editor.getModel();return Ae&&Ke.startLineNumber<=Ae.getLineCount()&&Ke.startLineNumber>=1&&(Ze=`${Ae.getLineContent(Ke.startLineNumber)}, ${Ze}`),Ze}}let re=class yl extends $.vk{constructor(Ke,Je,Ze,Ae,He,It,Bt){super(Ke,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},He),this._themeService=Je,this._openerService=Ze,this._menuService=Ae,this._contextKeyService=It,this._labelService=Bt,this._callOnDispose=new W.SL,this._onDidSelectRelatedInformation=new s.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=p.ZL.Warning,this._backgroundColor=ie.Il.white,this._applyTheme(Je.getColorTheme()),this._callOnDispose.add(Je.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(Ke){this._backgroundColor=Ke.getColor(ce);let Je=Ce,Ze=oe;this._severity===p.ZL.Warning?(Je=ae,Ze=Be):this._severity===p.ZL.Info&&(Je=Ve,Ze=se);const Ae=Ke.getColor(Je),He=Ke.getColor(Ze);this.style({arrowColor:Ae,frameColor:Ae,headerBackgroundColor:He,primaryHeadingColor:Ke.getColor($.IH),secondaryHeadingColor:Ke.getColor($.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(Ke){super._fillHead(Ke),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(Ae=>this.editor.focus()));const Je=[],Ze=this._menuService.createMenu(yl.TitleMenu,this._contextKeyService);(0,V.vr)(Ze,void 0,Je),this._actionbarWidget.push(Je,{label:!1,icon:!0,index:0}),Ze.dispose()}_fillTitleIcon(Ke){this._icon=j.R3(Ke,j.$(""))}_fillBody(Ke){this._parentContainer=Ke,Ke.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),Ke.appendChild(this._container),this._message=new X(this._container,this.editor,Je=>this._onDidSelectRelatedInformation.fire(Je),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(Ke,Je,Ze){this._container.classList.remove("stale"),this._message.update(Ke),this._severity=Ke.severity,this._applyTheme(this._themeService.getColorTheme());let Ae=G.e.lift(Ke);const He=this.editor.getPosition();let It=He&&Ae.containsPosition(He)?He:Ae.getStartPosition();super.show(It,this.computeRequiredHeight());const Bt=this.editor.getModel();if(Bt){const oi=Ze>1?b.N("problems","{0} of {1} problems",Je,Ze):b.N("change","{0} of {1} problem",Je,Ze);this.setTitle((0,he.EZ)(Bt.uri),oi)}this._icon.className=`codicon ${A.className(p.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(It,0),this.editor.focus()}updateMarker(Ke){this._container.classList.remove("stale"),this._message.update(Ke)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(Ke,Je){super._doLayoutBody(Ke,Je),this._heightInPixel=Ke,this._message.layout(Ke,Je),this._container.style.height=`${Ke}px`}_onWidth(Ke){this._message.layout(this._heightInPixel,Ke)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};re.TitleMenu=new L.eH("gotoErrorTitleMenu"),re=H([Y(1,I.XE),Y(2,Q.v4),Y(3,L.co),Y(4,n.TG),Y(5,R.i6),Y(6,z.e)],re);let fe=(0,E.kw)(E.lX,E.b6),ue=(0,E.kw)(E.uo,E.pW),Oe=(0,E.kw)(E.c6,E.T8);const Ce=(0,E.P6)("editorMarkerNavigationError.background",{dark:fe,light:fe,hc:E.lR},b.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),oe=(0,E.P6)("editorMarkerNavigationError.headerBackground",{dark:(0,E.Zn)(Ce,.1),light:(0,E.Zn)(Ce,.1),hc:null},b.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),ae=(0,E.P6)("editorMarkerNavigationWarning.background",{dark:ue,light:ue,hc:E.lR},b.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Be=(0,E.P6)("editorMarkerNavigationWarning.headerBackground",{dark:(0,E.Zn)(ae,.1),light:(0,E.Zn)(ae,.1),hc:"#0C141F"},b.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Ve=(0,E.P6)("editorMarkerNavigationInfo.background",{dark:Oe,light:Oe,hc:E.lR},b.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),se=(0,E.P6)("editorMarkerNavigationInfo.headerBackground",{dark:(0,E.Zn)(Ve,.1),light:(0,E.Zn)(Ve,.1),hc:null},b.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),ce=(0,E.P6)("editorMarkerNavigation.background",{dark:E.cv,light:E.cv,hc:E.cv},b.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));(0,I.Ic)((zt,Ke)=>{const Je=zt.getColor(E.ur);Je&&Ke.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${Je}; }`);const Ze=zt.getColor(E.sg);Ze&&Ke.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${Ze}; }`)});var Te=function(zt,Ke,Je,Ze){var Ae=arguments.length,He=Ae<3?Ke:Ze===null?Ze=Object.getOwnPropertyDescriptor(Ke,Je):Ze,It;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(zt,Ke,Je,Ze);else for(var Bt=zt.length-1;Bt>=0;Bt--)(It=zt[Bt])&&(He=(Ae<3?It(He):Ae>3?It(Ke,Je,He):It(Ke,Je))||He);return Ae>3&&He&&Object.defineProperty(Ke,Je,He),He},xe=function(zt,Ke){return function(Je,Ze){Ke(Je,Ze,zt)}},Fe=function(zt,Ke,Je,Ze){function Ae(He){return He instanceof Je?He:new Je(function(It){It(He)})}return new(Je||(Je=Promise))(function(He,It){function Bt(hi){try{ni(Ze.next(hi))}catch(Di){It(Di)}}function oi(hi){try{ni(Ze.throw(hi))}catch(Di){It(Di)}}function ni(hi){hi.done?He(hi.value):Ae(hi.value).then(Bt,oi)}ni((Ze=Ze.apply(zt,Ke||[])).next())})};let Le=class yr{constructor(Ke,Je,Ze,Ae,He){this._markerNavigationService=Je,this._contextKeyService=Ze,this._editorService=Ae,this._instantiationService=He,this._sessionDispoables=new W.SL,this._editor=Ke,this._widgetVisible=ht.bindTo(this._contextKeyService)}static get(Ke){return Ke.getContribution(yr.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(Ke){if(this._model&&this._model.matches(Ke))return this._model;let Je=!1;return this._model&&(Je=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(Ke),Je&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(re,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(Ze=>{var Ae,He,It;(!(!((Ae=this._model)===null||Ae===void 0)&&Ae.selected)||!G.e.containsPosition((He=this._model)===null||He===void 0?void 0:He.selected.marker,Ze.position))&&((It=this._model)===null||It===void 0||It.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const Ze=this._model.find(this._editor.getModel().uri,this._widget.position);Ze?this._widget.updateMarker(Ze.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(Ze=>{this._editorService.openCodeEditor({resource:Ze.resource,options:{pinned:!0,revealIfOpened:!0,selection:G.e.lift(Ze).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(Ke=!0){this._cleanUp(),Ke&&this._editor.focus()}showAtMarker(Ke){if(this._editor.hasModel()){const Je=this._getOrCreateModel(this._editor.getModel().uri);Je.resetIndex(),Je.move(!0,this._editor.getModel(),new w.L(Ke.startLineNumber,Ke.startColumn)),Je.selected&&this._widget.showAtMarker(Je.selected.marker,Je.selected.index,Je.selected.total)}}nagivate(Ke,Je){return Fe(this,void 0,void 0,function*(){if(this._editor.hasModel()){const Ze=this._getOrCreateModel(Je?void 0:this._editor.getModel().uri);if(Ze.move(Ke,this._editor.getModel(),this._editor.getPosition()),!Ze.selected)return;if(Ze.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const Ae=yield this._editorService.openCodeEditor({resource:Ze.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:Ze.selected.marker}},this._editor);Ae&&(yr.get(Ae).close(),yr.get(Ae).nagivate(Ke,Je))}else this._widget.showAtMarker(Ze.selected.marker,Ze.selected.index,Ze.selected.total)}})}};Le.ID="editor.contrib.markerController",Le=Te([xe(1,u),xe(2,R.i6),xe(3,O.$),xe(4,n.TG)],Le);class Me extends k.R6{constructor(Ke,Je,Ze){super(Ze),this._next=Ke,this._multiFile=Je}run(Ke,Je){return Fe(this,void 0,void 0,function*(){Je.hasModel()&&Le.get(Je).nagivate(this._next,this._multiFile)})}}class Se extends Me{constructor(){super(!0,!1,{id:Se.ID,label:Se.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:x.u.focus,primary:578,weight:100},menuOpts:{menuId:re.TitleMenu,title:Se.LABEL,icon:(0,T.q5)("marker-navigation-next",h.lA.arrowDown,b.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Se.ID="editor.action.marker.next",Se.LABEL=b.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class ze extends Me{constructor(){super(!1,!1,{id:ze.ID,label:ze.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:x.u.focus,primary:1602,weight:100},menuOpts:{menuId:re.TitleMenu,title:Se.LABEL,icon:(0,T.q5)("marker-navigation-previous",h.lA.arrowUp,b.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}ze.ID="editor.action.marker.prev",ze.LABEL=b.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Ye extends Me{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:b.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:x.u.focus,primary:66,weight:100},menuOpts:{menuId:L.eH.MenubarGoMenu,title:b.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class qe extends Me{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:b.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:x.u.focus,primary:1090,weight:100},menuOpts:{menuId:L.eH.MenubarGoMenu,title:b.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,k._K)(Le.ID,Le),(0,k.Qr)(Se),(0,k.Qr)(ze),(0,k.Qr)(Ye),(0,k.Qr)(qe);const ht=new R.uy("markersNavigationVisible",!1),kt=k._l.bindToContribution(Le.get);(0,k.fK)(new kt({id:"closeMarkersNavigation",precondition:ht,handler:zt=>zt.close(),kbOpts:{weight:100+50,kbExpr:x.u.focus,primary:9,secondary:[1033]}}))},2765:function(Ct,we,t){"use strict";t.r(we),t.d(we,{DefinitionAction:function(){return Te}});var h=t(16268),W=t(35996),k=t(15393),O=t(22258),w=t(1432),G=t(98401),x=t(70666),N=t(55812),s=t(65520),C=t(16830),l=t(11640),m=t(84527),y=t(50187),n=t(24314),p=t(29102),f=t(60303),v=t(86511),d=t(71455),a=t(4669),u=t(9917),c=t(95935),b=t(63580),L=t(38819),R=t(65026),T=t(72065),j=t(91847),q=t(49989),ie=t(59422),ne=function(Ye,qe,ht,kt){var zt=arguments.length,Ke=zt<3?qe:kt===null?kt=Object.getOwnPropertyDescriptor(qe,ht):kt,Je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(Ye,qe,ht,kt);else for(var Ze=Ye.length-1;Ze>=0;Ze--)(Je=Ye[Ze])&&(Ke=(zt<3?Je(Ke):zt>3?Je(qe,ht,Ke):Je(qe,ht))||Ke);return zt>3&&Ke&&Object.defineProperty(qe,ht,Ke),Ke},he=function(Ye,qe){return function(ht,kt){qe(ht,kt,Ye)}};const $=new L.uy("hasSymbols",!1,(0,b.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),V=(0,T.yh)("ISymbolNavigationService");let z=class{constructor(qe,ht,kt,zt){this._editorService=ht,this._notificationService=kt,this._keybindingService=zt,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=$.bindTo(qe)}reset(){var qe,ht;this._ctxHasSymbols.reset(),(qe=this._currentState)===null||qe===void 0||qe.dispose(),(ht=this._currentMessage)===null||ht===void 0||ht.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(qe){const ht=qe.parent.parent;if(ht.references.length<=1){this.reset();return}this._currentModel=ht,this._currentIdx=ht.references.indexOf(qe),this._ctxHasSymbols.set(!0),this._showMessage();const kt=new Q(this._editorService),zt=kt.onDidChange(Ke=>{if(this._ignoreEditorChange)return;const Je=this._editorService.getActiveCodeEditor();if(!Je)return;const Ze=Je.getModel(),Ae=Je.getPosition();if(!Ze||!Ae)return;let He=!1,It=!1;for(const Bt of ht.references)if((0,c.Xy)(Bt.uri,Ze.uri))He=!0,It=It||n.e.containsPosition(Bt.range,Ae);else if(He)break;(!He||!It)&&this.reset()});this._currentState=(0,u.F8)(kt,zt)}revealNext(qe){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const ht=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:ht.uri,options:{selection:n.e.collapseToStart(ht.range),selectionRevealType:3}},qe).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var qe;(qe=this._currentMessage)===null||qe===void 0||qe.dispose();const ht=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),kt=ht?(0,b.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,ht.getLabel()):(0,b.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(kt)}};z=ne([he(0,L.i6),he(1,l.$),he(2,ie.lT),he(3,j.d)],z),(0,R.z)(V,z,!0),(0,C.fK)(new class extends C._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:$,kbOpts:{weight:100,primary:70}})}runEditorCommand(Ye,qe){return Ye.get(V).revealNext(qe)}}),q.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:$,primary:9,handler(Ye){Ye.get(V).reset()}});let Q=class{constructor(qe){this._listener=new Map,this._disposables=new u.SL,this._onDidChange=new a.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(qe.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(qe.onCodeEditorAdd(this._onDidAddEditor,this)),qe.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,u.B9)(this._listener.values())}_onDidAddEditor(qe){this._listener.set(qe,(0,u.F8)(qe.onDidChangeCursorPosition(ht=>this._onDidChange.fire({editor:qe})),qe.onDidChangeModelContent(ht=>this._onDidChange.fire({editor:qe}))))}_onDidRemoveEditor(qe){var ht;(ht=this._listener.get(qe))===null||ht===void 0||ht.dispose(),this._listener.delete(qe)}};Q=ne([he(0,l.$)],Q);var le=t(53641),E=t(15232),I=t(84144),A=t(94565),H=t(90535),Y=t(91691),X=function(Ye,qe,ht,kt){function zt(Ke){return Ke instanceof ht?Ke:new ht(function(Je){Je(Ke)})}return new(ht||(ht=Promise))(function(Ke,Je){function Ze(It){try{He(kt.next(It))}catch(Bt){Je(Bt)}}function Ae(It){try{He(kt.throw(It))}catch(Bt){Je(Bt)}}function He(It){It.done?Ke(It.value):zt(It.value).then(Ze,Ae)}He((kt=kt.apply(Ye,qe||[])).next())})},re,fe,ue,Oe,Ce,oe,ae,Be;I.BH.appendMenuItem(I.eH.EditorContext,{submenu:I.eH.EditorContextPeek,title:b.N("peek.submenu","Peek"),group:"navigation",order:100});const Ve=new Set;function se(Ye){const qe=new Ye;return(0,C.QG)(qe),Ve.add(qe.id),qe}class ce extends C.R6{constructor(qe,ht){super(ht),this._configuration=qe}run(qe,ht){if(!ht.hasModel())return Promise.resolve(void 0);const kt=qe.get(ie.lT),zt=qe.get(l.$),Ke=qe.get(H.e),Je=qe.get(V),Ze=ht.getModel(),Ae=ht.getPosition(),He=new N.Dl(ht,5),It=(0,k.eP)(this._getLocationModel(Ze,Ae,He.token),He.token).then(Bt=>X(this,void 0,void 0,function*(){if(!Bt||He.token.isCancellationRequested)return;(0,W.Z9)(Bt.ariaMessage);let oi;if(Bt.referenceAt(Ze.uri,Ae)){const hi=this._getAlternativeCommand(ht);hi!==this.id&&Ve.has(hi)&&(oi=ht.getAction(hi))}const ni=Bt.references.length;if(ni===0){if(!this._configuration.muteMessage){const hi=Ze.getWordAtPosition(Ae);le.O.get(ht).showMessage(this._getNoResultFoundMessage(hi),Ae)}}else if(ni===1&&oi)oi.run();else return this._onResult(zt,Je,ht,Bt)}),Bt=>{kt.error(Bt)}).finally(()=>{He.dispose()});return Ke.showWhile(It,250),It}_onResult(qe,ht,kt,zt){return X(this,void 0,void 0,function*(){const Ke=this._getGoToPreference(kt);if(!(kt instanceof m.H)&&(this._configuration.openInPeek||Ke==="peek"&&zt.references.length>1))this._openInPeek(kt,zt);else{const Je=zt.firstReference(),Ze=zt.references.length>1&&Ke==="gotoAndPeek",Ae=yield this._openReference(kt,qe,Je,this._configuration.openToSide,!Ze);Ze&&Ae?this._openInPeek(Ae,zt):zt.dispose(),Ke==="goto"&&ht.put(Je)}})}_openReference(qe,ht,kt,zt,Ke){return X(this,void 0,void 0,function*(){let Je;if((0,f.vx)(kt)&&(Je=kt.targetSelectionRange),Je||(Je=kt.range),!Je)return;const Ze=yield ht.openCodeEditor({resource:kt.uri,options:{selection:n.e.collapseToStart(Je),selectionRevealType:3}},qe,zt);if(Ze){if(Ke){const Ae=Ze.getModel(),He=Ze.deltaDecorations([],[{range:Je,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Ze.getModel()===Ae&&Ze.deltaDecorations(He,[])},350)}return Ze}})}_openInPeek(qe,ht){let kt=v.J.get(qe);kt&&qe.hasModel()?kt.toggleWidget(qe.getSelection(),(0,k.PG)(zt=>Promise.resolve(ht)),this._configuration.openInPeek):ht.dispose()}}class Te extends ce{_getLocationModel(qe,ht,kt){return X(this,void 0,void 0,function*(){return new d.oQ(yield(0,Y.nD)(qe,ht,kt),b.N("def.title","Definitions"))})}_getNoResultFoundMessage(qe){return qe&&qe.word?b.N("noResultWord","No definition found for '{0}'",qe.word):b.N("generic.noResults","No definition found")}_getAlternativeCommand(qe){return qe.getOption(50).alternativeDefinitionCommand}_getGoToPreference(qe){return qe.getOption(50).multipleDefinitions}}const xe=w.$L&&!h.$W?2118:70;se((re=class ya extends Te{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ya.id,label:b.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:L.Ao.and(p.u.hasDefinitionProvider,p.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:p.u.editorTextFocus,primary:xe,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),A.P.registerCommandAlias("editor.action.goToDeclaration",ya.id)}},re.id="editor.action.revealDefinition",re)),se((fe=class wa extends Te{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:wa.id,label:b.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:L.Ao.and(p.u.hasDefinitionProvider,p.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,O.gx)(2089,xe),weight:100}}),A.P.registerCommandAlias("editor.action.openDeclarationToTheSide",wa.id)}},fe.id="editor.action.revealDefinitionAside",fe)),se((ue=class La extends Te{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:La.id,label:b.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:L.Ao.and(p.u.hasDefinitionProvider,E.Jy.notInPeekEditor,p.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:p.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:I.eH.EditorContextPeek,group:"peek",order:2}}),A.P.registerCommandAlias("editor.action.previewDeclaration",La.id)}},ue.id="editor.action.peekDefinition",ue));class Fe extends ce{_getLocationModel(qe,ht,kt){return X(this,void 0,void 0,function*(){return new d.oQ(yield(0,Y.zq)(qe,ht,kt),b.N("decl.title","Declarations"))})}_getNoResultFoundMessage(qe){return qe&&qe.word?b.N("decl.noResultWord","No declaration found for '{0}'",qe.word):b.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(qe){return qe.getOption(50).alternativeDeclarationCommand}_getGoToPreference(qe){return qe.getOption(50).multipleDeclarations}}se((Oe=class wl extends Fe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:wl.id,label:b.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:L.Ao.and(p.u.hasDeclarationProvider,p.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(qe){return qe&&qe.word?b.N("decl.noResultWord","No declaration found for '{0}'",qe.word):b.N("decl.generic.noResults","No declaration found")}},Oe.id="editor.action.revealDeclaration",Oe)),se(class extends Fe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:b.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:L.Ao.and(p.u.hasDeclarationProvider,E.Jy.notInPeekEditor,p.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:I.eH.EditorContextPeek,group:"peek",order:3}})}});class Le extends ce{_getLocationModel(qe,ht,kt){return X(this,void 0,void 0,function*(){return new d.oQ(yield(0,Y.L3)(qe,ht,kt),b.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(qe){return qe&&qe.word?b.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",qe.word):b.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(qe){return qe.getOption(50).alternativeTypeDefinitionCommand}_getGoToPreference(qe){return qe.getOption(50).multipleTypeDefinitions}}se((Ce=class Ll extends Le{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Ll.ID,label:b.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:L.Ao.and(p.u.hasTypeDefinitionProvider,p.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:p.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},Ce.ID="editor.action.goToTypeDefinition",Ce)),se((oe=class Dl extends Le{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Dl.ID,label:b.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:L.Ao.and(p.u.hasTypeDefinitionProvider,E.Jy.notInPeekEditor,p.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:I.eH.EditorContextPeek,group:"peek",order:4}})}},oe.ID="editor.action.peekTypeDefinition",oe));class Me extends ce{_getLocationModel(qe,ht,kt){return X(this,void 0,void 0,function*(){return new d.oQ(yield(0,Y.f4)(qe,ht,kt),b.N("impl.title","Implementations"))})}_getNoResultFoundMessage(qe){return qe&&qe.word?b.N("goToImplementation.noResultWord","No implementation found for '{0}'",qe.word):b.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(qe){return qe.getOption(50).alternativeImplementationCommand}_getGoToPreference(qe){return qe.getOption(50).multipleImplementations}}se((ae=class El extends Me{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:El.ID,label:b.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:L.Ao.and(p.u.hasImplementationProvider,p.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:p.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},ae.ID="editor.action.goToImplementation",ae)),se((Be=class Il extends Me{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Il.ID,label:b.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:L.Ao.and(p.u.hasImplementationProvider,E.Jy.notInPeekEditor,p.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:p.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:I.eH.EditorContextPeek,group:"peek",order:5}})}},Be.ID="editor.action.peekImplementation",Be));class Se extends ce{_getNoResultFoundMessage(qe){return qe?b.N("references.no","No references found for '{0}'",qe.word):b.N("references.noGeneric","No references found")}_getAlternativeCommand(qe){return qe.getOption(50).alternativeReferenceCommand}_getGoToPreference(qe){return qe.getOption(50).multipleReferences}}se(class extends Se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:b.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:L.Ao.and(p.u.hasReferenceProvider,E.Jy.notInPeekEditor,p.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:p.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(qe,ht,kt){return X(this,void 0,void 0,function*(){return new d.oQ(yield(0,Y.aA)(qe,ht,!0,kt),b.N("ref.title","References"))})}}),se(class extends Se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:b.N("references.action.label","Peek References"),alias:"Peek References",precondition:L.Ao.and(p.u.hasReferenceProvider,E.Jy.notInPeekEditor,p.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:I.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(qe,ht,kt){return X(this,void 0,void 0,function*(){return new d.oQ(yield(0,Y.aA)(qe,ht,!1,kt),b.N("ref.title","References"))})}});class ze extends ce{constructor(qe,ht,kt){super(qe,{id:"editor.action.goToLocation",label:b.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:L.Ao.and(E.Jy.notInPeekEditor,p.u.isInWalkThroughSnippet.toNegated())}),this._references=ht,this._gotoMultipleBehaviour=kt}_getLocationModel(qe,ht,kt){return X(this,void 0,void 0,function*(){return new d.oQ(this._references,b.N("generic.title","Locations"))})}_getNoResultFoundMessage(qe){return qe&&b.N("generic.noResult","No results for '{0}'",qe.word)||""}_getGoToPreference(qe){var ht;return(ht=this._gotoMultipleBehaviour)!==null&&ht!==void 0?ht:qe.getOption(50).multipleReferences}_getAlternativeCommand(){return""}}A.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:x.o},{name:"position",description:"The position at which to start",constraint:y.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(Ye,qe,ht,kt,zt,Ke,Je)=>X(void 0,void 0,void 0,function*(){(0,G.p_)(x.o.isUri(qe)),(0,G.p_)(y.L.isIPosition(ht)),(0,G.p_)(Array.isArray(kt)),(0,G.p_)(typeof zt=="undefined"||typeof zt=="string"),(0,G.p_)(typeof Je=="undefined"||typeof Je=="boolean");const Ze=Ye.get(l.$),Ae=yield Ze.openCodeEditor({resource:qe},Ze.getFocusedCodeEditor());if((0,s.CL)(Ae))return Ae.setPosition(ht),Ae.revealPositionInCenterIfOutsideViewport(ht,0),Ae.invokeWithinContext(He=>{const It=new class extends ze{_getNoResultFoundMessage(Bt){return Ke||super._getNoResultFoundMessage(Bt)}}({muteMessage:!Ke,openInPeek:!!Je,openToSide:!1},kt,zt);He.get(T.TG).invokeFunction(It.run.bind(It),Ae)})})}),A.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:x.o},{name:"position",description:"The position at which to start",constraint:y.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(Ye,qe,ht,kt,zt)=>X(void 0,void 0,void 0,function*(){Ye.get(A.H).executeCommand("editor.action.goToLocations",qe,ht,kt,zt,void 0,!0)})}),A.P.registerCommand({id:"editor.action.findReferences",handler:(Ye,qe,ht)=>{(0,G.p_)(x.o.isUri(qe)),(0,G.p_)(y.L.isIPosition(ht));const kt=Ye.get(l.$);return kt.openCodeEditor({resource:qe},kt.getFocusedCodeEditor()).then(zt=>{if(!(0,s.CL)(zt)||!zt.hasModel())return;const Ke=v.J.get(zt);if(!Ke)return;const Je=(0,k.PG)(Ae=>(0,Y.aA)(zt.getModel(),y.L.lift(ht),!1,Ae).then(He=>new d.oQ(He,b.N("ref.title","References")))),Ze=new n.e(ht.lineNumber,ht.column,ht.lineNumber,ht.column);return Promise.resolve(Ke.toggleWidget(Ze,Je,!1))})}}),A.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),I.BH.appendMenuItems([{id:I.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:b.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:I.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:b.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:I.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:b.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:I.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:b.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:I.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:b.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},91691:function(Ct,we,t){"use strict";t.d(we,{L3:function(){return l},aA:function(){return m},f4:function(){return C},nD:function(){return N},zq:function(){return s}});var h=t(71050),W=t(17301),k=t(16830),O=t(60303),w=t(71455),G=function(n,p,f,v){function d(a){return a instanceof f?a:new f(function(u){u(a)})}return new(f||(f=Promise))(function(a,u){function c(R){try{L(v.next(R))}catch(T){u(T)}}function b(R){try{L(v.throw(R))}catch(T){u(T)}}function L(R){R.done?a(R.value):d(R.value).then(c,b)}L((v=v.apply(n,p||[])).next())})};function x(n,p,f,v){const a=f.ordered(n).map(u=>Promise.resolve(v(u,n,p)).then(void 0,c=>{(0,W.Cp)(c)}));return Promise.all(a).then(u=>{const c=[];for(let b of u)Array.isArray(b)?c.push(...b):b&&c.push(b);return c})}function N(n,p,f){return x(n,p,O.Ct,(v,d,a)=>v.provideDefinition(d,a,f))}function s(n,p,f){return x(n,p,O.RN,(v,d,a)=>v.provideDeclaration(d,a,f))}function C(n,p,f){return x(n,p,O.vI,(v,d,a)=>v.provideImplementation(d,a,f))}function l(n,p,f){return x(n,p,O.tA,(v,d,a)=>v.provideTypeDefinition(d,a,f))}function m(n,p,f,v){return x(n,p,O.FL,(d,a,u)=>G(this,void 0,void 0,function*(){const c=yield d.provideReferences(a,u,{includeDeclaration:!0},v);if(!f||!c||c.length!==2)return c;const b=yield d.provideReferences(a,u,{includeDeclaration:!1},v);return b&&b.length===1?b:c}))}function y(n){return G(this,void 0,void 0,function*(){const p=yield n(),f=new w.oQ(p,""),v=f.references.map(d=>d.link);return f.dispose(),v})}(0,k.sb)("_executeDefinitionProvider",(n,p)=>y(()=>N(n,p,h.T.None))),(0,k.sb)("_executeDeclarationProvider",(n,p)=>y(()=>s(n,p,h.T.None))),(0,k.sb)("_executeImplementationProvider",(n,p)=>y(()=>C(n,p,h.T.None))),(0,k.sb)("_executeTypeDefinitionProvider",(n,p)=>y(()=>l(n,p,h.T.None))),(0,k.sb)("_executeReferenceProvider",(n,p)=>y(()=>m(n,p,!1,h.T.None)))},69241:function(Ct,we,t){"use strict";t.d(we,{yN:function(){return s}});var h=t(4669),W=t(9917),k=t(1432);function O(C,l){return!!C[l]}class w{constructor(l,m){this.target=l.target,this.hasTriggerModifier=O(l.event,m.triggerModifier),this.hasSideBySideModifier=O(l.event,m.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=l.event.detail<=1}}class G{constructor(l,m){this.keyCodeIsTriggerKey=l.keyCode===m.triggerKey,this.keyCodeIsSideBySideKey=l.keyCode===m.triggerSideBySideKey,this.hasTriggerModifier=O(l,m.triggerModifier)}}class x{constructor(l,m,y,n){this.triggerKey=l,this.triggerModifier=m,this.triggerSideBySideKey=y,this.triggerSideBySideModifier=n}equals(l){return this.triggerKey===l.triggerKey&&this.triggerModifier===l.triggerModifier&&this.triggerSideBySideKey===l.triggerSideBySideKey&&this.triggerSideBySideModifier===l.triggerSideBySideModifier}}function N(C){return C==="altKey"?k.dz?new x(57,"metaKey",6,"altKey"):new x(5,"ctrlKey",6,"altKey"):k.dz?new x(6,"altKey",57,"metaKey"):new x(6,"altKey",5,"ctrlKey")}class s extends W.JT{constructor(l){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new h.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new h.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new h.Q5),this.onCancel=this._onCancel.event,this._editor=l,this._opts=N(this._editor.getOption(69)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(m=>{if(m.hasChanged(69)){const y=N(this._editor.getOption(69));if(this._opts.equals(y))return;this._opts=y,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(m=>this._onEditorMouseMove(new w(m,this._opts)))),this._register(this._editor.onMouseDown(m=>this._onEditorMouseDown(new w(m,this._opts)))),this._register(this._editor.onMouseUp(m=>this._onEditorMouseUp(new w(m,this._opts)))),this._register(this._editor.onKeyDown(m=>this._onEditorKeyDown(new G(m,this._opts)))),this._register(this._editor.onKeyUp(m=>this._onEditorKeyUp(new G(m,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(m=>this._onDidChangeCursorSelection(m))),this._register(this._editor.onDidChangeModel(m=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(m=>{(m.scrollTopChanged||m.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(l){l.selection&&l.selection.startColumn!==l.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(l){this._lastMouseMoveEvent=l,this._onMouseMoveOrRelevantKeyDown.fire([l,null])}_onEditorMouseDown(l){this._hasTriggerKeyOnMouseDown=l.hasTriggerModifier,this._lineNumberOnMouseDown=l.target.position?l.target.position.lineNumber:0}_onEditorMouseUp(l){const m=l.target.position?l.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===m&&this._onExecute.fire(l)}_onEditorKeyDown(l){this._lastMouseMoveEvent&&(l.keyCodeIsTriggerKey||l.keyCodeIsSideBySideKey&&l.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,l]):l.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(l){l.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},20926:function(Ct,we,t){"use strict";t.r(we),t.d(we,{GotoDefinitionAtPositionEditorContribution:function(){return L}});var h=t(15393),W=t(17301),k=t(59365),O=t(9917),w=t(98401),G=t(55812),x=t(16830),N=t(50187),s=t(24314),C=t(60303),l=t(71531),m=t(88216),y=t(69241),n=t(15232),p=t(63580),f=t(38819),v=t(73910),d=t(97781),a=t(2765),u=t(91691),c=function(R,T,j,q){var ie=arguments.length,ne=ie<3?T:q===null?q=Object.getOwnPropertyDescriptor(T,j):q,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(R,T,j,q);else for(var $=R.length-1;$>=0;$--)(he=R[$])&&(ne=(ie<3?he(ne):ie>3?he(T,j,ne):he(T,j))||ne);return ie>3&&ne&&Object.defineProperty(T,j,ne),ne},b=function(R,T){return function(j,q){T(j,q,R)}};let L=class qo{constructor(T,j,q){this.textModelResolverService=j,this.modeService=q,this.toUnhook=new O.SL,this.toUnhookForKeyboard=new O.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=T;let ie=new y.yN(T);this.toUnhook.add(ie),this.toUnhook.add(ie.onMouseMoveOrRelevantKeyDown(([ne,he])=>{this.startFindDefinitionFromMouse(ne,(0,w.f6)(he))})),this.toUnhook.add(ie.onExecute(ne=>{this.isEnabled(ne)&&this.gotoDefinition(ne.target.position,ne.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},he=>{this.removeLinkDecorations(),(0,W.dL)(he)})})),this.toUnhook.add(ie.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(T){return T.getContribution(qo.ID)}startFindDefinitionFromCursor(T){return this.startFindDefinition(T).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(j=>{j&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(T,j){if(T.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(T,j)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const q=T.target.position;this.startFindDefinition(q)}startFindDefinition(T){var j;this.toUnhookForKeyboard.clear();const q=T?(j=this.editor.getModel())===null||j===void 0?void 0:j.getWordAtPosition(T):null;if(!q)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===q.startColumn&&this.currentWordAtPosition.endColumn===q.endColumn&&this.currentWordAtPosition.word===q.word)return Promise.resolve(0);this.currentWordAtPosition=q;let ie=new G.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,h.PG)(ne=>this.findDefinition(T,ne)),this.previousPromise.then(ne=>{if(!ne||!ne.length||!ie.validate(this.editor)){this.removeLinkDecorations();return}if(ne.length>1)this.addDecoration(new s.e(T.lineNumber,q.startColumn,T.lineNumber,q.endColumn),new k.W5().appendText(p.N("multipleResults","Click to show {0} definitions.",ne.length)));else{let he=ne[0];if(!he.uri)return;this.textModelResolverService.createModelReference(he.uri).then($=>{if(!$.object||!$.object.textEditorModel){$.dispose();return}const{object:{textEditorModel:V}}=$,{startLineNumber:z}=he.range;if(z<1||z>V.getLineCount()){$.dispose();return}const Q=this.getPreviewValue(V,z,he);let le;he.originSelectionRange?le=s.e.lift(he.originSelectionRange):le=new s.e(T.lineNumber,q.startColumn,T.lineNumber,q.endColumn);const E=this.modeService.getModeIdByFilepathOrFirstLine(V.uri);this.addDecoration(le,new k.W5().appendCodeblock(E||"",Q)),$.dispose()})}}).then(void 0,W.dL)}getPreviewValue(T,j,q){let ie=q.targetSelectionRange?q.range:this.getPreviewRangeBasedOnBrackets(T,j);return ie.endLineNumber-ie.startLineNumber>=qo.MAX_SOURCE_PREVIEW_LINES&&(ie=this.getPreviewRangeBasedOnIndentation(T,j)),this.stripIndentationFromPreviewRange(T,j,ie)}stripIndentationFromPreviewRange(T,j,q){let ne=T.getLineFirstNonWhitespaceColumn(j);for(let $=j+1;$<q.endLineNumber;$++){const V=T.getLineFirstNonWhitespaceColumn($);ne=Math.min(ne,V)}return T.getValueInRange(q).replace(new RegExp(`^\\s{${ne-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(T,j){const q=T.getLineFirstNonWhitespaceColumn(j),ie=Math.min(T.getLineCount(),j+qo.MAX_SOURCE_PREVIEW_LINES);let ne=j+1;for(;ne<ie;ne++){let he=T.getLineFirstNonWhitespaceColumn(ne);if(q===he)break}return new s.e(j,1,ne+1,1)}getPreviewRangeBasedOnBrackets(T,j){const q=Math.min(T.getLineCount(),j+qo.MAX_SOURCE_PREVIEW_LINES),ie=[];let ne=!0,he=T.findNextBracket(new N.L(j,1));for(;he!==null;){if(ie.length===0)ie.push(he);else{const Q=ie[ie.length-1];if(Q.open[0]===he.open[0]&&Q.isOpen&&!he.isOpen?ie.pop():ie.push(he),ie.length===0)if(ne)ne=!1;else return new s.e(j,1,he.range.endLineNumber+1,1)}const $=T.getLineMaxColumn(j);let V=he.range.endLineNumber,z=he.range.endColumn;if($===he.range.endColumn&&(V++,z=1),V>q)return new s.e(j,1,q+1,1);he=T.findNextBracket(new N.L(V,z))}return new s.e(j,1,q+1,1)}addDecoration(T,j){const q={range:T,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:j}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[q])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(T,j){return this.editor.hasModel()&&T.isNoneOrSingleMouseDown&&T.target.type===6&&(T.hasTriggerModifier||(j?j.keyCodeIsTriggerKey:!1))&&C.Ct.has(this.editor.getModel())}findDefinition(T,j){const q=this.editor.getModel();return q?(0,u.nD)(q,T,j):Promise.resolve(null)}gotoDefinition(T,j){return this.editor.setPosition(T),this.editor.invokeWithinContext(q=>{const ie=!j&&this.editor.getOption(77)&&!this.isInPeekEditor(q);return new a.DefinitionAction({openToSide:j,openInPeek:ie,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(q,this.editor)})}isInPeekEditor(T){const j=T.get(f.i6);return n.Jy.inPeekEditor.getValue(j)}dispose(){this.toUnhook.dispose()}};L.ID="editor.contrib.gotodefinitionatposition",L.MAX_SOURCE_PREVIEW_LINES=8,L=c([b(1,m.S),b(2,l.h)],L),(0,x._K)(L.ID,L),(0,d.Ic)((R,T)=>{const j=R.getColor(v._Y);j&&T.addRule(`.monaco-editor .goto-definition-link { color: ${j} !important; }`)})},86511:function(Ct,we,t){"use strict";t.d(we,{J:function(){return kt}});var h=t(15393),W=t(17301),k=t(22258),O=t(9917),w=t(11640),G=t(50187),x=t(24314),N=t(15232),s=t(63580),C=t(94565),l=t(33108),m=t(38819),y=t(72065),n=t(49989),p=t(2520),f=t(59422),v=t(87060),d=t(71455),a=t(65321),u=t(33225),c=t(41264),b=t(4669),L=t(66663),R=t(95935),T=t(84527),j=t(24979),q=t(94660),ie=t(71531),ne=t(88216),he=t(85207),$=t(34650),V=t(26974),z=t(75392),Q=t(68843),le=t(91847),E=t(44349),I=t(88810),A=t(97781),H=function(Ke,Je,Ze,Ae){var He=arguments.length,It=He<3?Je:Ae===null?Ae=Object.getOwnPropertyDescriptor(Je,Ze):Ae,Bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")It=Reflect.decorate(Ke,Je,Ze,Ae);else for(var oi=Ke.length-1;oi>=0;oi--)(Bt=Ke[oi])&&(It=(He<3?Bt(It):He>3?Bt(Je,Ze,It):Bt(Je,Ze))||It);return He>3&&It&&Object.defineProperty(Je,Ze,It),It},Y=function(Ke,Je){return function(Ze,Ae){Je(Ze,Ae,Ke)}};let X=class{constructor(Je){this._resolverService=Je}hasChildren(Je){return Je instanceof d.oQ||Je instanceof d.F2}getChildren(Je){if(Je instanceof d.oQ)return Je.groups;if(Je instanceof d.F2)return Je.resolve(this._resolverService).then(Ze=>Ze.children);throw new Error("bad tree")}};X=H([Y(0,ne.S)],X);class re{getHeight(){return 23}getTemplateId(Je){return Je instanceof d.F2?Ce.id:ae.id}}let fe=class{constructor(Je){this._keybindingService=Je}getKeyboardNavigationLabel(Je){var Ze;if(Je instanceof d.WX){const Ae=(Ze=Je.parent.getPreview(Je))===null||Ze===void 0?void 0:Ze.preview(Je.range);if(Ae)return Ae.value}return(0,R.EZ)(Je.uri)}};fe=H([Y(0,le.d)],fe);class ue{getId(Je){return Je instanceof d.WX?Je.id:Je.uri}}let Oe=class extends O.JT{constructor(Je,Ze,Ae){super(),this._uriLabel=Ze;const He=document.createElement("div");He.classList.add("reference-file"),this.file=this._register(new V.g(He,{supportHighlights:!0})),this.badge=new he.Z(a.R3(He,a.$(".count"))),this._register((0,I.WZ)(this.badge,Ae)),Je.appendChild(He)}set(Je,Ze){let Ae=(0,R.XX)(Je.uri);this.file.setLabel((0,Q.p)(Je.uri),this._uriLabel.getUriLabel(Ae,{relative:!0}),{title:this._uriLabel.getUriLabel(Je.uri),matches:Ze});const He=Je.children.length;this.badge.setCount(He),He>1?this.badge.setTitleFormat((0,s.N)("referencesCount","{0} references",He)):this.badge.setTitleFormat((0,s.N)("referenceCount","{0} reference",He))}};Oe=H([Y(1,E.e),Y(2,A.XE)],Oe);let Ce=class Nl{constructor(Je){this._instantiationService=Je,this.templateId=Nl.id}renderTemplate(Je){return this._instantiationService.createInstance(Oe,Je)}renderElement(Je,Ze,Ae){Ae.set(Je.element,(0,z.mB)(Je.filterData))}disposeTemplate(Je){Je.dispose()}};Ce.id="FileReferencesRenderer",Ce=H([Y(0,y.TG)],Ce);class oe{constructor(Je){this.label=new $.q(Je,!1)}set(Je,Ze){var Ae;const He=(Ae=Je.parent.getPreview(Je))===null||Ae===void 0?void 0:Ae.preview(Je.range);if(!He||!He.value)this.label.set(`${(0,R.EZ)(Je.uri)}:${Je.range.startLineNumber+1}:${Je.range.startColumn+1}`);else{const{value:It,highlight:Bt}=He;Ze&&!z.CL.isDefault(Ze)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(It,(0,z.mB)(Ze))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(It,[Bt]))}}}class ae{constructor(){this.templateId=ae.id}renderTemplate(Je){return new oe(Je)}renderElement(Je,Ze,Ae){Ae.set(Je.element,Je.filterData)}disposeTemplate(){}}ae.id="OneReferenceRenderer";class Be{getWidgetAriaLabel(){return(0,s.N)("treeAriaLabel","References")}getAriaLabel(Je){return Je.ariaMessage}}var Ve=t(73910),se=t(64862),ce=function(Ke,Je,Ze,Ae){var He=arguments.length,It=He<3?Je:Ae===null?Ae=Object.getOwnPropertyDescriptor(Je,Ze):Ae,Bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")It=Reflect.decorate(Ke,Je,Ze,Ae);else for(var oi=Ke.length-1;oi>=0;oi--)(Bt=Ke[oi])&&(It=(He<3?Bt(It):He>3?Bt(Je,Ze,It):Bt(Je,Ze))||It);return He>3&&It&&Object.defineProperty(Je,Ze,It),It},Te=function(Ke,Je){return function(Ze,Ae){Je(Ze,Ae,Ke)}},xe=function(Ke,Je,Ze,Ae){function He(It){return It instanceof Ze?It:new Ze(function(Bt){Bt(It)})}return new(Ze||(Ze=Promise))(function(It,Bt){function oi(Di){try{hi(Ae.next(Di))}catch(Ti){Bt(Ti)}}function ni(Di){try{hi(Ae.throw(Di))}catch(Ti){Bt(Ti)}}function hi(Di){Di.done?It(Di.value):He(Di.value).then(oi,ni)}hi((Ae=Ae.apply(Ke,Je||[])).next())})};class Fe{constructor(Je,Ze){this._editor=Je,this._model=Ze,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new O.SL,this._callOnModelChange=new O.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const Je=this._editor.getModel();if(Je){for(let Ze of this._model.references)if(Ze.uri.toString()===Je.uri.toString()){this._addDecorations(Ze.parent);return}}}_addDecorations(Je){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const Ze=[],Ae=[];for(let It=0,Bt=Je.children.length;It<Bt;It++){let oi=Je.children[It];this._decorationIgnoreSet.has(oi.id)||oi.uri.toString()===this._editor.getModel().uri.toString()&&(Ze.push({range:oi.range,options:Fe.DecorationOptions}),Ae.push(It))}const He=this._editor.deltaDecorations([],Ze);for(let It=0;It<He.length;It++)this._decorations.set(He[It],Je.children[Ae[It]])}_onDecorationChanged(){const Je=[],Ze=this._editor.getModel();if(Ze){for(let[Ae,He]of this._decorations){const It=Ze.getDecorationRange(Ae);if(!It)continue;let Bt=!1;if(!x.e.equalsRange(It,He.range)){if(x.e.spansMultipleLines(It))Bt=!0;else{const oi=He.range.endColumn-He.range.startColumn,ni=It.endColumn-It.startColumn;oi!==ni&&(Bt=!0)}Bt?(this._decorationIgnoreSet.add(He.id),Je.push(Ae)):He.range=It}}for(let Ae=0,He=Je.length;Ae<He;Ae++)this._decorations.delete(Je[Ae]);this._editor.deltaDecorations(Je,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Fe.DecorationOptions=j.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Le{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(Je){let Ze,Ae;try{const He=JSON.parse(Je);Ze=He.ratio,Ae=He.heightInLines}catch(He){}return{ratio:Ze||.7,heightInLines:Ae||18}}}class Me extends p.ls{}let Se=class extends N.vk{constructor(Je,Ze,Ae,He,It,Bt,oi,ni,hi,Di,Ti,Ii){super(Je,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Bt),this._defaultTreeKeyboardSupport=Ze,this.layoutData=Ae,this._textModelResolverService=It,this._instantiationService=Bt,this._peekViewService=oi,this._uriLabel=ni,this._undoRedoService=hi,this._keybindingService=Di,this._modeService=Ti,this._languageConfigurationService=Ii,this._disposeOnNewModel=new O.SL,this._callOnDispose=new O.SL,this._onDidSelectReference=new b.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new a.Ro(0,0),this._applyTheme(He.getColorTheme()),this._callOnDispose.add(He.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(Je,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,O.B9)(this._preview),(0,O.B9)(this._previewNotAvailableMessage),(0,O.B9)(this._tree),(0,O.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(Je){const Ze=Je.getColor(N.SC)||c.Il.transparent;this.style({arrowColor:Ze,frameColor:Ze,headerBackgroundColor:Je.getColor(N.KY)||c.Il.transparent,primaryHeadingColor:Je.getColor(N.IH),secondaryHeadingColor:Je.getColor(N.R7)})}show(Je){this.editor.revealRangeInCenterIfOutsideViewport(Je,0),super.show(Je,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(Je){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:Je.ctrlKey||Je.metaKey||Je.altKey?"side":"open",source:"title"})}_fillBody(Je){this.setCssClass("reference-zone-widget"),this._messageContainer=a.R3(Je,a.$("div.messages")),a.Cp(this._messageContainer),this._splitView=new u.z(Je,{orientation:1}),this._previewContainer=a.R3(Je,a.$("div.preview.inline"));let Ze={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(T.H,this._previewContainer,Ze,this.editor),a.Cp(this._previewContainer),this._previewNotAvailableMessage=new j.yO(s.N("missingPreviewMessage","no preview available"),j.yO.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService,this._modeService,this._languageConfigurationService),this._treeContainer=a.R3(Je,a.$("div.ref-tree.inline"));const Ae={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Be,keyboardNavigationLabelProvider:this._instantiationService.createInstance(fe),identityProvider:new ue,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:N.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(a.mu(this._treeContainer,"keydown",It=>{It.equals(9)&&(this._keybindingService.dispatchEvent(It,It.target),It.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Me,"ReferencesWidget",this._treeContainer,new re,[this._instantiationService.createInstance(Ce),this._instantiationService.createInstance(ae)],this._instantiationService.createInstance(X),Ae),this._splitView.addView({onDidChange:b.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:It=>{this._preview.layout({height:this._dim.height,width:It})}},u.M.Distribute),this._splitView.addView({onDidChange:b.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:It=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${It}px`,this._tree.layout(this._dim.height,It)}},u.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let He=(It,Bt)=>{It instanceof d.WX&&(Bt==="show"&&this._revealReference(It,!1),this._onDidSelectReference.fire({element:It,kind:Bt,source:"tree"}))};this._tree.onDidOpen(It=>{It.sideBySide?He(It.element,"side"):It.editorOptions.pinned?He(It.element,"goto"):He(It.element,"show")}),a.Cp(this._treeContainer)}_onWidth(Je){this._dim&&this._doLayoutBody(this._dim.height,Je)}_doLayoutBody(Je,Ze){super._doLayoutBody(Je,Ze),this._dim=new a.Ro(Ze,Je),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(Ze),this._splitView.resizeView(0,Ze*this.layoutData.ratio)}setSelection(Je){return this._revealReference(Je,!0).then(()=>{this._model&&(this._tree.setSelection([Je]),this._tree.setFocus([Je]))})}setModel(Je){return this._disposeOnNewModel.clear(),this._model=Je,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=s.N("noResults","No results"),a.$Z(this._messageContainer),Promise.resolve(void 0)):(a.Cp(this._messageContainer),this._decorationsManager=new Fe(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(Je=>this._tree.rerender(Je))),this._disposeOnNewModel.add(this._preview.onMouseDown(Je=>{const{event:Ze,target:Ae}=Je;if(Ze.detail!==2)return;const He=this._getFocusedReference();He&&this._onDidSelectReference.fire({element:{uri:He.uri,range:Ae.range},kind:Ze.ctrlKey||Ze.metaKey||Ze.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),a.$Z(this._treeContainer),a.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[Je]=this._tree.getFocus();if(Je instanceof d.WX)return Je;if(Je instanceof d.F2&&Je.children.length>0)return Je.children[0]}revealReference(Je){return xe(this,void 0,void 0,function*(){yield this._revealReference(Je,!1),this._onDidSelectReference.fire({element:Je,kind:"goto",source:"tree"})})}_revealReference(Je,Ze){return xe(this,void 0,void 0,function*(){if(this._revealedReference===Je)return;this._revealedReference=Je,Je.uri.scheme!==L.lg.inMemory?this.setTitle((0,R.Hx)(Je.uri),this._uriLabel.getUriLabel((0,R.XX)(Je.uri))):this.setTitle(s.N("peekView.alternateTitle","References"));const Ae=this._textModelResolverService.createModelReference(Je.uri);this._tree.getInput()===Je.parent?this._tree.reveal(Je):(Ze&&this._tree.reveal(Je.parent),yield this._tree.expand(Je.parent),this._tree.reveal(Je));const He=yield Ae;if(!this._model){He.dispose();return}(0,O.B9)(this._previewModelReference);const It=He.object;if(It){const Bt=this._preview.getModel()===It.textEditorModel?0:1,oi=x.e.lift(Je.range).collapseToStart();this._previewModelReference=He,this._preview.setModel(It.textEditorModel),this._preview.setSelection(oi),this._preview.revealRangeInCenter(oi,Bt)}else this._preview.setModel(this._previewNotAvailableMessage),He.dispose()})}};Se=ce([Te(3,A.XE),Te(4,ne.S),Te(5,y.TG),Te(6,N.Fw),Te(7,E.e),Te(8,se.tJ),Te(9,le.d),Te(10,ie.h),Te(11,q.c_)],Se),(0,A.Ic)((Ke,Je)=>{const Ze=Ke.getColor(N.F8);Ze&&Je.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${Ze}; }`);const Ae=Ke.getColor(N.WL);Ae&&Je.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${Ae}; }`);const He=Ke.getColor(N.xH);He&&Je.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${He}; box-sizing: border-box; }`);const It=Ke.getColor(Ve.xL);It&&Je.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${It}; box-sizing: border-box; }`);const Bt=Ke.getColor(N.M8);Bt&&Je.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${Bt}; }`);const oi=Ke.getColor(N.xk);oi&&Je.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${oi}; }`);const ni=Ke.getColor(N.a7);ni&&Je.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${ni}; }`);const hi=Ke.getColor(N.Zj);hi&&Je.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${hi}; }`);const Di=Ke.getColor(N.IY);Di&&Je.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${Di} !important; }`);const Ti=Ke.getColor(N.RX);Ti&&Je.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${Ti};}`);const Ii=Ke.getColor(N.sH);Ii&&Je.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${Ii};}`)});var ze=function(Ke,Je,Ze,Ae){var He=arguments.length,It=He<3?Je:Ae===null?Ae=Object.getOwnPropertyDescriptor(Je,Ze):Ae,Bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")It=Reflect.decorate(Ke,Je,Ze,Ae);else for(var oi=Ke.length-1;oi>=0;oi--)(Bt=Ke[oi])&&(It=(He<3?Bt(It):He>3?Bt(Je,Ze,It):Bt(Je,Ze))||It);return He>3&&It&&Object.defineProperty(Je,Ze,It),It},Ye=function(Ke,Je){return function(Ze,Ae){Je(Ze,Ae,Ke)}},qe=function(Ke,Je,Ze,Ae){function He(It){return It instanceof Ze?It:new Ze(function(Bt){Bt(It)})}return new(Ze||(Ze=Promise))(function(It,Bt){function oi(Di){try{hi(Ae.next(Di))}catch(Ti){Bt(Ti)}}function ni(Di){try{hi(Ae.throw(Di))}catch(Ti){Bt(Ti)}}function hi(Di){Di.done?It(Di.value):He(Di.value).then(oi,ni)}hi((Ae=Ae.apply(Ke,Je||[])).next())})};const ht=new m.uy("referenceSearchVisible",!1,s.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let kt=class Da{constructor(Je,Ze,Ae,He,It,Bt,oi,ni){this._defaultTreeKeyboardSupport=Je,this._editor=Ze,this._editorService=He,this._notificationService=It,this._instantiationService=Bt,this._storageService=oi,this._configurationService=ni,this._disposables=new O.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ht.bindTo(Ae)}static get(Je){return Je.getContribution(Da.ID)}dispose(){var Je,Ze;this._referenceSearchVisible.reset(),this._disposables.dispose(),(Je=this._widget)===null||Je===void 0||Je.dispose(),(Ze=this._model)===null||Ze===void 0||Ze.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(Je,Ze,Ae){let He;if(this._widget&&(He=this._widget.position),this.closeWidget(),He&&Je.containsPosition(He))return;this._peekMode=Ae,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const It="peekViewLayout",Bt=Le.fromJSON(this._storageService.get(It,0,"{}"));this._widget=this._instantiationService.createInstance(Se,this._editor,this._defaultTreeKeyboardSupport,Bt),this._widget.setTitle(s.N("labelLoading","Loading...")),this._widget.show(Je),this._disposables.add(this._widget.onDidClose(()=>{Ze.cancel(),this._widget&&(this._storageService.store(It,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(ni=>{let{element:hi,kind:Di}=ni;if(hi)switch(Di){case"open":(ni.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(hi,!1,!1);break;case"side":this.openReference(hi,!0,!1);break;case"goto":Ae?this._gotoReference(hi):this.openReference(hi,!1,!0);break}}));const oi=++this._requestIdPool;Ze.then(ni=>{var hi;if(oi!==this._requestIdPool||!this._widget){ni.dispose();return}return(hi=this._model)===null||hi===void 0||hi.dispose(),this._model=ni,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(s.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let Di=this._editor.getModel().uri,Ti=new G.L(Je.startLineNumber,Je.startColumn),Ii=this._model.nearestReference(Di,Ti);if(Ii)return this._widget.setSelection(Ii).then(()=>{this._widget&&this._editor.getOption(76)==="editor"&&this._widget.focusOnPreviewEditor()})}})},ni=>{this._notificationService.error(ni)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(Je){return qe(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const Ze=this._widget.position;if(!Ze)return;const Ae=this._model.nearestReference(this._editor.getModel().uri,Ze);if(!Ae)return;const He=this._model.nextOrPreviousReference(Ae,Je),It=this._editor.hasTextFocus(),Bt=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(He),yield this._gotoReference(He),It?this._editor.focus():this._widget&&Bt&&this._widget.focusOnPreviewEditor()})}revealReference(Je){return qe(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(Je))})}closeWidget(Je=!0){var Ze,Ae;(Ze=this._widget)===null||Ze===void 0||Ze.dispose(),(Ae=this._model)===null||Ae===void 0||Ae.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,Je&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(Je){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const Ze=x.e.lift(Je.range).collapseToStart();return this._editorService.openCodeEditor({resource:Je.uri,options:{selection:Ze}},this._editor).then(Ae=>{var He;if(this._ignoreModelChangeEvent=!1,!Ae||!this._widget){this.closeWidget();return}if(this._editor===Ae)this._widget.show(Ze),this._widget.focusOnReferenceTree();else{const It=Da.get(Ae),Bt=this._model.clone();this.closeWidget(),Ae.focus(),It.toggleWidget(Ze,(0,h.PG)(oi=>Promise.resolve(Bt)),(He=this._peekMode)!==null&&He!==void 0?He:!1)}},Ae=>{this._ignoreModelChangeEvent=!1,(0,W.dL)(Ae)})}openReference(Je,Ze,Ae){Ze||this.closeWidget();const{uri:He,range:It}=Je;this._editorService.openCodeEditor({resource:He,options:{selection:It,pinned:Ae}},this._editor,Ze)}};kt.ID="editor.contrib.referencesController",kt=ze([Ye(2,m.i6),Ye(3,w.$),Ye(4,f.lT),Ye(5,y.TG),Ye(6,v.Uy),Ye(7,l.Ui)],kt);function zt(Ke,Je){const Ze=(0,N.rc)(Ke);if(!Ze)return;let Ae=kt.get(Ze);Ae&&Je(Ae)}n.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,k.gx)(2089,60),when:m.Ao.or(ht,N.Jy.inPeekEditor),handler(Ke){zt(Ke,Je=>{Je.changeFocusBetweenPreviewAndReferences()})}}),n.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:m.Ao.or(ht,N.Jy.inPeekEditor),handler(Ke){zt(Ke,Je=>{Je.goToNextOrPreviousReference(!0)})}}),n.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:m.Ao.or(ht,N.Jy.inPeekEditor),handler(Ke){zt(Ke,Je=>{Je.goToNextOrPreviousReference(!1)})}}),C.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),C.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),C.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),C.P.registerCommand("closeReferenceSearch",Ke=>zt(Ke,Je=>Je.closeWidget())),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:m.Ao.and(N.Jy.inPeekEditor,m.Ao.not("config.editor.stablePeek"))}),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:m.Ao.and(ht,m.Ao.not("config.editor.stablePeek"))}),n.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:m.Ao.and(ht,p.CQ),handler(Ke){var Je;const Ae=(Je=Ke.get(p.Lw).lastFocusedList)===null||Je===void 0?void 0:Je.getFocus();Array.isArray(Ae)&&Ae[0]instanceof d.WX&&zt(Ke,He=>He.revealReference(Ae[0]))}}),n.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:m.Ao.and(ht,p.CQ),handler(Ke){var Je;const Ae=(Je=Ke.get(p.Lw).lastFocusedList)===null||Je===void 0?void 0:Je.getFocus();Array.isArray(Ae)&&Ae[0]instanceof d.WX&&zt(Ke,He=>He.openReference(Ae[0],!0,!0))}}),C.P.registerCommand("openReference",Ke=>{var Je;const Ae=(Je=Ke.get(p.Lw).lastFocusedList)===null||Je===void 0?void 0:Je.getFocus();Array.isArray(Ae)&&Ae[0]instanceof d.WX&&zt(Ke,He=>He.openReference(Ae[0],!1,!0))})},71455:function(Ct,we,t){"use strict";t.d(we,{F2:function(){return y},WX:function(){return l},oQ:function(){return n}});var h=t(17301),W=t(4669),k=t(44742),O=t(9917),w=t(43702),G=t(95935),x=t(97295),N=t(24314),s=t(63580),C=function(p,f,v,d){function a(u){return u instanceof v?u:new v(function(c){c(u)})}return new(v||(v=Promise))(function(u,c){function b(T){try{R(d.next(T))}catch(j){c(j)}}function L(T){try{R(d.throw(T))}catch(j){c(j)}}function R(T){T.done?u(T.value):a(T.value).then(b,L)}R((d=d.apply(p,f||[])).next())})};class l{constructor(f,v,d,a){this.isProviderFirst=f,this.parent=v,this.link=d,this._rangeCallback=a,this.id=k.a.nextId()}get uri(){return this.link.uri}get range(){var f,v;return(v=(f=this._range)!==null&&f!==void 0?f:this.link.targetSelectionRange)!==null&&v!==void 0?v:this.link.range}set range(f){this._range=f,this._rangeCallback(this)}get ariaMessage(){var f;const v=(f=this.parent.getPreview(this))===null||f===void 0?void 0:f.preview(this.range);return v?(0,s.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,G.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,v.value):(0,s.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,G.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class m{constructor(f){this._modelReference=f}dispose(){this._modelReference.dispose()}preview(f,v=8){const d=this._modelReference.object.textEditorModel;if(!d)return;const{startLineNumber:a,startColumn:u,endLineNumber:c,endColumn:b}=f,L=d.getWordUntilPosition({lineNumber:a,column:u-v}),R=new N.e(a,L.startColumn,a,u),T=new N.e(c,b,c,1073741824),j=d.getValueInRange(R).replace(/^\s+/,""),q=d.getValueInRange(f),ie=d.getValueInRange(T).replace(/\s+$/,"");return{value:j+q+ie,highlight:{start:j.length,end:j.length+q.length}}}}class y{constructor(f,v){this.parent=f,this.uri=v,this.children=[],this._previews=new w.Y9}dispose(){(0,O.B9)(this._previews.values()),this._previews.clear()}getPreview(f){return this._previews.get(f.uri)}get ariaMessage(){const f=this.children.length;return f===1?(0,s.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,G.EZ)(this.uri),this.uri.fsPath):(0,s.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",f,(0,G.EZ)(this.uri),this.uri.fsPath)}resolve(f){return C(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let v of this.children)if(!this._previews.has(v.uri))try{const d=yield f.createModelReference(v.uri);this._previews.set(v.uri,new m(d))}catch(d){(0,h.dL)(d)}return this})}}class n{constructor(f,v){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new W.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=f,this._title=v;const[d]=f;f.sort(n._compareReferences);let a;for(let u of f)if((!a||!G.SF.isEqual(a.uri,u.uri,!0))&&(a=new y(this,u.uri),this.groups.push(a)),a.children.length===0||n._compareReferences(u,a.children[a.children.length-1])!==0){const c=new l(d===u,a,u,b=>this._onDidChangeReferenceRange.fire(b));this.references.push(c),a.children.push(c)}}dispose(){(0,O.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,s.N)("aria.result.0","No results found"):this.references.length===1?(0,s.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,s.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,s.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(f,v){let{parent:d}=f,a=d.children.indexOf(f),u=d.children.length,c=d.parent.groups.length;return c===1||v&&a+1<u||!v&&a>0?(v?a=(a+1)%u:a=(a+u-1)%u,d.children[a]):(a=d.parent.groups.indexOf(d),v?(a=(a+1)%c,d.parent.groups[a].children[0]):(a=(a+c-1)%c,d.parent.groups[a].children[d.parent.groups[a].children.length-1]))}nearestReference(f,v){const d=this.references.map((a,u)=>({idx:u,prefixLen:x.Mh(a.uri.toString(),f.toString()),offsetDist:Math.abs(a.range.startLineNumber-v.lineNumber)*100+Math.abs(a.range.startColumn-v.column)})).sort((a,u)=>a.prefixLen>u.prefixLen?-1:a.prefixLen<u.prefixLen?1:a.offsetDist<u.offsetDist?-1:a.offsetDist>u.offsetDist?1:0)[0];if(d)return this.references[d.idx]}referenceAt(f,v){for(const d of this.references)if(d.uri.toString()===f.toString()&&N.e.containsPosition(d.range,v))return d}firstReference(){for(const f of this.references)if(f.isProviderFirst)return f;return this.references[0]}static _compareReferences(f,v){return G.SF.compare(f.uri,v.uri)||N.e.compareRangesUsingStarts(f.range,v.range)}}},33184:function(Ct,we,t){"use strict";t.r(we),t.d(we,{ModesHoverController:function(){return ut}});var h=t(22258),W=t(9917),k=t(16830),O=t(24314),w=t(29102),G=t(71531),x=t(20926),N=t(65321),s=t(13433);const C=N.$;class l extends W.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new s.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class m extends W.JT{constructor(J,pe,ke){super(),this.actionContainer=N.R3(J,C("div.action-container")),this.action=N.R3(this.actionContainer,C("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),pe.iconClass&&N.R3(this.action,C(`span.icon.${pe.iconClass}`));const at=N.R3(this.action,C("span"));at.textContent=ke?`${pe.label} (${ke})`:pe.label,this._register(N.nm(this.actionContainer,N.tw.MOUSE_DOWN,st=>{st.stopPropagation(),st.preventDefault(),pe.run(this.actionContainer)})),this.setEnabled(!0)}static render(J,pe,ke){return new m(J,pe,ke)}setEnabled(J){J?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var y=t(93794),n=t(9488),p=t(50187),f=t(24979),v=t(60303),d=t(71050),a=t(41264),u=t(83308),c=t(64494),b=t(4669);class L{constructor(J,pe,ke){this.presentationIndex=ke,this._onColorFlushed=new b.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new b.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new b.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=J,this._color=J,this._colorPresentations=pe}get color(){return this._color}set color(J){this._color.equals(J)||(this._color=J,this._onDidChangeColor.fire(J))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(J){this._colorPresentations=J,this.presentationIndex>J.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(J,pe){for(let ke=0;ke<this.colorPresentations.length;ke++)if(pe.toLowerCase()===this.colorPresentations[ke].label){this.presentationIndex=ke,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var R=t(16268),T=t(57974),j=t(63580),q=t(73910),ie=t(97781);const ne=N.$;class he extends W.JT{constructor(J,pe,ke){super(),this.model=pe,this.domNode=ne(".colorpicker-header"),N.R3(J,this.domNode),this.pickedColorNode=N.R3(this.domNode,ne(".picked-color"));const at=(0,j.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",at);const st=N.R3(this.domNode,ne(".original-color"));st.style.backgroundColor=a.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=ke.getColorTheme().getColor(q.yJ)||a.Il.white,this._register((0,ie.Ic)((_t,Et)=>{this.backgroundColor=_t.getColor(q.yJ)||a.Il.white})),this._register(N.nm(this.pickedColorNode,N.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(N.nm(st,N.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(pe.onDidChangeColor(this.onDidChangeColor,this)),this._register(pe.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=a.Il.Format.CSS.format(pe.color)||"",this.pickedColorNode.classList.toggle("light",pe.color.rgba.a<.5?this.backgroundColor.isLighter():pe.color.isLighter())}onDidChangeColor(J){this.pickedColorNode.style.backgroundColor=a.Il.Format.CSS.format(J)||"",this.pickedColorNode.classList.toggle("light",J.rgba.a<.5?this.backgroundColor.isLighter():J.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(ne(".codicon.codicon-color-mode"))}}class $ extends W.JT{constructor(J,pe,ke){super(),this.model=pe,this.pixelRatio=ke,this.domNode=ne(".colorpicker-body"),N.R3(J,this.domNode),this.saturationBox=new V(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Q(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new le(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:J,v:pe}){const ke=this.model.color.hsva;this.model.color=new a.Il(new a.tx(ke.h,J,pe,ke.a))}onDidOpacityChange(J){const pe=this.model.color.hsva;this.model.color=new a.Il(new a.tx(pe.h,pe.s,pe.v,J))}onDidHueChange(J){const pe=this.model.color.hsva,ke=(1-J)*360;this.model.color=new a.Il(new a.tx(ke===360?0:ke,pe.s,pe.v,pe.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class V extends W.JT{constructor(J,pe,ke){super(),this.model=pe,this.pixelRatio=ke,this._onDidChange=new b.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=ne(".saturation-wrap"),N.R3(J,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",N.R3(this.domNode,this.canvas),this.selection=ne(".saturation-selection"),N.R3(this.domNode,this.selection),this.layout(),this._register(N.Lo(this.domNode,at=>this.onMouseDown(at))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(J){this.monitor=this._register(new T.Z);const pe=N.i(this.domNode);J.target!==this.selection&&this.onDidChangePosition(J.offsetX,J.offsetY),this.monitor.startMonitoring(J.target,J.buttons,T.e,at=>this.onDidChangePosition(at.posx-pe.left,at.posy-pe.top),()=>null);const ke=N.qV(document,()=>{this._onColorFlushed.fire(),ke.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(J,pe){const ke=Math.max(0,Math.min(1,J/this.width)),at=Math.max(0,Math.min(1,1-pe/this.height));this.paintSelection(ke,at),this._onDidChange.fire({s:ke,v:at})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const J=this.model.color.hsva;this.paintSelection(J.s,J.v)}paint(){const J=this.model.color.hsva,pe=new a.Il(new a.tx(J.h,1,1,1)),ke=this.canvas.getContext("2d"),at=ke.createLinearGradient(0,0,this.canvas.width,0);at.addColorStop(0,"rgba(255, 255, 255, 1)"),at.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),at.addColorStop(1,"rgba(255, 255, 255, 0)");const st=ke.createLinearGradient(0,0,0,this.canvas.height);st.addColorStop(0,"rgba(0, 0, 0, 0)"),st.addColorStop(1,"rgba(0, 0, 0, 1)"),ke.rect(0,0,this.canvas.width,this.canvas.height),ke.fillStyle=a.Il.Format.CSS.format(pe),ke.fill(),ke.fillStyle=at,ke.fill(),ke.fillStyle=st,ke.fill()}paintSelection(J,pe){this.selection.style.left=`${J*this.width}px`,this.selection.style.top=`${this.height-pe*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class z extends W.JT{constructor(J,pe){super(),this.model=pe,this._onDidChange=new b.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new b.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=N.R3(J,ne(".strip")),this.overlay=N.R3(this.domNode,ne(".overlay")),this.slider=N.R3(this.domNode,ne(".slider")),this.slider.style.top="0px",this._register(N.Lo(this.domNode,ke=>this.onMouseDown(ke))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const J=this.getValue(this.model.color);this.updateSliderPosition(J)}onMouseDown(J){const pe=this._register(new T.Z),ke=N.i(this.domNode);this.domNode.classList.add("grabbing"),J.target!==this.slider&&this.onDidChangeTop(J.offsetY),pe.startMonitoring(J.target,J.buttons,T.e,st=>this.onDidChangeTop(st.posy-ke.top),()=>null);const at=N.qV(document,()=>{this._onColorFlushed.fire(),at.dispose(),pe.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(J){const pe=Math.max(0,Math.min(1,1-J/this.height));this.updateSliderPosition(pe),this._onDidChange.fire(pe)}updateSliderPosition(J){this.slider.style.top=`${(1-J)*this.height}px`}}class Q extends z{constructor(J,pe){super(J,pe),this.domNode.classList.add("opacity-strip"),this._register(pe.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(J){const{r:pe,g:ke,b:at}=J.rgba,st=new a.Il(new a.VS(pe,ke,at,1)),_t=new a.Il(new a.VS(pe,ke,at,0));this.overlay.style.background=`linear-gradient(to bottom, ${st} 0%, ${_t} 100%)`}getValue(J){return J.hsva.a}}class le extends z{constructor(J,pe){super(J,pe),this.domNode.classList.add("hue-strip")}getValue(J){return 1-J.hsva.h/360}}class E extends y.${constructor(J,pe,ke,at){super(),this.model=pe,this.pixelRatio=ke,this._register((0,R.fX)(()=>this.layout()));const st=ne(".colorpicker-widget");J.appendChild(st);const _t=new he(st,this.model,at);this.body=new $(st,this.model,this.pixelRatio),this._register(_t),this._register(this.body)}layout(){this.body.layout()}}var I=function(be,J,pe,ke){var at=arguments.length,st=at<3?J:ke===null?ke=Object.getOwnPropertyDescriptor(J,pe):ke,_t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(be,J,pe,ke);else for(var Et=be.length-1;Et>=0;Et--)(_t=be[Et])&&(st=(at<3?_t(st):at>3?_t(J,pe,st):_t(J,pe))||st);return at>3&&st&&Object.defineProperty(J,pe,st),st},A=function(be,J){return function(pe,ke){J(pe,ke,be)}},H=function(be,J,pe,ke){function at(st){return st instanceof pe?st:new pe(function(_t){_t(st)})}return new(pe||(pe=Promise))(function(st,_t){function Et(Jt){try{Mt(ke.next(Jt))}catch(jt){_t(jt)}}function Wt(Jt){try{Mt(ke.throw(Jt))}catch(jt){_t(jt)}}function Mt(Jt){Jt.done?st(Jt.value):at(Jt.value).then(Et,Wt)}Mt((ke=ke.apply(be,J||[])).next())})};class Y{constructor(J,pe,ke,at){this.owner=J,this.range=pe,this.model=ke,this.provider=at,this.forceShowAtRange=!0}isValidForHoverAnchor(J){return J.type===1&&this.range.startColumn<=J.range.startColumn&&this.range.endColumn>=J.range.endColumn}}let X=class{constructor(J,pe,ke){this._editor=J,this._hover=pe,this._themeService=ke}computeSync(J,pe){return[]}computeAsync(J,pe,ke){return H(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const at=c.i.get(this._editor);for(const st of pe){if(st.options.description!=="color-detector-color")continue;const _t=at.getColorData(st.range.getStartPosition());if(_t)return[yield this._createColorHover(this._editor.getModel(),_t.colorInfo,_t.provider)]}return[]})}_createColorHover(J,pe,ke){return H(this,void 0,void 0,function*(){const at=J.getValueInRange(pe.range),{red:st,green:_t,blue:Et,alpha:Wt}=pe.color,Mt=new a.VS(Math.round(st*255),Math.round(_t*255),Math.round(Et*255),Wt),Jt=new a.Il(Mt),jt=yield(0,u.R)(J,pe,ke,d.T.None),ui=new L(Jt,[],0);return ui.colorPresentations=jt||[],ui.guessColorPresentation(Jt,at),new Y(this,O.e.lift(pe.range),ui,ke)})}renderHoverParts(J,pe,ke){if(J.length===0||!this._editor.hasModel())return W.JT.None;const at=new W.SL,st=J[0],_t=this._editor.getModel(),Et=st.model,Wt=at.add(new E(pe,Et,this._editor.getOption(127),this._themeService));let Mt=new O.e(st.range.startLineNumber,st.range.startColumn,st.range.endLineNumber,st.range.endColumn);const Jt=()=>{let ui,_i;if(Et.presentation.textEdit){ui=[Et.presentation.textEdit],_i=new O.e(Et.presentation.textEdit.range.startLineNumber,Et.presentation.textEdit.range.startColumn,Et.presentation.textEdit.range.endLineNumber,Et.presentation.textEdit.range.endColumn);const bi=this._editor.getModel()._setTrackedRange(null,_i,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ui),_i=this._editor.getModel()._getTrackedRange(bi)||_i}else ui=[{identifier:null,range:Mt,text:Et.presentation.label,forceMoveMarkers:!1}],_i=Mt.setEndPosition(Mt.endLineNumber,Mt.startColumn+Et.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ui);Et.presentation.additionalTextEdits&&(ui=[...Et.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",ui),this._hover.hide()),this._editor.pushUndoStop(),Mt=_i},jt=ui=>(0,u.R)(_t,{range:Mt,color:{red:ui.rgba.r/255,green:ui.rgba.g/255,blue:ui.rgba.b/255,alpha:ui.rgba.a}},st.provider,d.T.None).then(_i=>{Et.colorPresentations=_i||[]});return at.add(Et.onColorFlushed(ui=>{jt(ui).then(Jt)})),at.add(Et.onDidChangeColor(jt)),this._hover.setColorPicker(Wt),at}};X=I([A(2,ie.XE)],X);var re=t(15393),fe=t(17301);class ue{constructor(J,pe,ke,at,st){this._computer=J,this._state=0,this._hoverTime=st,this._firstWaitScheduler=new re.pY(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new re.pY(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new re.pY(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=pe,this._errorCallback=ke,this._progressCallback=at}setHoverTime(J){this._hoverTime=J}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,re.PG)(J=>this._computer.computeAsync(J)),this._asyncComputationPromise.then(J=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(J)},J=>this._onError(J))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(J){J&&this._computer.onResult(J,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(J){this._completeCallback(J)}_onError(J){this._errorCallback?this._errorCallback(J):(0,fe.dL)(J)}_onProgress(J){this._progressCallback(J)}start(J){if(J===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}class Oe{constructor(J,pe){this.priority=J,this.range=pe,this.type=1}equals(J){return J.type===1&&this.range.equalsRange(J.range)}canAdoptVisibleHover(J,pe){return J.type===1&&pe.lineNumber===this.range.startLineNumber}}class Ce{constructor(J,pe,ke){this.priority=J,this.owner=pe,this.range=ke,this.type=2}equals(J){return J.type===2&&this.owner===J.owner}canAdoptVisibleHover(J,pe){return J.type===2&&this.owner===J.owner}}var oe=t(59365),ae=t(53430);function Be(be,J,pe){const at=v.xp.ordered(be).map(st=>Promise.resolve(st.provideHover(be,J,pe)).then(_t=>_t&&Ve(_t)?_t:void 0,_t=>{(0,fe.Cp)(_t)}));return Promise.all(at).then(n.kX)}(0,k.sb)("_executeHoverProvider",(be,J)=>Be(be,J,d.T.None));function Ve(be){const J=typeof be.range!="undefined",pe=typeof be.contents!="undefined"&&be.contents&&be.contents.length>0;return J&&pe}var se=t(33108),ce=t(50988),Te=function(be,J,pe,ke){var at=arguments.length,st=at<3?J:ke===null?ke=Object.getOwnPropertyDescriptor(J,pe):ke,_t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(be,J,pe,ke);else for(var Et=be.length-1;Et>=0;Et--)(_t=be[Et])&&(st=(at<3?_t(st):at>3?_t(J,pe,st):_t(J,pe))||st);return at>3&&st&&Object.defineProperty(J,pe,st),st},xe=function(be,J){return function(pe,ke){J(pe,ke,be)}},Fe=function(be,J,pe,ke){function at(st){return st instanceof pe?st:new pe(function(_t){_t(st)})}return new(pe||(pe=Promise))(function(st,_t){function Et(Jt){try{Mt(ke.next(Jt))}catch(jt){_t(jt)}}function Wt(Jt){try{Mt(ke.throw(Jt))}catch(jt){_t(jt)}}function Mt(Jt){Jt.done?st(Jt.value):at(Jt.value).then(Et,Wt)}Mt((ke=ke.apply(be,J||[])).next())})};const Le=N.$;class Me{constructor(J,pe,ke){this.owner=J,this.range=pe,this.contents=ke}isValidForHoverAnchor(J){return J.type===1&&this.range.startColumn<=J.range.startColumn&&this.range.endColumn>=J.range.endColumn}}let Se=class{constructor(J,pe,ke,at,st){this._editor=J,this._hover=pe,this._modeService=ke,this._openerService=at,this._configurationService=st}createLoadingMessage(J){return new Me(this,J.range,[new oe.W5().appendText(j.N("modesContentHover.loading","Loading..."))])}computeSync(J,pe){if(!this._editor.hasModel()||J.type!==1)return[];const ke=this._editor.getModel(),at=J.range.startLineNumber,st=ke.getLineMaxColumn(at),_t=[];for(const Jt of pe){const jt=Jt.range.startLineNumber===at?Jt.range.startColumn:1,ui=Jt.range.endLineNumber===at?Jt.range.endColumn:st,_i=Jt.options.hoverMessage;if(!_i||(0,oe.CP)(_i))continue;const bi=new O.e(J.range.startLineNumber,jt,J.range.startLineNumber,ui);_t.push(new Me(this,bi,(0,n._2)(_i)))}const Et=ke.getLineLength(at),Wt=ke.getLanguageIdAtPosition(J.range.startLineNumber,J.range.startColumn),Mt=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:Wt});return typeof Mt=="number"&&Et>=Mt&&_t.push(new Me(this,J.range,[{value:j.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),_t}computeAsync(J,pe,ke){return Fe(this,void 0,void 0,function*(){if(!this._editor.hasModel()||J.type!==1)return Promise.resolve([]);const at=this._editor.getModel();if(!v.xp.has(at))return Promise.resolve([]);const st=yield Be(at,new p.L(J.range.startLineNumber,J.range.startColumn),ke),_t=[];for(const Et of st){if((0,oe.CP)(Et.contents))continue;const Wt=Et.range?O.e.lift(Et.range):J.range;_t.push(new Me(this,Wt,Et.contents))}return _t})}renderHoverParts(J,pe,ke){const at=new W.SL;for(const st of J)for(const _t of st.contents){if((0,oe.CP)(_t))continue;const Et=Le("div.hover-row.markdown-hover"),Wt=N.R3(Et,Le("div.hover-contents")),Mt=at.add(new ae.$({editor:this._editor},this._modeService,this._openerService));at.add(Mt.onDidRenderAsync(()=>{Wt.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const Jt=at.add(Mt.render(_t));Wt.appendChild(Jt.element),pe.appendChild(Et)}return at}};Se=Te([xe(2,G.h),xe(3,ce.v4),xe(4,se.Ui)],Se);var ze=t(95935),Ye=t(26479),qe=t(31907),ht=t(67538),kt=t(89532),zt=t(2268),Ke=t(98674),Je=t(90535),Ze=function(be,J,pe,ke){var at=arguments.length,st=at<3?J:ke===null?ke=Object.getOwnPropertyDescriptor(J,pe):ke,_t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(be,J,pe,ke);else for(var Et=be.length-1;Et>=0;Et--)(_t=be[Et])&&(st=(at<3?_t(st):at>3?_t(J,pe,st):_t(J,pe))||st);return at>3&&st&&Object.defineProperty(J,pe,st),st},Ae=function(be,J){return function(pe,ke){J(pe,ke,be)}};const He=N.$;class It{constructor(J,pe,ke){this.owner=J,this.range=pe,this.marker=ke}isValidForHoverAnchor(J){return J.type===1&&this.range.startColumn<=J.range.startColumn&&this.range.endColumn>=J.range.endColumn}}const Bt={type:1,filter:{include:kt.yN.QuickFix}};let oi=class{constructor(J,pe,ke,at){this._editor=J,this._hover=pe,this._markerDecorationsService=ke,this._openerService=at,this.recentMarkerCodeActionsInfo=void 0}computeSync(J,pe){if(!this._editor.hasModel()||J.type!==1)return[];const ke=this._editor.getModel(),at=J.range.startLineNumber,st=ke.getLineMaxColumn(at),_t=[];for(const Et of pe){const Wt=Et.range.startLineNumber===at?Et.range.startColumn:1,Mt=Et.range.endLineNumber===at?Et.range.endColumn:st,Jt=this._markerDecorationsService.getMarker(ke.uri,Et);if(!Jt)continue;const jt=new O.e(J.range.startLineNumber,Wt,J.range.startLineNumber,Mt);_t.push(new It(this,jt,Jt))}return _t}renderHoverParts(J,pe,ke){if(!J.length)return W.JT.None;const at=new W.SL;J.forEach(_t=>pe.appendChild(this.renderMarkerHover(_t,at)));const st=J.length===1?J[0]:J.sort((_t,Et)=>Ke.ZL.compare(_t.marker.severity,Et.marker.severity))[0];return this.renderMarkerStatusbar(st,ke,at),at}renderMarkerHover(J,pe){const ke=He("div.hover-row"),at=N.R3(ke,He("div.marker.hover-contents")),{source:st,message:_t,code:Et,relatedInformation:Wt}=J.marker;this._editor.applyFontInfo(at);const Mt=N.R3(at,He("span"));if(Mt.style.whiteSpace="pre-wrap",Mt.innerText=_t,st||Et)if(Et&&typeof Et!="string"){const Jt=He("span");if(st){const bi=N.R3(Jt,He("span"));bi.innerText=st}const jt=N.R3(Jt,He("a.code-link"));jt.setAttribute("href",Et.target.toString()),pe.add(N.nm(jt,"click",bi=>{this._openerService.open(Et.target,{allowCommands:!0}),bi.preventDefault(),bi.stopPropagation()}));const ui=N.R3(jt,He("span"));ui.innerText=Et.value;const _i=N.R3(at,Jt);_i.style.opacity="0.6",_i.style.paddingLeft="6px"}else{const Jt=N.R3(at,He("span"));Jt.style.opacity="0.6",Jt.style.paddingLeft="6px",Jt.innerText=st&&Et?`${st}(${Et})`:st||`(${Et})`}if((0,n.Of)(Wt))for(const{message:Jt,resource:jt,startLineNumber:ui,startColumn:_i}of Wt){const bi=N.R3(at,He("div"));bi.style.marginTop="8px";const Ai=N.R3(bi,He("a"));Ai.innerText=`${(0,ze.EZ)(jt)}(${ui}, ${_i}): `,Ai.style.cursor="pointer",pe.add(N.nm(Ai,"click",zi=>{zi.stopPropagation(),zi.preventDefault(),this._openerService&&this._openerService.open(jt,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:ui,startColumn:_i}}}).catch(fe.dL)}));const Ri=N.R3(bi,He("span"));Ri.innerText=Jt,this._editor.applyFontInfo(Ri)}return ke}renderMarkerStatusbar(J,pe,ke){if((J.marker.severity===Ke.ZL.Error||J.marker.severity===Ke.ZL.Warning||J.marker.severity===Ke.ZL.Info)&&pe.addAction({label:j.N("view problem","View Problem"),commandId:zt.NextMarkerAction.ID,run:()=>{this._hover.hide(),zt.MarkerController.get(this._editor).showAtMarker(J.marker),this._editor.focus()}}),!this._editor.getOption(80)){const at=pe.append(He("div"));this.recentMarkerCodeActionsInfo&&(Ke.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Ke.H0.makeKey(J.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(at.textContent=j.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const st=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?W.JT.None:ke.add((0,re.Vg)(()=>at.textContent=j.N("checkingForQuickFixes","Checking for quick fixes..."),200));at.textContent||(at.textContent=String.fromCharCode(160));const _t=this.getCodeActions(J.marker);ke.add((0,W.OF)(()=>_t.cancel())),_t.then(Et=>{if(st.dispose(),this.recentMarkerCodeActionsInfo={marker:J.marker,hasCodeActions:Et.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){Et.dispose(),at.textContent=j.N("noQuickFixes","No quick fixes available");return}at.style.display="none";let Wt=!1;ke.add((0,W.OF)(()=>{Wt||Et.dispose()})),pe.addAction({label:j.N("quick fixes","Quick Fix..."),commandId:ht.E7.Id,run:Mt=>{Wt=!0;const Jt=ht.pY.get(this._editor),jt=N.i(Mt);this._hover.hide(),Jt.showCodeActions(Bt,Et,{x:jt.left+6,y:jt.top+jt.height+6})}})},fe.dL)}}getCodeActions(J){return(0,re.PG)(pe=>(0,qe.aI)(this._editor.getModel(),new O.e(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn),Bt,Je.E.None,pe))}};oi=Ze([Ae(2,Ye.i),Ae(3,ce.v4)],oi),(0,ie.Ic)((be,J)=>{const pe=be.getColor(q.ur);pe&&J.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${pe}; }`);const ke=be.getColor(q.sg);ke&&J.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${ke}; }`)});var ni=t(24822),hi=t(31106),Di=t(84144),Ti=t(94565),Ii=t(38819),ai=function(be,J,pe,ke){var at=arguments.length,st=at<3?J:ke===null?ke=Object.getOwnPropertyDescriptor(J,pe):ke,_t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(be,J,pe,ke);else for(var Et=be.length-1;Et>=0;Et--)(_t=be[Et])&&(st=(at<3?_t(st):at>3?_t(J,pe,st):_t(J,pe))||st);return at>3&&st&&Object.defineProperty(J,pe,st),st},Pt=function(be,J){return function(pe,ke){J(pe,ke,be)}};class Gt{constructor(J,pe,ke){this.owner=J,this.range=pe,this.controller=ke}isValidForHoverAnchor(J){return J.type===1&&this.range.startColumn<=J.range.startColumn&&this.range.endColumn>=J.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let ot=class{constructor(J,pe,ke,at,st,_t,Et,Wt){this._editor=J,this._hover=pe,this._commandService=ke,this._menuService=at,this._contextKeyService=st,this._modeService=_t,this._openerService=Et,this.accessibilityService=Wt}suggestHoverAnchor(J){const pe=ni.GhostTextController.get(this._editor);if(!pe)return null;if(J.target.type===8){const ke=J.target.detail;if(pe.shouldShowHoverAtViewZone(ke.viewZoneId))return new Ce(1e3,this,O.e.fromPositions(ke.positionBefore||ke.position,ke.positionBefore||ke.position))}return J.target.type===7&&J.target.range&&pe.shouldShowHoverAt(J.target.range)?new Ce(1e3,this,J.target.range):J.target.type===6&&J.target.range&&J.target.detail&&J.target.detail.mightBeForeignElement&&pe.shouldShowHoverAt(J.target.range)?new Ce(1e3,this,J.target.range):null}computeSync(J,pe){const ke=ni.GhostTextController.get(this._editor);return ke&&ke.shouldShowHoverAt(J.range)?[new Gt(this,J.range,ke)]:[]}renderHoverParts(J,pe,ke){const at=new W.SL,st=J[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(st,pe,at);const _t=at.add(this._menuService.createMenu(Di.eH.InlineCompletionsActions,this._contextKeyService)),Et=ke.addAction({label:j.N("showNextInlineSuggestion","Next"),commandId:ni.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(ni.ShowNextInlineSuggestionAction.ID)}),Wt=ke.addAction({label:j.N("showPreviousInlineSuggestion","Previous"),commandId:ni.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(ni.ShowPreviousInlineSuggestionAction.ID)});ke.addAction({label:j.N("acceptInlineSuggestion","Accept"),commandId:ni.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(ni.commitInlineSuggestionAction.id)});const Mt=[Et,Wt];for(const Jt of Mt)Jt.setEnabled(!1);st.hasMultipleSuggestions().then(Jt=>{for(const jt of Mt)jt.setEnabled(Jt)});for(const[Jt,jt]of _t.getActions())for(const ui of jt)ui instanceof Di.U8&&ke.addAction({label:ui.label,commandId:ui.item.id,run:()=>this._commandService.executeCommand(ui.item.id)});return at}renderScreenReaderText(J,pe,ke){var at,st;const _t=N.$,Et=_t("div.hover-row.markdown-hover"),Wt=N.R3(Et,_t("div.hover-contents")),Mt=ke.add(new ae.$({editor:this._editor},this._modeService,this._openerService)),Jt=ui=>{ke.add(Mt.onDidRenderAsync(()=>{Wt.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const _i=j.N("inlineSuggestionFollows","Suggestion:"),bi=ke.add(Mt.render(new oe.W5().appendText(_i).appendCodeblock("text",ui)));Wt.replaceChildren(bi.element)},jt=(st=(at=J.controller.activeModel)===null||at===void 0?void 0:at.inlineCompletionsModel)===null||st===void 0?void 0:st.ghostText;if(jt){const ui=this._editor.getModel().getLineContent(jt.lineNumber);Jt(jt.renderForScreenReader(ui))}pe.appendChild(Et)}};ot=ai([Pt(2,Ti.H),Pt(3,Di.co),Pt(4,Ii.i6),Pt(5,G.h),Pt(6,ce.v4),Pt(7,hi.F)],ot);var mt=t(72065),ft=t(91847),Xe=t(79599),Ge=function(be,J,pe,ke){var at=arguments.length,st=at<3?J:ke===null?ke=Object.getOwnPropertyDescriptor(J,pe):ke,_t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(be,J,pe,ke);else for(var Et=be.length-1;Et>=0;Et--)(_t=be[Et])&&(st=(at<3?_t(st):at>3?_t(J,pe,st):_t(J,pe))||st);return at>3&&st&&Object.defineProperty(J,pe,st),st},Ie=function(be,J){return function(pe,ke){J(pe,ke,be)}},Pe=function(be,J,pe,ke){function at(st){return st instanceof pe?st:new pe(function(_t){_t(st)})}return new(pe||(pe=Promise))(function(st,_t){function Et(Jt){try{Mt(ke.next(Jt))}catch(jt){_t(jt)}}function Wt(Jt){try{Mt(ke.throw(Jt))}catch(jt){_t(jt)}}function Mt(Jt){Jt.done?st(Jt.value):at(Jt.value).then(Et,Wt)}Mt((ke=ke.apply(be,J||[])).next())})};const je=N.$;let dt=class extends W.JT{constructor(J){super(),this._keybindingService=J,this._hasContent=!1,this.hoverElement=je("div.hover-row.status-bar"),this.actionsElement=N.R3(this.hoverElement,je("div.actions"))}get hasContent(){return this._hasContent}addAction(J){const pe=this._keybindingService.lookupKeybinding(J.commandId),ke=pe?pe.getLabel():null;return this._hasContent=!0,this._register(m.render(this.actionsElement,J,ke))}append(J){const pe=N.R3(this.actionsElement,J);return this._hasContent=!0,pe}};dt=Ge([Ie(0,ft.d)],dt);class Nt{constructor(J,pe){this._participants=pe,this._editor=J,this._result=[],this._anchor=null}setAnchor(J){this._anchor=J,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(J,pe){if(pe.type!==1)return[];const ke=J.getModel(),at=pe.range.startLineNumber,st=ke.getLineMaxColumn(at);return J.getLineDecorations(at).filter(_t=>{if(_t.options.isWholeLine)return!0;const Et=_t.range.startLineNumber===at?_t.range.startColumn:1,Wt=_t.range.endLineNumber===at?_t.range.endColumn:st;return!(Et>pe.range.startColumn||pe.range.endColumn>Wt)})}computeAsync(J){return Pe(this,void 0,void 0,function*(){const pe=this._anchor;if(!this._editor.hasModel()||!pe)return Promise.resolve([]);const ke=Nt._getLineDecorations(this._editor,pe),at=yield Promise.all(this._participants.map(st=>this._computeAsync(st,ke,pe,J)));return(0,n.xH)(at)})}_computeAsync(J,pe,ke,at){return Pe(this,void 0,void 0,function*(){return J.computeAsync?J.computeAsync(ke,pe,at):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const J=Nt._getLineDecorations(this._editor,this._anchor);let pe=[];for(const ke of this._participants)pe=pe.concat(ke.computeSync(this._anchor,J));return(0,n.kX)(pe)}onResult(J,pe){pe?this._result=J.concat(this._result):this._result=this._result.concat(J)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const J of this._participants)if(J.createLoadingMessage){const pe=J.createLoadingMessage(this._anchor);if(pe)return this._result.slice(0).concat([pe])}}return this._result.slice(0)}}let $t=class Ea extends y.${constructor(J,pe,ke,at,st){super(),this._hoverVisibleKey=pe,this._keybindingService=at,this._contextKeyService=st,this.allowEditorOverflow=!0,this._participants=[ke.createInstance(X,J,this),ke.createInstance(Se,J,this),ke.createInstance(ot,J,this),ke.createInstance(oi,J,this)],this._editor=J,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this._hover=this._register(new l),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this.onkeydown(this._hover.containerDomNode,_t=>{_t.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(_t=>{_t.hasChanged(43)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new Nt(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._preferAbove=this._editor.getOption(52).above,this._hoverOperation=new ue(this._computer,_t=>this._withResult(_t,!0),null,_t=>this._withResult(_t,!1),this._editor.getOption(52).delay),this._register(N.mu(this.getDomNode(),N.tw.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(N.mu(this.getDomNode(),N.tw.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(J.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(52).delay),this._preferAbove=this._editor.getOption(52).above})),this._register(v.RW.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return Ea.ID}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(J){const pe=J.target.type;if(pe===6)return!0;if(pe===7){const ke=this._editor.getOption(43).typicalHalfwidthCharacterWidth/2,at=J.target.detail;if(at&&!at.isAfterLines&&typeof at.horizontalDistanceToText=="number"&&at.horizontalDistanceToText<ke)return!0}return!1}maybeShowAt(J){var pe;const ke=[];for(const at of this._participants)if(typeof at.suggestHoverAnchor=="function"){const st=at.suggestHoverAnchor(J);st&&ke.push(st)}if(this._shouldShowAt(J)&&J.target.range){const st=[...((pe=J.target.element)===null||pe===void 0?void 0:pe.classList.values())||[]].find(_t=>_t.startsWith("ced-colorBox"))&&J.target.range.endColumn-J.target.range.startColumn===1?new O.e(J.target.range.startLineNumber,J.target.range.startColumn+1,J.target.range.endLineNumber,J.target.range.endColumn+1):J.target.range;ke.push(new Oe(0,st))}return ke.length===0?!1:(ke.sort((at,st)=>st.priority-at.priority),this._startShowingAt(ke[0],0,!1),!0)}_showAt(J,pe,ke){this._showAtPosition=J,this._showAtRange=pe,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=ke,ke&&this._hover.containerDomNode.focus()}getPosition(){if(this._isVisible){let J=this._preferAbove;return!J&&this._contextKeyService.getContextKeyValue(Xe._y.Visible.key)&&(J=!0),{position:this._showAtPosition,range:this._showAtRange,preference:J?[1,2]:[2,1]}}return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(pe=>this._editor.applyFontInfo(pe))}_updateContents(J){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(J),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const J=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:pe,lineHeight:ke}=this._editor.getOption(43);this._hover.contentsDomNode.style.fontSize=`${pe}px`,this._hover.contentsDomNode.style.lineHeight=`${ke/pe}`,this._hover.contentsDomNode.style.maxHeight=`${J}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(J,pe,ke){this._startShowingAt(new Oe(0,J),pe,ke)}_startShowingAt(J,pe,ke){if(!(this._lastAnchor&&this._lastAnchor.equals(J))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!J.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const at=this._messages.filter(st=>st.isValidForHoverAnchor(J));if(at.length===0)this.hide();else{if(at.length===this._messages.length)return;this._renderMessages(J,at)}}this._lastAnchor=J,this._computer.setAnchor(J),this._shouldFocus=ke,this._hoverOperation.start(pe)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(J){this._colorPicker=J}onContentsChanged(){this._hover.onContentsChanged()}_withResult(J,pe){this._messages=J,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):pe&&this.hide()}_renderMessages(J,pe){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let ke=1073741824,at=pe[0].range,st=null,_t=document.createDocumentFragment();const Et=new W.SL,Wt=new Map;for(const Jt of pe)ke=Math.min(ke,Jt.range.startColumn),at=O.e.plusRange(at,Jt.range),Jt.forceShowAtRange&&(st=Jt.range),Wt.has(Jt.owner)||Wt.set(Jt.owner,[]),Wt.get(Jt.owner).push(Jt);const Mt=Et.add(new dt(this._keybindingService));for(const[Jt,jt]of Wt)Et.add(Jt.renderHoverParts(jt,_t,Mt));Mt.hasContent&&_t.appendChild(Mt.hoverElement),this._renderDisposable=Et,_t.hasChildNodes()&&(st?this._showAt(st.getStartPosition(),st,this._shouldFocus):this._showAt(new p.L(J.range.startLineNumber,ke),at,this._shouldFocus),this._updateContents(_t)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,at?[{range:at,options:Ea._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};$t.ID="editor.contrib.modesContentHoverWidget",$t._DECORATION_OPTIONS=f.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),$t=Ge([Ie(2,mt.TG),Ie(3,ft.d),Ie(4,Ii.i6)],$t);const Xt=N.$;class Ci{constructor(J){this._editor=J,this._lineNumber=-1,this._result=[]}setLineNumber(J){this._lineNumber=J,this._result=[]}clearResult(){this._result=[]}computeSync(){const J=at=>({value:at}),pe=this._editor.getLineDecorations(this._lineNumber),ke=[];if(!pe)return ke;for(const at of pe){if(!at.options.glyphMarginClassName)continue;const st=at.options.glyphMarginHoverMessage;!st||(0,oe.CP)(st)||ke.push(...(0,n._2)(st).map(J))}return ke}onResult(J,pe){this._result=this._result.concat(J)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class Zt extends y.${constructor(J,pe,ke=ce.SW){super(),this._renderDisposeables=this._register(new W.SL),this._editor=J,this._isVisible=!1,this._messages=[],this._lastLineNumber=-1,this._hover=this._register(new l),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new ae.$({editor:this._editor},pe,ke)),this._computer=new Ci(this._editor),this._hoverOperation=new ue(this._computer,at=>this._withResult(at),void 0,at=>this._withResult(at),300),this._register(this._editor.onDidChangeConfiguration(at=>{at.hasChanged(43)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._hoverOperation.cancel(),this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Zt.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_showAt(J){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const pe=this._editor.getLayoutInfo(),ke=this._editor.getTopForLineNumber(J),at=this._editor.getScrollTop(),st=this._editor.getOption(58),_t=this._hover.containerDomNode.clientHeight,Et=ke-at-(_t-st)/2;this._hover.containerDomNode.style.left=`${pe.glyphMarginLeft+pe.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(Et),0)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(pe=>this._editor.applyFontInfo(pe))}_updateContents(J){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(J),this._updateFont()}onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(J){this._lastLineNumber!==J&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=J,this._computer.setLineNumber(J),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(J){this._messages=J,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(J,pe){this._renderDisposeables.clear();const ke=document.createDocumentFragment();for(const at of pe){const st=Xt("div.hover-row.markdown-hover"),_t=N.R3(st,Xt("div.hover-contents")),Et=this._renderDisposeables.add(this._markdownRenderer.render(at.value));_t.appendChild(Et.element),ke.appendChild(st)}this._updateContents(ke),this._showAt(J)}}Zt.ID="editor.contrib.modesGlyphHoverWidget";var mi=function(be,J,pe,ke){var at=arguments.length,st=at<3?J:ke===null?ke=Object.getOwnPropertyDescriptor(J,pe):ke,_t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")st=Reflect.decorate(be,J,pe,ke);else for(var Et=be.length-1;Et>=0;Et--)(_t=be[Et])&&(st=(at<3?_t(st):at>3?_t(J,pe,st):_t(J,pe))||st);return at>3&&st&&Object.defineProperty(J,pe,st),st},pt=function(be,J){return function(pe,ke){J(pe,ke,be)}};let ut=class xl{constructor(J,pe,ke,at,st){this._editor=J,this._instantiationService=pe,this._openerService=ke,this._modeService=at,this._toUnhook=new W.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(_t=>{_t.hasChanged(52)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=w.u.hoverVisible.bindTo(st)}static get(J){return J.getContribution(xl.ID)}_hookEvents(){const J=()=>this._hideWidgets(),pe=this._editor.getOption(52);this._isHoverEnabled=pe.enabled,this._isHoverSticky=pe.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(ke=>this._onEditorMouseDown(ke))),this._toUnhook.add(this._editor.onMouseUp(ke=>this._onEditorMouseUp(ke))),this._toUnhook.add(this._editor.onMouseMove(ke=>this._onEditorMouseMove(ke))),this._toUnhook.add(this._editor.onKeyDown(ke=>this._onKeyDown(ke))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(ke=>this._onEditorMouseMove(ke))),this._toUnhook.add(this._editor.onKeyDown(ke=>this._onKeyDown(ke)))),this._toUnhook.add(this._editor.onMouseLeave(J)),this._toUnhook.add(this._editor.onDidChangeModel(J)),this._toUnhook.add(this._editor.onDidScrollChange(ke=>this._onEditorScrollChanged(ke)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var J,pe;(J=this._contentWidget)===null||J===void 0||J.onModelDecorationsChanged(),(pe=this._glyphWidget)===null||pe===void 0||pe.onModelDecorationsChanged()}_onEditorScrollChanged(J){(J.scrollTopChanged||J.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(J){this._isMouseDown=!0;const pe=J.target.type;if(pe===9&&J.target.detail===$t.ID){this._hoverClicked=!0;return}pe===12&&J.target.detail===Zt.ID||(pe!==12&&J.target.detail!==Zt.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(J){this._isMouseDown=!1}_onEditorMouseMove(J){var pe,ke,at,st,_t;let Et=J.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&Et===9&&J.target.detail===$t.ID||this._isHoverSticky&&!(!((ke=(pe=J.event.browserEvent.view)===null||pe===void 0?void 0:pe.getSelection())===null||ke===void 0)&&ke.isCollapsed)||!this._isHoverSticky&&Et===9&&J.target.detail===$t.ID&&(!((at=this._contentWidget)===null||at===void 0)&&at.isColorPickerVisible())||this._isHoverSticky&&Et===12&&J.target.detail===Zt.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(J)){(st=this._glyphWidget)===null||st===void 0||st.hide();return}if(Et===2&&J.target.position){(_t=this._contentWidget)===null||_t===void 0||_t.hide(),this._glyphWidget||(this._glyphWidget=new Zt(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(J.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(J){J.keyCode!==5&&J.keyCode!==6&&J.keyCode!==57&&J.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var J,pe,ke;this._isMouseDown&&this._hoverClicked&&(!((J=this._contentWidget)===null||J===void 0)&&J.isColorPickerVisible())||(this._hoverClicked=!1,(pe=this._glyphWidget)===null||pe===void 0||pe.hide(),(ke=this._contentWidget)===null||ke===void 0||ke.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance($t,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var J;return((J=this._contentWidget)===null||J===void 0?void 0:J.isColorPickerVisible())||!1}showContentHover(J,pe,ke){this._getOrCreateContentWidget().startShowingAtRange(J,pe,ke)}dispose(){var J,pe;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(J=this._glyphWidget)===null||J===void 0||J.dispose(),(pe=this._contentWidget)===null||pe===void 0||pe.dispose()}};ut.ID="editor.contrib.hover",ut=mi([pt(1,mt.TG),pt(2,ce.v4),pt(3,G.h),pt(4,Ii.i6)],ut);class tt extends k.R6{constructor(){super({id:"editor.action.showHover",label:j.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:w.u.editorTextFocus,primary:(0,h.gx)(2089,2087),weight:100}})}run(J,pe){if(!pe.hasModel())return;let ke=ut.get(pe);if(!ke)return;const at=pe.getPosition(),st=new O.e(at.lineNumber,at.column,at.lineNumber,at.column),_t=pe.getOption(2)===2;ke.showContentHover(st,1,_t)}}class de extends k.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:j.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(J,pe){let ke=ut.get(pe);if(!ke)return;const at=pe.getPosition();if(!at)return;const st=new O.e(at.lineNumber,at.column,at.lineNumber,at.column);x.GotoDefinitionAtPositionEditorContribution.get(pe).startFindDefinitionFromCursor(at).then(()=>{ke.showContentHover(st,1,!0)})}}(0,k._K)(ut.ID,ut),(0,k.Qr)(tt),(0,k.Qr)(de),(0,ie.Ic)((be,J)=>{const pe=be.getColor(q.pt);pe&&J.addRule(`.monaco-editor .hoverHighlight { background-color: ${pe}; }`);const ke=be.getColor(q.yJ);ke&&J.addRule(`.monaco-editor .monaco-hover { background-color: ${ke}; }`);const at=be.getColor(q.CN);at&&(J.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${at}; }`),J.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${at.transparent(.5)}; }`),J.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${at.transparent(.5)}; }`),J.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${at.transparent(.5)}; }`));const st=be.getColor(q.ur);st&&J.addRule(`.monaco-editor .monaco-hover a { color: ${st}; }`);const _t=be.getColor(q.sg);_t&&J.addRule(`.monaco-editor .monaco-hover a:hover { color: ${_t}; }`);const Et=be.getColor(q.Sb);Et&&J.addRule(`.monaco-editor .monaco-hover { color: ${Et}; }`);const Wt=be.getColor(q.Lo);Wt&&J.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Wt}; }`);const Mt=be.getColor(q.Sw);Mt&&J.addRule(`.monaco-editor .monaco-hover code { background-color: ${Mt}; }`)})},96016:function(Ct,we,t){"use strict";t.r(we);var h=t(15393),W=t(17301),k=t(55812),O=t(16830),w=t(24314),G=t(3860),x=t(29102),N=t(24979),s=t(90469),C=t(27869),l=t(63580),m=t(97781);class y{constructor(u,c,b){this._editRange=u,this._originalSelection=c,this._text=b}getEditOperations(u,c){c.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(u,c){const L=c.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new G.Y(L.endLineNumber,Math.min(this._originalSelection.positionColumn,L.endColumn),L.endLineNumber,Math.min(this._originalSelection.positionColumn,L.endColumn)):new G.Y(L.endLineNumber,L.endColumn-this._text.length,L.endLineNumber,L.endColumn)}}var n=function(a,u,c,b){var L=arguments.length,R=L<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,c):b,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,u,c,b);else for(var j=a.length-1;j>=0;j--)(T=a[j])&&(R=(L<3?T(R):L>3?T(u,c,R):T(u,c))||R);return L>3&&R&&Object.defineProperty(u,c,R),R},p=function(a,u){return function(c,b){u(c,b,a)}};let f=class Ia{constructor(u,c){this.decorationIds=[],this.editor=u,this.editorWorkerService=c}static get(u){return u.getContribution(Ia.ID)}dispose(){}run(u,c){this.currentRequest&&this.currentRequest.cancel();const b=this.editor.getSelection(),L=this.editor.getModel();if(!L||!b)return;let R=b;if(R.startLineNumber!==R.endLineNumber)return;const T=new k.yy(this.editor,5),j=L.uri;return this.editorWorkerService.canNavigateValueSet(j)?(this.currentRequest=(0,h.PG)(q=>this.editorWorkerService.navigateValueSet(j,R,c)),this.currentRequest.then(q=>{if(!q||!q.range||!q.value||!T.validate(this.editor))return;let ie=w.e.lift(q.range),ne=q.range,he=q.value.length-(R.endColumn-R.startColumn);ne={startLineNumber:ne.startLineNumber,startColumn:ne.startColumn,endLineNumber:ne.endLineNumber,endColumn:ne.startColumn+q.value.length},he>1&&(R=new G.Y(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn+he-1));const $=new y(ie,R,q.value);this.editor.pushUndoStop(),this.editor.executeCommand(u,$),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:ne,options:Ia.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,h.Vs)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(W.dL)}).catch(W.dL)):Promise.resolve(void 0)}};f.ID="editor.contrib.inPlaceReplaceController",f.DECORATION=N.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),f=n([p(1,s.p)],f);class v extends O.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:l.N("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:x.u.writable,kbOpts:{kbExpr:x.u.editorTextFocus,primary:3154,weight:100}})}run(u,c){const b=f.get(c);return b?b.run(this.id,!0):Promise.resolve(void 0)}}class d extends O.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:l.N("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:x.u.writable,kbOpts:{kbExpr:x.u.editorTextFocus,primary:3156,weight:100}})}run(u,c){const b=f.get(c);return b?b.run(this.id,!1):Promise.resolve(void 0)}}(0,O._K)(f.ID,f),(0,O.Qr)(v),(0,O.Qr)(d),(0,m.Ic)((a,u)=>{const c=a.getColor(C.Dl);c&&u.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${c}; }`)})},51491:function(Ct,we,t){"use strict";t.d(we,{J:function(){return W},Y:function(){return h}});function h(k,O){let w=0;for(let G=0;G<k.length;G++)k.charAt(G)==="	"?w+=O:w++;return w}function W(k,O,w){k=k<0?0:k;let G="";if(!w){let x=Math.floor(k/O);k=k%O;for(let N=0;N<x;N++)G+="	"}for(let x=0;x<k;x++)G+=" ";return G}},42039:function(Ct,we,t){"use strict";t.r(we),t.d(we,{AutoIndentOnPaste:function(){return T},AutoIndentOnPasteCommand:function(){return R},ChangeIndentationSizeAction:function(){return d},DetectIndentation:function(){return c},IndentUsingSpaces:function(){return u},IndentUsingTabs:function(){return a},IndentationToSpacesAction:function(){return f},IndentationToSpacesCommand:function(){return q},IndentationToTabsAction:function(){return v},IndentationToTabsCommand:function(){return ie},ReindentLinesAction:function(){return b},ReindentSelectedLinesAction:function(){return L},getReindentEditOperations:function(){return p}});var h=t(9917),W=t(97295),k=t(16830),O=t(10291),w=t(69386),G=t(24314),x=t(3860),N=t(29102),s=t(24979),C=t(94660),l=t(51200),m=t(51491),y=t(63580),n=t(41157);function p(ne,he,$,V){if(ne.getLineCount()===1&&ne.getLineMaxColumn(1)===1)return[];const z=C.zu.getIndentationRules(ne.getLanguageId());if(!z)return[];for($=Math.min($,ne.getLineCount());he<=$&&z.unIndentedLinePattern;){let ue=ne.getLineContent(he);if(!z.unIndentedLinePattern.test(ue))break;he++}if(he>$-1)return[];const{tabSize:Q,indentSize:le,insertSpaces:E}=ne.getOptions(),I=(ue,Oe)=>(Oe=Oe||1,O.U.shiftIndent(ue,ue.length+Oe,Q,le,E)),A=(ue,Oe)=>(Oe=Oe||1,O.U.unshiftIndent(ue,ue.length+Oe,Q,le,E));let H=[],Y,X=ne.getLineContent(he),re=X;if(V!=null){Y=V;let ue=W.V8(X);re=Y+X.substring(ue.length),z.decreaseIndentPattern&&z.decreaseIndentPattern.test(re)&&(Y=A(Y),re=Y+X.substring(ue.length)),X!==re&&H.push(w.h.replaceMove(new x.Y(he,1,he,ue.length+1),s.yO.normalizeIndentation(Y,le,E)))}else Y=W.V8(X);let fe=Y;z.increaseIndentPattern&&z.increaseIndentPattern.test(re)?(fe=I(fe),Y=I(Y)):z.indentNextLinePattern&&z.indentNextLinePattern.test(re)&&(fe=I(fe)),he++;for(let ue=he;ue<=$;ue++){let Oe=ne.getLineContent(ue),Ce=W.V8(Oe),oe=fe+Oe.substring(Ce.length);z.decreaseIndentPattern&&z.decreaseIndentPattern.test(oe)&&(fe=A(fe),Y=A(Y)),Ce!==fe&&H.push(w.h.replaceMove(new x.Y(ue,1,ue,Ce.length+1),s.yO.normalizeIndentation(fe,le,E))),!(z.unIndentedLinePattern&&z.unIndentedLinePattern.test(Oe))&&(z.increaseIndentPattern&&z.increaseIndentPattern.test(oe)?(Y=I(Y),fe=Y):z.indentNextLinePattern&&z.indentNextLinePattern.test(oe)?fe=I(fe):fe=Y)}return H}class f extends k.R6{constructor(){super({id:f.ID,label:y.N("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:N.u.writable})}run(he,$){let V=$.getModel();if(!V)return;let z=V.getOptions(),Q=$.getSelection();if(!Q)return;const le=new q(Q,z.tabSize);$.pushUndoStop(),$.executeCommands(this.id,[le]),$.pushUndoStop(),V.updateOptions({insertSpaces:!0})}}f.ID="editor.action.indentationToSpaces";class v extends k.R6{constructor(){super({id:v.ID,label:y.N("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:N.u.writable})}run(he,$){let V=$.getModel();if(!V)return;let z=V.getOptions(),Q=$.getSelection();if(!Q)return;const le=new ie(Q,z.tabSize);$.pushUndoStop(),$.executeCommands(this.id,[le]),$.pushUndoStop(),V.updateOptions({insertSpaces:!1})}}v.ID="editor.action.indentationToTabs";class d extends k.R6{constructor(he,$){super($),this.insertSpaces=he}run(he,$){const V=he.get(n.eJ),z=he.get(l.q);let Q=$.getModel();if(!Q)return;const le=z.getCreationOptions(Q.getLanguageId(),Q.uri,Q.isForSimpleWidget),E=[1,2,3,4,5,6,7,8].map(A=>({id:A.toString(),label:A.toString(),description:A===le.tabSize?y.N("configuredTabSize","Configured Tab Size"):void 0})),I=Math.min(Q.getOptions().tabSize-1,7);setTimeout(()=>{V.pick(E,{placeHolder:y.N({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:E[I]}).then(A=>{A&&Q&&!Q.isDisposed()&&Q.updateOptions({tabSize:parseInt(A.label,10),insertSpaces:this.insertSpaces})})},50)}}class a extends d{constructor(){super(!1,{id:a.ID,label:y.N("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}a.ID="editor.action.indentUsingTabs";class u extends d{constructor(){super(!0,{id:u.ID,label:y.N("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}u.ID="editor.action.indentUsingSpaces";class c extends k.R6{constructor(){super({id:c.ID,label:y.N("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(he,$){const V=he.get(l.q);let z=$.getModel();if(!z)return;const Q=V.getCreationOptions(z.getLanguageId(),z.uri,z.isForSimpleWidget);z.detectIndentation(Q.insertSpaces,Q.tabSize)}}c.ID="editor.action.detectIndentation";class b extends k.R6{constructor(){super({id:"editor.action.reindentlines",label:y.N("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:N.u.writable})}run(he,$){let V=$.getModel();if(!V)return;let z=p(V,1,V.getLineCount());z.length>0&&($.pushUndoStop(),$.executeEdits(this.id,z),$.pushUndoStop())}}class L extends k.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:y.N("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:N.u.writable})}run(he,$){let V=$.getModel();if(!V)return;let z=$.getSelections();if(z===null)return;let Q=[];for(let le of z){let E=le.startLineNumber,I=le.endLineNumber;if(E!==I&&le.endColumn===1&&I--,E===1){if(E===I)continue}else E--;let A=p(V,E,I);Q.push(...A)}Q.length>0&&($.pushUndoStop(),$.executeEdits(this.id,Q),$.pushUndoStop())}}class R{constructor(he,$){this._initialSelection=$,this._edits=[],this._selectionId=null;for(let V of he)V.range&&typeof V.text=="string"&&this._edits.push(V)}getEditOperations(he,$){for(let z of this._edits)$.addEditOperation(G.e.lift(z.range),z.text);let V=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(V=!0,this._selectionId=$.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(V=!0,this._selectionId=$.trackSelection(this._initialSelection,!1))),V||(this._selectionId=$.trackSelection(this._initialSelection))}computeCursorState(he,$){return $.getTrackedSelection(this._selectionId)}}class T{constructor(he){this.callOnDispose=new h.SL,this.callOnModel=new h.SL,this.editor=he,this.callOnDispose.add(he.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(he.onDidChangeModel(()=>this.update())),this.callOnDispose.add(he.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(47))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:he})=>{this.trigger(he)}))}trigger(he){let $=this.editor.getSelections();if($===null||$.length>1)return;const V=this.editor.getModel();if(!V||!V.isCheapToTokenize(he.getStartPosition().lineNumber))return;const z=this.editor.getOption(9),{tabSize:Q,indentSize:le,insertSpaces:E}=V.getOptions();let I=[],A={shiftIndent:re=>O.U.shiftIndent(re,re.length+1,Q,le,E),unshiftIndent:re=>O.U.unshiftIndent(re,re.length+1,Q,le,E)},H=he.startLineNumber;for(;H<=he.endLineNumber;){if(this.shouldIgnoreLine(V,H)){H++;continue}break}if(H>he.endLineNumber)return;let Y=V.getLineContent(H);if(!/\S/.test(Y.substring(0,he.startColumn-1))){const re=C.zu.getGoodIndentForLine(z,V,V.getLanguageId(),H,A);if(re!==null){let fe=W.V8(Y),ue=m.Y(re,Q),Oe=m.Y(fe,Q);if(ue!==Oe){let Ce=m.J(ue,Q,E);I.push({range:new G.e(H,1,H,fe.length+1),text:Ce}),Y=Ce+Y.substr(fe.length)}else{let Ce=C.zu.getIndentMetadata(V,H);if(Ce===0||Ce===8)return}}}const X=H;for(;H<he.endLineNumber;){if(!/\S/.test(V.getLineContent(H+1))){H++;continue}break}if(H!==he.endLineNumber){let re={getLineTokens:ue=>V.getLineTokens(ue),getLanguageId:()=>V.getLanguageId(),getLanguageIdAtPosition:(ue,Oe)=>V.getLanguageIdAtPosition(ue,Oe),getLineContent:ue=>ue===X?Y:V.getLineContent(ue)},fe=C.zu.getGoodIndentForLine(z,re,V.getLanguageId(),H+1,A);if(fe!==null){let ue=m.Y(fe,Q),Oe=m.Y(W.V8(V.getLineContent(H+1)),Q);if(ue!==Oe){let Ce=ue-Oe;for(let oe=H+1;oe<=he.endLineNumber;oe++){let ae=V.getLineContent(oe),Be=W.V8(ae),se=m.Y(Be,Q)+Ce,ce=m.J(se,Q,E);ce!==Be&&I.push({range:new G.e(oe,1,oe,Be.length+1),text:ce})}}}}if(I.length>0){this.editor.pushUndoStop();let re=new R(I,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",re),this.editor.pushUndoStop()}}shouldIgnoreLine(he,$){he.forceTokenization($);let V=he.getLineFirstNonWhitespaceColumn($);if(V===0)return!0;let z=he.getLineTokens($);if(z.getCount()>0){let Q=z.findTokenIndexAtOffset(V);if(Q>=0&&z.getStandardTokenType(Q)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}T.ID="editor.contrib.autoIndentOnPaste";function j(ne,he,$,V){if(ne.getLineCount()===1&&ne.getLineMaxColumn(1)===1)return;let z="";for(let le=0;le<$;le++)z+=" ";let Q=new RegExp(z,"gi");for(let le=1,E=ne.getLineCount();le<=E;le++){let I=ne.getLineFirstNonWhitespaceColumn(le);if(I===0&&(I=ne.getLineMaxColumn(le)),I===1)continue;const A=new G.e(le,1,le,I),H=ne.getValueInRange(A),Y=V?H.replace(/\t/ig,z):H.replace(Q,"	");he.addEditOperation(A,Y)}}class q{constructor(he,$){this.selection=he,this.tabSize=$,this.selectionId=null}getEditOperations(he,$){this.selectionId=$.trackSelection(this.selection),j(he,$,this.tabSize,!0)}computeCursorState(he,$){return $.getTrackedSelection(this.selectionId)}}class ie{constructor(he,$){this.selection=he,this.tabSize=$,this.selectionId=null}getEditOperations(he,$){this.selectionId=$.trackSelection(this.selection),j(he,$,this.tabSize,!1)}computeCursorState(he,$){return $.getTrackedSelection(this.selectionId)}}(0,k._K)(T.ID,T),(0,k.Qr)(f),(0,k.Qr)(v),(0,k.Qr)(a),(0,k.Qr)(u),(0,k.Qr)(c),(0,k.Qr)(b),(0,k.Qr)(L)},87586:function(Ct,we,t){"use strict";t.r(we),t.d(we,{InlayHintsController:function(){return q},getInlayHints:function(){return T}});var h=t(15393),W=t(71050),k=t(17301),O=t(89954),w=t(9917),G=t(43702),x=t(98401),N=t(70666),s=t(16830),C=t(11640),l=t(64141),m=t(50187),y=t(24314),n=t(60303),p=t(5405),f=t(88216),v=t(94565),d=t(73910),a=t(97781),u=function(he,$,V,z){var Q=arguments.length,le=Q<3?$:z===null?z=Object.getOwnPropertyDescriptor($,V):z,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(he,$,V,z);else for(var I=he.length-1;I>=0;I--)(E=he[I])&&(le=(Q<3?E(le):Q>3?E($,V,le):E($,V))||le);return Q>3&&le&&Object.defineProperty($,V,le),le},c=function(he,$){return function(V,z){$(V,z,he)}},b=function(he,$,V,z){function Q(le){return le instanceof V?le:new V(function(E){E(le)})}return new(V||(V=Promise))(function(le,E){function I(Y){try{H(z.next(Y))}catch(X){E(X)}}function A(Y){try{H(z.throw(Y))}catch(X){E(X)}}function H(Y){Y.done?le(Y.value):Q(Y.value).then(I,A)}H((z=z.apply(he,$||[])).next())})};const L=1500;class R{constructor(){this._data=new G.Y9}push($,V){const z=this._data.get($.uri);z===void 0?this._data.set($.uri,new Set([V])):z.add(V)}pop($,V){const z=this._data.get($.uri);z&&(z.delete(V),z.size===0&&this._data.delete($.uri))}has($,V){var z;return!!(!((z=this._data.get($.uri))===null||z===void 0)&&z.has(V))}}function T(he,$,V,z){return b(this,void 0,void 0,function*(){const Q=[],E=n.mX.ordered(he).reverse().map(I=>$.map(A=>b(this,void 0,void 0,function*(){try{V.push(he,I);const H=yield I.provideInlayHints(he,A,z);H!=null&&H.length&&Q.push(H.filter(Y=>A.containsPosition(Y.position)))}catch(H){(0,k.Cp)(H)}finally{V.pop(he,I)}})));return yield Promise.all(E.flat()),Q.flat().sort((I,A)=>m.L.compare(I.position,A.position))})}class j{constructor(){this._entries=new G.z6(50)}get($){const V=j._key($);return this._entries.get(V)}set($,V){const z=j._key($);this._entries.set(z,V)}static _key($){return`${$.uri.toString()}/${$.getVersionId()}`}}let q=class Ml{constructor($,V){this._editor=$,this._codeEditorService=V,this._decorationOwnerId=++Ml._decorationOwnerIdPool,this._disposables=new w.SL,this._sessionDisposables=new w.SL,this._getInlayHintsDelays=new p.Y(n.mX,25,500),this._cache=new j,this._decorations=new Map,this._disposables.add(n.mX.onDidChange(()=>this._update())),this._disposables.add($.onDidChangeModel(()=>this._update())),this._disposables.add($.onDidChangeModelLanguage(()=>this._update())),this._disposables.add($.onDidChangeConfiguration(z=>{z.hasChanged(125)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(125).enabled)return;const $=this._editor.getModel();if(!$||!n.mX.has($))return;const V=this._cache.get($);V&&this._updateHintsDecorators([$.getFullModelRange()],V);const z=new R,Q=new h.pY(()=>b(this,void 0,void 0,function*(){const E=Date.now(),I=new W.A;this._sessionDisposables.add((0,w.OF)(()=>I.dispose(!0)));const A=this._getHintsRanges(),H=yield T($,A,z,I.token);Q.delay=this._getInlayHintsDelays.update($,Date.now()-E),!I.token.isCancellationRequested&&(this._updateHintsDecorators(A,H),this._cache.set($,Array.from(this._decorations.values()).map(Y=>Y.hint)))}),this._getInlayHintsDelays.get($));this._sessionDisposables.add(Q),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>Q.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>Q.schedule())),Q.schedule();const le=new w.SL;this._sessionDisposables.add(le);for(const E of n.mX.all($))typeof E.onDidChangeInlayHints=="function"&&le.add(E.onDidChangeInlayHints(()=>{z.has($,E)||Q.schedule()}))}_getHintsRanges(){const V=this._editor.getModel(),z=this._editor.getVisibleRangesPlusViewportAboveBelow(),Q=[];for(const le of z.sort(y.e.compareRangesUsingStarts)){const E=V.validateRange(new y.e(le.startLineNumber-30,le.startColumn,le.endLineNumber+30,le.endColumn));Q.length===0||!y.e.areIntersectingOrTouching(Q[Q.length-1],E)?Q.push(E):Q[Q.length-1]=y.e.plusRange(Q[Q.length-1],E)}return Q}_updateHintsDecorators($,V){const{fontSize:z,fontFamily:Q}=this._getLayoutInfo(),le=this._editor.getModel(),E=[],I=[],A="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(A,Q);for(const X of V){const{text:re,position:fe,whitespaceBefore:ue,whitespaceAfter:Oe}=X,Ce=ue?z/3|0:0,oe=Oe?z/3|0:0,ae={contentText:ne(re),fontSize:`${z}px`,margin:`0px ${oe}px 0px ${Ce}px`,fontFamily:`var(${A}), ${l.hL.fontFamily}`,padding:`1px ${Math.max(1,z/4)|0}px`,borderRadius:`${z/4|0}px`,verticalAlign:"middle",backgroundColor:(0,a.EN)(d.Pp),color:(0,a.EN)(d.VV)};X.kind===n.gl.Parameter?(ae.backgroundColor=(0,a.EN)(d.ph),ae.color=(0,a.EN)(d.HC)):X.kind===n.gl.Type&&(ae.backgroundColor=(0,a.EN)(d.bK),ae.color=(0,a.EN)(d.hX));let Be={beforeInjectedText:Object.assign(Object.assign({},ae),{affectsLetterSpacing:!0})},Ve=y.e.fromPositions(fe),se=le.getWordAtPosition(fe),ce=!1;se&&(se.endColumn===fe.column?(Be.afterInjectedText=Be.beforeInjectedText,Be.beforeInjectedText=void 0,ce=!0,Ve=ie(se,fe.lineNumber)):se.startColumn===fe.column&&(ce=!0,Ve=ie(se,fe.lineNumber)));const Te="inlayHints-"+(0,O.vp)(Be).toString(16);if(this._codeEditorService.registerDecorationType("inlay-hints-controller",Te,Be,void 0,this._editor),E.push(Te),I.push({range:Ve,options:Object.assign(Object.assign({},this._codeEditorService.resolveDecorationOptions(Te,!0)),{showIfCollapsed:!ce,stickiness:0})})>L)break}const H=[];for(const X of $)for(const{id:re}of le.getDecorationsInRange(X,this._decorationOwnerId,!0)){const fe=this._decorations.get(re);fe&&(H.push(re),this._codeEditorService.removeDecorationType(fe.decorationTypeId),this._decorations.delete(re))}const Y=le.deltaDecorations(H,I,this._decorationOwnerId);for(let X=0;X<Y.length;X++)this._decorations.set(Y[X],{hint:V[X],decorationTypeId:E[X]})}_getLayoutInfo(){const $=this._editor.getOption(125),V=this._editor.getOption(45);let z=$.fontSize;(!z||z<5||z>V)&&(z=V*.9|0);const Q=$.fontFamily||this._editor.getOption(42);return{fontSize:z,fontFamily:Q}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorations.keys()),[]);for(let $ of this._decorations.values())this._codeEditorService.removeDecorationType($.decorationTypeId);this._decorations.clear()}};q.ID="editor.contrib.InlayHints",q._decorationOwnerIdPool=0,q=u([c(1,C.$)],q);function ie(he,$){return new y.e($,he.startColumn,$,he.endColumn)}function ne(he){const $="\xA0";return he.replace(/[ \t]/g,$)}(0,s._K)(q.ID,q),v.P.registerCommand("_executeInlayHintProvider",(he,...$)=>b(void 0,void 0,void 0,function*(){const[V,z]=$;(0,x.p_)(N.o.isUri(V)),(0,x.p_)(y.e.isIRange(z));const Q=yield he.get(f.S).createModelReference(V);try{return yield T(Q.object.textEditorModel,[y.e.lift(z)],new R,W.T.None)}finally{Q.dispose()}}))},24822:function(Ct,we,t){"use strict";t.r(we),t.d(we,{ActiveGhostTextController:function(){return Xt},GhostTextController:function(){return Nt},ShowNextInlineSuggestionAction:function(){return mi},ShowPreviousInlineSuggestionAction:function(){return pt},TriggerInlineSuggestionAction:function(){return ut},commitInlineSuggestionAction:function(){return Zt}});var h=t(9917),W=t(97295),k=t(16830),O=t(47707),w=t(29102);const G="editor.action.inlineSuggest.commit";var x=t(4669),N=t(50187),s=t(60303),C=t(15393),l=t(71050),m=t(17301),y=t(68770),n=t(69386),p=t(24314);class f{constructor(de,be,J=0){this.lineNumber=de,this.parts=be,this.additionalReservedLineCount=J}renderForScreenReader(de){if(this.parts.length===0)return"";const be=this.parts[this.parts.length-1],J=de.substr(0,be.column-1);return d(J,this.parts.map(ke=>({range:{startLineNumber:1,endLineNumber:1,startColumn:ke.column,endColumn:ke.column},text:ke.lines.join(`
`)}))).substring(this.parts[0].column-1)}}class v{constructor(de){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let be=0;be<de.length;be++)de.charAt(be)===`
`&&this.lineStartOffsetByLineIdx.push(be+1)}getOffset(de){return this.lineStartOffsetByLineIdx[de.lineNumber-1]+de.column-1}}function d(tt,de){const be=new v(tt),J=de.map(pe=>{const ke=p.e.lift(pe.range);return{startOffset:be.getOffset(ke.getStartPosition()),endOffset:be.getOffset(ke.getEndPosition()),text:pe.text}});J.sort((pe,ke)=>ke.startOffset-pe.startOffset);for(const pe of J)tt=tt.substring(0,pe.startOffset)+pe.text+tt.substring(pe.endOffset);return tt}class a{constructor(de,be,J){this.column=de,this.lines=be,this.preview=J}}class u extends h.JT{constructor(de){super(),this.editor=de,this._expanded=void 0,this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(de.onDidChangeConfiguration(be=>{be.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(de){this._expanded=!0,this.onDidChangeEmitter.fire()}}var c=t(94565),b=t(22571);function L(tt,de){return tt===de?!0:!tt||!de?!1:tt.range.equalsRange(de.range)&&tt.text===de.text&&tt.command===de.command}function R(tt,de,be,J,pe=0){if(tt.range.startLineNumber!==tt.range.endLineNumber)return;const ke=de.getLineContent(tt.range.startLineNumber),at=W.V8(ke).length;if(tt.range.startColumn-1<=at){const jt=W.V8(tt.text).length,ui=ke.substring(tt.range.startColumn-1,at),_i=p.e.fromPositions(tt.range.getStartPosition().delta(0,ui.length),tt.range.getEndPosition()),bi=tt.text.startsWith(ui)?tt.text.substring(ui.length):tt.text.substring(jt);tt={range:_i,text:bi,command:tt.command}}const _t=de.getValueInRange(tt.range),Et=j(_t,tt.text);if(!Et)return;const Wt=tt.range.startLineNumber,Mt=new Array;if(be==="prefix"){const jt=Et.filter(ui=>ui.originalLength===0);if(jt.length>1||jt.length===1&&jt[0].originalStart!==_t.length)return}const Jt=tt.text.length-pe;for(const jt of Et){const ui=tt.range.startColumn+jt.originalStart+jt.originalLength;if(be==="subwordSmart"&&J&&J.lineNumber===tt.range.startLineNumber&&ui<J.column||jt.originalLength>0)return;if(jt.modifiedLength===0)continue;const _i=jt.modifiedStart+jt.modifiedLength,bi=Math.max(jt.modifiedStart,Math.min(_i,Jt)),Ai=tt.text.substring(jt.modifiedStart,bi),Ri=tt.text.substring(bi,Math.max(jt.modifiedStart,_i));if(Ai.length>0){const zi=W.uq(Ai);Mt.push(new a(ui,zi,!1))}if(Ri.length>0){const zi=W.uq(Ri);Mt.push(new a(ui,zi,!0))}}return new f(Wt,Mt,0)}let T;function j(tt,de){if((T==null?void 0:T.originalValue)===tt&&(T==null?void 0:T.newValue)===de)return T==null?void 0:T.changes;{const be=q(tt,de);return T={originalValue:tt,newValue:de,changes:be},be}}function q(tt,de){if(tt.length>5e3||de.length>5e3)return;function be(_t){let Et=0;for(let Wt=0,Mt=_t.length;Wt<Mt;Wt++){const Jt=_t.charCodeAt(Wt);Jt>Et&&(Et=Jt)}return Et}const J=Math.max(be(tt),be(de));function pe(_t){if(_t<0)throw new Error("unexpected");return J+_t+1}function ke(_t){let Et=0,Wt=0;const Mt=new Int32Array(_t.length);for(let Jt=0,jt=_t.length;Jt<jt;Jt++){const ui=Wt*100+Et;_t[Jt]==="("?(Mt[Jt]=pe(2*ui),Et++):_t[Jt]===")"?(Mt[Jt]=pe(2*ui+1),Et===1&&Wt++,Et=Math.max(Et-1,0)):Mt[Jt]=_t.charCodeAt(Jt)}return Mt}const at=ke(tt),st=ke(de);return new b.Hs({getElements:()=>at},{getElements:()=>st}).ComputeDiff(!1).changes}var ie=function(tt,de,be,J){var pe=arguments.length,ke=pe<3?de:J===null?J=Object.getOwnPropertyDescriptor(de,be):J,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(tt,de,be,J);else for(var st=tt.length-1;st>=0;st--)(at=tt[st])&&(ke=(pe<3?at(ke):pe>3?at(de,be,ke):at(de,be))||ke);return pe>3&&ke&&Object.defineProperty(de,be,ke),ke},ne=function(tt,de){return function(be,J){de(be,J,tt)}},he=function(tt,de,be,J){function pe(ke){return ke instanceof be?ke:new be(function(at){at(ke)})}return new(be||(be=Promise))(function(ke,at){function st(Wt){try{Et(J.next(Wt))}catch(Mt){at(Mt)}}function _t(Wt){try{Et(J.throw(Wt))}catch(Mt){at(Mt)}}function Et(Wt){Wt.done?ke(Wt.value):pe(Wt.value).then(st,_t)}Et((J=J.apply(tt,de||[])).next())})};let $=class extends h.JT{constructor(de,be,J){super(),this.editor=de,this.cache=be,this.commandService=J,this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new h.XK),this.active=!1,this.disposed=!1,this._register(J.onDidExecuteCommand(pe=>{new Set([k.n_.id,k.kz.id,y.CoreEditingCommands.Tab.id,y.CoreEditingCommands.DeleteLeft.id,y.CoreEditingCommands.DeleteRight.id,G,"acceptSelectedSuggestion"]).has(pe.commandId)&&de.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(pe=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(pe=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,h.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var de;return(de=this.session)===null||de===void 0?void 0:de.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(de){var be;(be=this.session)===null||be===void 0||be.setExpanded(de)}setActive(de){var be;this.active=de,de&&((be=this.session)===null||be===void 0||be.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(54).enabled&&(this.session&&this.session.isValid||this.trigger(s.bw.Automatic))}trigger(de){if(this.completionSession.value){de===s.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new V(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,de),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var de;(de=this.session)===null||de===void 0||de.commitCurrentCompletion()}showNext(){var de;(de=this.session)===null||de===void 0||de.showNextInlineCompletion()}showPrevious(){var de;(de=this.session)===null||de===void 0||de.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var de;return he(this,void 0,void 0,function*(){const be=yield(de=this.session)===null||de===void 0?void 0:de.hasMultipleInlineCompletions();return be!==void 0?be:!1})}};$=ie([ne(2,c.H)],$);class V extends u{constructor(de,be,J,pe,ke,at){super(de),this.triggerPosition=be,this.shouldUpdate=J,this.commandService=pe,this.cache=ke,this.initialTriggerKind=at,this.minReservedLineCount=0,this.updateOperation=this._register(new h.XK),this.updateSoon=this._register(new C.pY(()=>{let _t=this.initialTriggerKind;return this.initialTriggerKind=s.bw.Automatic,this.update(_t)},50)),this.currentlySelectedCompletionId=void 0;let st;this._register(this.onDidChange(()=>{const _t=this.currentCompletion;if(_t&&_t.sourceInlineCompletion!==st){st=_t.sourceInlineCompletion;const Et=_t.sourceProvider;Et.handleItemDidShow&&Et.handleItemDidShow(_t.sourceInlineCompletions,st)}})),this._register((0,h.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(_t=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(_t=>{this.scheduleAutomaticUpdate()})),this._register(s.zu.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const de=this.cache.value.completions.findIndex(be=>be.semanticId===this.currentlySelectedCompletionId);return de===-1?(this.currentlySelectedCompletionId=void 0,0):de}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var de;return he(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const be=((de=this.cache.value)===null||de===void 0?void 0:de.completions)||[];if(be.length>0){const J=(this.fixAndGetIndexOfCurrentSelection()+1)%be.length;this.currentlySelectedCompletionId=be[J].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var de;return he(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const be=((de=this.cache.value)===null||de===void 0?void 0:de.completions)||[];if(be.length>0){const J=(this.fixAndGetIndexOfCurrentSelection()+be.length-1)%be.length;this.currentlySelectedCompletionId=be[J].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var de;return he(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===s.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(s.bw.Explicit):((de=this.cache.value)===null||de===void 0?void 0:de.triggerKind)!==s.bw.Explicit&&(yield this.update(s.bw.Explicit))})}hasMultipleInlineCompletions(){var de;return he(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((de=this.cache.value)===null||de===void 0?void 0:de.completions.length)||0)>1})}get ghostText(){const de=this.currentCompletion,be=this.editor.getOptions().get(54).mode;return de?R(de,this.editor.getModel(),be,this.editor.getPosition()):void 0}get currentCompletion(){const de=this.currentCachedCompletion;if(de)return de.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(de){return he(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const be=this.editor.getPosition(),J=(0,C.PG)(ke=>he(this,void 0,void 0,function*(){let at;try{at=yield I(be,this.editor.getModel(),{triggerKind:de,selectedSuggestionInfo:void 0},ke)}catch(st){(0,m.dL)(st);return}ke.isCancellationRequested||(this.cache.setValue(this.editor,at,de),this.onDidChangeEmitter.fire())})),pe=new z(J,de);this.updateOperation.value=pe,yield J,this.updateOperation.value===pe&&this.updateOperation.clear()})}takeOwnership(de){this._register(de)}commitCurrentCompletion(){if(!this.ghostText)return;const de=this.currentCompletion;de&&this.commit(de)}commit(de){const be=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[n.h.replaceMove(de.range,de.text)]),de.command?this.commandService.executeCommand(de.command.id,...de.command.arguments||[]).finally(()=>{be==null||be.dispose()}).then(void 0,m.Cp):be==null||be.dispose(),this.onDidChangeEmitter.fire()}}class z{constructor(de,be){this.promise=de,this.triggerKind=be}dispose(){this.promise.cancel()}}class Q extends h.JT{constructor(de,be,J,pe){super(),this.triggerKind=pe;const ke=de.deltaDecorations([],be.items.map(at=>({range:at.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,h.OF)(()=>{de.deltaDecorations(ke,[])})),this.completions=be.items.map((at,st)=>new le(at,ke[st])),this._register(de.onDidChangeModelContent(()=>{let at=!1;const st=de.getModel();for(const _t of this.completions){const Et=st.getDecorationRange(_t.decorationId);if(!Et){(0,m.dL)(new Error("Decoration has no range"));continue}_t.synchronizedRange.equalsRange(Et)||(at=!0,_t.synchronizedRange=Et)}at&&J()})),this._register(be)}}class le{constructor(de,be){this.inlineCompletion=de,this.decorationId=be,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=de.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function E(tt,de){const be=de.getWordAtPosition(tt),J=de.getLineMaxColumn(tt.lineNumber);return be?new p.e(tt.lineNumber,be.startColumn,tt.lineNumber,J):p.e.fromPositions(tt,tt.with(void 0,J))}function I(tt,de,be,J=l.T.None){return he(this,void 0,void 0,function*(){const pe=E(tt,de),ke=s.zu.all(de),at=yield Promise.all(ke.map(_t=>he(this,void 0,void 0,function*(){const Et=yield _t.provideInlineCompletions(de,tt,be,J);return{completions:Et,provider:_t,dispose:()=>{Et&&_t.freeInlineCompletions(Et)}}}))),st=new Map;for(const _t of at){const Et=_t.completions;if(Et)for(const Wt of Et.items.map(Mt=>({text:Mt.text,range:Mt.range?p.e.lift(Mt.range):pe,command:Mt.command,sourceProvider:_t.provider,sourceInlineCompletions:Et,sourceInlineCompletion:Mt})))Wt.range.startLineNumber===Wt.range.endLineNumber&&st.set(JSON.stringify({text:Wt.text,range:Wt.range}),Wt)}return{items:[...st.values()],dispose:()=>{for(const _t of at)_t.dispose()}}})}function A(tt,de){if(!de)return de;const be=tt.getValueInRange(de.range),J=(0,W.Mh)(be,de.text),pe=tt.getOffsetAt(de.range.getStartPosition())+J,ke=tt.getPositionAt(pe),at=be.substr(J),st=(0,W.P1)(at,de.text),_t=tt.getPositionAt(Math.max(pe,tt.getOffsetAt(de.range.getEndPosition())-st));return{range:p.e.fromPositions(ke,_t),text:de.text.substr(J,de.text.length-J-st)}}var H=t(63472),Y=t(44951),X=t(74480);function re(tt,de){return{object:tt,dispose:()=>de==null?void 0:de.dispose()}}function fe(tt,de){return(be,J)=>de(tt(be),tt(J))}function ue(){return(tt,de)=>tt-de}function Oe(tt,de){let be;for(const J of tt)(be===void 0||de(J,be)>0)&&(be=J);return be}class Ce extends h.JT{constructor(de,be){super(),this.editor=de,this.suggestControllerPreselector=be,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new C.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(de.onKeyDown(pe=>{pe.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(de.onKeyUp(pe=>{pe.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const J=X.SuggestController.get(this.editor);if(J){this._register(J.registerSelector({priority:100,select:(at,st,_t)=>{const Et=this.editor.getModel(),Wt=A(Et,this.suggestControllerPreselector());if(!Wt)return-1;const Mt=N.L.lift(st),Jt=_t.map((ui,_i)=>{const bi=ae(J,Mt,ui,this.isShiftKeyPressed),Ai=A(Et,bi);if(!Ai)return;const Ri=oe(Wt.range,Ai.range)&&Wt.text.startsWith(Ai.text);return{index:_i,valid:Ri,prefixLength:Ai.text.length,suggestItem:ui}}).filter(ui=>ui&&ui.valid),jt=Oe(Jt,fe(ui=>ui.prefixLength,ue()));return jt?jt.index:-1}}));let pe=!1;const ke=()=>{pe||(pe=!0,this._register(J.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(J.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(J.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(x.ju.once(J.model.onDidTrigger)(at=>{ke()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(de){const be=this.getInlineCompletion();let J=!1;L(this._currentInlineCompletion,be)||(this._currentInlineCompletion=be,J=!0),this._isActive!==de&&(this._isActive=de,J=!0),J&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const de=X.SuggestController.get(this.editor);if(!de||!this.isSuggestWidgetVisible)return;const be=de.widget.value.getFocusedItem();if(be)return ae(de,this.editor.getPosition(),be.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const de=X.SuggestController.get(this.editor);de&&de.stopForceRenderingAbove()}forceRenderingAbove(){const de=X.SuggestController.get(this.editor);de&&de.forceRenderingAbove()}}function oe(tt,de){return tt.startLineNumber===de.startLineNumber&&tt.startColumn===de.startColumn&&(tt.endLineNumber<de.endLineNumber||tt.endLineNumber===de.endLineNumber&&tt.endColumn<=de.endColumn)}function ae(tt,de,be,J){if(Array.isArray(be.completion.additionalTextEdits)&&be.completion.additionalTextEdits.length>0)return{text:"",range:p.e.fromPositions(de,de)};let{insertText:pe}=be.completion;if(be.completion.insertTextRules&4){const at=new H.Yj().parse(pe),st=tt.editor.getModel();if(at.children.length>100)return;Y.l.adjustWhitespace(st,de,at,!0,!0),pe=at.toString()}const ke=tt.getOverwriteInfo(be,J);return{text:pe,range:p.e.fromPositions(de.delta(0,-ke.overwriteBefore),de.delta(0,Math.max(ke.overwriteAfter,0)))}}var Be=function(tt,de,be,J){function pe(ke){return ke instanceof be?ke:new be(function(at){at(ke)})}return new(be||(be=Promise))(function(ke,at){function st(Wt){try{Et(J.next(Wt))}catch(Mt){at(Mt)}}function _t(Wt){try{Et(J.throw(Wt))}catch(Mt){at(Mt)}}function Et(Wt){Wt.done?ke(Wt.value):pe(Wt.value).then(st,_t)}Et((J=J.apply(tt,de||[])).next())})};class Ve extends u{constructor(de,be){super(de),this.cache=be,this.suggestionInlineCompletionSource=this._register(new Ce(this.editor,()=>{var J,pe;return(pe=(J=this.cache.value)===null||J===void 0?void 0:J.completions[0])===null||pe===void 0?void 0:pe.toLiveInlineCompletion()})),this.updateOperation=this._register(new h.XK),this.updateCacheSoon=this._register(new C.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const pe=this.ghostText;pe&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,se(pe.parts.map(ke=>ke.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(J=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register((0,h.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateCache(){return Be(this,void 0,void 0,function*(){const de=this.suggestionInlineCompletionSource.state;if(!de||!de.selectedItemAsInlineCompletion)return;const be={text:de.selectedItemAsInlineCompletion.text,range:de.selectedItemAsInlineCompletion.range},J=this.editor.getPosition(),pe=(0,C.PG)(at=>Be(this,void 0,void 0,function*(){let st;try{st=yield I(J,this.editor.getModel(),{triggerKind:s.bw.Automatic,selectedSuggestionInfo:be},at)}catch(_t){(0,m.dL)(_t);return}at.isCancellationRequested||(this.cache.setValue(this.editor,st,s.bw.Automatic),this.onDidChangeEmitter.fire())})),ke=new z(pe,s.bw.Automatic);this.updateOperation.value=ke,yield pe,this.updateOperation.value===ke&&this.updateOperation.clear()})}get ghostText(){var de,be;if(!this.isSuggestionPreviewEnabled())return;const J=this.suggestionInlineCompletionSource.state,pe=A(this.editor.getModel(),J==null?void 0:J.selectedItemAsInlineCompletion),ke=A(this.editor.getModel(),(be=(de=this.cache.value)===null||de===void 0?void 0:de.completions[0])===null||be===void 0?void 0:be.toLiveInlineCompletion()),at=ke&&pe&&ke.text.startsWith(pe.text)&&ke.range.equalsRange(pe.range)?ke:pe||ke,st=pe?((at==null?void 0:at.text.length)||0)-pe.text.length:0;return(Wt=>{const Mt=this.editor.getOptions().get(105).previewMode;return Wt?R(Wt,this.editor.getModel(),Mt,this.editor.getPosition(),st)||new f(Wt.range.endLineNumber,[],this.minReservedLineCount):void 0})(at)}}function se(tt){return tt.reduce((de,be)=>de+be,0)}var ce=function(tt,de,be,J){var pe=arguments.length,ke=pe<3?de:J===null?J=Object.getOwnPropertyDescriptor(de,be):J,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(tt,de,be,J);else for(var st=tt.length-1;st>=0;st--)(at=tt[st])&&(ke=(pe<3?at(ke):pe>3?at(de,be,ke):at(de,be))||ke);return pe>3&&ke&&Object.defineProperty(de,be,ke),ke},Te=function(tt,de){return function(be,J){de(be,J,tt)}},xe=function(tt,de,be,J){function pe(ke){return ke instanceof be?ke:new be(function(at){at(ke)})}return new(be||(be=Promise))(function(ke,at){function st(Wt){try{Et(J.next(Wt))}catch(Mt){at(Mt)}}function _t(Wt){try{Et(J.throw(Wt))}catch(Mt){at(Mt)}}function Et(Wt){Wt.done?ke(Wt.value):pe(Wt.value).then(st,_t)}Et((J=J.apply(tt,de||[])).next())})};class Fe extends h.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new h.XK)}get targetModel(){var de;return(de=this.currentModelRef.value)===null||de===void 0?void 0:de.object}setTargetModel(de){var be;((be=this.currentModelRef.value)===null||be===void 0?void 0:be.object)!==de&&(this.currentModelRef.clear(),this.currentModelRef.value=de?re(de,de.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var de,be;return this.hasCachedGhostText||(this.cachedGhostText=(be=(de=this.currentModelRef.value)===null||de===void 0?void 0:de.object)===null||be===void 0?void 0:be.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(de){var be;(be=this.targetModel)===null||be===void 0||be.setExpanded(de)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Le=class extends Fe{constructor(de,be){super(),this.editor=de,this.commandService=be,this.sharedCache=this._register(new Me),this.suggestWidgetAdapterModel=this._register(new Ve(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new $(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(de){var be;const J=(be=this.activeInlineCompletionsModel)===null||be===void 0?void 0:be.ghostText;return J?J.parts.some(pe=>de.containsPosition(new N.L(J.lineNumber,pe.column))):!1}triggerInlineCompletion(){var de;(de=this.activeInlineCompletionsModel)===null||de===void 0||de.trigger(s.bw.Explicit)}commitInlineCompletion(){var de;(de=this.activeInlineCompletionsModel)===null||de===void 0||de.commitCurrentSuggestion()}hideInlineCompletion(){var de;(de=this.activeInlineCompletionsModel)===null||de===void 0||de.hide()}showNextInlineCompletion(){var de;(de=this.activeInlineCompletionsModel)===null||de===void 0||de.showNext()}showPreviousInlineCompletion(){var de;(de=this.activeInlineCompletionsModel)===null||de===void 0||de.showPrevious()}hasMultipleInlineCompletions(){var de;return xe(this,void 0,void 0,function*(){const be=yield(de=this.activeInlineCompletionsModel)===null||de===void 0?void 0:de.hasMultipleInlineCompletions();return be!==void 0?be:!1})}};Le=ce([Te(1,c.H)],Le);class Me extends h.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new x.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new h.XK)}get value(){return this.cache.value}setValue(de,be,J){this.cache.value=new Q(de,be,()=>this.onDidChangeEmitter.fire(),J)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Se=t(65321),ze=t(41264),Ye=t(87917),qe=t(11640),ht=t(64141),kt=t(33181),zt=t(78411),Ke=t(50072),Je=t(71531),Ze=t(27869),Ae=t(92550),He=t(77736),It=t(38819),Bt=t(72065),oi=t(97781),ni=function(tt,de,be,J){var pe=arguments.length,ke=pe<3?de:J===null?J=Object.getOwnPropertyDescriptor(de,be):J,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(tt,de,be,J);else for(var st=tt.length-1;st>=0;st--)(at=tt[st])&&(ke=(pe<3?at(ke):pe>3?at(de,be,ke):at(de,be))||ke);return pe>3&&ke&&Object.defineProperty(de,be,ke),ke},hi=function(tt,de){return function(be,J){de(be,J,tt)}},Di;const Ti=(Di=window.trustedTypes)===null||Di===void 0?void 0:Di.createPolicy("editorGhostText",{createHTML:tt=>tt});let Ii=class extends h.JT{constructor(de,be,J,pe){super(),this.editor=de,this.model=be,this.instantiationService=J,this.modeService=pe,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(ai,this.editor)),this.additionalLinesWidget=this._register(new Gt(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(ke=>{(ke.hasChanged(29)||ke.hasChanged(104)||ke.hasChanged(87)||ke.hasChanged(82)||ke.hasChanged(44)||ke.hasChanged(43)||ke.hasChanged(58))&&this.update()})),this._register((0,h.OF)(()=>{var ke;this.disposed=!0,this.update(),(ke=this.viewMoreContentWidget)===null||ke===void 0||ke.dispose(),this.viewMoreContentWidget=void 0})),this._register(be.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(de){return this.additionalLinesWidget.viewZoneId===de}update(){var de;const be=this.model.ghostText;if(!this.editor.hasModel()||!be||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const J=new Array,pe=new Array;function ke(Et,Wt){if(pe.length>0){const Mt=pe[pe.length-1];Wt&&Mt.decorations.push(new Ae.Kp(Mt.content.length+1,Mt.content.length+1+Et[0].length,Wt,0)),Mt.content+=Et[0],Et=Et.slice(1)}for(const Mt of Et)pe.push({content:Mt,decorations:Wt?[new Ae.Kp(1,Mt.length+1,Wt,0)]:[]})}const at=this.editor.getModel().getLineContent(be.lineNumber);this.editor.getModel().getLineTokens(be.lineNumber);let st,_t=0;for(const Et of be.parts){let Wt=Et.lines;st===void 0?(J.push({column:Et.column,text:Wt[0],preview:Et.preview}),Wt=Wt.slice(1)):ke([at.substring(_t,Et.column-1)],void 0),Wt.length>0&&(ke(Wt,"ghost-text"),st===void 0&&Et.column<=at.length&&(st=Et.column)),_t=Et.column-1}st!==void 0&&ke([at.substring(_t)],void 0),this.partsWidget.setParts(be.lineNumber,J,st!==void 0?{column:st,length:at.length+1-st}:void 0),this.additionalLinesWidget.updateLines(be.lineNumber,pe,be.additionalReservedLineCount),be.parts.some(Et=>Et.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new N.L(be.lineNumber,this.editor.getModel().getLineMaxColumn(be.lineNumber)),"",0):((de=this.viewMoreContentWidget)===null||de===void 0||de.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(de,be,J){const pe=this.editor.getOption(43),ke=document.createElement("div");ke.className="suggest-preview-additional-widget",Ye.V.applyFontInfoSlow(ke,pe);const at=document.createElement("span");at.className="content-spacer",at.append(be),ke.append(at);const st=document.createElement("span");st.className="content-newline suggest-preview-text",st.append("\u23CE  "),ke.append(st);const _t=new h.SL,Et=document.createElement("div");return Et.className="button suggest-preview-text",Et.append(`+${J} lines\u2026`),_t.add(Se.mu(Et,"mousedown",Wt=>{var Mt;(Mt=this.model)===null||Mt===void 0||Mt.setExpanded(!0),Wt.preventDefault(),this.editor.focus()})),ke.append(Et),new Xe(this.editor,de,ke,_t)}};Ii=ni([hi(2,Bt.TG),hi(3,Je.h)],Ii);let ai=class{constructor(de,be,J,pe){this.editor=de,this.codeEditorService=be,this.themeService=J,this.contextKeyService=pe,this.decorationIds=[],this.disposableStore=new h.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(de,be,J){this.disposableStore.clear();const pe=this.themeService.getColorTheme(),ke=pe.getColor(Ze.N5);let at,st;ke&&(at=String(ke.rgba.a),st=ze.Il.Format.CSS.format(Pt(ke)));const _t=pe.getColor(Ze.x3);let Et;_t&&(Et=`2px dashed ${_t}`);const Wt=this.editor.getModel();if(!Wt)return;const{tabSize:Mt}=Wt.getOptions(),Jt=Wt.getLineContent(de)||"";let jt=0,ui="";const _i=new Array;J&&_i.push({range:p.e.fromPositions(new N.L(de,J.column),new N.L(de,J.column+J.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const bi=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),Ai=bi===void 0?!0:!!bi;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,be.map(Ri=>{ui+=Jt.substring(jt,Ri.column-1),jt=Ri.column-1;const zi=Ai?Ri.text:this.renderSingleLineText(Ri.text,ui,Mt,!1),hn=this.disposableStore.add(ft(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:zi,opacity:at,color:st,border:Et,fontWeight:Ri.preview?"bold":"normal"}}));return{range:p.e.fromPositions(new N.L(de,Ri.column)),options:Ai?{description:"ghost-text",after:{content:zi,inlineClassName:Ri.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},hn.resolve())}}).concat(_i))}renderSingleLineText(de,be,J,pe){const ke=be+de,at=kt.io.visibleColumnsByColumns(ke,J);let st="",_t=be.length+1;for(const Et of de){if(Et==="	"){const Wt=at[_t+1]-at[_t];if(pe){st+="\u2192";for(let Mt=1;Mt<Wt;Mt++)st+="\xA0"}else for(let Mt=0;Mt<Wt;Mt++)st+="\xA0"}else Et===" "?pe?st+="\xB7":st+="\xA0":st+=Et;_t+=1}return st}};ai=ni([hi(1,qe.$),hi(2,oi.XE),hi(3,It.i6)],ai);function Pt(tt){const{r:de,b:be,g:J}=tt.rgba;return new ze.Il(new ze.VS(de,J,be,255))}class Gt{constructor(de,be){this.editor=de,this.languageIdCodec=be,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(de=>{this._viewZoneId&&(de.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(de,be,J){const pe=this.editor.getModel();if(!pe)return;const{tabSize:ke}=pe.getOptions();this.editor.changeViewZones(at=>{this._viewZoneId&&(at.removeZone(this._viewZoneId),this._viewZoneId=void 0);const st=Math.max(be.length,J);if(st>0){const _t=document.createElement("div");ot(_t,ke,be,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=at.addZone({afterLineNumber:de,heightInLines:st,domNode:_t})}})}}function ot(tt,de,be,J,pe){const ke=J.get(29),at=J.get(104),st="none",_t=J.get(82),Et=J.get(44),Wt=J.get(43),Mt=J.get(58),Jt=(0,Ke.l$)(1e4);Jt.appendASCIIString('<div class="suggest-preview-text">');for(let _i=0,bi=be.length;_i<bi;_i++){const Ai=be[_i],Ri=Ai.content;Jt.appendASCIIString('<div class="view-line'),Jt.appendASCIIString('" style="top:'),Jt.appendASCIIString(String(_i*Mt)),Jt.appendASCIIString('px;width:1000000px;">');const zi=W.$i(Ri),hn=W.Ut(Ri),bn=zt.A.createEmpty(Ri,pe);(0,He.d1)(new He.IJ(Wt.isMonospace&&!ke,Wt.canUseHalfwidthRightwardsArrow,Ri,!1,zi,hn,0,bn,Ai.decorations,de,0,Wt.spaceWidth,Wt.middotWidth,Wt.wsmiddotWidth,at,st,_t,Et!==ht.n0.OFF,null),Jt),Jt.appendASCIIString("</div>")}Jt.appendASCIIString("</div>"),Ye.V.applyFontInfoSlow(tt,Wt);const jt=Jt.build(),ui=Ti?Ti.createHTML(jt):jt;tt.innerHTML=ui}let mt=0;function ft(tt,de,be,J){const pe=be+mt++;return tt.registerDecorationType(de,pe,J),{dispose(){tt.removeDecorationType(pe)},resolve(){return tt.resolveDecorationOptions(pe,!0)}}}class Xe extends h.JT{constructor(de,be,J,pe){super(),this.editor=de,this.position=be,this.domNode=J,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(pe),this._register((0,h.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,oi.Ic)((tt,de)=>{const be=tt.getColor(Ze.N5);if(be){const pe=String(be.rgba.a),ke=ze.Il.Format.CSS.format(Pt(be));de.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${pe} !important; color: ${ke} !important; }`),de.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${be.toString()} !important; }`),de.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${pe} !important; color: ${ke} !important; }`)}const J=tt.getColor(Ze.x3);J&&(de.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${J}; }`),de.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${J}; }`),de.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${J}; }`))});var Ge=t(63580),Ie=t(49989),Pe=function(tt,de,be,J){var pe=arguments.length,ke=pe<3?de:J===null?J=Object.getOwnPropertyDescriptor(de,be):J,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(tt,de,be,J);else for(var st=tt.length-1;st>=0;st--)(at=tt[st])&&(ke=(pe<3?at(ke):pe>3?at(de,be,ke):at(de,be))||ke);return pe>3&&ke&&Object.defineProperty(de,be,ke),ke},je=function(tt,de){return function(be,J){de(be,J,tt)}},dt=function(tt,de,be,J){function pe(ke){return ke instanceof be?ke:new be(function(at){at(ke)})}return new(be||(be=Promise))(function(ke,at){function st(Wt){try{Et(J.next(Wt))}catch(Mt){at(Mt)}}function _t(Wt){try{Et(J.throw(Wt))}catch(Mt){at(Mt)}}function Et(Wt){Wt.done?ke(Wt.value):pe(Wt.value).then(st,_t)}Et((J=J.apply(tt,de||[])).next())})};let Nt=class Tl extends h.JT{constructor(de,be){super(),this.editor=de,this.instantiationService=be,this.triggeredExplicitly=!1,this.activeController=this._register(new h.XK),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(J=>{J.hasChanged(105)&&this.updateModelController(),J.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(de){return de.getContribution(Tl.ID)}get activeModel(){var de;return(de=this.activeController.value)===null||de===void 0?void 0:de.model}updateModelController(){const de=this.editor.getOption(105),be=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(de.preview||be.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Xt,this.editor):void 0}shouldShowHoverAt(de){var be;return((be=this.activeModel)===null||be===void 0?void 0:be.shouldShowHoverAt(de))||!1}shouldShowHoverAtViewZone(de){var be,J;return((J=(be=this.activeController.value)===null||be===void 0?void 0:be.widget)===null||J===void 0?void 0:J.shouldShowHoverAtViewZone(de))||!1}trigger(){var de;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(de=this.activeModel)===null||de===void 0||de.triggerInlineCompletion()}commit(){var de;(de=this.activeModel)===null||de===void 0||de.commitInlineCompletion()}hide(){var de;(de=this.activeModel)===null||de===void 0||de.hideInlineCompletion()}showNextInlineCompletion(){var de;(de=this.activeModel)===null||de===void 0||de.showNextInlineCompletion()}showPreviousInlineCompletion(){var de;(de=this.activeModel)===null||de===void 0||de.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var de;return dt(this,void 0,void 0,function*(){const be=yield(de=this.activeModel)===null||de===void 0?void 0:de.hasMultipleInlineCompletions();return be!==void 0?be:!1})}};Nt.inlineSuggestionVisible=new It.uy("inlineSuggestionVisible",!1,Ge.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),Nt.inlineSuggestionHasIndentation=new It.uy("inlineSuggestionHasIndentation",!1,Ge.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Nt.inlineSuggestionHasIndentationLessThanTabSize=new It.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Ge.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Nt.ID="editor.contrib.ghostTextController",Nt=Pe([je(1,Bt.TG)],Nt);class $t{constructor(de){this.contextKeyService=de,this.inlineCompletionVisible=Nt.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Nt.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Nt.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Xt=class extends h.JT{constructor(de,be,J){super(),this.editor=de,this.instantiationService=be,this.contextKeyService=J,this.contextKeys=new $t(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Le,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Ii,this.editor,this.model)),this._register((0,h.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var de;this.contextKeys.inlineCompletionVisible.set(((de=this.model.activeInlineCompletionsModel)===null||de===void 0?void 0:de.ghostText)!==void 0);let be=!1,J=!0;const pe=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&pe&&pe.parts.length>0){const{column:ke,lines:at}=pe.parts[0],st=at[0],_t=this.editor.getModel().getLineIndentColumn(pe.lineNumber);if(ke<=_t){let Wt=(0,W.LC)(st);Wt===-1&&(Wt=st.length-1),be=Wt>0;const Mt=this.editor.getModel().getOptions().tabSize;J=O.i.visibleColumnFromColumn(st,Wt+1,Mt)<Mt}}this.contextKeys.inlineCompletionSuggestsIndentation.set(be),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(J)}};Xt=Pe([je(1,Bt.TG),je(2,It.i6)],Xt);const Ci=k._l.bindToContribution(Nt.get),Zt=new Ci({id:G,precondition:Nt.inlineSuggestionVisible,handler(tt){tt.commit(),tt.editor.focus()}});(0,k.fK)(Zt),Ie.W.registerKeybindingRule({primary:2,weight:200,id:Zt.id,when:It.Ao.and(Zt.precondition,w.u.tabMovesFocus.toNegated(),Nt.inlineSuggestionHasIndentationLessThanTabSize)}),(0,k.fK)(new Ci({id:"editor.action.inlineSuggest.hide",precondition:Nt.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(tt){tt.hide()}}));class mi extends k.R6{constructor(){super({id:mi.ID,label:Ge.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:It.Ao.and(w.u.writable,Nt.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(de,be){return dt(this,void 0,void 0,function*(){const J=Nt.get(be);J&&(J.showNextInlineCompletion(),be.focus())})}}mi.ID="editor.action.inlineSuggest.showNext";class pt extends k.R6{constructor(){super({id:pt.ID,label:Ge.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:It.Ao.and(w.u.writable,Nt.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(de,be){return dt(this,void 0,void 0,function*(){const J=Nt.get(be);J&&(J.showPreviousInlineCompletion(),be.focus())})}}pt.ID="editor.action.inlineSuggest.showPrevious";class ut extends k.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Ge.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:w.u.writable})}run(de,be){return dt(this,void 0,void 0,function*(){const J=Nt.get(be);J&&J.trigger()})}}(0,k._K)(Nt.ID,Nt),(0,k.Qr)(ut),(0,k.Qr)(mi),(0,k.Qr)(pt)},88863:function(Ct,we,t){"use strict";t.r(we),t.d(we,{AbstractCaseAction:function(){return oe},AbstractDeleteAllToBoundaryAction:function(){return re},AbstractSortLinesAction:function(){return V},DeleteAllLeftAction:function(){return fe},DeleteAllRightAction:function(){return ue},DeleteDuplicateLinesAction:function(){return le},DeleteLinesAction:function(){return I},DuplicateSelectionAction:function(){return ie},IndentLinesAction:function(){return A},InsertLineAfterAction:function(){return X},InsertLineBeforeAction:function(){return Y},JoinLinesAction:function(){return Oe},LowerCaseAction:function(){return Be},SnakeCaseAction:function(){return ce},SortLinesAscendingAction:function(){return z},SortLinesDescendingAction:function(){return Q},TitleCaseAction:function(){return se},TransposeAction:function(){return Ce},TrimTrailingWhitespaceAction:function(){return E},UpperCaseAction:function(){return ae}});var h=t(22258),W=t(68770),k=t(16830),O=t(61329),w=t(97295),G=t(69386),x=t(24314);class N{constructor(xe,Fe){this._selection=xe,this._cursors=Fe,this._selectionId=null}getEditOperations(xe,Fe){let Le=s(xe,this._cursors);for(let Me=0,Se=Le.length;Me<Se;Me++){let ze=Le[Me];Fe.addEditOperation(ze.range,ze.text)}this._selectionId=Fe.trackSelection(this._selection)}computeCursorState(xe,Fe){return Fe.getTrackedSelection(this._selectionId)}}function s(Te,xe){xe.sort((ze,Ye)=>ze.lineNumber===Ye.lineNumber?ze.column-Ye.column:ze.lineNumber-Ye.lineNumber);for(let ze=xe.length-2;ze>=0;ze--)xe[ze].lineNumber===xe[ze+1].lineNumber&&xe.splice(ze,1);let Fe=[],Le=0,Me=0,Se=xe.length;for(let ze=1,Ye=Te.getLineCount();ze<=Ye;ze++){let qe=Te.getLineContent(ze),ht=qe.length+1,kt=0;if(Me<Se&&xe[Me].lineNumber===ze&&(kt=xe[Me].column,Me++,kt===ht)||qe.length===0)continue;let zt=w.ow(qe),Ke=0;if(zt===-1)Ke=1;else if(zt!==qe.length-1)Ke=zt+2;else continue;Ke=Math.max(kt,Ke),Fe[Le++]=G.h.delete(new x.e(ze,Ke,ze,ht))}return Fe}var C=t(28792),l=t(50187),m=t(3860),y=t(29102);class n{constructor(xe,Fe,Le){this._selection=xe,this._isCopyingDown=Fe,this._noop=Le||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(xe,Fe){let Le=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,Le.startLineNumber<Le.endLineNumber&&Le.endColumn===1&&(this._endLineNumberDelta=1,Le=Le.setEndPosition(Le.endLineNumber-1,xe.getLineMaxColumn(Le.endLineNumber-1)));let Me=[];for(let ze=Le.startLineNumber;ze<=Le.endLineNumber;ze++)Me.push(xe.getLineContent(ze));const Se=Me.join(`
`);Se===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?Fe.addEditOperation(new x.e(Le.endLineNumber,xe.getLineMaxColumn(Le.endLineNumber),Le.endLineNumber+1,1),Le.endLineNumber===xe.getLineCount()?"":`
`):this._isCopyingDown?Fe.addEditOperation(new x.e(Le.startLineNumber,1,Le.startLineNumber,1),Se+`
`):Fe.addEditOperation(new x.e(Le.endLineNumber,xe.getLineMaxColumn(Le.endLineNumber),Le.endLineNumber,xe.getLineMaxColumn(Le.endLineNumber)),`
`+Se),this._selectionId=Fe.trackSelection(Le),this._selectionDirection=this._selection.getDirection()}computeCursorState(xe,Fe){let Le=Fe.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let Me=Le.startLineNumber,Se=Le.startColumn,ze=Le.endLineNumber,Ye=Le.endColumn;this._startLineNumberDelta!==0&&(Me=Me+this._startLineNumberDelta,Se=1),this._endLineNumberDelta!==0&&(ze=ze+this._endLineNumberDelta,Ye=1),Le=m.Y.createWithDirection(Me,Se,ze,Ye,this._selectionDirection)}return Le}}var p=t(10291),f=t(97354),v=t(94660),d=t(51491);class a{constructor(xe,Fe,Le){this._selection=xe,this._isMovingDown=Fe,this._autoIndent=Le,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(xe,Fe){let Le=xe.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===Le){this._selectionId=Fe.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=Fe.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let Me=this._selection;Me.startLineNumber<Me.endLineNumber&&Me.endColumn===1&&(this._moveEndPositionDown=!0,Me=Me.setEndPosition(Me.endLineNumber-1,xe.getLineMaxColumn(Me.endLineNumber-1)));const{tabSize:Se,indentSize:ze,insertSpaces:Ye}=xe.getOptions();let qe=this.buildIndentConverter(Se,ze,Ye),ht={getLineTokens:kt=>xe.getLineTokens(kt),getLanguageId:()=>xe.getLanguageId(),getLanguageIdAtPosition:(kt,zt)=>xe.getLanguageIdAtPosition(kt,zt),getLineContent:null};if(Me.startLineNumber===Me.endLineNumber&&xe.getLineMaxColumn(Me.startLineNumber)===1){let kt=Me.startLineNumber,zt=this._isMovingDown?kt+1:kt-1;xe.getLineMaxColumn(zt)===1?Fe.addEditOperation(new x.e(1,1,1,1),null):(Fe.addEditOperation(new x.e(kt,1,kt,1),xe.getLineContent(zt)),Fe.addEditOperation(new x.e(zt,1,zt,xe.getLineMaxColumn(zt)),null)),Me=new m.Y(zt,1,zt,1)}else{let kt,zt;if(this._isMovingDown){kt=Me.endLineNumber+1,zt=xe.getLineContent(kt),Fe.addEditOperation(new x.e(kt-1,xe.getLineMaxColumn(kt-1),kt,xe.getLineMaxColumn(kt)),null);let Ke=zt;if(this.shouldAutoIndent(xe,Me)){let Je=this.matchEnterRule(xe,qe,Se,kt,Me.startLineNumber-1);if(Je!==null){let Ae=w.V8(xe.getLineContent(kt)),He=Je+d.Y(Ae,Se);Ke=d.J(He,Se,Ye)+this.trimLeft(zt)}else{ht.getLineContent=He=>He===Me.startLineNumber?xe.getLineContent(kt):xe.getLineContent(He);let Ae=v.zu.getGoodIndentForLine(this._autoIndent,ht,xe.getLanguageIdAtPosition(kt,1),Me.startLineNumber,qe);if(Ae!==null){let He=w.V8(xe.getLineContent(kt)),It=d.Y(Ae,Se),Bt=d.Y(He,Se);It!==Bt&&(Ke=d.J(It,Se,Ye)+this.trimLeft(zt))}}Fe.addEditOperation(new x.e(Me.startLineNumber,1,Me.startLineNumber,1),Ke+`
`);let Ze=this.matchEnterRuleMovingDown(xe,qe,Se,Me.startLineNumber,kt,Ke);if(Ze!==null)Ze!==0&&this.getIndentEditsOfMovingBlock(xe,Fe,Me,Se,Ye,Ze);else{ht.getLineContent=He=>He===Me.startLineNumber?Ke:He>=Me.startLineNumber+1&&He<=Me.endLineNumber+1?xe.getLineContent(He-1):xe.getLineContent(He);let Ae=v.zu.getGoodIndentForLine(this._autoIndent,ht,xe.getLanguageIdAtPosition(kt,1),Me.startLineNumber+1,qe);if(Ae!==null){const He=w.V8(xe.getLineContent(Me.startLineNumber)),It=d.Y(Ae,Se),Bt=d.Y(He,Se);if(It!==Bt){const oi=It-Bt;this.getIndentEditsOfMovingBlock(xe,Fe,Me,Se,Ye,oi)}}}}else Fe.addEditOperation(new x.e(Me.startLineNumber,1,Me.startLineNumber,1),Ke+`
`)}else if(kt=Me.startLineNumber-1,zt=xe.getLineContent(kt),Fe.addEditOperation(new x.e(kt,1,kt+1,1),null),Fe.addEditOperation(new x.e(Me.endLineNumber,xe.getLineMaxColumn(Me.endLineNumber),Me.endLineNumber,xe.getLineMaxColumn(Me.endLineNumber)),`
`+zt),this.shouldAutoIndent(xe,Me)){ht.getLineContent=Je=>Je===kt?xe.getLineContent(Me.startLineNumber):xe.getLineContent(Je);let Ke=this.matchEnterRule(xe,qe,Se,Me.startLineNumber,Me.startLineNumber-2);if(Ke!==null)Ke!==0&&this.getIndentEditsOfMovingBlock(xe,Fe,Me,Se,Ye,Ke);else{let Je=v.zu.getGoodIndentForLine(this._autoIndent,ht,xe.getLanguageIdAtPosition(Me.startLineNumber,1),kt,qe);if(Je!==null){let Ze=w.V8(xe.getLineContent(Me.startLineNumber)),Ae=d.Y(Je,Se),He=d.Y(Ze,Se);if(Ae!==He){let It=Ae-He;this.getIndentEditsOfMovingBlock(xe,Fe,Me,Se,Ye,It)}}}}}this._selectionId=Fe.trackSelection(Me)}buildIndentConverter(xe,Fe,Le){return{shiftIndent:Me=>p.U.shiftIndent(Me,Me.length+1,xe,Fe,Le),unshiftIndent:Me=>p.U.unshiftIndent(Me,Me.length+1,xe,Fe,Le)}}parseEnterResult(xe,Fe,Le,Me,Se){if(Se){let ze=Se.indentation;Se.indentAction===f.wU.None||Se.indentAction===f.wU.Indent?ze=Se.indentation+Se.appendText:Se.indentAction===f.wU.IndentOutdent?ze=Se.indentation:Se.indentAction===f.wU.Outdent&&(ze=Fe.unshiftIndent(Se.indentation)+Se.appendText);let Ye=xe.getLineContent(Me);if(this.trimLeft(Ye).indexOf(this.trimLeft(ze))>=0){let qe=w.V8(xe.getLineContent(Me)),ht=w.V8(ze),kt=v.zu.getIndentMetadata(xe,Me);kt!==null&&kt&2&&(ht=Fe.unshiftIndent(ht));let zt=d.Y(ht,Le),Ke=d.Y(qe,Le);return zt-Ke}}return null}matchEnterRuleMovingDown(xe,Fe,Le,Me,Se,ze){if(w.ow(ze)>=0){let Ye=xe.getLineMaxColumn(Se),qe=v.zu.getEnterAction(this._autoIndent,xe,new x.e(Se,Ye,Se,Ye));return this.parseEnterResult(xe,Fe,Le,Me,qe)}else{let Ye=Me-1;for(;Ye>=1;){let kt=xe.getLineContent(Ye);if(w.ow(kt)>=0)break;Ye--}if(Ye<1||Me>xe.getLineCount())return null;let qe=xe.getLineMaxColumn(Ye),ht=v.zu.getEnterAction(this._autoIndent,xe,new x.e(Ye,qe,Ye,qe));return this.parseEnterResult(xe,Fe,Le,Me,ht)}}matchEnterRule(xe,Fe,Le,Me,Se,ze){let Ye=Se;for(;Ye>=1;){let kt;if(Ye===Se&&ze!==void 0?kt=ze:kt=xe.getLineContent(Ye),w.ow(kt)>=0)break;Ye--}if(Ye<1||Me>xe.getLineCount())return null;let qe=xe.getLineMaxColumn(Ye),ht=v.zu.getEnterAction(this._autoIndent,xe,new x.e(Ye,qe,Ye,qe));return this.parseEnterResult(xe,Fe,Le,Me,ht)}trimLeft(xe){return xe.replace(/^\s+/,"")}shouldAutoIndent(xe,Fe){if(this._autoIndent<4||!xe.isCheapToTokenize(Fe.startLineNumber))return!1;let Le=xe.getLanguageIdAtPosition(Fe.startLineNumber,1),Me=xe.getLanguageIdAtPosition(Fe.endLineNumber,1);return!(Le!==Me||v.zu.getIndentRulesSupport(Le)===null)}getIndentEditsOfMovingBlock(xe,Fe,Le,Me,Se,ze){for(let Ye=Le.startLineNumber;Ye<=Le.endLineNumber;Ye++){let qe=xe.getLineContent(Ye),ht=w.V8(qe),zt=d.Y(ht,Me)+ze,Ke=d.J(zt,Me,Se);Ke!==ht&&(Fe.addEditOperation(new x.e(Ye,1,Ye,ht.length+1),Ke),Ye===Le.endLineNumber&&Le.endColumn<=ht.length+1&&Ke===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(xe,Fe){let Le=Fe.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(Le=Le.setEndPosition(Le.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&Le.startLineNumber<Le.endLineNumber&&(Le=Le.setEndPosition(Le.endLineNumber,2)),Le}}class u{constructor(xe,Fe){this.selection=xe,this.descending=Fe,this.selectionId=null}static getCollator(){return u._COLLATOR||(u._COLLATOR=new Intl.Collator),u._COLLATOR}getEditOperations(xe,Fe){let Le=b(xe,this.selection,this.descending);Le&&Fe.addEditOperation(Le.range,Le.text),this.selectionId=Fe.trackSelection(this.selection)}computeCursorState(xe,Fe){return Fe.getTrackedSelection(this.selectionId)}static canRun(xe,Fe,Le){if(xe===null)return!1;let Me=c(xe,Fe,Le);if(!Me)return!1;for(let Se=0,ze=Me.before.length;Se<ze;Se++)if(Me.before[Se]!==Me.after[Se])return!0;return!1}}u._COLLATOR=null;function c(Te,xe,Fe){let Le=xe.startLineNumber,Me=xe.endLineNumber;if(xe.endColumn===1&&Me--,Le>=Me)return null;let Se=[];for(let Ye=Le;Ye<=Me;Ye++)Se.push(Te.getLineContent(Ye));let ze=Se.slice(0);return ze.sort(u.getCollator().compare),Fe===!0&&(ze=ze.reverse()),{startLineNumber:Le,endLineNumber:Me,before:Se,after:ze}}function b(Te,xe,Fe){let Le=c(Te,xe,Fe);return Le?G.h.replace(new x.e(Le.startLineNumber,1,Le.endLineNumber,Te.getLineMaxColumn(Le.endLineNumber)),Le.after.join(`
`)):null}var L=t(63580),R=t(84144);class T extends k.R6{constructor(xe,Fe){super(Fe),this.down=xe}run(xe,Fe){if(!Fe.hasModel())return;const Le=Fe.getSelections().map((ze,Ye)=>({selection:ze,index:Ye,ignore:!1}));Le.sort((ze,Ye)=>x.e.compareRangesUsingStarts(ze.selection,Ye.selection));let Me=Le[0];for(let ze=1;ze<Le.length;ze++){const Ye=Le[ze];Me.selection.endLineNumber===Ye.selection.startLineNumber&&(Me.index<Ye.index?Ye.ignore=!0:(Me.ignore=!0,Me=Ye))}const Se=[];for(const ze of Le)Se.push(new n(ze.selection,this.down,ze.ignore));Fe.pushUndoStop(),Fe.executeCommands(this.id,Se),Fe.pushUndoStop()}}class j extends T{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:L.N("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:R.eH.MenubarSelectionMenu,group:"2_line",title:L.N({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class q extends T{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:L.N("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:R.eH.MenubarSelectionMenu,group:"2_line",title:L.N({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class ie extends k.R6{constructor(){super({id:"editor.action.duplicateSelection",label:L.N("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:y.u.writable,menuOpts:{menuId:R.eH.MenubarSelectionMenu,group:"2_line",title:L.N({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(xe,Fe,Le){if(!Fe.hasModel())return;const Me=[],Se=Fe.getSelections(),ze=Fe.getModel();for(const Ye of Se)if(Ye.isEmpty())Me.push(new n(Ye,!0));else{const qe=new m.Y(Ye.endLineNumber,Ye.endColumn,Ye.endLineNumber,Ye.endColumn);Me.push(new O.OY(qe,ze.getValueInRange(Ye)))}Fe.pushUndoStop(),Fe.executeCommands(this.id,Me),Fe.pushUndoStop()}}class ne extends k.R6{constructor(xe,Fe){super(Fe),this.down=xe}run(xe,Fe){let Le=[],Me=Fe.getSelections()||[];const Se=Fe.getOption(9);for(const ze of Me)Le.push(new a(ze,this.down,Se));Fe.pushUndoStop(),Fe.executeCommands(this.id,Le),Fe.pushUndoStop()}}class he extends ne{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:L.N("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:R.eH.MenubarSelectionMenu,group:"2_line",title:L.N({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class $ extends ne{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:L.N("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:R.eH.MenubarSelectionMenu,group:"2_line",title:L.N({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class V extends k.R6{constructor(xe,Fe){super(Fe),this.descending=xe}run(xe,Fe){const Le=Fe.getSelections()||[];for(const Se of Le)if(!u.canRun(Fe.getModel(),Se,this.descending))return;let Me=[];for(let Se=0,ze=Le.length;Se<ze;Se++)Me[Se]=new u(Le[Se],this.descending);Fe.pushUndoStop(),Fe.executeCommands(this.id,Me),Fe.pushUndoStop()}}class z extends V{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:L.N("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:y.u.writable})}}class Q extends V{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:L.N("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:y.u.writable})}}class le extends k.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:L.N("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:y.u.writable})}run(xe,Fe){if(!Fe.hasModel())return;let Le=Fe.getModel();if(Le.getLineCount()===1&&Le.getLineMaxColumn(1)===1)return;let Me=[],Se=[],ze=0;for(let Ye of Fe.getSelections()){let qe=new Set,ht=[];for(let Je=Ye.startLineNumber;Je<=Ye.endLineNumber;Je++){let Ze=Le.getLineContent(Je);qe.has(Ze)||(ht.push(Ze),qe.add(Ze))}let kt=new m.Y(Ye.startLineNumber,1,Ye.endLineNumber,Le.getLineMaxColumn(Ye.endLineNumber)),zt=Ye.startLineNumber-ze,Ke=new m.Y(zt,1,zt+ht.length-1,ht[ht.length-1].length);Me.push(G.h.replace(kt,ht.join(`
`))),Se.push(Ke),ze+=Ye.endLineNumber-Ye.startLineNumber+1-ht.length}Fe.pushUndoStop(),Fe.executeEdits(this.id,Me,Se),Fe.pushUndoStop()}}class E extends k.R6{constructor(){super({id:E.ID,label:L.N("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:(0,h.gx)(2089,2102),weight:100}})}run(xe,Fe,Le){let Me=[];Le.reason==="auto-save"&&(Me=(Fe.getSelections()||[]).map(Ye=>new l.L(Ye.positionLineNumber,Ye.positionColumn)));let Se=Fe.getSelection();if(Se===null)return;let ze=new N(Se,Me);Fe.pushUndoStop(),Fe.executeCommands(this.id,[ze]),Fe.pushUndoStop()}}E.ID="editor.action.trimTrailingWhitespace";class I extends k.R6{constructor(){super({id:"editor.action.deleteLines",label:L.N("lines.delete","Delete Line"),alias:"Delete Line",precondition:y.u.writable,kbOpts:{kbExpr:y.u.textInputFocus,primary:3113,weight:100}})}run(xe,Fe){if(!Fe.hasModel())return;let Le=this._getLinesToRemove(Fe),Me=Fe.getModel();if(Me.getLineCount()===1&&Me.getLineMaxColumn(1)===1)return;let Se=0,ze=[],Ye=[];for(let qe=0,ht=Le.length;qe<ht;qe++){const kt=Le[qe];let zt=kt.startLineNumber,Ke=kt.endLineNumber,Je=1,Ze=Me.getLineMaxColumn(Ke);Ke<Me.getLineCount()?(Ke+=1,Ze=1):zt>1&&(zt-=1,Je=Me.getLineMaxColumn(zt)),ze.push(G.h.replace(new m.Y(zt,Je,Ke,Ze),"")),Ye.push(new m.Y(zt-Se,kt.positionColumn,zt-Se,kt.positionColumn)),Se+=kt.endLineNumber-kt.startLineNumber+1}Fe.pushUndoStop(),Fe.executeEdits(this.id,ze,Ye),Fe.pushUndoStop()}_getLinesToRemove(xe){let Fe=xe.getSelections().map(Se=>{let ze=Se.endLineNumber;return Se.startLineNumber<Se.endLineNumber&&Se.endColumn===1&&(ze-=1),{startLineNumber:Se.startLineNumber,selectionStartColumn:Se.selectionStartColumn,endLineNumber:ze,positionColumn:Se.positionColumn}});Fe.sort((Se,ze)=>Se.startLineNumber===ze.startLineNumber?Se.endLineNumber-ze.endLineNumber:Se.startLineNumber-ze.startLineNumber);let Le=[],Me=Fe[0];for(let Se=1;Se<Fe.length;Se++)Me.endLineNumber+1>=Fe[Se].startLineNumber?Me.endLineNumber=Fe[Se].endLineNumber:(Le.push(Me),Me=Fe[Se]);return Le.push(Me),Le}}class A extends k.R6{constructor(){super({id:"editor.action.indentLines",label:L.N("lines.indent","Indent Line"),alias:"Indent Line",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:2137,weight:100}})}run(xe,Fe){const Le=Fe._getViewModel();Le&&(Fe.pushUndoStop(),Fe.executeCommands(this.id,C.u.indent(Le.cursorConfig,Fe.getModel(),Fe.getSelections())),Fe.pushUndoStop())}}class H extends k.R6{constructor(){super({id:"editor.action.outdentLines",label:L.N("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:2135,weight:100}})}run(xe,Fe){W.CoreEditingCommands.Outdent.runEditorCommand(xe,Fe,null)}}class Y extends k.R6{constructor(){super({id:"editor.action.insertLineBefore",label:L.N("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:3075,weight:100}})}run(xe,Fe){const Le=Fe._getViewModel();Le&&(Fe.pushUndoStop(),Fe.executeCommands(this.id,C.u.lineInsertBefore(Le.cursorConfig,Fe.getModel(),Fe.getSelections())))}}class X extends k.R6{constructor(){super({id:"editor.action.insertLineAfter",label:L.N("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:2051,weight:100}})}run(xe,Fe){const Le=Fe._getViewModel();Le&&(Fe.pushUndoStop(),Fe.executeCommands(this.id,C.u.lineInsertAfter(Le.cursorConfig,Fe.getModel(),Fe.getSelections())))}}class re extends k.R6{run(xe,Fe){if(!Fe.hasModel())return;const Le=Fe.getSelection();let Me=this._getRangesToDelete(Fe),Se=[];for(let qe=0,ht=Me.length-1;qe<ht;qe++){let kt=Me[qe],zt=Me[qe+1];x.e.intersectRanges(kt,zt)===null?Se.push(kt):Me[qe+1]=x.e.plusRange(kt,zt)}Se.push(Me[Me.length-1]);let ze=this._getEndCursorState(Le,Se),Ye=Se.map(qe=>G.h.replace(qe,""));Fe.pushUndoStop(),Fe.executeEdits(this.id,Ye,ze),Fe.pushUndoStop()}}class fe extends re{constructor(){super({id:"deleteAllLeft",label:L.N("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:y.u.writable,kbOpts:{kbExpr:y.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(xe,Fe){let Le=null,Me=[],Se=0;return Fe.forEach(ze=>{let Ye;if(ze.endColumn===1&&Se>0){let qe=ze.startLineNumber-Se;Ye=new m.Y(qe,ze.startColumn,qe,ze.startColumn)}else Ye=new m.Y(ze.startLineNumber,ze.startColumn,ze.startLineNumber,ze.startColumn);Se+=ze.endLineNumber-ze.startLineNumber,ze.intersectRanges(xe)?Le=Ye:Me.push(Ye)}),Le&&Me.unshift(Le),Me}_getRangesToDelete(xe){let Fe=xe.getSelections();if(Fe===null)return[];let Le=Fe,Me=xe.getModel();return Me===null?[]:(Le.sort(x.e.compareRangesUsingStarts),Le=Le.map(Se=>{if(Se.isEmpty())if(Se.startColumn===1){let ze=Math.max(1,Se.startLineNumber-1),Ye=Se.startLineNumber===1?1:Me.getLineContent(ze).length+1;return new x.e(ze,Ye,Se.startLineNumber,1)}else return new x.e(Se.startLineNumber,1,Se.startLineNumber,Se.startColumn);else return new x.e(Se.startLineNumber,1,Se.endLineNumber,Se.endColumn)}),Le)}}class ue extends re{constructor(){super({id:"deleteAllRight",label:L.N("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:y.u.writable,kbOpts:{kbExpr:y.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(xe,Fe){let Le=null,Me=[];for(let Se=0,ze=Fe.length,Ye=0;Se<ze;Se++){let qe=Fe[Se],ht=new m.Y(qe.startLineNumber-Ye,qe.startColumn,qe.startLineNumber-Ye,qe.startColumn);qe.intersectRanges(xe)?Le=ht:Me.push(ht)}return Le&&Me.unshift(Le),Me}_getRangesToDelete(xe){let Fe=xe.getModel();if(Fe===null)return[];let Le=xe.getSelections();if(Le===null)return[];let Me=Le.map(Se=>{if(Se.isEmpty()){const ze=Fe.getLineMaxColumn(Se.startLineNumber);return Se.startColumn===ze?new x.e(Se.startLineNumber,Se.startColumn,Se.startLineNumber+1,1):new x.e(Se.startLineNumber,Se.startColumn,Se.startLineNumber,ze)}return Se});return Me.sort(x.e.compareRangesUsingStarts),Me}}class Oe extends k.R6{constructor(){super({id:"editor.action.joinLines",label:L.N("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(xe,Fe){let Le=Fe.getSelections();if(Le===null)return;let Me=Fe.getSelection();if(Me===null)return;Le.sort(x.e.compareRangesUsingStarts);let Se=[],ze=Le.reduce((Ke,Je)=>Ke.isEmpty()?Ke.endLineNumber===Je.startLineNumber?(Me.equalsSelection(Ke)&&(Me=Je),Je):Je.startLineNumber>Ke.endLineNumber+1?(Se.push(Ke),Je):new m.Y(Ke.startLineNumber,Ke.startColumn,Je.endLineNumber,Je.endColumn):Je.startLineNumber>Ke.endLineNumber?(Se.push(Ke),Je):new m.Y(Ke.startLineNumber,Ke.startColumn,Je.endLineNumber,Je.endColumn));Se.push(ze);let Ye=Fe.getModel();if(Ye===null)return;let qe=[],ht=[],kt=Me,zt=0;for(let Ke=0,Je=Se.length;Ke<Je;Ke++){let Ze=Se[Ke],Ae=Ze.startLineNumber,He=1,It=0,Bt,oi,ni=Ye.getLineContent(Ze.endLineNumber).length-Ze.endColumn;if(Ze.isEmpty()||Ze.startLineNumber===Ze.endLineNumber){let Ti=Ze.getStartPosition();Ti.lineNumber<Ye.getLineCount()?(Bt=Ae+1,oi=Ye.getLineMaxColumn(Bt)):(Bt=Ti.lineNumber,oi=Ye.getLineMaxColumn(Ti.lineNumber))}else Bt=Ze.endLineNumber,oi=Ye.getLineMaxColumn(Bt);let hi=Ye.getLineContent(Ae);for(let Ti=Ae+1;Ti<=Bt;Ti++){let Ii=Ye.getLineContent(Ti),ai=Ye.getLineFirstNonWhitespaceColumn(Ti);if(ai>=1){let Pt=!0;hi===""&&(Pt=!1),Pt&&(hi.charAt(hi.length-1)===" "||hi.charAt(hi.length-1)==="	")&&(Pt=!1,hi=hi.replace(/[\s\uFEFF\xA0]+$/g," "));let Gt=Ii.substr(ai-1);hi+=(Pt?" ":"")+Gt,Pt?It=Gt.length+1:It=Gt.length}else It=0}let Di=new x.e(Ae,He,Bt,oi);if(!Di.isEmpty()){let Ti;Ze.isEmpty()?(qe.push(G.h.replace(Di,hi)),Ti=new m.Y(Di.startLineNumber-zt,hi.length-It+1,Ae-zt,hi.length-It+1)):Ze.startLineNumber===Ze.endLineNumber?(qe.push(G.h.replace(Di,hi)),Ti=new m.Y(Ze.startLineNumber-zt,Ze.startColumn,Ze.endLineNumber-zt,Ze.endColumn)):(qe.push(G.h.replace(Di,hi)),Ti=new m.Y(Ze.startLineNumber-zt,Ze.startColumn,Ze.startLineNumber-zt,hi.length-ni)),x.e.intersectRanges(Di,Me)!==null?kt=Ti:ht.push(Ti)}zt+=Di.endLineNumber-Di.startLineNumber}ht.unshift(kt),Fe.pushUndoStop(),Fe.executeEdits(this.id,qe,ht),Fe.pushUndoStop()}}class Ce extends k.R6{constructor(){super({id:"editor.action.transpose",label:L.N("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:y.u.writable})}run(xe,Fe){let Le=Fe.getSelections();if(Le===null)return;let Me=Fe.getModel();if(Me===null)return;let Se=[];for(let ze=0,Ye=Le.length;ze<Ye;ze++){let qe=Le[ze];if(!qe.isEmpty())continue;let ht=qe.getStartPosition(),kt=Me.getLineMaxColumn(ht.lineNumber);if(ht.column>=kt){if(ht.lineNumber===Me.getLineCount())continue;let zt=new x.e(ht.lineNumber,Math.max(1,ht.column-1),ht.lineNumber+1,1),Ke=Me.getValueInRange(zt).split("").reverse().join("");Se.push(new O.T4(new m.Y(ht.lineNumber,Math.max(1,ht.column-1),ht.lineNumber+1,1),Ke))}else{let zt=new x.e(ht.lineNumber,Math.max(1,ht.column-1),ht.lineNumber,ht.column+1),Ke=Me.getValueInRange(zt).split("").reverse().join("");Se.push(new O.hP(zt,Ke,new m.Y(ht.lineNumber,ht.column+1,ht.lineNumber,ht.column+1)))}}Fe.pushUndoStop(),Fe.executeCommands(this.id,Se),Fe.pushUndoStop()}}class oe extends k.R6{run(xe,Fe){const Le=Fe.getSelections();if(Le===null)return;const Me=Fe.getModel();if(Me===null)return;const Se=Fe.getOption(115),ze=[];for(const Ye of Le)if(Ye.isEmpty()){const qe=Ye.getStartPosition(),ht=Fe.getConfiguredWordAtPosition(qe);if(!ht)continue;const kt=new x.e(qe.lineNumber,ht.startColumn,qe.lineNumber,ht.endColumn),zt=Me.getValueInRange(kt);ze.push(G.h.replace(kt,this._modifyText(zt,Se)))}else{const qe=Me.getValueInRange(Ye);ze.push(G.h.replace(Ye,this._modifyText(qe,Se)))}Fe.pushUndoStop(),Fe.executeEdits(this.id,ze),Fe.pushUndoStop()}}class ae extends oe{constructor(){super({id:"editor.action.transformToUppercase",label:L.N("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:y.u.writable})}_modifyText(xe,Fe){return xe.toLocaleUpperCase()}}class Be extends oe{constructor(){super({id:"editor.action.transformToLowercase",label:L.N("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:y.u.writable})}_modifyText(xe,Fe){return xe.toLocaleLowerCase()}}class Ve{constructor(xe,Fe){this._pattern=xe,this._flags=Fe,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(xe){}}return this._actual}isSupported(){return this.get()!==null}}class se extends oe{constructor(){super({id:"editor.action.transformToTitlecase",label:L.N("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:y.u.writable})}_modifyText(xe,Fe){const Le=se.titleBoundary.get();return Le?xe.toLocaleLowerCase().replace(Le,Me=>Me.toLocaleUpperCase()):xe}}se.titleBoundary=new Ve("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ce extends oe{constructor(){super({id:"editor.action.transformToSnakecase",label:L.N("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:y.u.writable})}_modifyText(xe,Fe){const Le=ce.caseBoundary.get(),Me=ce.singleLetters.get();return!Le||!Me?xe:xe.replace(Le,"$1_$2").replace(Me,"$1_$2$3").toLocaleLowerCase()}}ce.caseBoundary=new Ve("(\\p{Ll})(\\p{Lu})","gmu"),ce.singleLetters=new Ve("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,k.Qr)(j),(0,k.Qr)(q),(0,k.Qr)(ie),(0,k.Qr)(he),(0,k.Qr)($),(0,k.Qr)(z),(0,k.Qr)(Q),(0,k.Qr)(le),(0,k.Qr)(E),(0,k.Qr)(I),(0,k.Qr)(A),(0,k.Qr)(H),(0,k.Qr)(Y),(0,k.Qr)(X),(0,k.Qr)(fe),(0,k.Qr)(ue),(0,k.Qr)(Oe),(0,k.Qr)(Ce),(0,k.Qr)(ae),(0,k.Qr)(Be),ce.caseBoundary.isSupported()&&ce.singleLetters.isSupported()&&(0,k.Qr)(ce),se.titleBoundary.isSupported()&&(0,k.Qr)(se)},80674:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:function(){return R},LinkedEditingAction:function(){return q},LinkedEditingContribution:function(){return j},editorLinkedEditingBackground:function(){return he}});var h=t(9488),W=t(15393),k=t(71050),O=t(41264),w=t(17301),G=t(9917),x=t(97295),N=t(70666),s=t(16830),C=t(11640),l=t(50187),m=t(24314),y=t(29102),n=t(24979),p=t(60303),f=t(94660),v=t(63580),d=t(38819),a=t(73910),u=t(97781),c=function($,V,z,Q){var le=arguments.length,E=le<3?V:Q===null?Q=Object.getOwnPropertyDescriptor(V,z):Q,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate($,V,z,Q);else for(var A=$.length-1;A>=0;A--)(I=$[A])&&(E=(le<3?I(E):le>3?I(V,z,E):I(V,z))||E);return le>3&&E&&Object.defineProperty(V,z,E),E},b=function($,V){return function(z,Q){V(z,Q,$)}},L=function($,V,z,Q){function le(E){return E instanceof z?E:new z(function(I){I(E)})}return new(z||(z=Promise))(function(E,I){function A(X){try{Y(Q.next(X))}catch(re){I(re)}}function H(X){try{Y(Q.throw(X))}catch(re){I(re)}}function Y(X){X.done?E(X.value):le(X.value).then(A,H)}Y((Q=Q.apply($,V||[])).next())})};const R=new d.uy("LinkedEditingInputVisible",!1),T="linked-editing-decoration";let j=class Na extends G.JT{constructor(V,z){super(),this._debounceDuration=200,this._localToDispose=this._register(new G.SL),this._editor=V,this._enabled=!1,this._visibleContextKey=R.bindTo(z),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new G.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(Q=>{(Q.hasChanged(61)||Q.hasChanged(81))&&this.reinitialize(!1)})),this._register(p.id.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(V){return V.getContribution(Na.ID)}reinitialize(V){const z=this._editor.getModel(),Q=z!==null&&(this._editor.getOption(61)||this._editor.getOption(81))&&p.id.has(z);if(Q===this._enabled&&!V||(this._enabled=Q,this.clearRanges(),this._localToDispose.clear(),!Q||z===null))return;this._languageWordPattern=f.zu.getWordDefinition(z.getLanguageId()),this._localToDispose.add(z.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=f.zu.getWordDefinition(z.getLanguageId())}));const le=new W.vp(this._debounceDuration),E=()=>{this._rangeUpdateTriggerPromise=le.trigger(()=>this.updateRanges(),this._debounceDuration)},I=new W.vp(0),A=H=>{this._rangeSyncTriggerPromise=I.trigger(()=>this._syncRanges(H))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{E()})),this._localToDispose.add(this._editor.onDidChangeModelContent(H=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const Y=z.getDecorationRange(this._currentDecorations[0]);if(Y&&H.changes.every(X=>Y.intersectRanges(X.range))){A(this._currentDecorations);return}}E()})),this._localToDispose.add({dispose:()=>{le.cancel(),I.cancel()}}),this.updateRanges()}_syncRanges(V){if(!this._editor.hasModel()||V!==this._currentDecorations||V.length===0)return;const z=this._editor.getModel(),Q=z.getDecorationRange(V[0]);if(!Q||Q.startLineNumber!==Q.endLineNumber)return this.clearRanges();const le=z.getValueInRange(Q);if(this._currentWordPattern){const I=le.match(this._currentWordPattern);if((I?I[0].length:0)!==le.length)return this.clearRanges()}let E=[];for(let I=1,A=V.length;I<A;I++){const H=z.getDecorationRange(V[I]);if(H)if(H.startLineNumber!==H.endLineNumber)E.push({range:H,text:le});else{let Y=z.getValueInRange(H),X=le,re=H.startColumn,fe=H.endColumn;const ue=x.Mh(Y,X);re+=ue,Y=Y.substr(ue),X=X.substr(ue);const Oe=x.P1(Y,X);fe-=Oe,Y=Y.substr(0,Y.length-Oe),X=X.substr(0,X.length-Oe),(re!==fe||X.length!==0)&&E.push({range:new m.e(H.startLineNumber,re,H.endLineNumber,fe),text:X})}}if(E.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const I=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",E),this._editor._getViewModel().setPrevEditOperationType(I)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(V=!1){return L(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const z=this._editor.getPosition();if(!this._enabled&&!V||this._editor.getSelections().length>1){this.clearRanges();return}const Q=this._editor.getModel(),le=Q.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===le){if(z.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const I=Q.getDecorationRange(this._currentDecorations[0]);if(I&&I.containsPosition(z))return}}this._currentRequestPosition=z,this._currentRequestModelVersion=le;const E=(0,W.PG)(I=>L(this,void 0,void 0,function*(){try{const A=yield ne(Q,z,I);if(E!==this._currentRequest||(this._currentRequest=null,le!==Q.getVersionId()))return;let H=[];A!=null&&A.ranges&&(H=A.ranges),this._currentWordPattern=(A==null?void 0:A.wordPattern)||this._languageWordPattern;let Y=!1;for(let re=0,fe=H.length;re<fe;re++)if(m.e.containsPosition(H[re],z)){if(Y=!0,re!==0){const ue=H[re];H.splice(re,1),H.unshift(ue)}break}if(!Y){this.clearRanges();return}const X=H.map(re=>({range:re,options:Na.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,X)}catch(A){(0,w.VV)(A)||(0,w.dL)(A),(this._currentRequest===E||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=E,E})}};j.ID="editor.contrib.linkedEditing",j.DECORATION=n.qx.register({description:"linked-editing",stickiness:0,className:T}),j=c([b(1,d.i6)],j);class q extends s.R6{constructor(){super({id:"editor.action.linkedEditing",label:v.N("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:d.Ao.and(y.u.writable,y.u.hasRenameProvider),kbOpts:{kbExpr:y.u.editorTextFocus,primary:3132,weight:100}})}runCommand(V,z){const Q=V.get(C.$),[le,E]=Array.isArray(z)&&z||[void 0,void 0];return N.o.isUri(le)&&l.L.isIPosition(E)?Q.openCodeEditor({resource:le},Q.getActiveCodeEditor()).then(I=>{I&&(I.setPosition(E),I.invokeWithinContext(A=>(this.reportTelemetry(A,I),this.run(A,I))))},w.dL):super.runCommand(V,z)}run(V,z){const Q=j.get(z);return Q?Promise.resolve(Q.updateRanges(!0)):Promise.resolve()}}const ie=s._l.bindToContribution(j.get);(0,s.fK)(new ie({id:"cancelLinkedEditingInput",precondition:R,handler:$=>$.clearRanges(),kbOpts:{kbExpr:y.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function ne($,V,z){const Q=p.id.ordered($);return(0,W.Ps)(Q.map(le=>()=>L(this,void 0,void 0,function*(){try{return yield le.provideLinkedEditingRanges($,V,z)}catch(E){(0,w.Cp)(E);return}})),le=>!!le&&h.Of(le==null?void 0:le.ranges))}const he=(0,a.P6)("editor.linkedEditingBackground",{dark:O.Il.fromHex("#f00").transparent(.3),light:O.Il.fromHex("#f00").transparent(.3),hc:O.Il.fromHex("#f00").transparent(.3)},v.N("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,u.Ic)(($,V)=>{const z=$.getColor(he);z&&V.addRule(`.monaco-editor .${T} { background: ${z}; border-left-color: ${z}; }`)}),(0,s.sb)("_executeLinkedEditingProvider",($,V)=>ne($,V,k.T.None)),(0,s._K)(j.ID,j),(0,s.Qr)(q)},23659:function(Ct,we,t){"use strict";t.r(we),t.d(we,{LinkDetector:function(){return Q}});var h=t(15393),W=t(71050),k=t(17301),O=t(59365),w=t(9917),G=t(66663),x=t(1432),N=t(95935),s=t(70666),C=t(16830),l=t(24979),m=t(60303),y=t(69241),n=t(9488),p=t(98401),f=t(24314),v=t(51200),d=t(94565),a=function(E,I,A,H){function Y(X){return X instanceof A?X:new A(function(re){re(X)})}return new(A||(A=Promise))(function(X,re){function fe(Ce){try{Oe(H.next(Ce))}catch(oe){re(oe)}}function ue(Ce){try{Oe(H.throw(Ce))}catch(oe){re(oe)}}function Oe(Ce){Ce.done?X(Ce.value):Y(Ce.value).then(fe,ue)}Oe((H=H.apply(E,I||[])).next())})};class u{constructor(I,A){this._link=I,this._provider=A}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(I){return a(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,I)).then(A=>(this._link=A||this._link,this._link.url?this.resolve(I):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class c{constructor(I){this._disposables=new w.SL;let A=[];for(const[H,Y]of I){const X=H.links.map(re=>new u(re,Y));A=c._union(A,X),(0,w.Wf)(H)&&this._disposables.add(H)}this.links=A}dispose(){this._disposables.dispose(),this.links.length=0}static _union(I,A){let H=[],Y,X,re,fe;for(Y=0,re=0,X=I.length,fe=A.length;Y<X&&re<fe;){const ue=I[Y],Oe=A[re];if(f.e.areIntersectingOrTouching(ue.range,Oe.range)){Y++;continue}f.e.compareRangesUsingStarts(ue.range,Oe.range)<0?(H.push(ue),Y++):(H.push(Oe),re++)}for(;Y<X;Y++)H.push(I[Y]);for(;re<fe;re++)H.push(A[re]);return H}}function b(E,I){const A=[],H=m.pM.ordered(E).reverse().map((Y,X)=>Promise.resolve(Y.provideLinks(E,I)).then(re=>{re&&(A[X]=[re,Y])},k.Cp));return Promise.all(H).then(()=>{const Y=new c((0,n.kX)(A));return I.isCancellationRequested?(Y.dispose(),new c([])):Y})}d.P.registerCommand("_executeLinkProvider",(E,...I)=>a(void 0,void 0,void 0,function*(){let[A,H]=I;(0,p.p_)(A instanceof s.o),typeof H!="number"&&(H=0);const Y=E.get(v.q).getModel(A);if(!Y)return[];const X=yield b(Y,W.T.None);if(!X)return[];for(let fe=0;fe<Math.min(H,X.links.length);fe++)yield X.links[fe].resolve(W.T.None);const re=X.links.slice(0);return X.dispose(),re}));var L=t(63580),R=t(59422),T=t(50988),j=t(73910),q=t(97781),ie=function(E,I,A,H){var Y=arguments.length,X=Y<3?I:H===null?H=Object.getOwnPropertyDescriptor(I,A):H,re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(E,I,A,H);else for(var fe=E.length-1;fe>=0;fe--)(re=E[fe])&&(X=(Y<3?re(X):Y>3?re(I,A,X):re(I,A))||X);return Y>3&&X&&Object.defineProperty(I,A,X),X},ne=function(E,I){return function(A,H){I(A,H,E)}},he=function(E,I,A,H){function Y(X){return X instanceof A?X:new A(function(re){re(X)})}return new(A||(A=Promise))(function(X,re){function fe(Ce){try{Oe(H.next(Ce))}catch(oe){re(oe)}}function ue(Ce){try{Oe(H.throw(Ce))}catch(oe){re(oe)}}function Oe(Ce){Ce.done?X(Ce.value):Y(Ce.value).then(fe,ue)}Oe((H=H.apply(E,I||[])).next())})};function $(E,I){const A=E.url&&/^command:/i.test(E.url.toString()),H=E.tooltip?E.tooltip:A?L.N("links.navigate.executeCmd","Execute command"):L.N("links.navigate.follow","Follow link"),Y=I?x.dz?L.N("links.navigate.kb.meta.mac","cmd + click"):L.N("links.navigate.kb.meta","ctrl + click"):x.dz?L.N("links.navigate.kb.alt.mac","option + click"):L.N("links.navigate.kb.alt","alt + click");if(E.url){let X="";if(/^command:/i.test(E.url.toString())){const fe=E.url.toString().match(/^command:([^?#]+)/);if(fe){const ue=fe[1];X=` "${L.N("tooltip.explanation","Execute command {0}",ue)}"`}}return new O.W5("",!0).appendMarkdown(`[${H}](${E.url.toString(!0).replace(/ /g,"%20")}${X}) (${Y})`)}else return new O.W5().appendText(`${H} (${Y})`)}const V={general:l.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:l.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class z{constructor(I,A){this.link=I,this.decorationId=A}static decoration(I,A){return{range:I.range,options:z._getOptions(I,A,!1)}}static _getOptions(I,A,H){const Y=Object.assign({},H?V.active:V.general);return Y.hoverMessage=$(I,A),Y}activate(I,A){I.changeDecorationOptions(this.decorationId,z._getOptions(this.link,A,!0))}deactivate(I,A){I.changeDecorationOptions(this.decorationId,z._getOptions(this.link,A,!1))}}let Q=class xa{constructor(I,A,H){this.listenersToRemove=new w.SL,this.editor=I,this.openerService=A,this.notificationService=H;let Y=new y.yN(I);this.listenersToRemove.add(Y),this.listenersToRemove.add(Y.onMouseMoveOrRelevantKeyDown(([X,re])=>{this._onEditorMouseMove(X,re)})),this.listenersToRemove.add(Y.onExecute(X=>{this.onEditorMouseUp(X)})),this.listenersToRemove.add(Y.onCancel(X=>{this.cleanUpActiveLinkDecoration()})),this.enabled=I.getOption(62),this.listenersToRemove.add(I.onDidChangeConfiguration(X=>{const re=I.getOption(62);this.enabled!==re&&(this.enabled=re,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(I.onDidChangeModelContent(X=>this.onChange())),this.listenersToRemove.add(I.onDidChangeModel(X=>this.onModelChanged())),this.listenersToRemove.add(I.onDidChangeModelLanguage(X=>this.onModelModeChanged())),this.listenersToRemove.add(m.pM.onDidChange(X=>this.onModelModeChanged())),this.timeout=new h._F,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(I){return I.getContribution(xa.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),xa.RECOMPUTE_TIME)}beginCompute(){return he(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const I=this.editor.getModel();if(m.pM.has(I)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=h.PG(A=>b(I,A));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(A){(0,k.dL)(A)}finally{this.computePromise=null}}})}updateDecorations(I){const A=this.editor.getOption(69)==="altKey";let H=[],Y=Object.keys(this.currentOccurrences);for(let fe=0,ue=Y.length;fe<ue;fe++){let Oe=Y[fe],Ce=this.currentOccurrences[Oe];H.push(Ce.decorationId)}let X=[];if(I)for(const fe of I)X.push(z.decoration(fe,A));let re=this.editor.deltaDecorations(H,X);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let fe=0,ue=re.length;fe<ue;fe++){let Oe=new z(I[fe],re[fe]);this.currentOccurrences[Oe.decorationId]=Oe}}_onEditorMouseMove(I,A){const H=this.editor.getOption(69)==="altKey";if(this.isEnabled(I,A)){this.cleanUpActiveLinkDecoration();const Y=this.getLinkOccurrence(I.target.position);Y&&this.editor.changeDecorations(X=>{Y.activate(X,H),this.activeLinkDecorationId=Y.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const I=this.editor.getOption(69)==="altKey";if(this.activeLinkDecorationId){const A=this.currentOccurrences[this.activeLinkDecorationId];A&&this.editor.changeDecorations(H=>{A.deactivate(H,I)}),this.activeLinkDecorationId=null}}onEditorMouseUp(I){if(!this.isEnabled(I))return;const A=this.getLinkOccurrence(I.target.position);A&&this.openLinkOccurrence(A,I.hasSideBySideModifier,!0)}openLinkOccurrence(I,A,H=!1){if(!this.openerService)return;const{link:Y}=I;Y.resolve(W.T.None).then(X=>{if(typeof X=="string"&&this.editor.hasModel()){const re=this.editor.getModel().uri;if(re.scheme===G.lg.file&&X.startsWith(`${G.lg.file}:`)){const fe=s.o.parse(X);if(fe.scheme===G.lg.file){const ue=N.z_(fe);let Oe=null;ue.startsWith("/./")?Oe=`.${ue.substr(1)}`:ue.startsWith("//./")&&(Oe=`.${ue.substr(2)}`),Oe&&(X=N.Vo(re,Oe))}}}return this.openerService.open(X,{openToSide:A,fromUserGesture:H,allowContributedOpeners:!0,allowCommands:!0})},X=>{const re=X instanceof Error?X.message:X;re==="invalid"?this.notificationService.warn(L.N("invalid.url","Failed to open this link because it is not well-formed: {0}",Y.url.toString())):re==="missing"?this.notificationService.warn(L.N("missing.url","Failed to open this link because its target is missing.")):(0,k.dL)(X)})}getLinkOccurrence(I){if(!this.editor.hasModel()||!I)return null;const A=this.editor.getModel().getDecorationsInRange({startLineNumber:I.lineNumber,startColumn:I.column,endLineNumber:I.lineNumber,endColumn:I.column},0,!0);for(const H of A){const Y=this.currentOccurrences[H.id];if(Y)return Y}return null}isEnabled(I,A){return!!(I.target.type===6&&(I.hasTriggerModifier||A&&A.keyCodeIsTriggerKey))}stop(){var I;this.timeout.cancel(),this.activeLinksList&&((I=this.activeLinksList)===null||I===void 0||I.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};Q.ID="editor.linkDetector",Q.RECOMPUTE_TIME=1e3,Q=ie([ne(1,T.v4),ne(2,R.lT)],Q);class le extends C.R6{constructor(){super({id:"editor.action.openLink",label:L.N("label","Open Link"),alias:"Open Link",precondition:void 0})}run(I,A){let H=Q.get(A);if(!H||!A.hasModel())return;let Y=A.getSelections();for(let X of Y){let re=H.getLinkOccurrence(X.getEndPosition());re&&H.openLinkOccurrence(re,!1)}}}(0,C._K)(Q.ID,Q),(0,C.Qr)(le),(0,q.Ic)((E,I)=>{const A=E.getColor(j._Y);A&&I.addRule(`.monaco-editor .detected-link-active { color: ${A} !important; }`)})},53641:function(Ct,we,t){"use strict";t.d(we,{O:function(){return y}});var h=t(35996),W=t(15393),k=t(9917),O=t(16830),w=t(24314),G=t(63580),x=t(38819),N=t(73910),s=t(92321),C=t(97781),l=function(f,v,d,a){var u=arguments.length,c=u<3?v:a===null?a=Object.getOwnPropertyDescriptor(v,d):a,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(f,v,d,a);else for(var L=f.length-1;L>=0;L--)(b=f[L])&&(c=(u<3?b(c):u>3?b(v,d,c):b(v,d))||c);return u>3&&c&&Object.defineProperty(v,d,c),c},m=function(f,v){return function(d,a){v(d,a,f)}};let y=class Ma{constructor(v,d){this._messageWidget=new k.XK,this._messageListeners=new k.SL,this._editor=v,this._visible=Ma.MESSAGE_VISIBLE.bindTo(d),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(v){return v.getContribution(Ma.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(v,d){(0,h.Z9)(v),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new p(this._editor,d,v),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new W._F(()=>this.closeMessage(),3e3));let a;this._messageListeners.add(this._editor.onMouseMove(u=>{u.target.position&&(a?a.containsPosition(u.target.position)||this.closeMessage():a=new w.e(d.lineNumber-3,1,u.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(p.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(G.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};y.ID="editor.contrib.messageController",y.MESSAGE_VISIBLE=new x.uy("messageVisible",!1,G.N("messageVisible","Whether the editor is currently showing an inline message")),y=l([m(1,x.i6)],y);const n=O._l.bindToContribution(y.get);(0,O.fK)(new n({id:"leaveEditorMessage",precondition:y.MESSAGE_VISIBLE,handler:f=>f.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class p{constructor(v,{lineNumber:d,column:a},u){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=v,this._editor.revealLinesInCenterIfOutsideViewport(d,d,0),this._position={lineNumber:d,column:a-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const c=document.createElement("div");c.classList.add("anchor","top"),this._domNode.appendChild(c);const b=document.createElement("div");b.classList.add("message"),b.textContent=u,this._domNode.appendChild(b);const L=document.createElement("div");L.classList.add("anchor","below"),this._domNode.appendChild(L),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(v){let d;const a=()=>{v.dispose(),clearTimeout(d),v.getDomNode().removeEventListener("animationend",a)};return d=setTimeout(a,110),v.getDomNode().addEventListener("animationend",a),v.getDomNode().classList.add("fadeOut"),{dispose:a}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(v){this._domNode.classList.toggle("below",v===2)}}(0,O._K)(y.ID,y),(0,C.Ic)((f,v)=>{const d=f.getColor(N.EP);if(d){let c=f.type===s.e.HIGH_CONTRAST?2:1;v.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${d}; }`),v.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${d}; }`),v.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${c}px solid ${d}; }`)}const a=f.getColor(N._l);a&&v.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${a}; }`);const u=f.getColor(N.YI);u&&v.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${u}; }`)})},38486:function(Ct,we,t){"use strict";t.r(we),t.d(we,{AddSelectionToNextFindMatchAction:function(){return ne},AddSelectionToPreviousFindMatchAction:function(){return he},CompatChangeAll:function(){return Q},InsertCursorAbove:function(){return u},InsertCursorBelow:function(){return c},MoveSelectionToNextFindMatchAction:function(){return $},MoveSelectionToPreviousFindMatchAction:function(){return V},MultiCursorSelectionController:function(){return q},MultiCursorSelectionControllerAction:function(){return ie},MultiCursorSession:function(){return j},MultiCursorSessionResult:function(){return T},SelectHighlightsAction:function(){return z},SelectionHighlighter:function(){return E}});var h=t(35996),W=t(15393),k=t(22258),O=t(9917),w=t(16830),G=t(83814),x=t(24314),N=t(3860),s=t(29102),C=t(84973),l=t(24979),m=t(60303),y=t(40539),n=t(63580),p=t(84144),f=t(38819),v=t(73910),d=t(97781);function a(H,Y){const X=Y.filter(re=>!H.find(fe=>fe.equals(re)));if(X.length>=1){const re=X.map(ue=>`line ${ue.viewState.position.lineNumber} column ${ue.viewState.position.column}`).join(", "),fe=X.length===1?n.N("cursorAdded","Cursor added: {0}",re):n.N("cursorsAdded","Cursors added: {0}",re);(0,h.i7)(fe)}}class u extends w.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:n.N("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:s.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:n.N({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(Y,X,re){if(!X.hasModel())return;let fe=!0;re&&re.logicalLine===!1&&(fe=!1);const ue=X._getViewModel();if(ue.cursorConfig.readOnly)return;ue.pushStackElement();const Oe=ue.getCursorStates();ue.setCursorStates(re.source,3,G.P.addCursorUp(ue,Oe,fe)),ue.revealTopMostCursor(re.source),a(Oe,ue.getCursorStates())}}class c extends w.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:n.N("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:s.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:n.N({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(Y,X,re){if(!X.hasModel())return;let fe=!0;re&&re.logicalLine===!1&&(fe=!1);const ue=X._getViewModel();if(ue.cursorConfig.readOnly)return;ue.pushStackElement();const Oe=ue.getCursorStates();ue.setCursorStates(re.source,3,G.P.addCursorDown(ue,Oe,fe)),ue.revealBottomMostCursor(re.source),a(Oe,ue.getCursorStates())}}class b extends w.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:n.N("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:s.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:n.N({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(Y,X,re){if(!Y.isEmpty()){for(let fe=Y.startLineNumber;fe<Y.endLineNumber;fe++){let ue=X.getLineMaxColumn(fe);re.push(new N.Y(fe,ue,fe,ue))}Y.endColumn>1&&re.push(new N.Y(Y.endLineNumber,Y.endColumn,Y.endLineNumber,Y.endColumn))}}run(Y,X){if(!X.hasModel())return;const re=X.getModel(),fe=X.getSelections(),ue=X._getViewModel(),Oe=ue.getCursorStates();let Ce=[];fe.forEach(oe=>this.getCursorsForSelection(oe,re,Ce)),Ce.length>0&&X.setSelections(Ce),a(Oe,ue.getCursorStates())}}class L extends w.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:n.N("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(Y,X){if(!X.hasModel())return;const re=X.getSelections(),fe=X.getModel().getLineCount();let ue=[];for(let oe=re[0].startLineNumber;oe<=fe;oe++)ue.push(new N.Y(oe,re[0].startColumn,oe,re[0].endColumn));const Oe=X._getViewModel(),Ce=Oe.getCursorStates();ue.length>0&&X.setSelections(ue),a(Ce,Oe.getCursorStates())}}class R extends w.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:n.N("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(Y,X){if(!X.hasModel())return;const re=X.getSelections();let fe=[];for(let Ce=re[0].startLineNumber;Ce>=1;Ce--)fe.push(new N.Y(Ce,re[0].startColumn,Ce,re[0].endColumn));const ue=X._getViewModel(),Oe=ue.getCursorStates();fe.length>0&&X.setSelections(fe),a(Oe,ue.getCursorStates())}}class T{constructor(Y,X,re){this.selections=Y,this.revealRange=X,this.revealScrollType=re}}class j{constructor(Y,X,re,fe,ue,Oe,Ce){this._editor=Y,this.findController=X,this.isDisconnectedFromFindController=re,this.searchText=fe,this.wholeWord=ue,this.matchCase=Oe,this.currentMatch=Ce}static create(Y,X){if(!Y.hasModel())return null;const re=X.getState();if(!Y.hasTextFocus()&&re.isRevealed&&re.searchString.length>0)return new j(Y,X,!1,re.searchString,re.wholeWord,re.matchCase,null);let fe=!1,ue,Oe;const Ce=Y.getSelections();Ce.length===1&&Ce[0].isEmpty()?(fe=!0,ue=!0,Oe=!0):(ue=re.wholeWord,Oe=re.matchCase);const oe=Y.getSelection();let ae,Be=null;if(oe.isEmpty()){const Ve=Y.getConfiguredWordAtPosition(oe.getStartPosition());if(!Ve)return null;ae=Ve.word,Be=new N.Y(oe.startLineNumber,Ve.startColumn,oe.startLineNumber,Ve.endColumn)}else ae=Y.getModel().getValueInRange(oe).replace(/\r\n/g,`
`);return new j(Y,X,fe,ae,ue,Oe,Be)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getNextMatch();if(!Y)return null;const X=this._editor.getSelections();return new T(X.concat(Y),Y,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getNextMatch();if(!Y)return null;const X=this._editor.getSelections();return new T(X.slice(0,X.length-1).concat(Y),Y,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const fe=this.currentMatch;return this.currentMatch=null,fe}this.findController.highlightFindOptions();const Y=this._editor.getSelections(),X=Y[Y.length-1],re=this._editor.getModel().findNextMatch(this.searchText,X.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return re?new N.Y(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getPreviousMatch();if(!Y)return null;const X=this._editor.getSelections();return new T(X.concat(Y),Y,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getPreviousMatch();if(!Y)return null;const X=this._editor.getSelections();return new T(X.slice(0,X.length-1).concat(Y),Y,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const fe=this.currentMatch;return this.currentMatch=null,fe}this.findController.highlightFindOptions();const Y=this._editor.getSelections(),X=Y[Y.length-1],re=this._editor.getModel().findPreviousMatch(this.searchText,X.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return re?new N.Y(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}class q extends O.JT{constructor(Y){super(),this._sessionDispose=this._register(new O.SL),this._editor=Y,this._ignoreSelectionChange=!1,this._session=null}static get(Y){return Y.getContribution(q.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(Y){if(!this._session){const X=j.create(this._editor,Y);if(!X)return;this._session=X;const re={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(re.wholeWordOverride=1,re.matchCaseOverride=1,re.isRegexOverride=2),Y.getState().change(re,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(fe=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(Y.getState().onFindReplaceStateChange(fe=>{(fe.matchCase||fe.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const Y={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(Y,!1)}this._session=null}_setSelections(Y){this._ignoreSelectionChange=!0,this._editor.setSelections(Y),this._ignoreSelectionChange=!1}_expandEmptyToWord(Y,X){if(!X.isEmpty())return X;const re=this._editor.getConfiguredWordAtPosition(X.getStartPosition());return re?new N.Y(X.startLineNumber,re.startColumn,X.startLineNumber,re.endColumn):X}_applySessionResult(Y){Y&&(this._setSelections(Y.selections),Y.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(Y.revealRange,Y.revealScrollType))}getSession(Y){return this._session}addSelectionToNextFindMatch(Y){if(this._editor.hasModel()){if(!this._session){const X=this._editor.getSelections();if(X.length>1){const fe=Y.getState().matchCase;if(!I(this._editor.getModel(),X,fe)){const Oe=this._editor.getModel();let Ce=[];for(let oe=0,ae=X.length;oe<ae;oe++)Ce[oe]=this._expandEmptyToWord(Oe,X[oe]);this._editor.setSelections(Ce);return}}}this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(Y){if(!this._editor.hasModel())return;let X=null;const re=Y.getState();if(re.isRevealed&&re.searchString.length>0&&re.isRegex)X=this._editor.getModel().findMatches(re.searchString,!0,re.isRegex,re.matchCase,re.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(Y),!this._session)return;X=this._session.selectAll()}if(re.searchScope){const fe=re.searchScope;let ue=[];X.forEach(Oe=>{fe.forEach(Ce=>{Oe.range.endLineNumber<=Ce.endLineNumber&&Oe.range.startLineNumber>=Ce.startLineNumber&&ue.push(Oe)})}),X=ue}if(X.length>0){const fe=this._editor.getSelection();for(let ue=0,Oe=X.length;ue<Oe;ue++){const Ce=X[ue];if(Ce.range.intersectRanges(fe)){X[ue]=X[0],X[0]=Ce;break}}this._setSelections(X.map(ue=>new N.Y(ue.range.startLineNumber,ue.range.startColumn,ue.range.endLineNumber,ue.range.endColumn)))}}}q.ID="editor.contrib.multiCursorController";class ie extends w.R6{run(Y,X){const re=q.get(X);if(!re)return;const fe=y.CommonFindController.get(X);if(!fe)return;const ue=X._getViewModel();if(ue){const Oe=ue.getCursorStates();this._run(re,fe),a(Oe,ue.getCursorStates())}}}class ne extends ie{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:n.N("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:s.u.focus,primary:2082,weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:n.N({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(Y,X){Y.addSelectionToNextFindMatch(X)}}class he extends ie{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:n.N("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:n.N({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(Y,X){Y.addSelectionToPreviousFindMatch(X)}}class $ extends ie{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:n.N("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:s.u.focus,primary:(0,k.gx)(2089,2082),weight:100}})}_run(Y,X){Y.moveSelectionToNextFindMatch(X)}}class V extends ie{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:n.N("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(Y,X){Y.moveSelectionToPreviousFindMatch(X)}}class z extends ie{constructor(){super({id:"editor.action.selectHighlights",label:n.N("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:s.u.focus,primary:3114,weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:n.N({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(Y,X){Y.selectAll(X)}}class Q extends ie{constructor(){super({id:"editor.action.changeAll",label:n.N("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:f.Ao.and(s.u.writable,s.u.editorTextFocus),kbOpts:{kbExpr:s.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(Y,X){Y.selectAll(X)}}class le{constructor(Y,X,re,fe){this.searchText=Y,this.matchCase=X,this.wordSeparators=re,this.modelVersionId=fe}static softEquals(Y,X){return!Y&&!X?!0:!Y||!X?!1:Y.searchText===X.searchText&&Y.matchCase===X.matchCase&&Y.wordSeparators===X.wordSeparators&&Y.modelVersionId===X.modelVersionId}}class E extends O.JT{constructor(Y){super(),this.editor=Y,this._isEnabled=Y.getOption(96),this.decorations=[],this.updateSoon=this._register(new W.pY(()=>this._update(),300)),this.state=null,this._register(Y.onDidChangeConfiguration(X=>{this._isEnabled=Y.getOption(96)})),this._register(Y.onDidChangeCursorSelection(X=>{this._isEnabled&&(X.selection.isEmpty()?X.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(Y.onDidChangeModel(X=>{this._setState(null)})),this._register(Y.onDidChangeModelContent(X=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(y.CommonFindController.get(Y).getState().onFindReplaceStateChange(X=>{this._update()}))}_update(){this._setState(E._createState(this._isEnabled,this.editor))}static _createState(Y,X){if(!Y||!X.hasModel())return null;const re=X.getSelection();if(re.startLineNumber!==re.endLineNumber)return null;const fe=q.get(X);if(!fe)return null;const ue=y.CommonFindController.get(X);if(!ue)return null;let Oe=fe.getSession(ue);if(!Oe){const ae=X.getSelections();if(ae.length>1){const Ve=ue.getState().matchCase;if(!I(X.getModel(),ae,Ve))return null}Oe=j.create(X,ue)}if(!Oe||Oe.currentMatch||/^[ \t]+$/.test(Oe.searchText)||Oe.searchText.length>200)return null;const Ce=ue.getState(),oe=Ce.matchCase;if(Ce.isRevealed){let ae=Ce.searchString;oe||(ae=ae.toLowerCase());let Be=Oe.searchText;if(oe||(Be=Be.toLowerCase()),ae===Be&&Oe.matchCase===Ce.matchCase&&Oe.wholeWord===Ce.wholeWord&&!Ce.isRegex)return null}return new le(Oe.searchText,Oe.matchCase,Oe.wholeWord?X.getOption(115):null,X.getModel().getVersionId())}_setState(Y){if(le.softEquals(this.state,Y)){this.state=Y;return}if(this.state=Y,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const X=this.editor.getModel();if(X.isTooLargeForTokenization())return;const re=m.vH.has(X)&&this.editor.getOption(71);let fe=X.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(oe=>oe.range);fe.sort(x.e.compareRangesUsingStarts);let ue=this.editor.getSelections();ue.sort(x.e.compareRangesUsingStarts);let Oe=[];for(let oe=0,ae=0,Be=fe.length,Ve=ue.length;oe<Be;){const se=fe[oe];if(ae>=Ve)Oe.push(se),oe++;else{const ce=x.e.compareRangesUsingStarts(se,ue[ae]);ce<0?((ue[ae].isEmpty()||!x.e.areIntersecting(se,ue[ae]))&&Oe.push(se),oe++):(ce>0||oe++,ae++)}}const Ce=Oe.map(oe=>({range:oe,options:re?E._SELECTION_HIGHLIGHT:E._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,Ce)}dispose(){this._setState(null),super.dispose()}}E.ID="editor.contrib.selectionHighlighter",E._SELECTION_HIGHLIGHT_OVERVIEW=l.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,d.EN)(v.IY),position:C.F5.Inline},overviewRuler:{color:(0,d.EN)(v.SP),position:C.sh.Center}}),E._SELECTION_HIGHLIGHT=l.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function I(H,Y,X){const re=A(H,Y[0],!X);for(let fe=1,ue=Y.length;fe<ue;fe++){const Oe=Y[fe];if(Oe.isEmpty())return!1;const Ce=A(H,Oe,!X);if(re!==Ce)return!1}return!0}function A(H,Y,X){const re=H.getValueInRange(Y);return X?re.toLowerCase():re}(0,w._K)(q.ID,q),(0,w._K)(E.ID,E),(0,w.Qr)(u),(0,w.Qr)(c),(0,w.Qr)(b),(0,w.Qr)(ne),(0,w.Qr)(he),(0,w.Qr)($),(0,w.Qr)(V),(0,w.Qr)(z),(0,w.Qr)(Q),(0,w.Qr)(L),(0,w.Qr)(R)},74395:function(Ct,we,t){"use strict";t.r(we),t.d(we,{TriggerParameterHintsAction:function(){return oe}});var h=t(9917),W=t(16830),k=t(29102),O=t(60303),w=t(71050),G=t(17301),x=t(98401),N=t(70666),s=t(50187),C=t(88216),l=t(94565),m=t(38819),y=function(Ve,se,ce,Te){function xe(Fe){return Fe instanceof ce?Fe:new ce(function(Le){Le(Fe)})}return new(ce||(ce=Promise))(function(Fe,Le){function Me(Ye){try{ze(Te.next(Ye))}catch(qe){Le(qe)}}function Se(Ye){try{ze(Te.throw(Ye))}catch(qe){Le(qe)}}function ze(Ye){Ye.done?Fe(Ye.value):xe(Ye.value).then(Me,Se)}ze((Te=Te.apply(Ve,se||[])).next())})};const n={Visible:new m.uy("parameterHintsVisible",!1),MultipleSignatures:new m.uy("parameterHintsMultipleSignatures",!1)};function p(Ve,se,ce,Te){return y(this,void 0,void 0,function*(){const xe=O.nD.ordered(Ve);for(const Fe of xe)try{const Le=yield Fe.provideSignatureHelp(Ve,se,Te,ce);if(Le)return Le}catch(Le){(0,G.Cp)(Le)}})}l.P.registerCommand("_executeSignatureHelpProvider",(Ve,...se)=>y(void 0,void 0,void 0,function*(){const[ce,Te,xe]=se;(0,x.p_)(N.o.isUri(ce)),(0,x.p_)(s.L.isIPosition(Te)),(0,x.p_)(typeof xe=="string"||!xe);const Fe=yield Ve.get(C.S).createModelReference(ce);try{const Le=yield p(Fe.object.textEditorModel,s.L.lift(Te),{triggerKind:O.WW.Invoke,isRetrigger:!1,triggerCharacter:xe},w.T.None);return Le?(setTimeout(()=>Le.dispose(),0),Le.value):void 0}finally{Fe.dispose()}}));var f=t(63580),v=t(72065),d=t(65321),a=t(35996),u=t(13433),c=t(73046),b=t(4669),L=t(97295),R=t(53430),T=t(71531),j=t(15393),q=t(44906),ie=function(Ve,se,ce,Te){function xe(Fe){return Fe instanceof ce?Fe:new ce(function(Le){Le(Fe)})}return new(ce||(ce=Promise))(function(Fe,Le){function Me(Ye){try{ze(Te.next(Ye))}catch(qe){Le(qe)}}function Se(Ye){try{ze(Te.throw(Ye))}catch(qe){Le(qe)}}function ze(Ye){Ye.done?Fe(Ye.value):xe(Ye.value).then(Me,Se)}ze((Te=Te.apply(Ve,se||[])).next())})},ne;(function(Ve){Ve.Default={type:0};class se{constructor(xe,Fe){this.request=xe,this.previouslyActiveHints=Fe,this.type=2}}Ve.Pending=se;class ce{constructor(xe){this.hints=xe,this.type=1}}Ve.Active=ce})(ne||(ne={}));class he extends h.JT{constructor(se,ce=he.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new b.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=ne.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new h.XK),this.triggerChars=new q.q,this.retriggerChars=new q.q,this.triggerId=0,this.editor=se,this.throttledDelayer=new j.vp(ce),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(Te=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(Te=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(Te=>this.onCursorChange(Te))),this._register(this.editor.onDidChangeModelContent(Te=>this.onModelContentChange())),this._register(O.nD.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(Te=>this.onDidType(Te))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(se){this._state.type===2&&this._state.request.cancel(),this._state=se}cancel(se=!1){this.state=ne.Default,this.throttledDelayer.cancel(),se||this._onChangedHints.fire(void 0)}trigger(se,ce){const Te=this.editor.getModel();if(!Te||!O.nD.has(Te))return;const xe=++this.triggerId;this._pendingTriggers.push(se),this.throttledDelayer.trigger(()=>this.doTrigger(xe),ce).catch(G.dL)}next(){if(this.state.type!==1)return;const se=this.state.hints.signatures.length,ce=this.state.hints.activeSignature,Te=ce%se===se-1,xe=this.editor.getOption(75).cycle;if((se<2||Te)&&!xe){this.cancel();return}this.updateActiveSignature(Te&&xe?0:ce+1)}previous(){if(this.state.type!==1)return;const se=this.state.hints.signatures.length,ce=this.state.hints.activeSignature,Te=ce===0,xe=this.editor.getOption(75).cycle;if((se<2||Te)&&!xe){this.cancel();return}this.updateActiveSignature(Te&&xe?se-1:ce-1)}updateActiveSignature(se){this.state.type===1&&(this.state=new ne.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:se})),this._onChangedHints.fire(this.state.hints))}doTrigger(se){return ie(this,void 0,void 0,function*(){const ce=this.state.type===1||this.state.type===2,Te=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const xe=this._pendingTriggers.reduce($);this._pendingTriggers=[];const Fe={triggerKind:xe.triggerKind,triggerCharacter:xe.triggerCharacter,isRetrigger:ce,activeSignatureHelp:Te};if(!this.editor.hasModel())return!1;const Le=this.editor.getModel(),Me=this.editor.getPosition();this.state=new ne.Pending((0,j.PG)(Se=>p(Le,Me,Fe,Se)),Te);try{const Se=yield this.state.request;return se!==this.triggerId?(Se==null||Se.dispose(),!1):!Se||!Se.value.signatures||Se.value.signatures.length===0?(Se==null||Se.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new ne.Active(Se.value),this._lastSignatureHelpResult.value=Se,this._onChangedHints.fire(this.state.hints),!0)}catch(Se){return se===this.triggerId&&(this.state=ne.Default),(0,G.dL)(Se),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new q.q,this.retriggerChars=new q.q;const se=this.editor.getModel();if(se)for(const ce of O.nD.ordered(se)){for(const Te of ce.signatureHelpTriggerCharacters||[])this.triggerChars.add(Te.charCodeAt(0)),this.retriggerChars.add(Te.charCodeAt(0));for(const Te of ce.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(Te.charCodeAt(0))}}onDidType(se){if(!this.triggerOnType)return;const ce=se.length-1,Te=se.charCodeAt(ce);(this.triggerChars.has(Te)||this.isTriggered&&this.retriggerChars.has(Te))&&this.trigger({triggerKind:O.WW.TriggerCharacter,triggerCharacter:se.charAt(ce)})}onCursorChange(se){se.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:O.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:O.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}he.DEFAULT_DELAY=120;function $(Ve,se){switch(se.triggerKind){case O.WW.Invoke:return se;case O.WW.ContentChange:return Ve;case O.WW.TriggerCharacter:default:return se}}var V=t(50988),z=t(73910),Q=t(59554),le=t(92321),E=t(97781),I=function(Ve,se,ce,Te){var xe=arguments.length,Fe=xe<3?se:Te===null?Te=Object.getOwnPropertyDescriptor(se,ce):Te,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Fe=Reflect.decorate(Ve,se,ce,Te);else for(var Me=Ve.length-1;Me>=0;Me--)(Le=Ve[Me])&&(Fe=(xe<3?Le(Fe):xe>3?Le(se,ce,Fe):Le(se,ce))||Fe);return xe>3&&Fe&&Object.defineProperty(se,ce,Fe),Fe},A=function(Ve,se){return function(ce,Te){se(ce,Te,Ve)}};const H=d.$,Y=(0,Q.q5)("parameter-hints-next",c.lA.chevronDown,f.N("parameterHintsNextIcon","Icon for show next parameter hint.")),X=(0,Q.q5)("parameter-hints-previous",c.lA.chevronUp,f.N("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let re=class Rl extends h.JT{constructor(se,ce,Te,xe){super(),this.editor=se,this.renderDisposeables=this._register(new h.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new R.$({editor:se},xe,Te)),this.model=this._register(new he(se)),this.keyVisible=n.Visible.bindTo(ce),this.keyMultipleSignatures=n.MultipleSignatures.bindTo(ce),this._register(this.model.onChangedHints(Fe=>{Fe?(this.show(),this.render(Fe)):this.hide()}))}createParameterHintDOMNodes(){const se=H(".editor-widget.parameter-hints-widget"),ce=d.R3(se,H(".phwrapper"));ce.tabIndex=-1;const Te=d.R3(ce,H(".controls")),xe=d.R3(Te,H(".button"+E.kS.asCSSSelector(X))),Fe=d.R3(Te,H(".overloads")),Le=d.R3(Te,H(".button"+E.kS.asCSSSelector(Y)));this._register(d.nm(xe,"click",ht=>{d.zB.stop(ht),this.previous()})),this._register(d.nm(Le,"click",ht=>{d.zB.stop(ht),this.next()}));const Me=H(".body"),Se=new u.s$(Me,{});this._register(Se),ce.appendChild(Se.getDomNode());const ze=d.R3(Me,H(".signature")),Ye=d.R3(Me,H(".docs"));se.style.userSelect="text",this.domNodes={element:se,signature:ze,overloads:Fe,docs:Ye,scrollbar:Se},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(ht=>{this.visible&&this.editor.layoutContentWidget(this)}));const qe=()=>{if(!this.domNodes)return;const ht=this.editor.getOption(43);this.domNodes.element.style.fontSize=`${ht.fontSize}px`,this.domNodes.element.style.lineHeight=`${ht.lineHeight/ht.fontSize}`};qe(),this._register(b.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(ht=>ht.hasChanged(43)).on(qe,null)),this._register(this.editor.onDidLayoutChange(ht=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(se){var ce;if(this.renderDisposeables.clear(),!this.domNodes)return;const Te=se.signatures.length>1;this.domNodes.element.classList.toggle("multiple",Te),this.keyMultipleSignatures.set(Te),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const xe=se.signatures[se.activeSignature];if(!xe)return;const Fe=d.R3(this.domNodes.signature,H(".code")),Le=this.editor.getOption(43);Fe.style.fontSize=`${Le.fontSize}px`,Fe.style.fontFamily=Le.fontFamily;const Me=xe.parameters.length>0,Se=(ce=xe.activeParameter)!==null&&ce!==void 0?ce:se.activeParameter;if(Me)this.renderParameters(Fe,xe,Se);else{const qe=d.R3(Fe,H("span"));qe.textContent=xe.label}const ze=xe.parameters[Se];if(ze!=null&&ze.documentation){const qe=H("span.documentation");if(typeof ze.documentation=="string")qe.textContent=ze.documentation;else{const ht=this.renderMarkdownDocs(ze.documentation);qe.appendChild(ht.element)}d.R3(this.domNodes.docs,H("p",{},qe))}if(xe.documentation!==void 0)if(typeof xe.documentation=="string")d.R3(this.domNodes.docs,H("p",{},xe.documentation));else{const qe=this.renderMarkdownDocs(xe.documentation);d.R3(this.domNodes.docs,qe.element)}const Ye=this.hasDocs(xe,ze);if(this.domNodes.signature.classList.toggle("has-docs",Ye),this.domNodes.docs.classList.toggle("empty",!Ye),this.domNodes.overloads.textContent=String(se.activeSignature+1).padStart(se.signatures.length.toString().length,"0")+"/"+se.signatures.length,ze){let qe="";const ht=xe.parameters[Se];Array.isArray(ht.label)?qe=xe.label.substring(ht.label[0],ht.label[1]):qe=ht.label,ht.documentation&&(qe+=typeof ht.documentation=="string"?`, ${ht.documentation}`:`, ${ht.documentation.value}`),xe.documentation&&(qe+=typeof xe.documentation=="string"?`, ${xe.documentation}`:`, ${xe.documentation.value}`),this.announcedLabel!==qe&&(a.Z9(f.N("hint","{0}, hint",qe)),this.announcedLabel=qe)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(se){const ce=this.renderDisposeables.add(this.markdownRenderer.render(se,{asyncRenderCallback:()=>{var Te;(Te=this.domNodes)===null||Te===void 0||Te.scrollbar.scanDomNode()}}));return ce.element.classList.add("markdown-docs"),ce}hasDocs(se,ce){return!!(ce&&typeof ce.documentation=="string"&&(0,x.cW)(ce.documentation).length>0||ce&&typeof ce.documentation=="object"&&(0,x.cW)(ce.documentation).value.length>0||se.documentation&&typeof se.documentation=="string"&&(0,x.cW)(se.documentation).length>0||se.documentation&&typeof se.documentation=="object"&&(0,x.cW)(se.documentation.value).length>0)}renderParameters(se,ce,Te){const[xe,Fe]=this.getParameterLabelOffsets(ce,Te),Le=document.createElement("span");Le.textContent=ce.label.substring(0,xe);const Me=document.createElement("span");Me.textContent=ce.label.substring(xe,Fe),Me.className="parameter active";const Se=document.createElement("span");Se.textContent=ce.label.substring(Fe),d.R3(se,Le,Me,Se)}getParameterLabelOffsets(se,ce){const Te=se.parameters[ce];if(Te){if(Array.isArray(Te.label))return Te.label;if(Te.label.length){const xe=new RegExp(`(\\W|^)${(0,L.ec)(Te.label)}(?=\\W|$)`,"g");xe.test(se.label);const Fe=xe.lastIndex-Te.label.length;return Fe>=0?[Fe,xe.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Rl.ID}trigger(se){this.model.trigger(se,0)}updateMaxHeight(){if(!this.domNodes)return;const ce=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=ce;const Te=this.domNodes.element.getElementsByClassName("phwrapper");Te.length&&(Te[0].style.maxHeight=ce)}};re.ID="editor.widget.parameterHintsWidget",re=I([A(1,m.i6),A(2,V.v4),A(3,T.h)],re);const fe=(0,z.P6)("editorHoverWidget.highlightForeground",{dark:z.Gw,light:z.Gw,hc:z.Gw},f.N("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,E.Ic)((Ve,se)=>{const ce=Ve.getColor(z.CN);if(ce){const ze=Ve.type===le.e.HIGH_CONTRAST?2:1;se.addRule(`.monaco-editor .parameter-hints-widget { border: ${ze}px solid ${ce}; }`),se.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${ce.transparent(.5)}; }`),se.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${ce.transparent(.5)}; }`)}const Te=Ve.getColor(z.yJ);Te&&se.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${Te}; }`);const xe=Ve.getColor(z.ur);xe&&se.addRule(`.monaco-editor .parameter-hints-widget a { color: ${xe}; }`);const Fe=Ve.getColor(z.sg);Fe&&se.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${Fe}; }`);const Le=Ve.getColor(z.Sb);Le&&se.addRule(`.monaco-editor .parameter-hints-widget { color: ${Le}; }`);const Me=Ve.getColor(z.Sw);Me&&se.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${Me}; }`);const Se=Ve.getColor(fe);Se&&se.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Se}}`)});var ue=function(Ve,se,ce,Te){var xe=arguments.length,Fe=xe<3?se:Te===null?Te=Object.getOwnPropertyDescriptor(se,ce):Te,Le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Fe=Reflect.decorate(Ve,se,ce,Te);else for(var Me=Ve.length-1;Me>=0;Me--)(Le=Ve[Me])&&(Fe=(xe<3?Le(Fe):xe>3?Le(se,ce,Fe):Le(se,ce))||Fe);return xe>3&&Fe&&Object.defineProperty(se,ce,Fe),Fe},Oe=function(Ve,se){return function(ce,Te){se(ce,Te,Ve)}};let Ce=class Al extends h.JT{constructor(se,ce){super(),this.editor=se,this.widget=this._register(ce.createInstance(re,this.editor))}static get(se){return se.getContribution(Al.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(se){this.widget.trigger(se)}};Ce.ID="editor.controller.parameterHints",Ce=ue([Oe(1,v.TG)],Ce);class oe extends W.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:f.N("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:k.u.hasSignatureHelpProvider,kbOpts:{kbExpr:k.u.editorTextFocus,primary:3082,weight:100}})}run(se,ce){const Te=Ce.get(ce);Te&&Te.trigger({triggerKind:O.WW.Invoke})}}(0,W._K)(Ce.ID,Ce),(0,W.Qr)(oe);const ae=100+75,Be=W._l.bindToContribution(Ce.get);(0,W.fK)(new Be({id:"closeParameterHints",precondition:n.Visible,handler:Ve=>Ve.cancel(),kbOpts:{weight:ae,kbExpr:k.u.focus,primary:9,secondary:[1033]}})),(0,W.fK)(new Be({id:"showPrevParameterHint",precondition:m.Ao.and(n.Visible,n.MultipleSignatures),handler:Ve=>Ve.previous(),kbOpts:{weight:ae,kbExpr:k.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,W.fK)(new Be({id:"showNextParameterHint",precondition:m.Ao.and(n.Visible,n.MultipleSignatures),handler:Ve=>Ve.next(),kbOpts:{weight:ae,kbExpr:k.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},15232:function(Ct,we,t){"use strict";t.d(we,{Fw:function(){return $},Jy:function(){return V},vk:function(){return E},rc:function(){return Q},SC:function(){return Y},RX:function(){return Ce},sH:function(){return oe},WL:function(){return Be},xH:function(){return Ve},M8:function(){return X},a7:function(){return fe},xk:function(){return re},F8:function(){return ae},Zj:function(){return ue},IY:function(){return Oe},KY:function(){return I},IH:function(){return A},R7:function(){return H}});var h=t(65321),W=t(90317),k=t(74741),O=t(73046),w=t(41264),G=t(4669),x=t(36248),N=t(16830),s=t(11640),C=t(84527),l=t(83080),m=t(44742),y=t(9917),n=t(24314),p=t(24979);const f=new w.Il(new w.VS(0,122,204)),v={showArrow:!0,showFrame:!0,className:"",frameColor:f,arrowColor:f,keepEditorSelection:!1},d="vs.editor.contrib.zoneWidget";class a{constructor(ce,Te,xe,Fe,Le,Me){this.id="",this.domNode=ce,this.afterLineNumber=Te,this.afterColumn=xe,this.heightInLines=Fe,this._onDomNodeTop=Le,this._onComputedHeight=Me}onDomNodeTop(ce){this._onDomNodeTop(ce)}onComputedHeight(ce){this._onComputedHeight(ce)}}class u{constructor(ce,Te){this._id=ce,this._domNode=Te}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class c{constructor(ce){this._editor=ce,this._ruleName=c._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),h.uN(this._ruleName)}set color(ce){this._color!==ce&&(this._color=ce,this._updateStyle())}set height(ce){this._height!==ce&&(this._height=ce,this._updateStyle())}_updateStyle(){h.uN(this._ruleName),h.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(ce){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:n.e.fromPositions(ce),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}c._IdGenerator=new m.R(".arrow-decoration-");class b{constructor(ce,Te={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new y.SL,this.container=null,this._isShowing=!1,this.editor=ce,this.options=x.I8(Te),x.jB(this.options,v,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(xe=>{const Fe=this._getWidth(xe);this.domNode.style.width=Fe+"px",this.domNode.style.left=this._getLeft(xe)+"px",this._onWidth(Fe)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(ce=>{this._viewZone&&ce.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new c(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(ce){ce.frameColor&&(this.options.frameColor=ce.frameColor),ce.arrowColor&&(this.options.arrowColor=ce.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let ce=this.options.frameColor.toString();this.container.style.borderTopColor=ce,this.container.style.borderBottomColor=ce}if(this._arrow&&this.options.arrowColor){let ce=this.options.arrowColor.toString();this._arrow.color=ce}}_getWidth(ce){return ce.width-ce.minimap.minimapWidth-ce.verticalScrollbarWidth}_getLeft(ce){return ce.minimap.minimapWidth>0&&ce.minimap.minimapLeft===0?ce.minimap.minimapWidth:0}_onViewZoneTop(ce){this.domNode.style.top=ce+"px"}_onViewZoneHeight(ce){if(this.domNode.style.height=`${ce}px`,this.container){let Te=ce-this._decoratingElementsHeight();this.container.style.height=`${Te}px`;const xe=this.editor.getLayoutInfo();this._doLayout(Te,this._getWidth(xe))}this._resizeSash&&this._resizeSash.layout()}get position(){const[ce]=this._positionMarkerId;if(!ce)return;const Te=this.editor.getModel();if(!Te)return;const xe=Te.getDecorationRange(ce);if(xe)return xe.getStartPosition()}show(ce,Te){const xe=n.e.isIRange(ce)?n.e.lift(ce):n.e.fromPositions(ce);this._isShowing=!0,this._showImpl(xe,Te),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:xe,options:p.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(ce=>{this._viewZone&&ce.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let ce=this.editor.getOption(58),Te=0;if(this.options.showArrow){let xe=Math.round(ce/3);Te+=2*xe}if(this.options.showFrame){let xe=Math.round(ce/9);Te+=2*xe}return Te}_showImpl(ce,Te){const xe=ce.getStartPosition(),Fe=this.editor.getLayoutInfo(),Le=this._getWidth(Fe);this.domNode.style.width=`${Le}px`,this.domNode.style.left=this._getLeft(Fe)+"px";const Me=document.createElement("div");Me.style.overflow="hidden";const Se=this.editor.getOption(58),ze=Math.max(12,this.editor.getLayoutInfo().height/Se*.8);Te=Math.min(Te,ze);let Ye=0,qe=0;if(this._arrow&&this.options.showArrow&&(Ye=Math.round(Se/3),this._arrow.height=Ye,this._arrow.show(xe)),this.options.showFrame&&(qe=Math.round(Se/9)),this.editor.changeViewZones(zt=>{this._viewZone&&zt.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new a(Me,xe.lineNumber,xe.column,Te,Ke=>this._onViewZoneTop(Ke),Ke=>this._onViewZoneHeight(Ke)),this._viewZone.id=zt.addZone(this._viewZone),this._overlayWidget=new u(d+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const zt=this.options.frameWidth?this.options.frameWidth:qe;this.container.style.borderTopWidth=zt+"px",this.container.style.borderBottomWidth=zt+"px"}let ht=Te*Se-this._decoratingElementsHeight();this.container&&(this.container.style.top=Ye+"px",this.container.style.height=ht+"px",this.container.style.overflow="hidden"),this._doLayout(ht,Le),this.options.keepEditorSelection||this.editor.setSelection(ce);const kt=this.editor.getModel();if(kt){const zt=ce.endLineNumber+1;zt<=kt.getLineCount()?this.revealLine(zt,!1):this.revealLine(kt.getLineCount(),!0)}}revealLine(ce,Te){Te?this.editor.revealLineInCenter(ce,0):this.editor.revealLine(ce,0)}setCssClass(ce,Te){this.container&&(Te&&this.container.classList.remove(Te),this.container.classList.add(ce))}_onWidth(ce){}_doLayout(ce,Te){}_relayout(ce){this._viewZone&&this._viewZone.heightInLines!==ce&&this.editor.changeViewZones(Te=>{this._viewZone&&(this._viewZone.heightInLines=ce,Te.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new l.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let ce;this._disposables.add(this._resizeSash.onDidStart(Te=>{this._viewZone&&(ce={startY:Te.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{ce=void 0})),this._disposables.add(this._resizeSash.onDidChange(Te=>{if(ce){let xe=(Te.currentY-ce.startY)/this.editor.getOption(58),Fe=xe<0?Math.ceil(xe):Math.floor(xe),Le=ce.heightInLines+Fe;Le>5&&Le<35&&this._relayout(Le)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const ce=this.editor.getLayoutInfo();return ce.width-ce.minimap.minimapWidth}}var L=t(63580),R=t(42499),T=t(38819),j=t(65026),q=t(72065),ie=t(73910),ne=function(se,ce,Te,xe){var Fe=arguments.length,Le=Fe<3?ce:xe===null?xe=Object.getOwnPropertyDescriptor(ce,Te):xe,Me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Le=Reflect.decorate(se,ce,Te,xe);else for(var Se=se.length-1;Se>=0;Se--)(Me=se[Se])&&(Le=(Fe<3?Me(Le):Fe>3?Me(ce,Te,Le):Me(ce,Te))||Le);return Fe>3&&Le&&Object.defineProperty(ce,Te,Le),Le},he=function(se,ce){return function(Te,xe){ce(Te,xe,se)}};const $=(0,q.yh)("IPeekViewService");(0,j.z)($,class{constructor(){this._widgets=new Map}addExclusiveWidget(se,ce){const Te=this._widgets.get(se);Te&&(Te.listener.dispose(),Te.widget.dispose());const xe=()=>{const Fe=this._widgets.get(se);Fe&&Fe.widget===ce&&(Fe.listener.dispose(),this._widgets.delete(se))};this._widgets.set(se,{widget:ce,listener:ce.onDidClose(xe)})}});var V;(function(se){se.inPeekEditor=new T.uy("inReferenceSearchEditor",!0,L.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),se.notInPeekEditor=se.inPeekEditor.toNegated()})(V||(V={}));let z=class{constructor(ce,Te){ce instanceof C.H&&V.inPeekEditor.bindTo(Te)}dispose(){}};z.ID="editor.contrib.referenceController",z=ne([he(1,T.i6)],z),(0,N._K)(z.ID,z);function Q(se){let ce=se.get(s.$).getFocusedCodeEditor();return ce instanceof C.H?ce.getParentEditor():ce}const le={headerBackgroundColor:w.Il.white,primaryHeadingColor:w.Il.fromHex("#333333"),secondaryHeadingColor:w.Il.fromHex("#6c6c6cb3")};let E=class extends b{constructor(ce,Te,xe){super(ce,Te),this.instantiationService=xe,this._onDidClose=new G.Q5,this.onDidClose=this._onDidClose.event,x.jB(this.options,le,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(ce){let Te=this.options;ce.headerBackgroundColor&&(Te.headerBackgroundColor=ce.headerBackgroundColor),ce.primaryHeadingColor&&(Te.primaryHeadingColor=ce.primaryHeadingColor),ce.secondaryHeadingColor&&(Te.secondaryHeadingColor=ce.secondaryHeadingColor),super.style(ce)}_applyStyles(){super._applyStyles();let ce=this.options;this._headElement&&ce.headerBackgroundColor&&(this._headElement.style.backgroundColor=ce.headerBackgroundColor.toString()),this._primaryHeading&&ce.primaryHeadingColor&&(this._primaryHeading.style.color=ce.primaryHeadingColor.toString()),this._secondaryHeading&&ce.secondaryHeadingColor&&(this._secondaryHeading.style.color=ce.secondaryHeadingColor.toString()),this._bodyElement&&ce.frameColor&&(this._bodyElement.style.borderColor=ce.frameColor.toString())}_fillContainer(ce){this.setCssClass("peekview-widget"),this._headElement=h.$(".head"),this._bodyElement=h.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),ce.appendChild(this._headElement),ce.appendChild(this._bodyElement)}_fillHead(ce,Te){const xe=h.$(".peekview-title");this.options.supportOnTitleClick&&(xe.classList.add("clickable"),h.mu(xe,"click",Me=>this._onTitleClick(Me))),h.R3(this._headElement,xe),this._fillTitleIcon(xe),this._primaryHeading=h.$("span.filename"),this._secondaryHeading=h.$("span.dirname"),this._metaHeading=h.$("span.meta"),h.R3(xe,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Fe=h.$(".peekview-actions");h.R3(this._headElement,Fe);const Le=this._getActionBarOptions();this._actionbarWidget=new W.o(Fe,Le),this._disposables.add(this._actionbarWidget),Te||this._actionbarWidget.push(new k.aU("peekview.close",L.N("label.close","Close"),O.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(ce){}_getActionBarOptions(){return{actionViewItemProvider:R.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(ce){}setTitle(ce,Te){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=ce,this._primaryHeading.setAttribute("title",ce),Te?this._secondaryHeading.innerText=Te:h.PO(this._secondaryHeading))}setMetaTitle(ce){this._metaHeading&&(ce?(this._metaHeading.innerText=ce,h.$Z(this._metaHeading)):h.Cp(this._metaHeading))}_doLayout(ce,Te){if(!this._isShowing&&ce<0){this.dispose();return}const xe=Math.ceil(this.editor.getOption(58)*1.2),Fe=Math.round(ce-(xe+2));this._doLayoutHead(xe,Te),this._doLayoutBody(Fe,Te)}_doLayoutHead(ce,Te){this._headElement&&(this._headElement.style.height=`${ce}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(ce,Te){this._bodyElement&&(this._bodyElement.style.height=`${ce}px`)}};E=ne([he(2,q.TG)],E);const I=(0,ie.P6)("peekViewTitle.background",{dark:(0,ie.Zn)(ie.c6,.1),light:(0,ie.Zn)(ie.c6,.1),hc:null},L.N("peekViewTitleBackground","Background color of the peek view title area.")),A=(0,ie.P6)("peekViewTitleLabel.foreground",{dark:w.Il.white,light:w.Il.black,hc:w.Il.white},L.N("peekViewTitleForeground","Color of the peek view title.")),H=(0,ie.P6)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},L.N("peekViewTitleInfoForeground","Color of the peek view title info.")),Y=(0,ie.P6)("peekView.border",{dark:ie.c6,light:ie.c6,hc:ie.lR},L.N("peekViewBorder","Color of the peek view borders and arrow.")),X=(0,ie.P6)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:w.Il.black},L.N("peekViewResultsBackground","Background color of the peek view result list.")),re=(0,ie.P6)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:w.Il.white},L.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),fe=(0,ie.P6)("peekViewResult.fileForeground",{dark:w.Il.white,light:"#1E1E1E",hc:w.Il.white},L.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),ue=(0,ie.P6)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},L.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Oe=(0,ie.P6)("peekViewResult.selectionForeground",{dark:w.Il.white,light:"#6C6C6C",hc:w.Il.white},L.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),Ce=(0,ie.P6)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:w.Il.black},L.N("peekViewEditorBackground","Background color of the peek view editor.")),oe=(0,ie.P6)("peekViewEditorGutter.background",{dark:Ce,light:Ce,hc:Ce},L.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),ae=(0,ie.P6)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},L.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Be=(0,ie.P6)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},L.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Ve=(0,ie.P6)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:ie.xL},L.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},98275:function(Ct,we,t){"use strict";t.d(we,{X:function(){return N}});var h=t(88289),W=t(9917),k=t(98401),O=t(65520),w=t(84973),G=t(27869),x=t(97781);class N{constructor(C){this.options=C,this.rangeHighlightDecorationId=void 0}provide(C,l){var m;const y=new W.SL;C.canAcceptInBackground=!!(!((m=this.options)===null||m===void 0)&&m.canAcceptInBackground),C.matchOnLabel=C.matchOnDescription=C.matchOnDetail=C.sortByLabel=!1;const n=y.add(new W.XK);return n.value=this.doProvide(C,l),y.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(C,l)})),y}doProvide(C,l){const m=new W.SL,y=this.activeTextEditorControl;if(y&&this.canProvideWithTextEditor(y)){const n={editor:y},p=(0,O.Pi)(y);if(p){let f=(0,k.f6)(y.saveViewState());m.add(p.onDidChangeCursorPosition(()=>{f=(0,k.f6)(y.saveViewState())})),n.restoreViewState=()=>{f&&y===this.activeTextEditorControl&&y.restoreViewState(f)},m.add((0,h.I)(l.onCancellationRequested)(()=>{var v;return(v=n.restoreViewState)===null||v===void 0?void 0:v.call(n)}))}m.add((0,W.OF)(()=>this.clearDecorations(y))),m.add(this.provideWithTextEditor(n,C,l))}else m.add(this.provideWithoutTextEditor(C,l));return m}canProvideWithTextEditor(C){return!0}gotoLocation({editor:C},l){C.setSelection(l.range),C.revealRangeInCenter(l.range,0),l.preserveFocus||C.focus()}getModel(C){var l;return(0,O.QI)(C)?(l=C.getModel())===null||l===void 0?void 0:l.modified:C.getModel()}addDecorations(C,l){C.changeDecorations(m=>{const y=[];this.rangeHighlightDecorationId&&(y.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),y.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:l,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:l,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,x.EN)(G.m9),position:w.sh.Full}}}],[p,f]=m.deltaDecorations(y,n);this.rangeHighlightDecorationId={rangeHighlightId:p,overviewRulerDecorationId:f}})}clearDecorations(C){const l=this.rangeHighlightDecorationId;l&&(C.changeDecorations(m=>{m.deltaDecorations([l.overviewRulerDecorationId,l.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},16607:function(Ct,we,t){"use strict";t.r(we),t.d(we,{RenameAction:function(){return H},rename:function(){return I}});var h=t(35996),W=t(15393),k=t(71050),O=t(17301),w=t(9917),G=t(98401),x=t(70666),N=t(55812),s=t(16830),C=t(66007),l=t(11640),m=t(50187),y=t(24314),n=t(29102),p=t(60303),f=t(33187),v=t(53641),d=t(63580),a=t(23193),u=t(38819),c=t(72065),b=t(43557),L=t(59422),R=t(90535),T=t(89872),j=t(91847),q=t(73910),ie=t(97781),ne=function(X,re,fe,ue){var Oe=arguments.length,Ce=Oe<3?re:ue===null?ue=Object.getOwnPropertyDescriptor(re,fe):ue,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(X,re,fe,ue);else for(var ae=X.length-1;ae>=0;ae--)(oe=X[ae])&&(Ce=(Oe<3?oe(Ce):Oe>3?oe(re,fe,Ce):oe(re,fe))||Ce);return Oe>3&&Ce&&Object.defineProperty(re,fe,Ce),Ce},he=function(X,re){return function(fe,ue){re(fe,ue,X)}};const $=new u.uy("renameInputVisible",!1,(0,d.N)("renameInputVisible","Whether the rename input widget is visible"));let V=class{constructor(re,fe,ue,Oe,Ce){this._editor=re,this._acceptKeybindings=fe,this._themeService=ue,this._keybindingService=Oe,this._disposables=new w.SL,this.allowEditorOverflow=!0,this._visibleContextKey=$.bindTo(Ce),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(oe=>{oe.hasChanged(43)&&this._updateFont()})),this._disposables.add(ue.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,d.N)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const re=()=>{var fe,ue;const[Oe,Ce]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(Oe),this._label.innerText=(0,d.N)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(fe=this._keybindingService.lookupKeybinding(Oe))===null||fe===void 0?void 0:fe.getLabel(),(ue=this._keybindingService.lookupKeybinding(Ce))===null||ue===void 0?void 0:ue.getLabel())};re(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(re)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(re){var fe,ue,Oe,Ce;if(!this._input||!this._domNode)return;const oe=re.getColor(q.rh);this._domNode.style.backgroundColor=String((fe=re.getColor(q.D0))!==null&&fe!==void 0?fe:""),this._domNode.style.boxShadow=oe?` 0 0 8px 2px ${oe}`:"",this._domNode.style.color=String((ue=re.getColor(q.zJ))!==null&&ue!==void 0?ue:""),this._input.style.backgroundColor=String((Oe=re.getColor(q.sE))!==null&&Oe!==void 0?Oe:"");const ae=re.getColor(q.dt);this._input.style.borderWidth=ae?"1px":"0px",this._input.style.borderStyle=ae?"solid":"none",this._input.style.borderColor=(Ce=ae==null?void 0:ae.toString())!==null&&Ce!==void 0?Ce:"none"}_updateFont(){if(!this._input||!this._label)return;const re=this._editor.getOption(43);this._input.style.fontFamily=re.fontFamily,this._input.style.fontWeight=re.fontWeight,this._input.style.fontSize=`${re.fontSize}px`,this._label.style.fontSize=`${re.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(re){re||this.cancelInput(!0)}acceptInput(re){this._currentAcceptInput&&this._currentAcceptInput(re)}cancelInput(re){this._currentCancelInput&&this._currentCancelInput(re)}getInput(re,fe,ue,Oe,Ce,oe){this._domNode.classList.toggle("preview",Ce),this._position=new m.L(re.startLineNumber,re.startColumn),this._input.value=fe,this._input.setAttribute("selectionStart",ue.toString()),this._input.setAttribute("selectionEnd",Oe.toString()),this._input.size=Math.max((re.endColumn-re.startColumn)*1.1,20);const ae=new w.SL;return new Promise(Be=>{this._currentCancelInput=Ve=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Be(Ve),!0),this._currentAcceptInput=Ve=>{if(this._input.value.trim().length===0||this._input.value===fe){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Be({newName:this._input.value,wantsPreview:Ce&&Ve})},oe.onCancellationRequested(()=>this.cancelInput(!0)),ae.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{ae.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};V=ne([he(2,ie.XE),he(3,j.d),he(4,u.i6)],V);var z=function(X,re,fe,ue){var Oe=arguments.length,Ce=Oe<3?re:ue===null?ue=Object.getOwnPropertyDescriptor(re,fe):ue,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(X,re,fe,ue);else for(var ae=X.length-1;ae>=0;ae--)(oe=X[ae])&&(Ce=(Oe<3?oe(Ce):Oe>3?oe(re,fe,Ce):oe(re,fe))||Ce);return Oe>3&&Ce&&Object.defineProperty(re,fe,Ce),Ce},Q=function(X,re){return function(fe,ue){re(fe,ue,X)}},le=function(X,re,fe,ue){function Oe(Ce){return Ce instanceof fe?Ce:new fe(function(oe){oe(Ce)})}return new(fe||(fe=Promise))(function(Ce,oe){function ae(se){try{Ve(ue.next(se))}catch(ce){oe(ce)}}function Be(se){try{Ve(ue.throw(se))}catch(ce){oe(ce)}}function Ve(se){se.done?Ce(se.value):Oe(se.value).then(ae,Be)}Ve((ue=ue.apply(X,re||[])).next())})};class E{constructor(re,fe){this.model=re,this.position=fe,this._providerRenameIdx=0,this._providers=p.G0.ordered(re)}hasProvider(){return this._providers.length>0}resolveRenameLocation(re){return le(this,void 0,void 0,function*(){const fe=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const Oe=this._providers[this._providerRenameIdx];if(!Oe.resolveRenameLocation)break;let Ce=yield Oe.resolveRenameLocation(this.model,this.position,re);if(Ce){if(Ce.rejectReason){fe.push(Ce.rejectReason);continue}return Ce}}const ue=this.model.getWordAtPosition(this.position);return ue?{range:new y.e(this.position.lineNumber,ue.startColumn,this.position.lineNumber,ue.endColumn),text:ue.word,rejectReason:fe.length>0?fe.join(`
`):void 0}:{range:y.e.fromPositions(this.position),text:"",rejectReason:fe.length>0?fe.join(`
`):void 0}})}provideRenameEdits(re,fe){return le(this,void 0,void 0,function*(){return this._provideRenameEdits(re,this._providerRenameIdx,[],fe)})}_provideRenameEdits(re,fe,ue,Oe){return le(this,void 0,void 0,function*(){const Ce=this._providers[fe];if(!Ce)return{edits:[],rejectReason:ue.join(`
`)};const oe=yield Ce.provideRenameEdits(this.model,this.position,re,Oe);if(oe){if(oe.rejectReason)return this._provideRenameEdits(re,fe+1,ue.concat(oe.rejectReason),Oe)}else return this._provideRenameEdits(re,fe+1,ue.concat(d.N("no result","No result.")),Oe);return oe})}}function I(X,re,fe){return le(this,void 0,void 0,function*(){const ue=new E(X,re),Oe=yield ue.resolveRenameLocation(k.T.None);return Oe!=null&&Oe.rejectReason?{edits:[],rejectReason:Oe.rejectReason}:ue.provideRenameEdits(fe,k.T.None)})}let A=class Ol{constructor(re,fe,ue,Oe,Ce,oe,ae){this.editor=re,this._instaService=fe,this._notificationService=ue,this._bulkEditService=Oe,this._progressService=Ce,this._logService=oe,this._configService=ae,this._dispoableStore=new w.SL,this._cts=new k.A,this._renameInputField=this._dispoableStore.add(new W.Ue(()=>this._dispoableStore.add(this._instaService.createInstance(V,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(re){return re.getContribution(Ol.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return le(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const re=this.editor.getPosition(),fe=new E(this.editor.getModel(),re);if(!fe.hasProvider())return;this._cts=new N.Dl(this.editor,5);let ue;try{const se=fe.resolveRenameLocation(this._cts.token);this._progressService.showWhile(se,250),ue=yield se}catch(se){v.O.get(this.editor).showMessage(se||d.N("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),re);return}if(!ue)return;if(ue.rejectReason){v.O.get(this.editor).showMessage(ue.rejectReason,re);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new N.Dl(this.editor,5,ue.range);let Oe=this.editor.getSelection(),Ce=0,oe=ue.text.length;!y.e.isEmpty(Oe)&&!y.e.spansMultipleLines(Oe)&&y.e.containsRange(ue.range,Oe)&&(Ce=Math.max(0,Oe.startColumn-ue.range.startColumn),oe=Math.min(ue.range.endColumn,Oe.endColumn)-ue.range.startColumn);const ae=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Be=yield this._renameInputField.value.getInput(ue.range,ue.text,Ce,oe,ae,this._cts.token);if(typeof Be=="boolean"){Be&&this.editor.focus();return}this.editor.focus();const Ve=(0,W.eP)(fe.provideRenameEdits(Be.newName,this._cts.token),this._cts.token).then(se=>le(this,void 0,void 0,function*(){if(!(!se||!this.editor.hasModel())){if(se.rejectReason){this._notificationService.info(se.rejectReason);return}this.editor.setSelection(y.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(C.fo.convert(se),{editor:this.editor,showPreview:Be.wantsPreview,label:d.N("label","Renaming '{0}'",ue==null?void 0:ue.text),quotableLabel:d.N("quotableLabel","Renaming {0}",ue==null?void 0:ue.text)}).then(ce=>{ce.ariaSummary&&(0,h.Z9)(d.N("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",ue.text,Be.newName,ce.ariaSummary))}).catch(ce=>{this._notificationService.error(d.N("rename.failedApply","Rename failed to apply edits")),this._logService.error(ce)})}}),se=>{this._notificationService.error(d.N("rename.failed","Rename failed to compute edits")),this._logService.error(se)});return this._progressService.showWhile(Ve,250),Ve})}acceptRenameInput(re){this._renameInputField.value.acceptInput(re)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};A.ID="editor.contrib.renameController",A=z([Q(1,c.TG),Q(2,L.lT),Q(3,C.vu),Q(4,R.e),Q(5,b.VZ),Q(6,f.V)],A);class H extends s.R6{constructor(){super({id:"editor.action.rename",label:d.N("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:u.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(re,fe){const ue=re.get(l.$),[Oe,Ce]=Array.isArray(fe)&&fe||[void 0,void 0];return x.o.isUri(Oe)&&m.L.isIPosition(Ce)?ue.openCodeEditor({resource:Oe},ue.getActiveCodeEditor()).then(oe=>{oe&&(oe.setPosition(Ce),oe.invokeWithinContext(ae=>(this.reportTelemetry(ae,oe),this.run(ae,oe))))},O.dL):super.runCommand(re,fe)}run(re,fe){const ue=A.get(fe);return ue?ue.run():Promise.resolve()}}(0,s._K)(A.ID,A),(0,s.Qr)(H);const Y=s._l.bindToContribution(A.get);(0,s.fK)(new Y({id:"acceptRenameInput",precondition:$,handler:X=>X.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:n.u.focus,primary:3}})),(0,s.fK)(new Y({id:"acceptRenameInputWithPreview",precondition:u.Ao.and($,u.Ao.has("config.editor.rename.enablePreview")),handler:X=>X.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:n.u.focus,primary:1024+3}})),(0,s.fK)(new Y({id:"cancelRenameInput",precondition:$,handler:X=>X.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:n.u.focus,primary:9,secondary:[1033]}})),(0,s.sb)("_executeDocumentRenameProvider",function(X,re,...fe){const[ue]=fe;return(0,G.p_)(typeof ue=="string"),I(X,re,ue)}),(0,s.sb)("_executePrepareRename",function(X,re){return le(this,void 0,void 0,function*(){const ue=yield new E(X,re).resolveRenameLocation(k.T.None);if(ue!=null&&ue.rejectReason)throw new Error(ue.rejectReason);return ue})}),T.B.as(a.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:d.N("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},80689:function(Ct,we,t){"use strict";t.d(we,{x:function(){return w}});var h=t(91741),W=t(50187),k=t(24314),O=function(G,x,N,s){function C(l){return l instanceof N?l:new N(function(m){m(l)})}return new(N||(N=Promise))(function(l,m){function y(f){try{p(s.next(f))}catch(v){m(v)}}function n(f){try{p(s.throw(f))}catch(v){m(v)}}function p(f){f.done?l(f.value):C(f.value).then(y,n)}p((s=s.apply(G,x||[])).next())})};class w{provideSelectionRanges(x,N){return O(this,void 0,void 0,function*(){const s=[];for(const C of N){const l=[];s.push(l);const m=new Map;yield new Promise(y=>w._bracketsRightYield(y,0,x,C,m)),yield new Promise(y=>w._bracketsLeftYield(y,0,x,C,m,l))}return s})}static _bracketsRightYield(x,N,s,C,l){const m=new Map,y=Date.now();for(;;){if(N>=w._maxRounds){x();break}if(!C){x();break}let n=s.findNextBracket(C);if(!n){x();break}if(Date.now()-y>w._maxDuration){setTimeout(()=>w._bracketsRightYield(x,N+1,s,C,l));break}const f=n.close[0];if(n.isOpen){let v=m.has(f)?m.get(f):0;m.set(f,v+1)}else{let v=m.has(f)?m.get(f):0;if(v-=1,m.set(f,Math.max(0,v)),v<0){let d=l.get(f);d||(d=new h.S,l.set(f,d)),d.push(n.range)}}C=n.range.getEndPosition()}}static _bracketsLeftYield(x,N,s,C,l,m){const y=new Map,n=Date.now();for(;;){if(N>=w._maxRounds&&l.size===0){x();break}if(!C){x();break}let p=s.findPrevBracket(C);if(!p){x();break}if(Date.now()-n>w._maxDuration){setTimeout(()=>w._bracketsLeftYield(x,N+1,s,C,l,m));break}const v=p.close[0];if(p.isOpen){let d=y.has(v)?y.get(v):0;if(d-=1,y.set(v,Math.max(0,d)),d<0){let a=l.get(v);if(a){let u=a.shift();a.size===0&&l.delete(v);const c=k.e.fromPositions(p.range.getEndPosition(),u.getStartPosition()),b=k.e.fromPositions(p.range.getStartPosition(),u.getEndPosition());m.push({range:c}),m.push({range:b}),w._addBracketLeading(s,b,m)}}}else{let d=y.has(v)?y.get(v):0;y.set(v,d+1)}C=p.range.getStartPosition()}}static _addBracketLeading(x,N,s){if(N.startLineNumber===N.endLineNumber)return;const C=N.startLineNumber,l=x.getLineFirstNonWhitespaceColumn(C);l!==0&&l!==N.startColumn&&(s.push({range:k.e.fromPositions(new W.L(C,l),N.getEndPosition())}),s.push({range:k.e.fromPositions(new W.L(C,1),N.getEndPosition())}));const m=C-1;if(m>0){const y=x.getLineFirstNonWhitespaceColumn(m);y===N.startColumn&&y!==x.getLineLastNonWhitespaceColumn(m)&&(s.push({range:k.e.fromPositions(new W.L(m,y),N.getEndPosition())}),s.push({range:k.e.fromPositions(new W.L(m,1),N.getEndPosition())}))}}}w._maxDuration=30,w._maxRounds=2},5964:function(Ct,we,t){"use strict";t.r(we),t.d(we,{provideSelectionRanges:function(){return b}});var h=t(9488),W=t(71050),k=t(17301),O=t(16830),w=t(50187),G=t(24314),x=t(3860),N=t(29102),s=t(60303),C=t(80689),l=t(97295);class m{provideSelectionRanges(R,T){const j=[];for(const q of T){const ie=[];j.push(ie),this._addInWordRanges(ie,R,q),this._addWordRanges(ie,R,q),this._addWhitespaceLine(ie,R,q),ie.push({range:R.getFullModelRange()})}return j}_addInWordRanges(R,T,j){const q=T.getWordAtPosition(j);if(!q)return;let{word:ie,startColumn:ne}=q,he=j.column-ne,$=he,V=he,z=0;for(;$>=0;$--){let Q=ie.charCodeAt($);if($!==he&&(Q===95||Q===45))break;if((0,l.mK)(Q)&&(0,l.df)(z))break;z=Q}for($+=1;V<ie.length;V++){let Q=ie.charCodeAt(V);if((0,l.df)(Q)&&(0,l.mK)(z))break;if(Q===95||Q===45)break;z=Q}$<V&&R.push({range:new G.e(j.lineNumber,ne+$,j.lineNumber,ne+V)})}_addWordRanges(R,T,j){const q=T.getWordAtPosition(j);q&&R.push({range:new G.e(j.lineNumber,q.startColumn,j.lineNumber,q.endColumn)})}_addWhitespaceLine(R,T,j){T.getLineLength(j.lineNumber)>0&&T.getLineFirstNonWhitespaceColumn(j.lineNumber)===0&&T.getLineLastNonWhitespaceColumn(j.lineNumber)===0&&R.push({range:new G.e(j.lineNumber,1,j.lineNumber,T.getLineMaxColumn(j.lineNumber))})}}var y=t(63580),n=t(84144),p=t(94565),f=function(L,R,T,j){function q(ie){return ie instanceof T?ie:new T(function(ne){ne(ie)})}return new(T||(T=Promise))(function(ie,ne){function he(z){try{V(j.next(z))}catch(Q){ne(Q)}}function $(z){try{V(j.throw(z))}catch(Q){ne(Q)}}function V(z){z.done?ie(z.value):q(z.value).then(he,$)}V((j=j.apply(L,R||[])).next())})};class v{constructor(R,T){this.index=R,this.ranges=T}mov(R){let T=this.index+(R?1:-1);if(T<0||T>=this.ranges.length)return this;const j=new v(T,this.ranges);return j.ranges[T].equalsRange(this.ranges[this.index])?j.mov(R):j}}class d{constructor(R){this._editor=R,this._ignoreSelection=!1}static get(R){return R.getContribution(d.ID)}dispose(){var R;(R=this._selectionListener)===null||R===void 0||R.dispose()}run(R){return f(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const T=this._editor.getSelections(),j=this._editor.getModel();if(!s.AC.has(j)||(this._state||(yield b(j,T.map(ie=>ie.getPosition()),this._editor.getOption(101),W.T.None).then(ie=>{var ne;if(!(!h.Of(ie)||ie.length!==T.length)&&!(!this._editor.hasModel()||!h.fS(this._editor.getSelections(),T,(he,$)=>he.equalsSelection($)))){for(let he=0;he<ie.length;he++)ie[he]=ie[he].filter($=>$.containsPosition(T[he].getStartPosition())&&$.containsPosition(T[he].getEndPosition())),ie[he].unshift(T[he]);this._state=ie.map(he=>new v(0,he)),(ne=this._selectionListener)===null||ne===void 0||ne.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var he;this._ignoreSelection||((he=this._selectionListener)===null||he===void 0||he.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(ie=>ie.mov(R));const q=this._state.map(ie=>x.Y.fromPositions(ie.ranges[ie.index].getStartPosition(),ie.ranges[ie.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(q)}finally{this._ignoreSelection=!1}})}}d.ID="editor.contrib.smartSelectController";class a extends O.R6{constructor(R,T){super(T),this._forward=R}run(R,T){return f(this,void 0,void 0,function*(){let j=d.get(T);j&&(yield j.run(this._forward))})}}class u extends a{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:y.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:N.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"1_basic",title:y.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}p.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class c extends a{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:y.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:N.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"1_basic",title:y.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,O._K)(d.ID,d),(0,O.Qr)(u),(0,O.Qr)(c),s.AC.register("*",new m);function b(L,R,T,j){return f(this,void 0,void 0,function*(){const q=s.AC.all(L);q.length===1&&q.unshift(new C.x);let ie=[],ne=[];for(const he of q)ie.push(Promise.resolve(he.provideSelectionRanges(L,R,j)).then($=>{if(h.Of($)&&$.length===R.length)for(let V=0;V<R.length;V++){ne[V]||(ne[V]=[]);for(const z of $[V])G.e.isIRange(z.range)&&G.e.containsPosition(z.range,R[V])&&ne[V].push(G.e.lift(z.range))}},k.Cp));return yield Promise.all(ie),ne.map(he=>{if(he.length===0)return[];he.sort((Q,le)=>w.L.isBefore(Q.getStartPosition(),le.getStartPosition())?1:w.L.isBefore(le.getStartPosition(),Q.getStartPosition())||w.L.isBefore(Q.getEndPosition(),le.getEndPosition())?-1:w.L.isBefore(le.getEndPosition(),Q.getEndPosition())?1:0);let $=[],V;for(const Q of he)(!V||G.e.containsRange(Q,V)&&!G.e.equalsRange(Q,V))&&($.push(Q),V=Q);if(!T.selectLeadingAndTrailingWhitespace)return $;let z=[$[0]];for(let Q=1;Q<$.length;Q++){const le=$[Q-1],E=$[Q];if(E.startLineNumber!==le.startLineNumber||E.endLineNumber!==le.endLineNumber){const I=new G.e(le.startLineNumber,L.getLineFirstNonWhitespaceColumn(le.startLineNumber),le.endLineNumber,L.getLineLastNonWhitespaceColumn(le.endLineNumber));I.containsRange(le)&&!I.equalsRange(le)&&E.containsRange(I)&&!E.equalsRange(I)&&z.push(I);const A=new G.e(le.startLineNumber,1,le.endLineNumber,L.getLineMaxColumn(le.endLineNumber));A.containsRange(le)&&!A.equalsRange(I)&&E.containsRange(A)&&!E.equalsRange(A)&&z.push(A)}z.push(E)}return z})})}(0,O.f)("_executeSelectionRangeProvider",function(L,...R){const[T]=R;return b(L,T,{selectLeadingAndTrailingWhitespace:!0},W.T.None)})},93379:function(Ct,we,t){"use strict";t.r(we),t.d(we,{SnippetController2:function(){return n}});var h=t(9917),W=t(16830),k=t(24314),O=t(3860),w=t(29102),G=t(79599),x=t(63580),N=t(38819),s=t(43557),C=t(44951),l=function(f,v,d,a){var u=arguments.length,c=u<3?v:a===null?a=Object.getOwnPropertyDescriptor(v,d):a,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(f,v,d,a);else for(var L=f.length-1;L>=0;L--)(b=f[L])&&(c=(u<3?b(c):u>3?b(v,d,c):b(v,d))||c);return u>3&&c&&Object.defineProperty(v,d,c),c},m=function(f,v){return function(d,a){v(d,a,f)}};const y={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let n=class er{constructor(v,d,a){this._editor=v,this._logService=d,this._snippetListener=new h.SL,this._modelVersionId=-1,this._inSnippet=er.InSnippetMode.bindTo(a),this._hasNextTabstop=er.HasNextTabstop.bindTo(a),this._hasPrevTabstop=er.HasPrevTabstop.bindTo(a)}static get(v){return v.getContribution(er.ID)}dispose(){var v;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(v=this._session)===null||v===void 0||v.dispose(),this._snippetListener.dispose()}insert(v,d){try{this._doInsert(v,typeof d=="undefined"?y:Object.assign(Object.assign({},y),d))}catch(a){this.cancel(),this._logService.error(a),this._logService.error("snippet_error"),this._logService.error("insert_template=",v),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(v,d){this._editor.hasModel()&&(this._snippetListener.clear(),d.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(v,d):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new C.l(this._editor,v,d),this._session.insert()),d.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(a=>a.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:v}=this._session;if(!v){this._currentChoice=void 0;return}if(this._currentChoice!==v){this._currentChoice=v,this._editor.setSelections(this._editor.getSelections().map(a=>O.Y.fromPositions(a.getStartPosition())));const[d]=v.options;(0,G.i5)(this._editor,v.options.map((a,u)=>({kind:13,label:a.value,insertText:a.value,sortText:"a".repeat(u+1),range:k.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,d.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(v=!1){var d;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(d=this._session)===null||d===void 0||d.dispose(),this._session=void 0,this._modelVersionId=-1,v&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};n.ID="snippetController2",n.InSnippetMode=new N.uy("inSnippetMode",!1,(0,x.N)("inSnippetMode","Whether the editor in current in snippet mode")),n.HasNextTabstop=new N.uy("hasNextTabstop",!1,(0,x.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),n.HasPrevTabstop=new N.uy("hasPrevTabstop",!1,(0,x.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),n=l([m(1,s.VZ),m(2,N.i6)],n),(0,W._K)(n.ID,n);const p=W._l.bindToContribution(n.get);(0,W.fK)(new p({id:"jumpToNextSnippetPlaceholder",precondition:N.Ao.and(n.InSnippetMode,n.HasNextTabstop),handler:f=>f.next(),kbOpts:{weight:100+30,kbExpr:w.u.editorTextFocus,primary:2}})),(0,W.fK)(new p({id:"jumpToPrevSnippetPlaceholder",precondition:N.Ao.and(n.InSnippetMode,n.HasPrevTabstop),handler:f=>f.prev(),kbOpts:{weight:100+30,kbExpr:w.u.editorTextFocus,primary:1026}})),(0,W.fK)(new p({id:"leaveSnippet",precondition:n.InSnippetMode,handler:f=>f.cancel(!0),kbOpts:{weight:100+30,kbExpr:w.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,W.fK)(new p({id:"acceptSnippet",precondition:n.InSnippetMode,handler:f=>f.finish()}))},63472:function(Ct,we,t){"use strict";t.d(we,{Lv:function(){return G},Vm:function(){return w},Yj:function(){return m},xv:function(){return k}});class h{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let n=this.pos,p=0,f=this.value.charCodeAt(n),v;if(v=h._table[f],typeof v=="number")return this.pos+=1,{type:v,pos:n,len:1};if(h.isDigitCharacter(f)){v=8;do p+=1,f=this.value.charCodeAt(n+p);while(h.isDigitCharacter(f));return this.pos+=p,{type:v,pos:n,len:p}}if(h.isVariableCharacter(f)){v=9;do f=this.value.charCodeAt(n+ ++p);while(h.isVariableCharacter(f)||h.isDigitCharacter(f));return this.pos+=p,{type:v,pos:n,len:p}}v=10;do p+=1,f=this.value.charCodeAt(n+p);while(!isNaN(f)&&typeof h._table[f]=="undefined"&&!h.isDigitCharacter(f)&&!h.isVariableCharacter(f));return this.pos+=p,{type:v,pos:n,len:p}}}h._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class W{constructor(){this._children=[]}appendChild(n){return n instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,p){const{parent:f}=n,v=f.children.indexOf(n),d=f.children.slice(0);d.splice(v,1,...p),f._children=d,function a(u,c){for(const b of u)b.parent=c,a(b.children,b)}(p,f)}get children(){return this._children}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof l)return n;n=n.parent}}toString(){return this.children.reduce((n,p)=>n+p.toString(),"")}len(){return 0}}class k extends W{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new k(this.value)}}class O extends W{}class w extends O{constructor(n){super(),this.index=n}static compareByIndex(n,p){return n.index===p.index?0:n.isFinalTabstop?1:p.isFinalTabstop||n.index<p.index?-1:n.index>p.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof G?this._children[0]:void 0}clone(){let n=new w(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(p=>p.clone()),n}}class G extends W{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof k&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let n=new G;return this.options.forEach(n.appendChild,n),n}}class x extends W{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const p=this;let f=!1,v=n.replace(this.regexp,function(){return f=!0,p._replace(Array.prototype.slice.call(arguments,0,-2))});return!f&&this._children.some(d=>d instanceof N&&!!d.elseValue)&&(v=this._replace([])),v}_replace(n){let p="";for(const f of this._children)if(f instanceof N){let v=n[f.index]||"";v=f.resolve(v),p+=v}else p+=f.toString();return p}toString(){return""}clone(){let n=new x;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(p=>p.clone()),n}}class N extends W{constructor(n,p,f,v){super(),this.index=n,this.shorthandName=p,this.ifValue=f,this.elseValue=v}resolve(n){return this.shorthandName==="upcase"?n?n.toLocaleUpperCase():"":this.shorthandName==="downcase"?n?n.toLocaleLowerCase():"":this.shorthandName==="capitalize"?n?n[0].toLocaleUpperCase()+n.substr(1):"":this.shorthandName==="pascalcase"?n?this._toPascalCase(n):"":this.shorthandName==="camelcase"?n?this._toCamelCase(n):"":n&&typeof this.ifValue=="string"?this.ifValue:!n&&typeof this.elseValue=="string"?this.elseValue:n||""}_toPascalCase(n){const p=n.match(/[a-z0-9]+/gi);return p?p.map(f=>f.charAt(0).toUpperCase()+f.substr(1).toLowerCase()).join(""):n}_toCamelCase(n){const p=n.match(/[a-z0-9]+/gi);return p?p.map((f,v)=>v===0?f.toLowerCase():f.charAt(0).toUpperCase()+f.substr(1).toLowerCase()).join(""):n}clone(){return new N(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class s extends O{constructor(n){super(),this.name=n}resolve(n){let p=n.resolve(this);return this.transform&&(p=this.transform.resolve(p||"")),p!==void 0?(this._children=[new k(p)],!0):!1}clone(){const n=new s(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(p=>p.clone()),n}}function C(y,n){const p=[...y];for(;p.length>0;){const f=p.shift();if(!n(f))break;p.unshift(...f.children)}}class l extends W{get placeholderInfo(){if(!this._placeholders){let n=[],p;this.walk(function(f){return f instanceof w&&(n.push(f),p=!p||p.index<f.index?f:p),!0}),this._placeholders={all:n,last:p}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let p=0,f=!1;return this.walk(v=>v===n?(f=!0,!1):(p+=v.len(),!0)),f?p:-1}fullLen(n){let p=0;return C([n],f=>(p+=f.len(),!0)),p}enclosingPlaceholders(n){let p=[],{parent:f}=n;for(;f;)f instanceof w&&p.push(f),f=f.parent;return p}resolveVariables(n){return this.walk(p=>(p instanceof s&&p.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,p){return this._placeholders=void 0,super.replace(n,p)}clone(){let n=new l;return this._children=this.children.map(p=>p.clone()),n}walk(n){C(this.children,n)}}class m{constructor(){this._scanner=new h,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,p,f){this._scanner.text(n),this._token=this._scanner.next();const v=new l;for(;this._parse(v););const d=new Map,a=[];let u=0;v.walk(c=>(c instanceof w&&(u+=1,c.isFinalTabstop?d.set(0,void 0):!d.has(c.index)&&c.children.length>0?d.set(c.index,c.children):a.push(c)),!0));for(const c of a){const b=d.get(c.index);if(b){const L=new w(c.index);L.transform=c.transform;for(const R of b)L.appendChild(R.clone());v.replace(c,[L])}}return f||(f=u>0&&p),!d.has(0)&&f&&v.appendChild(new w(0)),v}_accept(n,p){if(n===void 0||this._token.type===n){let f=p?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),f}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const p=this._token;for(;this._token.type!==n;){if(this._token.type===14)return!1;if(this._token.type===5){const v=this._scanner.next();if(v.type!==0&&v.type!==4&&v.type!==5)return!1}this._token=this._scanner.next()}const f=this._scanner.value.substring(p.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),f}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let p;return(p=this._accept(5,!0))?(p=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||p,n.appendChild(new k(p)),!0):!1}_parseTabstopOrVariableName(n){let p;const f=this._token;return this._accept(0)&&(p=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(p)?new w(Number(p)):new s(p)),!0):this._backTo(f)}_parseComplexPlaceholder(n){let p;const f=this._token;if(!(this._accept(0)&&this._accept(3)&&(p=this._accept(8,!0))))return this._backTo(f);const d=new w(Number(p));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(d),!0;if(!this._parse(d))return n.appendChild(new k("${"+p+":")),d.children.forEach(n.appendChild,n),!0}else if(d.index>0&&this._accept(7)){const a=new G;for(;;){if(this._parseChoiceElement(a)){if(this._accept(2))continue;if(this._accept(7)&&(d.appendChild(a),this._accept(4)))return n.appendChild(d),!0}return this._backTo(f),!1}}else return this._accept(6)?this._parseTransform(d)?(n.appendChild(d),!0):(this._backTo(f),!1):this._accept(4)?(n.appendChild(d),!0):this._backTo(f)}_parseChoiceElement(n){const p=this._token,f=[];for(;!(this._token.type===2||this._token.type===7);){let v;if((v=this._accept(5,!0))?v=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||v:v=this._accept(void 0,!0),!v)return this._backTo(p),!1;f.push(v)}return f.length===0?(this._backTo(p),!1):(n.appendChild(new k(f.join(""))),!0)}_parseComplexVariable(n){let p;const f=this._token;if(!(this._accept(0)&&this._accept(3)&&(p=this._accept(9,!0))))return this._backTo(f);const d=new s(p);if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(d),!0;if(!this._parse(d))return n.appendChild(new k("${"+p+":")),d.children.forEach(n.appendChild,n),!0}else return this._accept(6)?this._parseTransform(d)?(n.appendChild(d),!0):(this._backTo(f),!1):this._accept(4)?(n.appendChild(d),!0):this._backTo(f)}_parseTransform(n){let p=new x,f="",v="";for(;!this._accept(6);){let d;if(d=this._accept(5,!0)){d=this._accept(6,!0)||d,f+=d;continue}if(this._token.type!==14){f+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let d;if(d=this._accept(5,!0)){d=this._accept(5,!0)||this._accept(6,!0)||d,p.appendChild(new k(d));continue}if(!(this._parseFormatString(p)||this._parseAnything(p)))return!1}for(;!this._accept(4);){if(this._token.type!==14){v+=this._accept(void 0,!0);continue}return!1}try{p.regexp=new RegExp(f,v)}catch(d){return!1}return n.transform=p,!0}_parseFormatString(n){const p=this._token;if(!this._accept(0))return!1;let f=!1;this._accept(3)&&(f=!0);let v=this._accept(8,!0);if(v)if(f){if(this._accept(4))return n.appendChild(new N(Number(v))),!0;if(!this._accept(1))return this._backTo(p),!1}else return n.appendChild(new N(Number(v))),!0;else return this._backTo(p),!1;if(this._accept(6)){let d=this._accept(9,!0);return!d||!this._accept(4)?(this._backTo(p),!1):(n.appendChild(new N(Number(v),d)),!0)}else if(this._accept(11)){let d=this._until(4);if(d)return n.appendChild(new N(Number(v),void 0,d,void 0)),!0}else if(this._accept(12)){let d=this._until(4);if(d)return n.appendChild(new N(Number(v),void 0,void 0,d)),!0}else if(this._accept(13)){let d=this._until(1);if(d){let a=this._until(4);if(a)return n.appendChild(new N(Number(v),void 0,d,a)),!0}}else{let d=this._until(4);if(d)return n.appendChild(new N(Number(v),void 0,void 0,d)),!0}return this._backTo(p),!1}_parseAnything(n){return this._token.type!==14?(n.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},44951:function(Ct,we,t){"use strict";t.d(we,{l:function(){return E}});var h=t(9488),W=t(9917),k=t(97295),O=t(69386),w=t(24314),G=t(3860),x=t(24979),N=t(44349),s=t(73910),C=t(97781),l=t(40382),m=t(63472),y=t(68843),n=t(55336),p=t(95935);const f=new Uint8Array(16),v=[];for(let I=0;I<256;I++)v.push(I.toString(16).padStart(2,"0"));let d;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?d=crypto.getRandomValues.bind(crypto):d=function(I){for(let A=0;A<I.length;A++)I[A]=Math.floor(Math.random()*256);return I};function a(){d(f),f[6]=f[6]&15|64,f[8]=f[8]&63|128;let I=0,A="";return A+=v[f[I++]],A+=v[f[I++]],A+=v[f[I++]],A+=v[f[I++]],A+="-",A+=v[f[I++]],A+=v[f[I++]],A+="-",A+=v[f[I++]],A+=v[f[I++]],A+="-",A+=v[f[I++]],A+=v[f[I++]],A+="-",A+=v[f[I++]],A+=v[f[I++]],A+=v[f[I++]],A+=v[f[I++]],A+=v[f[I++]],A+=v[f[I++]],A}var u=t(94660),c=t(63580),b=t(70666);const L="code-workspace";function R(I){const A=I;return typeof(A==null?void 0:A.id)=="string"&&b.o.isUri(A.uri)}function T(I){if(I.configuration)return{id:I.id,configPath:I.configuration};if(I.folders.length===1)return{id:I.id,uri:I.folders[0].uri}}class j{constructor(A){this._delegates=A}resolve(A){for(const H of this._delegates){let Y=H.resolve(A);if(Y!==void 0)return Y}}}class q{constructor(A,H,Y,X){this._model=A,this._selection=H,this._selectionIdx=Y,this._overtypingCapturer=X}resolve(A){const{name:H}=A;if(H==="SELECTION"||H==="TM_SELECTED_TEXT"){let Y=this._model.getValueInRange(this._selection)||void 0,X=this._selection.startLineNumber!==this._selection.endLineNumber;if(!Y&&this._overtypingCapturer){const re=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);re&&(Y=re.value,X=re.multiline)}if(Y&&X&&A.snippet){const re=this._model.getLineContent(this._selection.startLineNumber),fe=(0,k.V8)(re,0,this._selection.startColumn-1);let ue=fe;A.snippet.walk(Ce=>Ce===A?!1:(Ce instanceof m.xv&&(ue=(0,k.V8)((0,k.uq)(Ce.value).pop())),!0));const Oe=(0,k.Mh)(ue,fe);Y=Y.replace(/(\r\n|\r|\n)(.*)/g,(Ce,oe,ae)=>`${oe}${ue.substr(Oe)}${ae}`)}return Y}else{if(H==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(H==="TM_CURRENT_WORD"){const Y=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return Y&&Y.word||void 0}else{if(H==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(H==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}class ie{constructor(A,H){this._labelService=A,this._model=H}resolve(A){const{name:H}=A;if(H==="TM_FILENAME")return n.EZ(this._model.uri.fsPath);if(H==="TM_FILENAME_BASE"){const Y=n.EZ(this._model.uri.fsPath),X=Y.lastIndexOf(".");return X<=0?Y:Y.slice(0,X)}else{if(H==="TM_DIRECTORY")return n.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,p.XX)(this._model.uri));if(H==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(H==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class ne{constructor(A,H,Y,X){this._readClipboardText=A,this._selectionIdx=H,this._selectionCount=Y,this._spread=X}resolve(A){if(A.name!=="CLIPBOARD")return;const H=this._readClipboardText();if(H){if(this._spread){const Y=H.split(/\r\n|\n|\r/).filter(X=>!(0,k.m5)(X));if(Y.length===this._selectionCount)return Y[this._selectionIdx]}return H}}}class he{constructor(A,H){this._model=A,this._selection=H}resolve(A){const{name:H}=A,Y=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),X=u.zu.getComments(Y);if(X){if(H==="LINE_COMMENT")return X.lineCommentToken||void 0;if(H==="BLOCK_COMMENT_START")return X.blockCommentStartToken||void 0;if(H==="BLOCK_COMMENT_END")return X.blockCommentEndToken||void 0}}}class ${constructor(){this._date=new Date}resolve(A){const{name:H}=A;if(H==="CURRENT_YEAR")return String(this._date.getFullYear());if(H==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(H==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(H==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(H==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(H==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(H==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(H==="CURRENT_DAY_NAME")return $.dayNames[this._date.getDay()];if(H==="CURRENT_DAY_NAME_SHORT")return $.dayNamesShort[this._date.getDay()];if(H==="CURRENT_MONTH_NAME")return $.monthNames[this._date.getMonth()];if(H==="CURRENT_MONTH_NAME_SHORT")return $.monthNamesShort[this._date.getMonth()];if(H==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}$.dayNames=[c.N("Sunday","Sunday"),c.N("Monday","Monday"),c.N("Tuesday","Tuesday"),c.N("Wednesday","Wednesday"),c.N("Thursday","Thursday"),c.N("Friday","Friday"),c.N("Saturday","Saturday")],$.dayNamesShort=[c.N("SundayShort","Sun"),c.N("MondayShort","Mon"),c.N("TuesdayShort","Tue"),c.N("WednesdayShort","Wed"),c.N("ThursdayShort","Thu"),c.N("FridayShort","Fri"),c.N("SaturdayShort","Sat")],$.monthNames=[c.N("January","January"),c.N("February","February"),c.N("March","March"),c.N("April","April"),c.N("May","May"),c.N("June","June"),c.N("July","July"),c.N("August","August"),c.N("September","September"),c.N("October","October"),c.N("November","November"),c.N("December","December")],$.monthNamesShort=[c.N("JanuaryShort","Jan"),c.N("FebruaryShort","Feb"),c.N("MarchShort","Mar"),c.N("AprilShort","Apr"),c.N("MayShort","May"),c.N("JuneShort","Jun"),c.N("JulyShort","Jul"),c.N("AugustShort","Aug"),c.N("SeptemberShort","Sep"),c.N("OctoberShort","Oct"),c.N("NovemberShort","Nov"),c.N("DecemberShort","Dec")];class V{constructor(A){this._workspaceService=A}resolve(A){if(!this._workspaceService)return;const H=T(this._workspaceService.getWorkspace());if(H){if(A.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(H);if(A.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(H)}}_resolveWorkspaceName(A){if(R(A))return n.EZ(A.uri.path);let H=n.EZ(A.configPath.path);return H.endsWith(L)&&(H=H.substr(0,H.length-L.length-1)),H}_resoveWorkspacePath(A){if(R(A))return(0,y.D)(A.uri.fsPath);let H=n.EZ(A.configPath.path),Y=A.configPath.fsPath;return Y.endsWith(H)&&(Y=Y.substr(0,Y.length-H.length-1)),Y?(0,y.D)(Y):"/"}}class z{resolve(A){const{name:H}=A;if(H==="RANDOM")return Math.random().toString().slice(-6);if(H==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(H==="UUID")return a()}}(0,C.Ic)((I,A)=>{function H(Y){const X=I.getColor(Y);return X?X.toString():"transparent"}A.addRule(`.monaco-editor .snippet-placeholder { background-color: ${H(s.u2)}; outline-color: ${H(s.Pk)}; }`),A.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${H(s.I1)}; outline-color: ${H(s.U6)}; }`)});class Q{constructor(A,H,Y,X){this._editor=A,this._snippet=H,this._offset=Y,this._snippetLineLeadingWhitespace=X,this._nestingLevel=1,this._placeholderGroups=(0,h.vM)(H.placeholders,m.Vm.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const A=this._editor.getModel();this._editor.changeDecorations(H=>{for(const Y of this._snippet.placeholders){const X=this._snippet.offset(Y),re=this._snippet.fullLen(Y),fe=w.e.fromPositions(A.getPositionAt(this._offset+X),A.getPositionAt(this._offset+X+re)),ue=Y.isFinalTabstop?Q._decor.inactiveFinal:Q._decor.inactive,Oe=H.addDecoration(fe,ue);this._placeholderDecorations.set(Y,Oe)}})}move(A){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let X=[];for(const re of this._placeholderGroups[this._placeholderGroupsIdx])if(re.transform){const fe=this._placeholderDecorations.get(re),ue=this._editor.getModel().getDecorationRange(fe),Oe=this._editor.getModel().getValueInRange(ue),Ce=re.transform.resolve(Oe).split(/\r\n|\r|\n/);for(let oe=1;oe<Ce.length;oe++)Ce[oe]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+Ce[oe]);X.push(O.h.replace(ue,Ce.join(this._editor.getModel().getEOL())))}X.length>0&&this._editor.executeEdits("snippet.placeholderTransform",X)}let H=!1;A===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,H=!0):A===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,H=!0);const Y=this._editor.getModel().changeDecorations(X=>{const re=new Set,fe=[];for(const ue of this._placeholderGroups[this._placeholderGroupsIdx]){const Oe=this._placeholderDecorations.get(ue),Ce=this._editor.getModel().getDecorationRange(Oe);fe.push(new G.Y(Ce.startLineNumber,Ce.startColumn,Ce.endLineNumber,Ce.endColumn)),H=H&&this._hasPlaceholderBeenCollapsed(ue),X.changeDecorationOptions(Oe,ue.isFinalTabstop?Q._decor.activeFinal:Q._decor.active),re.add(ue);for(const oe of this._snippet.enclosingPlaceholders(ue)){const ae=this._placeholderDecorations.get(oe);X.changeDecorationOptions(ae,oe.isFinalTabstop?Q._decor.activeFinal:Q._decor.active),re.add(oe)}}for(const[ue,Oe]of this._placeholderDecorations)re.has(ue)||X.changeDecorationOptions(Oe,ue.isFinalTabstop?Q._decor.inactiveFinal:Q._decor.inactive);return fe});return H?this.move(A):Y!=null?Y:[]}_hasPlaceholderBeenCollapsed(A){let H=A;for(;H;){if(H instanceof m.Vm){const Y=this._placeholderDecorations.get(H);if(this._editor.getModel().getDecorationRange(Y).isEmpty()&&H.toString().length>0)return!0}H=H.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const A=new Map;for(const H of this._placeholderGroups){let Y;for(const X of H){if(X.isFinalTabstop)break;Y||(Y=[],A.set(X.index,Y));const re=this._placeholderDecorations.get(X),fe=this._editor.getModel().getDecorationRange(re);if(!fe){A.delete(X.index);break}Y.push(fe)}}return A}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(A){const H=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(Y=>{for(const X of this._placeholderGroups[this._placeholderGroupsIdx]){const re=A.shift();console.assert(!re._placeholderDecorations);const fe=re._snippet.placeholderInfo.last.index;for(const Oe of re._snippet.placeholderInfo.all)Oe.isFinalTabstop?Oe.index=X.index+(fe+1)/this._nestingLevel:Oe.index=X.index+Oe.index/this._nestingLevel;this._snippet.replace(X,re._snippet.children);const ue=this._placeholderDecorations.get(X);Y.removeDecoration(ue),this._placeholderDecorations.delete(X);for(const Oe of re._snippet.placeholders){const Ce=re._snippet.offset(Oe),oe=re._snippet.fullLen(Oe),ae=w.e.fromPositions(H.getPositionAt(re._offset+Ce),H.getPositionAt(re._offset+Ce+oe)),Be=Y.addDecoration(ae,Q._decor.inactive);this._placeholderDecorations.set(Oe,Be)}}this._placeholderGroups=(0,h.vM)(this._snippet.placeholders,m.Vm.compareByIndex)})}}Q._decor={active:x.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:x.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:x.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:x.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const le={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class E{constructor(A,H,Y=le){this._templateMerges=[],this._snippets=[],this._editor=A,this._template=H,this._options=Y}static adjustWhitespace(A,H,Y,X,re){const fe=A.getLineContent(H.lineNumber),ue=(0,k.V8)(fe,0,H.column-1);let Oe;return Y.walk(Ce=>{if(!(Ce instanceof m.xv)||Ce.parent instanceof m.Lv)return!0;const oe=Ce.value.split(/\r\n|\r|\n/);if(X){const Be=Y.offset(Ce);if(Be===0)oe[0]=A.normalizeIndentation(oe[0]);else{Oe=Oe!=null?Oe:Y.toString();let Ve=Oe.charCodeAt(Be-1);(Ve===10||Ve===13)&&(oe[0]=A.normalizeIndentation(ue+oe[0]))}for(let Ve=1;Ve<oe.length;Ve++)oe[Ve]=A.normalizeIndentation(ue+oe[Ve])}const ae=oe.join(A.getEOL());return ae!==Ce.value&&(Ce.parent.replace(Ce,[new m.xv(ae)]),Oe=void 0),!0}),ue}static adjustSelection(A,H,Y,X){if(Y!==0||X!==0){const{positionLineNumber:re,positionColumn:fe}=H,ue=fe-Y,Oe=fe+X,Ce=A.validateRange({startLineNumber:re,startColumn:ue,endLineNumber:re,endColumn:Oe});H=G.Y.createWithDirection(Ce.startLineNumber,Ce.startColumn,Ce.endLineNumber,Ce.endColumn,H.getDirection())}return H}static createEditsAndSnippets(A,H,Y,X,re,fe,ue,Oe){const Ce=[],oe=[];if(!A.hasModel())return{edits:Ce,snippets:oe};const ae=A.getModel(),Be=A.invokeWithinContext(Me=>Me.get(l.ec)),Ve=A.invokeWithinContext(Me=>new ie(Me.get(N.e),ae)),se=()=>ue;let ce=0,Te=ae.getValueInRange(E.adjustSelection(ae,A.getSelection(),Y,0)),xe=ae.getValueInRange(E.adjustSelection(ae,A.getSelection(),0,X)),Fe=ae.getLineFirstNonWhitespaceColumn(A.getSelection().positionLineNumber);const Le=A.getSelections().map((Me,Se)=>({selection:Me,idx:Se})).sort((Me,Se)=>w.e.compareRangesUsingStarts(Me.selection,Se.selection));for(const{selection:Me,idx:Se}of Le){let ze=E.adjustSelection(ae,Me,Y,0),Ye=E.adjustSelection(ae,Me,0,X);Te!==ae.getValueInRange(ze)&&(ze=Me),xe!==ae.getValueInRange(Ye)&&(Ye=Me);const qe=Me.setStartPosition(ze.startLineNumber,ze.startColumn).setEndPosition(Ye.endLineNumber,Ye.endColumn),ht=new m.Yj().parse(H,!0,re),kt=qe.getStartPosition(),zt=E.adjustWhitespace(ae,kt,ht,fe||Se>0&&Fe!==ae.getLineFirstNonWhitespaceColumn(Me.positionLineNumber),!0);ht.resolveVariables(new j([Ve,new ne(se,Se,Le.length,A.getOption(70)==="spread"),new q(ae,Me,Se,Oe),new he(ae,Me),new $,new V(Be),new z]));const Ke=ae.getOffsetAt(kt)+ce;ce+=ht.toString().length-ae.getValueLengthInRange(qe),Ce[Se]=O.h.replace(qe,ht.toString()),Ce[Se].identifier={major:Se,minor:0},oe[Se]=new Q(A,ht,Ke,zt)}return{edits:Ce,snippets:oe}}dispose(){(0,W.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:A,snippets:H}=E.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=H,this._editor.executeEdits("snippet",A,Y=>this._snippets[0].hasPlaceholder?this._move(!0):Y.filter(X=>!!X.identifier).map(X=>G.Y.fromPositions(X.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(A,H=le){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,A]);const{edits:Y,snippets:X}=E.createEditsAndSnippets(this._editor,A,H.overwriteBefore,H.overwriteAfter,!0,H.adjustWhitespace,H.clipboardText,H.overtypingCapturer);this._editor.executeEdits("snippet",Y,re=>{for(const fe of this._snippets)fe.merge(X);return console.assert(X.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):re.filter(fe=>!!fe.identifier).map(fe=>G.Y.fromPositions(fe.range.getEndPosition()))})}next(){const A=this._move(!0);this._editor.setSelections(A),this._editor.revealPositionInCenterIfOutsideViewport(A[0].getPosition())}prev(){const A=this._move(!1);this._editor.setSelections(A),this._editor.revealPositionInCenterIfOutsideViewport(A[0].getPosition())}_move(A){const H=[];for(const Y of this._snippets){const X=Y.move(A);H.push(...X)}return H}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const A=this._editor.getSelections();if(A.length<this._snippets.length)return!1;let H=new Map;for(const Y of this._snippets){const X=Y.computePossibleSelections();if(H.size===0)for(const[re,fe]of X){fe.sort(w.e.compareRangesUsingStarts);for(const ue of A)if(fe[0].containsRange(ue)){H.set(re,[]);break}}if(H.size===0)return!1;H.forEach((re,fe)=>{re.push(...X.get(fe))})}A.sort(w.e.compareRangesUsingStarts);for(let[Y,X]of H){if(X.length!==A.length){H.delete(Y);continue}X.sort(w.e.compareRangesUsingStarts);for(let re=0;re<X.length;re++)if(!X[re].containsRange(A[re])){H.delete(Y);continue}}return H.size>0}}},79599:function(Ct,we,t){"use strict";t.d(we,{A9:function(){return c},GI:function(){return a},ZJ:function(){return L},_y:function(){return d},i5:function(){return V},kL:function(){return T},wg:function(){return he}});var h=t(71050),W=t(17301),k=t(75392),O=t(9917),w=t(84013),G=t(98401),x=t(70666),N=t(50187),s=t(24314),C=t(60303),l=t(88216),m=t(63472),y=t(63580),n=t(84144),p=t(94565),f=t(38819),v=function(z,Q,le,E){function I(A){return A instanceof le?A:new le(function(H){H(A)})}return new(le||(le=Promise))(function(A,H){function Y(fe){try{re(E.next(fe))}catch(ue){H(ue)}}function X(fe){try{re(E.throw(fe))}catch(ue){H(ue)}}function re(fe){fe.done?A(fe.value):I(fe.value).then(Y,X)}re((E=E.apply(z,Q||[])).next())})};const d={Visible:new f.uy("suggestWidgetVisible",!1,(0,y.N)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new f.uy("suggestWidgetDetailsVisible",!1,(0,y.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new f.uy("suggestWidgetMultipleSuggestions",!1,(0,y.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new f.uy("suggestionMakesTextEdit",!0,(0,y.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new f.uy("acceptSuggestionOnEnter",!0,(0,y.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new f.uy("suggestionHasInsertAndReplaceRange",!1,(0,y.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new f.uy("suggestionInsertMode",void 0,{type:"string",description:(0,y.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new f.uy("suggestionCanResolve",!1,(0,y.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},a=new n.eH("suggestWidgetStatusBar");class u{constructor(Q,le,E,I){this.position=Q,this.completion=le,this.container=E,this.provider=I,this.isInvalid=!1,this.score=k.CL.Default,this.distance=0,this.textLabel=typeof le.label=="string"?le.label:le.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=le.sortText&&le.sortText.toLowerCase(),this.filterTextLow=le.filterText&&le.filterText.toLowerCase(),s.e.isIRange(le.range)?(this.editStart=new N.L(le.range.startLineNumber,le.range.startColumn),this.editInsertEnd=new N.L(le.range.endLineNumber,le.range.endColumn),this.editReplaceEnd=new N.L(le.range.endLineNumber,le.range.endColumn),this.isInvalid=this.isInvalid||s.e.spansMultipleLines(le.range)||le.range.startLineNumber!==Q.lineNumber):(this.editStart=new N.L(le.range.insert.startLineNumber,le.range.insert.startColumn),this.editInsertEnd=new N.L(le.range.insert.endLineNumber,le.range.insert.endColumn),this.editReplaceEnd=new N.L(le.range.replace.endLineNumber,le.range.replace.endColumn),this.isInvalid=this.isInvalid||s.e.spansMultipleLines(le.range.insert)||s.e.spansMultipleLines(le.range.replace)||le.range.insert.startLineNumber!==Q.lineNumber||le.range.replace.startLineNumber!==Q.lineNumber||le.range.insert.startColumn!==le.range.replace.startColumn),typeof I.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(Q){return v(this,void 0,void 0,function*(){if(!this._resolveCache){const le=Q.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,Q)).then(E=>{Object.assign(this.completion,E),this._isResolved=!0,le.dispose()},E=>{(0,W.VV)(E)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class c{constructor(Q=2,le=new Set,E=new Set,I=!0){this.snippetSortOrder=Q,this.kindFilter=le,this.providerFilter=E,this.showDeprecated=I}}c.default=new c;let b;function L(){return b}class R{constructor(Q,le,E,I){this.items=Q,this.needsClipboard=le,this.durations=E,this.disposable=I}}function T(z,Q,le=c.default,E={triggerKind:0},I=h.T.None){return v(this,void 0,void 0,function*(){const A=new w.G(!0);Q=Q.clone();const H=z.getWordAtPosition(Q),Y=H?new s.e(Q.lineNumber,H.startColumn,Q.lineNumber,H.endColumn):s.e.fromPositions(Q),X={replace:Y,insert:Y.setEndPosition(Q.lineNumber,Q.column)},re=[],fe=new O.SL,ue=[];let Oe=!1;const Ce=(ae,Be,Ve)=>{var se,ce,Te;if(Be){for(let xe of Be.suggestions)if(!le.kindFilter.has(xe.kind)){if(!le.showDeprecated&&(!((se=xe==null?void 0:xe.tags)===null||se===void 0)&&se.includes(1)))continue;xe.range||(xe.range=X),xe.sortText||(xe.sortText=typeof xe.label=="string"?xe.label:xe.label.label),!Oe&&xe.insertTextRules&&xe.insertTextRules&4&&(Oe=m.Yj.guessNeedsClipboard(xe.insertText)),re.push(new u(Q,xe,Be,ae))}(0,O.Wf)(Be)&&fe.add(Be),ue.push({providerName:(ce=ae._debugDisplayName)!==null&&ce!==void 0?ce:"unkown_provider",elapsedProvider:(Te=Be.duration)!==null&&Te!==void 0?Te:-1,elapsedOverall:Ve.elapsed()})}},oe=(()=>v(this,void 0,void 0,function*(){if(!b||le.kindFilter.has(27)||le.providerFilter.size>0&&!le.providerFilter.has(b))return;const ae=new w.G(!0),Be=yield b.provideCompletionItems(z,Q,E,I);Ce(b,Be,ae)}))();for(let ae of C.KZ.orderedGroups(z)){let Be=re.length;if(yield Promise.all(ae.map(Ve=>v(this,void 0,void 0,function*(){if(!(le.providerFilter.size>0&&!le.providerFilter.has(Ve)))try{const se=new w.G(!0),ce=yield Ve.provideCompletionItems(z,Q,E,I);Ce(Ve,ce,se)}catch(se){(0,W.Cp)(se)}}))),Be!==re.length||I.isCancellationRequested)break}return yield oe,I.isCancellationRequested?(fe.dispose(),Promise.reject((0,W.F0)())):new R(re.sort(he(le.snippetSortOrder)),Oe,{entries:ue,elapsed:A.elapsed()},fe)})}function j(z,Q){if(z.sortTextLow&&Q.sortTextLow){if(z.sortTextLow<Q.sortTextLow)return-1;if(z.sortTextLow>Q.sortTextLow)return 1}return z.completion.label<Q.completion.label?-1:z.completion.label>Q.completion.label?1:z.completion.kind-Q.completion.kind}function q(z,Q){if(z.completion.kind!==Q.completion.kind){if(z.completion.kind===27)return-1;if(Q.completion.kind===27)return 1}return j(z,Q)}function ie(z,Q){if(z.completion.kind!==Q.completion.kind){if(z.completion.kind===27)return 1;if(Q.completion.kind===27)return-1}return j(z,Q)}const ne=new Map;ne.set(0,q),ne.set(2,ie),ne.set(1,j);function he(z){return ne.get(z)}p.P.registerCommand("_executeCompletionItemProvider",(z,...Q)=>v(void 0,void 0,void 0,function*(){const[le,E,I,A]=Q;(0,G.p_)(x.o.isUri(le)),(0,G.p_)(N.L.isIPosition(E)),(0,G.p_)(typeof I=="string"||!I),(0,G.p_)(typeof A=="number"||!A);const H=yield z.get(l.S).createModelReference(le);try{const Y={incomplete:!1,suggestions:[]},X=[],re=yield T(H.object.textEditorModel,N.L.lift(E),void 0,{triggerCharacter:I,triggerKind:I?1:0});for(const fe of re.items)X.length<(A!=null?A:0)&&X.push(fe.resolve(h.T.None)),Y.incomplete=Y.incomplete||fe.container.incomplete,Y.suggestions.push(fe.completion);try{return yield Promise.all(X),Y}finally{setTimeout(()=>re.disposable.dispose(),100)}}finally{H.dispose()}}));const $=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let Q={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,Q}};C.KZ.register("*",$);function V(z,Q){setTimeout(()=>{$.onlyOnceSuggestions.push(...Q),z.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add($))},0)}},74480:function(Ct,we,t){"use strict";t.r(we),t.d(we,{SuggestController:function(){return An},TriggerSuggestAction:function(){return qn}});var h=t(35996),W=t(9488),k=t(15393),O=t(71050),w=t(17301),G=t(4669),x=t(8313),N=t(9917),s=t(1432),C=t(84013),l=t(98401),m=t(55812),y=t(16830),n=t(69386),p=t(50187),f=t(24314),v=t(29102),d=t(93379),a=t(63472),u=t(43702),c=t(60303),b=t(33108),L=t(65026),R=t(72065),T=t(87060),j=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},q=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}};class ie{constructor(U){this.name=U}select(U,me,Ee){if(Ee.length===0)return 0;let $e=Ee[0].score[0];for(let et=0;et<Ee.length;et++){const{score:wt,completion:Rt}=Ee[et];if(wt[0]!==$e)break;if(Rt.preselect)return et}return 0}}class ne extends ie{constructor(){super("first")}memorize(U,me,Ee){}toJSON(){}fromJSON(){}}class he extends ie{constructor(){super("recentlyUsed"),this._cache=new u.z6(300,.66),this._seq=0}memorize(U,me,Ee){const $e=`${U.getLanguageId()}/${Ee.textLabel}`;this._cache.set($e,{touch:this._seq++,type:Ee.completion.kind,insertText:Ee.completion.insertText})}select(U,me,Ee){if(Ee.length===0)return 0;const $e=U.getLineContent(me.lineNumber).substr(me.column-10,me.column-1);if(/\s$/.test($e))return super.select(U,me,Ee);let et=Ee[0].score[0],wt=-1,Rt=-1,ti=-1;for(let fi=0;fi<Ee.length&&Ee[fi].score[0]===et;fi++){const ii=`${U.getLanguageId()}/${Ee[fi].textLabel}`,bt=this._cache.peek(ii);if(bt&&bt.touch>ti&&bt.type===Ee[fi].completion.kind&&bt.insertText===Ee[fi].completion.insertText&&(ti=bt.touch,Rt=fi),Ee[fi].completion.preselect&&wt===-1)return wt=fi}return Rt!==-1?Rt:wt!==-1?wt:0}toJSON(){return this._cache.toJSON()}fromJSON(U){this._cache.clear();let me=0;for(const[Ee,$e]of U)$e.touch=me,$e.type=typeof $e.type=="number"?$e.type:(0,c.jr)($e.type),this._cache.set(Ee,$e);this._seq=this._cache.size}}class $ extends ie{constructor(){super("recentlyUsedByPrefix"),this._trie=u.Id.forStrings(),this._seq=0}memorize(U,me,Ee){const{word:$e}=U.getWordUntilPosition(me),et=`${U.getLanguageId()}/${$e}`;this._trie.set(et,{type:Ee.completion.kind,insertText:Ee.completion.insertText,touch:this._seq++})}select(U,me,Ee){let{word:$e}=U.getWordUntilPosition(me);if(!$e)return super.select(U,me,Ee);let et=`${U.getLanguageId()}/${$e}`,wt=this._trie.get(et);if(wt||(wt=this._trie.findSubstr(et)),wt)for(let Rt=0;Rt<Ee.length;Rt++){let{kind:ti,insertText:fi}=Ee[Rt].completion;if(ti===wt.type&&fi===wt.insertText)return Rt}return super.select(U,me,Ee)}toJSON(){let U=[];return this._trie.forEach((me,Ee)=>U.push([Ee,me])),U.sort((me,Ee)=>-(me[1].touch-Ee[1].touch)).forEach((me,Ee)=>me[1].touch=Ee),U.slice(0,200)}fromJSON(U){if(this._trie.clear(),U.length>0){this._seq=U[0][1].touch+1;for(const[me,Ee]of U)Ee.type=typeof Ee.type=="number"?Ee.type:(0,c.jr)(Ee.type),this._trie.set(me,Ee)}}}let V=class wr{constructor(U,me){this._storageService=U,this._configService=me,this._disposables=new N.SL,this._persistSoon=new k.pY(()=>this._saveState(),500),this._disposables.add(U.onWillSaveState(Ee=>{Ee.reason===T.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(U,me,Ee){this._withStrategy(U,me).memorize(U,me,Ee),this._persistSoon.schedule()}select(U,me,Ee){return this._withStrategy(U,me).select(U,me,Ee)}_withStrategy(U,me){var Ee;const $e=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:U.getLanguageIdAtPosition(me.lineNumber,me.column),resource:U.uri});if(((Ee=this._strategy)===null||Ee===void 0?void 0:Ee.name)!==$e){this._saveState();const et=wr._strategyCtors.get($e)||ne;this._strategy=new et;try{const Rt=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,ti=this._storageService.get(`${wr._storagePrefix}/${$e}`,Rt);ti&&this._strategy.fromJSON(JSON.parse(ti))}catch(wt){}}return this._strategy}_saveState(){if(this._strategy){const me=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,Ee=JSON.stringify(this._strategy);this._storageService.store(`${wr._storagePrefix}/${this._strategy.name}`,Ee,me,1)}}};V._strategyCtors=new Map([["recentlyUsedByPrefix",$],["recentlyUsed",he],["first",ne]]),V._storagePrefix="suggest/memories",V=j([q(0,T.Uy),q(1,b.Ui)],V);const z=(0,R.yh)("ISuggestMemories");(0,L.z)(z,V,!0);var Q=t(38819),le=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},E=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}};let I=class Pl{constructor(U,me){this._editor=U,this._enabled=!1,this._ckAtEnd=Pl.AtEnd.bindTo(me),this._configListener=this._editor.onDidChangeConfiguration(Ee=>Ee.hasChanged(110)&&this._update()),this._update()}dispose(){var U;this._configListener.dispose(),(U=this._selectionListener)===null||U===void 0||U.dispose(),this._ckAtEnd.reset()}_update(){const U=this._editor.getOption(110)==="on";if(this._enabled!==U)if(this._enabled=U,this._enabled){const me=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Ee=this._editor.getModel(),$e=this._editor.getSelection(),et=Ee.getWordAtPosition($e.getStartPosition());if(!et){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(et.endColumn===$e.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(me),me()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};I.AtEnd=new Q.uy("atEndOfWord",!1),I=le([E(1,Q.i6)],I);var A=t(63580),H=t(84144),Y=t(94565),X=t(49989),re=t(43557),fe=t(79599),ue=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},Oe=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}};let Ce=class Lr{constructor(U,me){this._editor=U,this._index=0,this._ckOtherSuggestions=Lr.OtherSuggestions.bindTo(me)}dispose(){this.reset()}reset(){var U;this._ckOtherSuggestions.reset(),(U=this._listener)===null||U===void 0||U.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:U,index:me},Ee){if(U.items.length===0){this.reset();return}if(Lr._moveIndex(!0,U,me)===me){this.reset();return}this._acceptNext=Ee,this._model=U,this._index=me,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(U,me,Ee){let $e=Ee;for(;$e=($e+me.items.length+(U?1:-1))%me.items.length,!($e===Ee||!me.items[$e].completion.additionalTextEdits););return $e}next(){this._move(!0)}prev(){this._move(!1)}_move(U){if(this._model)try{this._ignore=!0,this._index=Lr._moveIndex(U,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Ce.OtherSuggestions=new Q.uy("hasOtherSuggestions",!1),Ce=ue([Oe(1,Q.i6)],Ce);var oe=t(44906);class ae{constructor(U,me,Ee){this._disposables=new N.SL,this._disposables.add(me.onDidShow(()=>this._onItem(me.getFocusedItem()))),this._disposables.add(me.onDidFocus(this._onItem,this)),this._disposables.add(me.onDidHide(this.reset,this)),this._disposables.add(U.onWillType($e=>{if(this._active&&!me.isFrozen()){const et=$e.charCodeAt($e.length-1);this._active.acceptCharacters.has(et)&&U.getOption(0)&&Ee(this._active.item)}}))}_onItem(U){if(!U||!(0,W.Of)(U.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===U.item)return;const me=new oe.q;for(const Ee of U.item.completion.commitCharacters)Ee.length>0&&me.add(Ee.charCodeAt(0));this._active={acceptCharacters:me,item:U}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var Be=t(97295),Ve=t(3860),se=t(90469),ce=t(80689),Te=function(Lt,U,me,Ee){function $e(et){return et instanceof me?et:new me(function(wt){wt(et)})}return new(me||(me=Promise))(function(et,wt){function Rt(ii){try{fi(Ee.next(ii))}catch(bt){wt(bt)}}function ti(ii){try{fi(Ee.throw(ii))}catch(bt){wt(bt)}}function fi(ii){ii.done?et(ii.value):$e(ii.value).then(Rt,ti)}fi((Ee=Ee.apply(Lt,U||[])).next())})};class xe{static create(U,me){return Te(this,void 0,void 0,function*(){if(!me.getOption(105).localityBonus||!me.hasModel())return xe.None;const Ee=me.getModel(),$e=me.getPosition();if(!U.canComputeWordRanges(Ee.uri))return xe.None;const[et]=yield new ce.x().provideSelectionRanges(Ee,[$e]);if(et.length===0)return xe.None;const wt=yield U.computeWordRanges(Ee.uri,et[0].range);if(!wt)return xe.None;const Rt=Ee.getWordUntilPosition($e);return delete wt[Rt.word],new class extends xe{distance(ti,fi){if(!$e.equals(me.getPosition()))return 0;if(fi.kind===17)return 2<<20;let ii=typeof fi.label=="string"?fi.label:fi.label.label,bt=wt[ii];if((0,W.XY)(bt))return 2<<20;let B=(0,W.ry)(bt,f.e.fromPositions(ti),f.e.compareRangesUsingStarts),_e=B>=0?bt[B]:bt[Math.max(0,~B-1)],We=et.length;for(const rt of et){if(!f.e.containsRange(rt.range,_e))break;We-=1}return We}}})}}xe.None=new class extends xe{distance(){return 0}};var Fe=t(84972),Le=t(10829),Me=t(75392);class Se{constructor(U,me){this.leadingLineContent=U,this.characterCountDelta=me}}class ze{constructor(U,me,Ee,$e,et,wt,Rt){this.clipboardText=Rt,this._snippetCompareFn=ze._compareCompletionItems,this._items=U,this._column=me,this._wordDistance=$e,this._options=et,this._refilterKind=1,this._lineContext=Ee,wt==="top"?this._snippetCompareFn=ze._compareCompletionItemsSnippetsUp:wt==="bottom"&&(this._snippetCompareFn=ze._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(U){(this._lineContext.leadingLineContent!==U.leadingLineContent||this._lineContext.characterCountDelta!==U.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<U.characterCountDelta&&this._filteredItems?2:1,this._lineContext=U)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const U=new Set;for(let[me,Ee]of this._providerInfo)Ee&&U.add(me);return U}adopt(U){let me=[];for(let Ee=0;Ee<this._items.length;)U.has(this._items[Ee].provider)?Ee++:(me.push(this._items[Ee]),this._items[Ee]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,me}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const U=[],{leadingLineContent:me,characterCountDelta:Ee}=this._lineContext;let $e="",et="";const wt=this._refilterKind===1?this._items:this._filteredItems,Rt=[],ti=!this._options.filterGraceful||wt.length>2e3?Me.EW:Me.l7;for(let fi=0;fi<wt.length;fi++){const ii=wt[fi];if(ii.isInvalid)continue;this._providerInfo.set(ii.provider,!!ii.container.incomplete);const bt=ii.position.column-ii.editStart.column,B=bt+Ee-(ii.position.column-this._column);if($e.length!==B&&($e=B===0?"":me.slice(-B),et=$e.toLowerCase()),ii.word=$e,B===0)ii.score=Me.CL.Default;else{let _e=0;for(;_e<bt;){const We=$e.charCodeAt(_e);if(We===32||We===9)_e+=1;else break}if(_e>=B)ii.score=Me.CL.Default;else if(typeof ii.completion.filterText=="string"){let We=ti($e,et,_e,ii.completion.filterText,ii.filterTextLow,0,!1);if(!We)continue;(0,Be.zY)(ii.completion.filterText,ii.textLabel)===0?ii.score=We:(ii.score=(0,Me.jB)($e,et,_e,ii.textLabel,ii.labelLow,0),ii.score[0]=We[0])}else{let We=ti($e,et,_e,ii.textLabel,ii.labelLow,0,!1);if(!We)continue;ii.score=We}}ii.idx=fi,ii.distance=this._wordDistance.distance(ii.position,ii.completion),Rt.push(ii),U.push(ii.textLabel.length)}this._filteredItems=Rt.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:U.length?(0,W.HW)(U.length-.85,U,(fi,ii)=>fi-ii):0}}static _compareCompletionItems(U,me){return U.score[0]>me.score[0]?-1:U.score[0]<me.score[0]?1:U.distance<me.distance?-1:U.distance>me.distance?1:U.idx<me.idx?-1:U.idx>me.idx?1:0}static _compareCompletionItemsSnippetsDown(U,me){if(U.completion.kind!==me.completion.kind){if(U.completion.kind===27)return 1;if(me.completion.kind===27)return-1}return ze._compareCompletionItems(U,me)}static _compareCompletionItemsSnippetsUp(U,me){if(U.completion.kind!==me.completion.kind){if(U.completion.kind===27)return-1;if(me.completion.kind===27)return 1}return ze._compareCompletionItems(U,me)}}var Ye=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},qe=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}},ht=function(Lt,U,me,Ee){function $e(et){return et instanceof me?et:new me(function(wt){wt(et)})}return new(me||(me=Promise))(function(et,wt){function Rt(ii){try{fi(Ee.next(ii))}catch(bt){wt(bt)}}function ti(ii){try{fi(Ee.throw(ii))}catch(bt){wt(bt)}}function fi(ii){ii.done?et(ii.value):$e(ii.value).then(Rt,ti)}fi((Ee=Ee.apply(Lt,U||[])).next())})};class kt{constructor(U,me,Ee,$e){this.leadingLineContent=U.getLineContent(me.lineNumber).substr(0,me.column-1),this.leadingWord=U.getWordUntilPosition(me),this.lineNumber=me.lineNumber,this.column=me.column,this.auto=Ee,this.shy=$e}static shouldAutoTrigger(U){if(!U.hasModel())return!1;const me=U.getModel(),Ee=U.getPosition();me.tokenizeIfCheap(Ee.lineNumber);const $e=me.getWordAtPosition(Ee);return!(!$e||$e.endColumn!==Ee.column||!isNaN(Number($e.word)))}}function zt(Lt){return Lt.getOption(105).preview}function Ke(Lt,U,me){if(!U.getContextKeyValue("inlineSuggestionVisible"))return!0;const Ee=me.getValue("editor.inlineSuggest.allowQuickSuggestions");return Ee!==void 0?!!Ee:!1}function Je(Lt,U,me){if(!U.getContextKeyValue("inlineSuggestionVisible"))return!0;const Ee=me.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return Ee!==void 0?!!Ee:!1}let Ze=class kl{constructor(U,me,Ee,$e,et,wt,Rt){this._editor=U,this._editorWorkerService=me,this._clipboardService=Ee,this._telemetryService=$e,this._logService=et,this._contextKeyService=wt,this._configurationService=Rt,this._toDispose=new N.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new N.SL,this._triggerQuickSuggest=new k._F,this._state=0,this._completionDisposables=new N.SL,this._onDidCancel=new G.Q5,this._onDidTrigger=new G.Q5,this._onDidSuggest=new G.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Ve.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(c.KZ.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(fi=>{this._onCursorChange(fi)}));let ti=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{ti=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{ti=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{ti||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,N.B9)(this._triggerCharacterListener),(0,N.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(79),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(80)||!this._editor.hasModel()||!this._editor.getOption(108))return;const U=new Map;for(const Ee of c.KZ.all(this._editor.getModel()))for(const $e of Ee.triggerCharacters||[]){let et=U.get($e);et||(et=new Set,et.add((0,fe.ZJ)()),U.set($e,et)),et.add(Ee)}const me=Ee=>{if(!Je(this._editor,this._contextKeyService,this._configurationService)||kt.shouldAutoTrigger(this._editor))return;if(!Ee){const wt=this._editor.getPosition();Ee=this._editor.getModel().getLineContent(wt.lineNumber).substr(0,wt.column-1)}let $e="";(0,Be.YK)(Ee.charCodeAt(Ee.length-1))?(0,Be.ZG)(Ee.charCodeAt(Ee.length-2))&&($e=Ee.substr(Ee.length-2)):$e=Ee.charAt(Ee.length-1);const et=U.get($e);if(et){const wt=this._completionModel?{items:this._completionModel.adopt(et),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:$e},!!this._completionModel,et,wt)}};this._triggerCharacterListener.add(this._editor.onDidType(me)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(me))}get state(){return this._state}cancel(U=!1){var me;this._state!==0&&(this._triggerQuickSuggest.cancel(),(me=this._requestToken)===null||me===void 0||me.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:U}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!c.KZ.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(U){if(!this._editor.hasModel())return;const me=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!U.selection.isEmpty()||U.reason!==0&&U.reason!==3||U.source!=="keyboard"&&U.source!=="deleteLeft"){this.cancel();return}this._state===0&&U.reason===0?(me.containsRange(this._currentSelection)||me.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&U.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){this._editor.getOption(78)!==!1&&(this._editor.getOption(105).snippetsPreventQuickSuggestions&&d.SnippetController2.get(this._editor).isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!kt.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const U=this._editor.getModel(),me=this._editor.getPosition(),Ee=this._editor.getOption(78);if(Ee!==!1){if(Ee!==!0){U.tokenizeIfCheap(me.lineNumber);const $e=U.getLineTokens(me.lineNumber),et=$e.getStandardTokenType($e.findTokenIndexAtOffset(Math.max(me.column-1-1,0)));if(!(Ee.other&&et===0||Ee.comments&&et===1||Ee.strings&&et===2))return}Ke(this._editor,this._contextKeyService,this._configurationService)&&c.KZ.has(U)&&this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const U=this._editor.getModel(),me=this._editor.getPosition(),Ee=new kt(U,me,this._state===2,!1);this._onNewContext(Ee)})}trigger(U,me=!1,Ee,$e){var et;if(!this._editor.hasModel())return;const wt=this._editor.getModel(),Rt=U.auto,ti=new kt(wt,this._editor.getPosition(),Rt,U.shy);this.cancel(me),this._state=Rt?2:1,this._onDidTrigger.fire({auto:Rt,shy:U.shy,position:this._editor.getPosition()}),this._context=ti;let fi={triggerKind:(et=U.triggerKind)!==null&&et!==void 0?et:0};U.triggerCharacter&&(fi={triggerKind:1,triggerCharacter:U.triggerCharacter}),this._requestToken=new O.A;const ii=this._editor.getOption(100);let bt=1;switch(ii){case"top":bt=0;break;case"bottom":bt=2;break}const{itemKind:B,showDeprecated:_e}=kl._createSuggestFilter(this._editor),We=xe.create(this._editorWorkerService,this._editor),rt=(0,fe.kL)(wt,this._editor.getPosition(),new fe.A9(bt,B,Ee,_e),fi,this._requestToken.token);Promise.all([rt,We]).then(([yt,Ht])=>ht(this,void 0,void 0,function*(){var Qt;if((Qt=this._requestToken)===null||Qt===void 0||Qt.dispose(),!this._editor.hasModel())return;let ei=$e==null?void 0:$e.clipboardText;if(!ei&&yt.needsClipboard&&(ei=yield this._clipboardService.readText()),this._state===0)return;const ri=this._editor.getModel();let gi=yt.items;if($e){const Ei=(0,fe.wg)(bt);gi=gi.concat($e.items).sort(Ei)}const Mi=new kt(ri,this._editor.getPosition(),Rt,U.shy);this._completionModel=new ze(gi,this._context.column,{leadingLineContent:Mi.leadingLineContent,characterCountDelta:Mi.column-this._context.column},Ht,this._editor.getOption(105),this._editor.getOption(100),ei),this._completionDisposables.add(yt.disposable),this._onNewContext(Mi),this._reportDurationsTelemetry(yt.durations)})).catch(w.dL)}_reportDurationsTelemetry(U){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(U)}),this._logService.debug("suggest.durations.json",U)})}static _createSuggestFilter(U){const me=new Set;U.getOption(100)==="none"&&me.add(27);const $e=U.getOption(105);return $e.showMethods||me.add(0),$e.showFunctions||me.add(1),$e.showConstructors||me.add(2),$e.showFields||me.add(3),$e.showVariables||me.add(4),$e.showClasses||me.add(5),$e.showStructs||me.add(6),$e.showInterfaces||me.add(7),$e.showModules||me.add(8),$e.showProperties||me.add(9),$e.showEvents||me.add(10),$e.showOperators||me.add(11),$e.showUnits||me.add(12),$e.showValues||me.add(13),$e.showConstants||me.add(14),$e.showEnums||me.add(15),$e.showEnumMembers||me.add(16),$e.showKeywords||me.add(17),$e.showWords||me.add(18),$e.showColors||me.add(19),$e.showFiles||me.add(20),$e.showReferences||me.add(21),$e.showColors||me.add(22),$e.showFolders||me.add(23),$e.showTypeParameters||me.add(24),$e.showSnippets||me.add(27),$e.showUsers||me.add(25),$e.showIssues||me.add(26),{itemKind:me,showDeprecated:$e.showDeprecated}}_onNewContext(U){if(this._context){if(U.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,Be.V8)(U.leadingLineContent)!==(0,Be.V8)(this._context.leadingLineContent)){this.cancel();return}if(U.column<this._context.column){U.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel){if(U.leadingWord.word.length!==0&&U.leadingWord.startColumn>this._context.leadingWord.startColumn){const me=new Set(c.KZ.all(this._editor.getModel()));for(let $e of this._completionModel.allProvider)me.delete($e);const Ee=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,me,{items:Ee,clipboardText:this._completionModel.clipboardText});return}if(U.column>this._context.column&&this._completionModel.incomplete.size>0&&U.leadingWord.word.length!==0){const{incomplete:me}=this._completionModel,Ee=this._completionModel.adopt(me);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,me,{items:Ee,clipboardText:this._completionModel.clipboardText})}else{let me=this._completionModel.lineContext,Ee=!1;if(this._completionModel.lineContext={leadingLineContent:U.leadingLineContent,characterCountDelta:U.column-this._context.column},this._completionModel.items.length===0){if(kt.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<U.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=me,Ee=this._completionModel.items.length>0,Ee&&U.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:Ee})}}}}};Ze=Ye([qe(1,se.p),qe(2,Fe.p),qe(3,Le.b),qe(4,re.VZ),qe(5,Q.i6),qe(6,b.Ui)],Ze);class Ae{constructor(U,me){this._disposables=new N.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(U.onWillType(()=>{if(!this._empty||!U.hasModel())return;const Ee=U.getSelections(),$e=Ee.length;let et=!1;for(let Rt=0;Rt<$e;Rt++)if(!Ee[Rt].isEmpty()){et=!0;break}if(!et)return;this._lastOvertyped=[];const wt=U.getModel();for(let Rt=0;Rt<$e;Rt++){const ti=Ee[Rt];if(wt.getValueLengthInRange(ti)>Ae._maxSelectionLength)return;this._lastOvertyped[Rt]={value:wt.getValueInRange(ti),multiline:ti.startLineNumber!==ti.endLineNumber}}this._empty=!1})),this._disposables.add(me.onDidCancel(Ee=>{!this._empty&&!Ee.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(U){if(!this._empty&&U>=0&&U<this._lastOvertyped.length)return this._lastOvertyped[U]}dispose(){this._disposables.dispose()}}Ae._maxSelectionLength=51200;var He=t(65321),It=t(15375),Bt=t(69047),oi=t(59870),ni=t(84527),hi=t(90317),Di=t(42499),Ti=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},Ii=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}};class ai extends Di.Mm{updateLabel(){const U=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!U)return super.updateLabel();this.label&&(this.label.textContent=(0,A.N)("ddd","{0} ({1})",this._action.label,ai.symbolPrintEnter(U)))}static symbolPrintEnter(U){var me;return(me=U.getLabel())===null||me===void 0?void 0:me.replace(/\benter\b/gi,"\u23CE")}}let Pt=class{constructor(U,me,Ee,$e){this._menuService=Ee,this._contextKeyService=$e,this._menuDisposables=new N.SL,this.element=He.R3(U,He.$(".suggest-status-bar"));const et=wt=>wt instanceof H.U8?me.createInstance(ai,wt,void 0):void 0;this._leftActions=new hi.o(this.element,{actionViewItemProvider:et}),this._rightActions=new hi.o(this.element,{actionViewItemProvider:et}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const U=this._menuService.createMenu(fe.GI,this._contextKeyService),me=()=>{const Ee=[],$e=[];for(let[et,wt]of U.getActions())et==="left"?Ee.push(...wt):$e.push(...wt);this._leftActions.clear(),this._leftActions.push(Ee),this._rightActions.clear(),this._rightActions.push($e)};this._menuDisposables.add(U.onDidChange(()=>me())),this._menuDisposables.add(U)}hide(){this._menuDisposables.clear()}};Pt=Ti([Ii(1,R.TG),Ii(2,H.co),Ii(3,Q.i6)],Pt);var Gt=t(24954),ot=t(73910),mt=t(88810),ft=t(97781),Xe=t(83080);class Ge{constructor(){this._onDidWillResize=new G.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new G.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new N.SL,this._size=new He.Ro(0,0),this._minSize=new He.Ro(0,0),this._maxSize=new He.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Xe.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Xe.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Xe.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Xe.l.North}),this._southSash=new Xe.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Xe.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let U,me=0,Ee=0;this._sashListener.add(G.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{U===void 0&&(this._onDidWillResize.fire(),U=this._size,me=0,Ee=0)})),this._sashListener.add(G.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{U!==void 0&&(U=void 0,me=0,Ee=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange($e=>{U&&(Ee=$e.currentX-$e.startX,this.layout(U.height+me,U.width+Ee),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange($e=>{U&&(Ee=-($e.currentX-$e.startX),this.layout(U.height+me,U.width+Ee),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange($e=>{U&&(me=-($e.currentY-$e.startY),this.layout(U.height+me,U.width+Ee),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange($e=>{U&&(me=$e.currentY-$e.startY,this.layout(U.height+me,U.width+Ee),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(G.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)($e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(G.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)($e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(U,me,Ee,$e){this._northSash.state=U?3:0,this._eastSash.state=me?3:0,this._southSash.state=Ee?3:0,this._westSash.state=$e?3:0}layout(U=this.size.height,me=this.size.width){const{height:Ee,width:$e}=this._minSize,{height:et,width:wt}=this._maxSize;U=Math.max(Ee,Math.min(et,U)),me=Math.max($e,Math.min(wt,me));const Rt=new He.Ro(me,U);He.Ro.equals(Rt,this._size)||(this.domNode.style.height=U+"px",this.domNode.style.width=me+"px",this._size=Rt,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(U){this._maxSize=U}get maxSize(){return this._maxSize}set minSize(U){this._minSize=U}get minSize(){return this._minSize}set preferredSize(U){this._preferredSize=U}get preferredSize(){return this._preferredSize}}var Ie=t(16268),Pe=t(13433),je=t(73046),dt=t(59365),Nt=t(53430),$t=t(64141),Xt=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},Ci=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}};function Zt(Lt){return!!Lt&&!!(Lt.completion.documentation||Lt.completion.detail&&Lt.completion.detail!==Lt.completion.label)}let mi=class{constructor(U,me){this._editor=U,this._onDidClose=new G.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new G.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new N.SL,this._renderDisposeable=new N.SL,this._borderWidth=1,this._size=new He.Ro(330,0),this.domNode=He.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=me.createInstance(Nt.$,{editor:U}),this._body=He.$(".body"),this._scrollbar=new Pe.s$(this._body,{}),He.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=He.R3(this._body,He.$(".header")),this._close=He.R3(this._header,He.$("span"+je.lA.close.cssSelector)),this._close.title=A.N("details.close","Close"),this._type=He.R3(this._header,He.$("p.type")),this._docs=He.R3(this._body,He.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Ee=>{Ee.hasChanged(43)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const U=this._editor.getOptions(),me=U.get(43),Ee=me.getMassagedFontFamily(Ie.G6?$t.hL.fontFamily:null),$e=U.get(106)||me.fontSize,et=U.get(107)||me.lineHeight,wt=me.fontWeight,Rt=`${$e}px`,ti=`${et}px`;this.domNode.style.fontSize=Rt,this.domNode.style.lineHeight=`${et/$e}`,this.domNode.style.fontWeight=wt,this.domNode.style.fontFeatureSettings=me.fontFeatureSettings,this._type.style.fontFamily=Ee,this._close.style.height=ti,this._close.style.width=ti}getLayoutInfo(){const U=this._editor.getOption(107)||this._editor.getOption(43).lineHeight,me=this._borderWidth,Ee=me*2;return{lineHeight:U,borderWidth:me,borderHeight:Ee,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=A.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(U,me){var Ee,$e;this._renderDisposeable.clear();let{detail:et,documentation:wt}=U.completion;if(me){let Rt="";Rt+=`score: ${U.score[0]}
`,Rt+=`prefix: ${(Ee=U.word)!==null&&Ee!==void 0?Ee:"(no prefix)"}
`,Rt+=`word: ${U.completion.filterText?U.completion.filterText+" (filterText)":U.textLabel}
`,Rt+=`distance: ${U.distance} (localityBonus-setting)
`,Rt+=`index: ${U.idx}, based on ${U.completion.sortText&&`sortText: "${U.completion.sortText}"`||"label"}
`,Rt+=`commit_chars: ${($e=U.completion.commitCharacters)===null||$e===void 0?void 0:$e.join("")}
`,wt=new dt.W5().appendCodeblock("empty",Rt),et=`Provider: ${U.provider._debugDisplayName}`}if(!me&&!Zt(U)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),et){const Rt=et.length>1e5?`${et.substr(0,1e5)}\u2026`:et;this._type.textContent=Rt,this._type.title=Rt,He.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(Rt))}else He.PO(this._type),this._type.title="",He.Cp(this._type),this.domNode.classList.add("no-type");if(He.PO(this._docs),typeof wt=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=wt;else if(wt){this._docs.classList.add("markdown-docs"),He.PO(this._docs);const Rt=this._markdownRenderer.render(wt);this._docs.appendChild(Rt.element),this._renderDisposeable.add(Rt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=Rt=>{Rt.preventDefault(),Rt.stopPropagation()},this._close.onclick=Rt=>{Rt.preventDefault(),Rt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(U,me){const Ee=new He.Ro(U,me);He.Ro.equals(Ee,this._size)||(this._size=Ee,He.dp(this.domNode,U,me)),this._scrollbar.scanDomNode()}scrollDown(U=8){this._body.scrollTop+=U}scrollUp(U=8){this._body.scrollTop-=U}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(U){this._borderWidth=U}get borderWidth(){return this._borderWidth}};mi=Xt([Ci(1,R.TG)],mi);class pt{constructor(U,me){this.widget=U,this._editor=me,this._disposables=new N.SL,this._added=!1,this._resizable=new Ge,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(U.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Ee,$e,et=0,wt=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Ee=this._topLeft,$e=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(Rt=>{if(Ee&&$e){this.widget.layout(Rt.dimension.width,Rt.dimension.height);let ti=!1;Rt.west&&(wt=$e.width-Rt.dimension.width,ti=!0),Rt.north&&(et=$e.height-Rt.dimension.height,ti=!0),ti&&this._applyTopLeft({top:Ee.top+et,left:Ee.left+wt})}Rt.done&&(Ee=void 0,$e=void 0,et=0,wt=0,this._userSize=Rt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var Rt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(Rt=this._userSize)!==null&&Rt!==void 0?Rt:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(U=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),U&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(U){var me;const Ee=He.i(U);this._anchorBox=Ee,this._placeAtAnchor(this._anchorBox,(me=this._userSize)!==null&&me!==void 0?me:this.widget.size)}_placeAtAnchor(U,me){var Ee;const $e=He.D6(document.body),et=this.widget.getLayoutInfo(),wt=new He.Ro(220,2*et.lineHeight),Rt=U.top,ti=function(){const Qt=$e.width-(U.left+U.width+et.borderWidth+et.horizontalPadding),ei=-et.borderWidth+U.left+U.width,ri=new He.Ro(Qt,$e.height-U.top-et.borderHeight-et.verticalPadding),gi=ri.with(void 0,U.top+U.height-et.borderHeight-et.verticalPadding);return{top:Rt,left:ei,fit:Qt-me.width,maxSizeTop:ri,maxSizeBottom:gi,minSize:wt.with(Math.min(Qt,wt.width))}}(),fi=function(){const Qt=U.left-et.borderWidth-et.horizontalPadding,ei=Math.max(et.horizontalPadding,U.left-me.width-et.borderWidth),ri=new He.Ro(Qt,$e.height-U.top-et.borderHeight-et.verticalPadding),gi=ri.with(void 0,U.top+U.height-et.borderHeight-et.verticalPadding);return{top:Rt,left:ei,fit:Qt-me.width,maxSizeTop:ri,maxSizeBottom:gi,minSize:wt.with(Math.min(Qt,wt.width))}}(),ii=function(){const Qt=U.left,ei=-et.borderWidth+U.top+U.height,ri=new He.Ro(U.width-et.borderHeight,$e.height-U.top-U.height-et.verticalPadding);return{top:ei,left:Qt,fit:ri.height-me.height,maxSizeBottom:ri,maxSizeTop:ri,minSize:wt.with(ri.width)}}(),bt=[ti,fi,ii],B=(Ee=bt.find(Qt=>Qt.fit>=0))!==null&&Ee!==void 0?Ee:bt.sort((Qt,ei)=>ei.fit-Qt.fit)[0],_e=U.top+U.height-et.borderHeight;let We,rt=me.height;const yt=Math.max(B.maxSizeTop.height,B.maxSizeBottom.height);rt>yt&&(rt=yt);let Ht;rt<=B.maxSizeTop.height?(We=!0,Ht=B.maxSizeTop):(We=!1,Ht=B.maxSizeBottom),this._applyTopLeft({left:B.left,top:We?B.top:_e-rt}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!We,B===ti,We,B!==ti),this._resizable.minSize=B.minSize,this._resizable.maxSize=Ht,this._resizable.layout(rt,Math.min(Ht.width,me.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(U){this._topLeft=U,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var ut=t(26974),tt=t(70666),de=t(66663),be=t(95935),J=t(71144),pe;(function(Lt){Lt[Lt.FILE=0]="FILE",Lt[Lt.FOLDER=1]="FOLDER",Lt[Lt.ROOT_FOLDER=2]="ROOT_FOLDER"})(pe||(pe={}));function ke(Lt,U,me,Ee){const $e=Ee===pe.ROOT_FOLDER?["rootfolder-icon"]:Ee===pe.FOLDER?["folder-icon"]:["file-icon"];if(me){let et;if(me.scheme===de.lg.data?et=be.Vb.parseMetaData(me).get(be.Vb.META_DATA_LABEL):et=st((0,be.Hx)(me).toLowerCase()),Ee===pe.FOLDER)$e.push(`${et}-name-folder-icon`);else{if(et){if($e.push(`${et}-name-file-icon`),et.length<=255){const Rt=et.split(".");for(let ti=1;ti<Rt.length;ti++)$e.push(`${Rt.slice(ti).join(".")}-ext-file-icon`)}$e.push("ext-file-icon")}const wt=at(Lt,U,me);wt&&$e.push(`${st(wt)}-lang-file-icon`)}}return $e}function at(Lt,U,me){if(!me)return null;let Ee=null;if(me.scheme===de.lg.data){const et=be.Vb.parseMetaData(me).get(be.Vb.META_DATA_MIME);et&&(Ee=U.getModeId(et))}else{const $e=Lt.getModel(me);$e&&(Ee=$e.getLanguageId())}return Ee&&Ee!==J.XT?Ee:U.getModeIdByFilepathOrFirstLine(me)}function st(Lt){return Lt.replace(/[\11\12\14\15\40]/g,"/")}var _t=t(51200),Et=t(71531),Wt=t(59554),Mt=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},Jt=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}},jt;function ui(Lt){return`suggest-aria-id:${Lt}`}const _i=(0,Wt.q5)("suggest-more-info",je.lA.chevronRight,A.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),bi=new(jt=class Dr{extract(U,me){if(U.textLabel.match(Dr._regexStrict))return me[0]=U.textLabel,!0;if(U.completion.detail&&U.completion.detail.match(Dr._regexStrict))return me[0]=U.completion.detail,!0;if(typeof U.completion.documentation=="string"){const Ee=Dr._regexRelaxed.exec(U.completion.documentation);if(Ee&&(Ee.index===0||Ee.index+Ee[0].length===U.completion.documentation.length))return me[0]=Ee[0],!0}return!1}},jt._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,jt._regexStrict=new RegExp(`^${jt._regexRelaxed.source}$`,"i"),jt);let Ai=class{constructor(U,me,Ee,$e){this._editor=U,this._modelService=me,this._modeService=Ee,this._themeService=$e,this._onDidToggleDetails=new G.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(U){const me=Object.create(null);me.disposables=new N.SL,me.root=U,me.root.classList.add("show-file-icons"),me.icon=(0,He.R3)(U,(0,He.$)(".icon")),me.colorspan=(0,He.R3)(me.icon,(0,He.$)("span.colorspan"));const Ee=(0,He.R3)(U,(0,He.$)(".contents")),$e=(0,He.R3)(Ee,(0,He.$)(".main"));me.iconContainer=(0,He.R3)($e,(0,He.$)(".icon-label.codicon")),me.left=(0,He.R3)($e,(0,He.$)("span.left")),me.right=(0,He.R3)($e,(0,He.$)("span.right")),me.iconLabel=new ut.g(me.left,{supportHighlights:!0,supportIcons:!0}),me.disposables.add(me.iconLabel),me.parametersLabel=(0,He.R3)(me.left,(0,He.$)("span.signature-label")),me.qualifierLabel=(0,He.R3)(me.left,(0,He.$)("span.qualifier-label")),me.detailsLabel=(0,He.R3)(me.right,(0,He.$)("span.details-label")),me.readMore=(0,He.R3)(me.right,(0,He.$)("span.readMore"+ft.kS.asCSSSelector(_i))),me.readMore.title=A.N("readMore","Read More");const et=()=>{const wt=this._editor.getOptions(),Rt=wt.get(43),ti=Rt.getMassagedFontFamily(Ie.G6?$t.hL.fontFamily:null),fi=Rt.fontFeatureSettings,ii=wt.get(106)||Rt.fontSize,bt=wt.get(107)||Rt.lineHeight,B=Rt.fontWeight,_e=`${ii}px`,We=`${bt}px`;me.root.style.fontSize=_e,me.root.style.fontWeight=B,$e.style.fontFamily=ti,$e.style.fontFeatureSettings=fi,$e.style.lineHeight=We,me.icon.style.height=We,me.icon.style.width=We,me.readMore.style.height=We,me.readMore.style.width=We};return et(),me.disposables.add(this._editor.onDidChangeConfiguration(wt=>{(wt.hasChanged(43)||wt.hasChanged(106)||wt.hasChanged(107))&&et()})),me}renderElement(U,me,Ee){const{completion:$e}=U;Ee.root.id=ui(me),Ee.colorspan.style.backgroundColor="";const et={labelEscapeNewLines:!0,matches:(0,Me.mB)(U.score)};let wt=[];if($e.kind===19&&bi.extract(U,wt))Ee.icon.className="icon customcolor",Ee.iconContainer.className="icon hide",Ee.colorspan.style.backgroundColor=wt[0];else if($e.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Ee.icon.className="icon hide",Ee.iconContainer.className="icon hide";const Rt=ke(this._modelService,this._modeService,tt.o.from({scheme:"fake",path:U.textLabel}),pe.FILE),ti=ke(this._modelService,this._modeService,tt.o.from({scheme:"fake",path:$e.detail}),pe.FILE);et.extraClasses=Rt.length>ti.length?Rt:ti}else $e.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(Ee.icon.className="icon hide",Ee.iconContainer.className="icon hide",et.extraClasses=(0,W.xH)([ke(this._modelService,this._modeService,tt.o.from({scheme:"fake",path:U.textLabel}),pe.FOLDER),ke(this._modelService,this._modeService,tt.o.from({scheme:"fake",path:$e.detail}),pe.FOLDER)])):(Ee.icon.className="icon hide",Ee.iconContainer.className="",Ee.iconContainer.classList.add("suggest-icon",...(0,c.Sy)($e.kind).split(" ")));$e.tags&&$e.tags.indexOf(1)>=0&&(et.extraClasses=(et.extraClasses||[]).concat(["deprecated"]),et.matches=[]),Ee.iconLabel.setLabel(U.textLabel,void 0,et),typeof $e.label=="string"?(Ee.parametersLabel.textContent="",Ee.detailsLabel.textContent=Ri($e.detail||""),Ee.root.classList.add("string-label")):(Ee.parametersLabel.textContent=Ri($e.label.detail||""),Ee.detailsLabel.textContent=Ri($e.label.description||""),Ee.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,He.$Z)(Ee.detailsLabel):(0,He.Cp)(Ee.detailsLabel),Zt(U)?(Ee.right.classList.add("can-expand-details"),(0,He.$Z)(Ee.readMore),Ee.readMore.onmousedown=Rt=>{Rt.stopPropagation(),Rt.preventDefault()},Ee.readMore.onclick=Rt=>{Rt.stopPropagation(),Rt.preventDefault(),this._onDidToggleDetails.fire()}):(Ee.right.classList.remove("can-expand-details"),(0,He.Cp)(Ee.readMore),Ee.readMore.onmousedown=null,Ee.readMore.onclick=null)}disposeTemplate(U){U.disposables.dispose()}};Ai=Mt([Jt(1,_t.q),Jt(2,Et.h),Jt(3,ft.XE)],Ai);function Ri(Lt){return Lt.replace(/\r\n|\r|\n/g,"")}var zi=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},hn=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}},bn=function(Lt,U,me,Ee){function $e(et){return et instanceof me?et:new me(function(wt){wt(et)})}return new(me||(me=Promise))(function(et,wt){function Rt(ii){try{fi(Ee.next(ii))}catch(bt){wt(bt)}}function ti(ii){try{fi(Ee.throw(ii))}catch(bt){wt(bt)}}function fi(ii){ii.done?et(ii.value):$e(ii.value).then(Rt,ti)}fi((Ee=Ee.apply(Lt,U||[])).next())})};const Xi=(0,ot.P6)("editorSuggestWidget.background",{dark:ot.D0,light:ot.D0,hc:ot.D0},A.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),xn=(0,ot.P6)("editorSuggestWidget.border",{dark:ot.D1,light:ot.D1,hc:ot.D1},A.N("editorSuggestWidgetBorder","Border color of the suggest widget.")),Sn=(0,ot.P6)("editorSuggestWidget.foreground",{dark:ot.NO,light:ot.NO,hc:ot.NO},A.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),en=(0,ot.P6)("editorSuggestWidget.selectedForeground",{dark:ot.NP,light:ot.NP,hc:ot.NP},A.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Pn=(0,ot.P6)("editorSuggestWidget.selectedIconForeground",{dark:ot.cb,light:ot.cb,hc:ot.cb},A.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),Ln=(0,ot.P6)("editorSuggestWidget.selectedBackground",{dark:ot.Vq,light:ot.Vq,hc:ot.Vq},A.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),Dn=(0,ot.P6)("editorSuggestWidget.highlightForeground",{dark:ot.Gw,light:ot.Gw,hc:ot.Gw},A.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Xn=(0,ot.P6)("editorSuggestWidget.focusHighlightForeground",{dark:ot.PX,light:ot.PX,hc:ot.PX},A.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class an{constructor(U,me){this._service=U,this._key=`suggestWidget.size/${me.getEditorType()}/${me instanceof ni.H}`}restore(){var U;const me=(U=this._service.get(this._key,0))!==null&&U!==void 0?U:"";try{const Ee=JSON.parse(me);if(He.Ro.is(Ee))return He.Ro.lift(Ee)}catch(Ee){}}store(U){this._service.store(this._key,JSON.stringify(U),0,1)}reset(){this._service.remove(this._key,0)}}let zn=class Ta{constructor(U,me,Ee,$e,et){this.editor=U,this._storageService=me,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new k._F,this._disposables=new N.SL,this._onDidSelect=new G.Q5,this._onDidFocus=new G.Q5,this._onDidHide=new G.Q5,this._onDidShow=new G.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new G.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Ge,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Kn(this,U),this._persistedSize=new an(me,U);class wt{constructor(_e,We,rt=!1,yt=!1){this.persistedSize=_e,this.currentSize=We,this.persistHeight=rt,this.persistWidth=yt}}let Rt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),Rt=new wt(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(B=>{var _e,We,rt,yt;if(this._resize(B.dimension.width,B.dimension.height),Rt&&(Rt.persistHeight=Rt.persistHeight||!!B.north||!!B.south,Rt.persistWidth=Rt.persistWidth||!!B.east||!!B.west),!!B.done){if(Rt){const{itemHeight:Ht,defaultSize:Qt}=this.getLayoutInfo(),ei=Math.round(Ht/2);let{width:ri,height:gi}=this.element.size;(!Rt.persistHeight||Math.abs(Rt.currentSize.height-gi)<=ei)&&(gi=(We=(_e=Rt.persistedSize)===null||_e===void 0?void 0:_e.height)!==null&&We!==void 0?We:Qt.height),(!Rt.persistWidth||Math.abs(Rt.currentSize.width-ri)<=ei)&&(ri=(yt=(rt=Rt.persistedSize)===null||rt===void 0?void 0:rt.width)!==null&&yt!==void 0?yt:Qt.width),this._persistedSize.store(new He.Ro(ri,gi))}this._contentWidget.unlockPreference(),Rt=void 0}})),this._messageElement=He.R3(this.element.domNode,He.$(".message")),this._listElement=He.R3(this.element.domNode,He.$(".tree"));const ti=et.createInstance(mi,this.editor);ti.onDidClose(this.toggleDetails,this,this._disposables),this._details=new pt(ti,this.editor);const fi=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);fi();const ii=et.createInstance(Ai,this.editor);this._disposables.add(ii),this._disposables.add(ii.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Bt.aV("SuggestWidget",this._listElement,{getHeight:B=>this.getLayoutInfo().itemHeight,getTemplateId:B=>"suggestion"},[ii],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:B=>{if(B.isResolved&&this._isDetailsVisible()){const{documentation:_e,detail:We}=B.completion,rt=Be.WU("{0}{1}",We||"",_e?typeof _e=="string"?_e:_e.value:"");return A.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",B.textLabel,rt)}else return B.textLabel},getWidgetAriaLabel:()=>A.N("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=et.createInstance(Pt,this.element.domNode);const bt=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);bt(),this._disposables.add((0,mt.Jl)(this._list,$e,{listInactiveFocusBackground:Ln,listInactiveFocusOutline:ot.xL})),this._disposables.add($e.onDidColorThemeChange(B=>this._onThemeChange(B))),this._onThemeChange($e.getColorTheme()),this._disposables.add(this._list.onMouseDown(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onTap(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onDidChangeSelection(B=>this._onListSelection(B))),this._disposables.add(this._list.onDidChangeFocus(B=>this._onListFocus(B))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(B=>{B.hasChanged(105)&&(bt(),fi())})),this._ctxSuggestWidgetVisible=fe._y.Visible.bindTo(Ee),this._ctxSuggestWidgetDetailsVisible=fe._y.DetailsVisible.bindTo(Ee),this._ctxSuggestWidgetMultipleSuggestions=fe._y.MultipleSuggestions.bindTo(Ee),this._disposables.add(He.mu(this._details.widget.domNode,"keydown",B=>{this._onDetailsKeydown.fire(B)})),this._disposables.add(this.editor.onMouseDown(B=>this._onEditorMouseDown(B)))}dispose(){var U;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(U=this._loadingTimeout)===null||U===void 0||U.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(U){this._details.widget.domNode.contains(U.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(U.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(U){typeof U.element=="undefined"||typeof U.index=="undefined"||(U.browserEvent.preventDefault(),U.browserEvent.stopPropagation(),this._select(U.element,U.index))}_onListSelection(U){U.elements.length&&this._select(U.elements[0],U.indexes[0])}_select(U,me){const Ee=this._completionModel;Ee&&(this._onDidSelect.fire({item:U,index:me,model:Ee}),this.editor.focus())}_onThemeChange(U){const me=U.getColor(Xi);me&&(this.element.domNode.style.backgroundColor=me.toString(),this._messageElement.style.backgroundColor=me.toString(),this._details.widget.domNode.style.backgroundColor=me.toString());const Ee=U.getColor(xn);Ee&&(this.element.domNode.style.borderColor=Ee.toString(),this._messageElement.style.borderColor=Ee.toString(),this._status.element.style.borderTopColor=Ee.toString(),this._details.widget.domNode.style.borderColor=Ee.toString(),this._detailsBorderColor=Ee.toString());const $e=U.getColor(ot.R8);$e&&(this._detailsFocusBorderColor=$e.toString()),this._details.widget.borderWidth=U.type==="hc"?2:1}_onListFocus(U){var me;if(this._ignoreFocusEvents)return;if(!U.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const Ee=U.elements[0],$e=U.indexes[0];Ee!==this._focusedItem&&((me=this._currentSuggestionDetails)===null||me===void 0||me.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Ee,this._list.reveal($e),this._currentSuggestionDetails=(0,k.PG)(et=>bn(this,void 0,void 0,function*(){const wt=(0,k.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);et.onCancellationRequested(()=>wt.dispose());const Rt=yield Ee.resolve(et);return wt.dispose(),Rt})),this._currentSuggestionDetails.then(()=>{$e>=this._list.length||Ee!==this._list.element($e)||(this._ignoreFocusEvents=!0,this._list.splice($e,1,[Ee]),this._list.setFocus([$e]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:ui($e)}))}).catch(w.dL)),this._onDidFocus.fire({item:Ee,index:$e,model:this._completionModel})}_setState(U){if(this._state!==U)switch(this._state=U,this.element.domNode.classList.toggle("frozen",U===4),this.element.domNode.classList.remove("message"),U){case 0:He.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Ta.LOADING_MESSAGE,He.Cp(this._listElement,this._status.element),He.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Ta.NO_SUGGESTIONS_MESSAGE,He.Cp(this._listElement,this._status.element),He.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:He.Cp(this._messageElement),He.$Z(this._listElement,this._status.element),this._show();break;case 4:He.Cp(this._messageElement),He.$Z(this._listElement,this._status.element),this._show();break;case 5:He.Cp(this._messageElement),He.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(U,me){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!U,this._isAuto||(this._loadingTimeout=(0,k.Vg)(()=>this._setState(1),me)))}showSuggestions(U,me,Ee,$e){var et,wt;if(this._contentWidget.setPosition(this.editor.getPosition()),(et=this._loadingTimeout)===null||et===void 0||et.dispose(),(wt=this._currentSuggestionDetails)===null||wt===void 0||wt.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==U&&(this._completionModel=U),Ee&&this._state!==2&&this._state!==0){this._setState(4);return}const Rt=this._completionModel.items.length,ti=Rt===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(Rt>1),ti){this._setState($e?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Ee?4:3),this._list.reveal(me,0),this._list.setFocus([me]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Zt(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(U){this._details.show(),U?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var U;(U=this._loadingTimeout)===null||U===void 0||U.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const me=this._persistedSize.restore(),Ee=Math.ceil(this.getLayoutInfo().itemHeight*4.3);me&&me.height<Ee&&this._persistedSize.store(me.with(void 0,Ee))}isFrozen(){return this._state===4}_afterRender(U){if(U===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(U){var me,Ee,$e;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const et=He.D6(document.body),wt=this.getLayoutInfo();U||(U=wt.defaultSize);let Rt=U.height,ti=U.width;if(this._status.element.style.lineHeight=`${wt.itemHeight}px`,this._state===2||this._state===1)Rt=wt.itemHeight+wt.borderHeight,ti=wt.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new He.Ro(ti,Rt),this._contentWidget.setPreference(2);else{const fi=et.width-wt.borderHeight-2*wt.horizontalPadding;ti>fi&&(ti=fi);const ii=this._completionModel?this._completionModel.stats.pLabelLen*wt.typicalHalfwidthCharacterWidth:ti,bt=wt.statusBarHeight+this._list.contentHeight+wt.borderHeight,B=wt.itemHeight+wt.statusBarHeight,_e=He.i(this.editor.getDomNode()),We=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),rt=_e.top+We.top+We.height,yt=Math.min(et.height-rt-wt.verticalPadding,bt),Ht=_e.top+We.top-wt.verticalPadding,Qt=Math.min(Ht,bt);let ei=Math.min(Math.max(Qt,yt)+wt.borderHeight,bt);Rt===((me=this._cappedHeight)===null||me===void 0?void 0:me.capped)&&(Rt=this._cappedHeight.wanted),Rt<B&&(Rt=B),Rt>ei&&(Rt=ei);const ri=150;Rt>yt||this._forceRenderingAbove&&Ht>ri?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ei=Qt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ei=yt),this.element.preferredSize=new He.Ro(ii,wt.defaultSize.height),this.element.maxSize=new He.Ro(fi,ei),this.element.minSize=new He.Ro(220,B),this._cappedHeight=Rt===bt?{wanted:($e=(Ee=this._cappedHeight)===null||Ee===void 0?void 0:Ee.wanted)!==null&&$e!==void 0?$e:U.height,capped:Rt}:void 0}this._resize(ti,Rt)}_resize(U,me){const{width:Ee,height:$e}=this.element.maxSize;U=Math.min(Ee,U),me=Math.min($e,me);const{statusBarHeight:et}=this.getLayoutInfo();this._list.layout(me-et,U),this._listElement.style.height=`${me-et}px`,this.element.layout(me,U),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const U=this.editor.getOption(43),me=(0,oi.u)(this.editor.getOption(107)||U.lineHeight,8,1e3),Ee=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:me,$e=this._details.widget.borderWidth,et=2*$e;return{itemHeight:me,statusBarHeight:Ee,borderWidth:$e,borderHeight:et,typicalHalfwidthCharacterWidth:U.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new He.Ro(430,Ee+12*me+et)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(U){this._storageService.store("expandSuggestionDocs",U,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};zn.LOADING_MESSAGE=A.N("suggestWidget.loading","Loading..."),zn.NO_SUGGESTIONS_MESSAGE=A.N("suggestWidget.noSuggestions","No suggestions."),zn=zi([hn(1,T.Uy),hn(2,Q.i6),hn(3,ft.XE),hn(4,R.TG)],zn);class Kn{constructor(U,me){this._widget=U,this._editor=me,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:U,width:me}=this._widget.element.size,{borderWidth:Ee,horizontalPadding:$e}=this._widget.getLayoutInfo();return new He.Ro(me+2*Ee+$e,U+2*Ee)}afterRender(U){this._widget._afterRender(U)}setPreference(U){this._preferenceLocked||(this._preference=U)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(U){this._position=U}}(0,ft.Ic)((Lt,U)=>{const me=Lt.getColor(Dn);me&&U.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${me}; }`);const Ee=Lt.getColor(Xn);me&&U.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${Ee}; }`);const $e=Lt.getColor(Sn);$e&&U.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${$e}; }`);const et=Lt.getColor(en);et&&U.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${et}; }`);const wt=Lt.getColor(Pn);wt&&U.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${wt}; }`);const Rt=Lt.getColor(ot.ur);Rt&&U.addRule(`.monaco-editor .suggest-details a { color: ${Rt}; }`);const ti=Lt.getColor(ot.sg);ti&&U.addRule(`.monaco-editor .suggest-details a:hover { color: ${ti}; }`);const fi=Lt.getColor(ot.Sw);fi&&U.addRule(`.monaco-editor .suggest-details code { background-color: ${fi}; }`)});var is=function(Lt,U,me,Ee){var $e=arguments.length,et=$e<3?U:Ee===null?Ee=Object.getOwnPropertyDescriptor(U,me):Ee,wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(Lt,U,me,Ee);else for(var Rt=Lt.length-1;Rt>=0;Rt--)(wt=Lt[Rt])&&(et=($e<3?wt(et):$e>3?wt(U,me,et):wt(U,me))||et);return $e>3&&et&&Object.defineProperty(U,me,et),et},mn=function(Lt,U){return function(me,Ee){U(me,Ee,Lt)}};let Qn=!1;class Bn{constructor(U,me){if(this._model=U,this._position=me,U.getLineMaxColumn(me.lineNumber)!==me.column){const $e=U.getOffsetAt(me),et=U.getPositionAt($e+1);this._marker=U.deltaDecorations([],[{range:f.e.fromPositions(me,et),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(U){if(this._model.isDisposed()||this._position.lineNumber!==U.lineNumber)return 0;if(this._marker){const me=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(me.getStartPosition())-this._model.getOffsetAt(U)}else return this._model.getLineMaxColumn(U.lineNumber)-U.column}}let An=class Fl{constructor(U,me,Ee,$e,et,wt){this._memoryService=me,this._commandService=Ee,this._contextKeyService=$e,this._instantiationService=et,this._logService=wt,this._lineSuffix=new N.XK,this._toDispose=new N.SL,this._selectors=new On(ii=>ii.priority),this.editor=U,this.model=et.createInstance(Ze,this.editor);const Rt=fe._y.InsertMode.bindTo($e);Rt.set(U.getOption(105).insertMode),this.model.onDidTrigger(()=>Rt.set(U.getOption(105).insertMode)),this.widget=this._toDispose.add(new k.Ue(()=>{const ii=this._instantiationService.createInstance(zn,this.editor);this._toDispose.add(ii),this._toDispose.add(ii.onDidSelect(rt=>this._insertSuggestion(rt,0),this));const bt=new ae(this.editor,ii,rt=>this._insertSuggestion(rt,2));this._toDispose.add(bt),this._toDispose.add(this.model.onDidSuggest(rt=>{rt.completionModel.items.length===0&&bt.reset()}));const B=fe._y.MakesTextEdit.bindTo(this._contextKeyService),_e=fe._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),We=fe._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,N.OF)(()=>{B.reset(),_e.reset(),We.reset()})),this._toDispose.add(ii.onDidFocus(({item:rt})=>{const yt=this.editor.getPosition(),Ht=rt.editStart.column,Qt=yt.column;let ei=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!rt.completion.additionalTextEdits&&!(rt.completion.insertTextRules&4)&&Qt-Ht===rt.completion.insertText.length&&(ei=this.editor.getModel().getValueInRange({startLineNumber:yt.lineNumber,startColumn:Ht,endLineNumber:yt.lineNumber,endColumn:Qt})!==rt.completion.insertText),B.set(ei),_e.set(!p.L.equals(rt.editInsertEnd,rt.editReplaceEnd)),We.set(!!rt.provider.resolveCompletionItem||!!rt.completion.documentation||rt.completion.detail!==rt.completion.label)})),this._toDispose.add(ii.onDetailsKeyDown(rt=>{if(rt.toKeybinding().equals(new x.QC(!0,!1,!1,!1,33))||s.dz&&rt.toKeybinding().equals(new x.QC(!1,!1,!1,!0,33))){rt.stopPropagation();return}rt.toKeybinding().isModifierKey()||this.editor.focus()})),ii})),this._overtypingCapturer=this._toDispose.add(new k.Ue(()=>this._toDispose.add(new Ae(this.editor,this.model)))),this._alternatives=this._toDispose.add(new k.Ue(()=>this._toDispose.add(new Ce(this.editor,this._contextKeyService)))),this._toDispose.add(et.createInstance(I,U)),this._toDispose.add(this.model.onDidTrigger(ii=>{this.widget.value.showTriggered(ii.auto,ii.shy?250:50),this._lineSuffix.value=new Bn(this.editor.getModel(),ii.position)})),this._toDispose.add(this.model.onDidSuggest(ii=>{if(!ii.shy){let bt=-1;for(const B of this._selectors.itemsOrderedByPriorityDesc)if(bt=B.select(this.editor.getModel(),this.editor.getPosition(),ii.completionModel.items),bt!==-1)break;bt===-1&&(bt=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ii.completionModel.items)),this.widget.value.showSuggestions(ii.completionModel,bt,ii.isFrozen,ii.auto)}})),this._toDispose.add(this.model.onDidCancel(ii=>{ii.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Qn||(this.model.cancel(),this.model.clear())}));let ti=fe._y.AcceptSuggestionsOnEnter.bindTo($e),fi=()=>{const ii=this.editor.getOption(1);ti.set(ii==="on"||ii==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>fi())),fi()}static get(U){return U.getContribution(Fl.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(U,me){if(!U||!U.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Ee=this.editor.getModel(),$e=Ee.getAlternativeVersionId(),{item:et}=U,wt=[],Rt=new O.A;me&1||this.editor.pushUndoStop();const ti=this.getOverwriteInfo(et,!!(me&8));if(this._memoryService.memorize(Ee,this.editor.getPosition(),et),Array.isArray(et.completion.additionalTextEdits)){const ii=m.ZF.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",et.completion.additionalTextEdits.map(bt=>n.h.replace(f.e.lift(bt.range),bt.text))),ii.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!et.isResolved){const ii=new C.G(!0);let bt;const B=Ee.onDidChangeContent(yt=>{if(yt.isFlush){Rt.cancel(),B.dispose();return}for(let Ht of yt.changes){const Qt=f.e.getEndPosition(Ht.range);(!bt||p.L.isBefore(Qt,bt))&&(bt=Qt)}});let _e=me;me|=2;let We=!1,rt=this.editor.onWillType(()=>{rt.dispose(),We=!0,_e&2||this.editor.pushUndoStop()});wt.push(et.resolve(Rt.token).then(()=>{if(!et.completion.additionalTextEdits||Rt.token.isCancellationRequested||bt&&et.completion.additionalTextEdits.some(Ht=>p.L.isBefore(bt,f.e.getStartPosition(Ht.range))))return!1;We&&this.editor.pushUndoStop();const yt=m.ZF.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",et.completion.additionalTextEdits.map(Ht=>n.h.replace(f.e.lift(Ht.range),Ht.text))),yt.restoreRelativeVerticalPositionOfCursor(this.editor),(We||!(_e&2))&&this.editor.pushUndoStop(),!0}).then(yt=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ii.elapsed(),yt),B.dispose(),rt.dispose()}))}let{insertText:fi}=et.completion;et.completion.insertTextRules&4||(fi=a.Yj.escape(fi)),d.SnippetController2.get(this.editor).insert(fi,{overwriteBefore:ti.overwriteBefore,overwriteAfter:ti.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(et.completion.insertTextRules&1),clipboardText:U.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),me&2||this.editor.pushUndoStop(),et.completion.command?et.completion.command.id===qn.id?this.model.trigger({auto:!0,shy:!1},!0):(wt.push(this._commandService.executeCommand(et.completion.command.id,...et.completion.command.arguments?[...et.completion.command.arguments]:[]).catch(w.dL)),this.model.cancel()):this.model.cancel(),me&4&&this._alternatives.value.set(U,ii=>{for(Rt.cancel();Ee.canUndo();){$e!==Ee.getAlternativeVersionId()&&Ee.undo(),this._insertSuggestion(ii,3|(me&8?8:0));break}}),this._alertCompletionItem(et),Promise.all(wt).finally(()=>{this.model.clear(),Rt.dispose()})}getOverwriteInfo(U,me){(0,l.p_)(this.editor.hasModel());let Ee=this.editor.getOption(105).insertMode==="replace";me&&(Ee=!Ee);const $e=U.position.column-U.editStart.column,et=(Ee?U.editReplaceEnd.column:U.editInsertEnd.column)-U.position.column,wt=this.editor.getPosition().column-U.position.column,Rt=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:$e+wt,overwriteAfter:et+Rt}}_alertCompletionItem(U){if((0,W.Of)(U.completion.additionalTextEdits)){let me=A.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",U.textLabel,U.completion.additionalTextEdits.length);(0,h.Z9)(me)}}triggerSuggest(U){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,U),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(U){if(!this.editor.hasModel())return;const me=this.editor.getPosition(),Ee=()=>{me.equals(this.editor.getPosition())&&this._commandService.executeCommand(U.fallback)},$e=et=>{if(et.completion.insertTextRules&4||et.completion.additionalTextEdits)return!0;const wt=this.editor.getPosition(),Rt=et.editStart.column,ti=wt.column;return ti-Rt!==et.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:wt.lineNumber,startColumn:Rt,endLineNumber:wt.lineNumber,endColumn:ti})!==et.completion.insertText};G.ju.once(this.model.onDidTrigger)(et=>{let wt=[];G.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,N.B9)(wt),Ee()},void 0,wt),this.model.onDidSuggest(({completionModel:Rt})=>{if((0,N.B9)(wt),Rt.items.length===0){Ee();return}const ti=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Rt.items),fi=Rt.items[ti];if(!$e(fi)){Ee();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ti,item:fi,model:Rt},7)},void 0,wt)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(me,0),this.editor.focus()}acceptSelectedSuggestion(U,me){const Ee=this.widget.value.getFocusedItem();let $e=0;U&&($e|=4),me&&($e|=8),this._insertSuggestion(Ee,$e)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(U){return this._selectors.register(U)}};An.ID="editor.contrib.suggestController",An=is([mn(1,z),mn(2,Y.H),mn(3,Q.i6),mn(4,R.TG),mn(5,re.VZ)],An);class On{constructor(U){this.prioritySelector=U,this._items=new Array}register(U){if(this._items.indexOf(U)!==-1)throw new Error("Value is already registered");return this._items.push(U),this._items.sort((me,Ee)=>this.prioritySelector(Ee)-this.prioritySelector(me)),{dispose:()=>{const me=this._items.indexOf(U);me>=0&&this._items.splice(me,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class qn extends y.R6{constructor(){super({id:qn.id,label:A.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Q.Ao.and(v.u.writable,v.u.hasCompletionItemProvider),kbOpts:{kbExpr:v.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(U,me){const Ee=An.get(me);Ee&&Ee.triggerSuggest()}}qn.id="editor.action.triggerSuggest",(0,y._K)(An.ID,An),(0,y.Qr)(qn);const Hn=100+90,sn=y._l.bindToContribution(An.get);(0,y.fK)(new sn({id:"acceptSelectedSuggestion",precondition:fe._y.Visible,handler(Lt){Lt.acceptSelectedSuggestion(!0,!1)}})),X.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Q.Ao.and(fe._y.Visible,v.u.textInputFocus),primary:2,weight:Hn}),X.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Q.Ao.and(fe._y.Visible,v.u.textInputFocus,fe._y.AcceptSuggestionsOnEnter,fe._y.MakesTextEdit),primary:3,weight:Hn}),H.BH.appendMenuItem(fe.GI,{command:{id:"acceptSelectedSuggestion",title:A.N("accept.insert","Insert")},group:"left",order:1,when:fe._y.HasInsertAndReplaceRange.toNegated()}),H.BH.appendMenuItem(fe.GI,{command:{id:"acceptSelectedSuggestion",title:A.N("accept.insert","Insert")},group:"left",order:1,when:Q.Ao.and(fe._y.HasInsertAndReplaceRange,fe._y.InsertMode.isEqualTo("insert"))}),H.BH.appendMenuItem(fe.GI,{command:{id:"acceptSelectedSuggestion",title:A.N("accept.replace","Replace")},group:"left",order:1,when:Q.Ao.and(fe._y.HasInsertAndReplaceRange,fe._y.InsertMode.isEqualTo("replace"))}),(0,y.fK)(new sn({id:"acceptAlternativeSelectedSuggestion",precondition:Q.Ao.and(fe._y.Visible,v.u.textInputFocus),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:1027,secondary:[1026]},handler(Lt){Lt.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:fe.GI,group:"left",order:2,when:Q.Ao.and(fe._y.HasInsertAndReplaceRange,fe._y.InsertMode.isEqualTo("insert")),title:A.N("accept.replace","Replace")},{menuId:fe.GI,group:"left",order:2,when:Q.Ao.and(fe._y.HasInsertAndReplaceRange,fe._y.InsertMode.isEqualTo("replace")),title:A.N("accept.insert","Insert")}]})),Y.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,y.fK)(new sn({id:"hideSuggestWidget",precondition:fe._y.Visible,handler:Lt=>Lt.cancelSuggestWidget(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:9,secondary:[1033]}})),(0,y.fK)(new sn({id:"selectNextSuggestion",precondition:Q.Ao.and(fe._y.Visible,fe._y.MultipleSuggestions),handler:Lt=>Lt.selectNextSuggestion(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,y.fK)(new sn({id:"selectNextPageSuggestion",precondition:Q.Ao.and(fe._y.Visible,fe._y.MultipleSuggestions),handler:Lt=>Lt.selectNextPageSuggestion(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:12,secondary:[2060]}})),(0,y.fK)(new sn({id:"selectLastSuggestion",precondition:Q.Ao.and(fe._y.Visible,fe._y.MultipleSuggestions),handler:Lt=>Lt.selectLastSuggestion()})),(0,y.fK)(new sn({id:"selectPrevSuggestion",precondition:Q.Ao.and(fe._y.Visible,fe._y.MultipleSuggestions),handler:Lt=>Lt.selectPrevSuggestion(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,y.fK)(new sn({id:"selectPrevPageSuggestion",precondition:Q.Ao.and(fe._y.Visible,fe._y.MultipleSuggestions),handler:Lt=>Lt.selectPrevPageSuggestion(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:11,secondary:[2059]}})),(0,y.fK)(new sn({id:"selectFirstSuggestion",precondition:Q.Ao.and(fe._y.Visible,fe._y.MultipleSuggestions),handler:Lt=>Lt.selectFirstSuggestion()})),(0,y.fK)(new sn({id:"toggleSuggestionDetails",precondition:fe._y.Visible,handler:Lt=>Lt.toggleSuggestionDetails(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:fe.GI,group:"right",order:1,when:Q.Ao.and(fe._y.DetailsVisible,fe._y.CanResolve),title:A.N("detail.more","show less")},{menuId:fe.GI,group:"right",order:1,when:Q.Ao.and(fe._y.DetailsVisible.toNegated(),fe._y.CanResolve),title:A.N("detail.less","show more")}]})),(0,y.fK)(new sn({id:"toggleExplainMode",precondition:fe._y.Visible,handler:Lt=>Lt.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,y.fK)(new sn({id:"toggleSuggestionFocus",precondition:fe._y.Visible,handler:Lt=>Lt.toggleSuggestionFocus(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,y.fK)(new sn({id:"insertBestCompletion",precondition:Q.Ao.and(v.u.textInputFocus,Q.Ao.equals("config.editor.tabCompletion","on"),I.AtEnd,fe._y.Visible.toNegated(),Ce.OtherSuggestions.toNegated(),d.SnippetController2.InSnippetMode.toNegated()),handler:(Lt,U)=>{Lt.triggerSuggestAndAcceptBest((0,l.Kn)(U)?Object.assign({fallback:"tab"},U):{fallback:"tab"})},kbOpts:{weight:Hn,primary:2}})),(0,y.fK)(new sn({id:"insertNextSuggestion",precondition:Q.Ao.and(v.u.textInputFocus,Q.Ao.equals("config.editor.tabCompletion","on"),Ce.OtherSuggestions,fe._y.Visible.toNegated(),d.SnippetController2.InSnippetMode.toNegated()),handler:Lt=>Lt.acceptNextSuggestion(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:2}})),(0,y.fK)(new sn({id:"insertPrevSuggestion",precondition:Q.Ao.and(v.u.textInputFocus,Q.Ao.equals("config.editor.tabCompletion","on"),Ce.OtherSuggestions,fe._y.Visible.toNegated(),d.SnippetController2.InSnippetMode.toNegated()),handler:Lt=>Lt.acceptPrevSuggestion(),kbOpts:{weight:Hn,kbExpr:v.u.textInputFocus,primary:1026}})),(0,y.Qr)(class extends y.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:A.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Lt,U){An.get(U).resetWidgetSize()}})},24954:function(Ct,we,t){"use strict";var h=t(73046),W=t(63580),k=t(73910),O=t(97781);const w=(0,k.P6)("symbolIcon.arrayForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G=(0,k.P6)("symbolIcon.booleanForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,k.P6)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,W.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,k.P6)("symbolIcon.colorForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s=(0,k.P6)("symbolIcon.constantForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,k.P6)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,W.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,k.P6)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,W.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,k.P6)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,W.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,k.P6)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,W.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,k.P6)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,W.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,k.P6)("symbolIcon.fileForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,k.P6)("symbolIcon.folderForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,k.P6)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,W.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,k.P6)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,W.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,k.P6)("symbolIcon.keyForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,k.P6)("symbolIcon.keywordForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,k.P6)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,W.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,k.P6)("symbolIcon.moduleForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,k.P6)("symbolIcon.namespaceForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,k.P6)("symbolIcon.nullForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,k.P6)("symbolIcon.numberForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,k.P6)("symbolIcon.objectForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),q=(0,k.P6)("symbolIcon.operatorForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ie=(0,k.P6)("symbolIcon.packageForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ne=(0,k.P6)("symbolIcon.propertyForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),he=(0,k.P6)("symbolIcon.referenceForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,k.P6)("symbolIcon.snippetForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,k.P6)("symbolIcon.stringForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,k.P6)("symbolIcon.structForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Q=(0,k.P6)("symbolIcon.textForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),le=(0,k.P6)("symbolIcon.typeParameterForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,k.P6)("symbolIcon.unitForeground",{dark:k.dR,light:k.dR,hc:k.dR},(0,W.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,k.P6)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,W.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,O.Ic)((A,H)=>{const Y=A.getColor(w);Y&&H.addRule(`${h.lA.symbolArray.cssSelector} { color: ${Y}; }`);const X=A.getColor(G);X&&H.addRule(`${h.lA.symbolBoolean.cssSelector} { color: ${X}; }`);const re=A.getColor(x);re&&H.addRule(`${h.lA.symbolClass.cssSelector} { color: ${re}; }`);const fe=A.getColor(c);fe&&H.addRule(`${h.lA.symbolMethod.cssSelector} { color: ${fe}; }`);const ue=A.getColor(N);ue&&H.addRule(`${h.lA.symbolColor.cssSelector} { color: ${ue}; }`);const Oe=A.getColor(s);Oe&&H.addRule(`${h.lA.symbolConstant.cssSelector} { color: ${Oe}; }`);const Ce=A.getColor(C);Ce&&H.addRule(`${h.lA.symbolConstructor.cssSelector} { color: ${Ce}; }`);const oe=A.getColor(l);oe&&H.addRule(`
			${h.lA.symbolValue.cssSelector},${h.lA.symbolEnum.cssSelector} { color: ${oe}; }`);const ae=A.getColor(m);ae&&H.addRule(`${h.lA.symbolEnumMember.cssSelector} { color: ${ae}; }`);const Be=A.getColor(y);Be&&H.addRule(`${h.lA.symbolEvent.cssSelector} { color: ${Be}; }`);const Ve=A.getColor(n);Ve&&H.addRule(`${h.lA.symbolField.cssSelector} { color: ${Ve}; }`);const se=A.getColor(p);se&&H.addRule(`${h.lA.symbolFile.cssSelector} { color: ${se}; }`);const ce=A.getColor(f);ce&&H.addRule(`${h.lA.symbolFolder.cssSelector} { color: ${ce}; }`);const Te=A.getColor(v);Te&&H.addRule(`${h.lA.symbolFunction.cssSelector} { color: ${Te}; }`);const xe=A.getColor(d);xe&&H.addRule(`${h.lA.symbolInterface.cssSelector} { color: ${xe}; }`);const Fe=A.getColor(a);Fe&&H.addRule(`${h.lA.symbolKey.cssSelector} { color: ${Fe}; }`);const Le=A.getColor(u);Le&&H.addRule(`${h.lA.symbolKeyword.cssSelector} { color: ${Le}; }`);const Me=A.getColor(b);Me&&H.addRule(`${h.lA.symbolModule.cssSelector} { color: ${Me}; }`);const Se=A.getColor(L);Se&&H.addRule(`${h.lA.symbolNamespace.cssSelector} { color: ${Se}; }`);const ze=A.getColor(R);ze&&H.addRule(`${h.lA.symbolNull.cssSelector} { color: ${ze}; }`);const Ye=A.getColor(T);Ye&&H.addRule(`${h.lA.symbolNumber.cssSelector} { color: ${Ye}; }`);const qe=A.getColor(j);qe&&H.addRule(`${h.lA.symbolObject.cssSelector} { color: ${qe}; }`);const ht=A.getColor(q);ht&&H.addRule(`${h.lA.symbolOperator.cssSelector} { color: ${ht}; }`);const kt=A.getColor(ie);kt&&H.addRule(`${h.lA.symbolPackage.cssSelector} { color: ${kt}; }`);const zt=A.getColor(ne);zt&&H.addRule(`${h.lA.symbolProperty.cssSelector} { color: ${zt}; }`);const Ke=A.getColor(he);Ke&&H.addRule(`${h.lA.symbolReference.cssSelector} { color: ${Ke}; }`);const Je=A.getColor($);Je&&H.addRule(`${h.lA.symbolSnippet.cssSelector} { color: ${Je}; }`);const Ze=A.getColor(V);Ze&&H.addRule(`${h.lA.symbolString.cssSelector} { color: ${Ze}; }`);const Ae=A.getColor(z);Ae&&H.addRule(`${h.lA.symbolStruct.cssSelector} { color: ${Ae}; }`);const He=A.getColor(Q);He&&H.addRule(`${h.lA.symbolText.cssSelector} { color: ${He}; }`);const It=A.getColor(le);It&&H.addRule(`${h.lA.symbolTypeParameter.cssSelector} { color: ${It}; }`);const Bt=A.getColor(E);Bt&&H.addRule(`${h.lA.symbolUnit.cssSelector} { color: ${Bt}; }`);const oi=A.getColor(I);oi&&H.addRule(`${h.lA.symbolVariable.cssSelector} { color: ${oi}; }`)})},19720:function(Ct,we,t){"use strict";t.r(we),t.d(we,{ToggleTabFocusModeAction:function(){return w}});var h=t(35996),W=t(16830),k=t(56345),O=t(63580);class w extends W.R6{constructor(){super({id:w.ID,label:O.N({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(x,N){const C=!k.nG.getTabFocusMode();k.nG.setTabFocusMode(C),C?(0,h.Z9)(O.N("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,h.Z9)(O.N("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}w.ID="editor.action.toggleTabFocusMode",(0,W.Qr)(w)},31725:function(Ct,we,t){"use strict";t.r(we),t.d(we,{UnusualLineTerminatorsDetector:function(){return y}});var h=t(9917),W=t(95935),k=t(16830),O=t(11640),w=t(63580),G=t(28820),x=function(n,p,f,v){var d=arguments.length,a=d<3?p:v===null?v=Object.getOwnPropertyDescriptor(p,f):v,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,p,f,v);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(a=(d<3?u(a):d>3?u(p,f,a):u(p,f))||a);return d>3&&a&&Object.defineProperty(p,f,a),a},N=function(n,p){return function(f,v){p(f,v,n)}},s=function(n,p,f,v){function d(a){return a instanceof f?a:new f(function(u){u(a)})}return new(f||(f=Promise))(function(a,u){function c(R){try{L(v.next(R))}catch(T){u(T)}}function b(R){try{L(v.throw(R))}catch(T){u(T)}}function L(R){R.done?a(R.value):d(R.value).then(c,b)}L((v=v.apply(n,p||[])).next())})};const C="ignoreUnusualLineTerminators";function l(n,p,f){n.setModelProperty(p.uri,C,f)}function m(n,p){return n.getModelProperty(p.uri,C)}let y=class extends h.JT{constructor(p,f,v){super(),this._editor=p,this._dialogService=f,this._codeEditorService=v,this._config=this._editor.getOption(112),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(112)&&(this._config=this._editor.getOption(112),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return s(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const p=this._editor.getModel();if(!p.mightContainUnusualLineTerminators()||m(this._codeEditorService,p)===!0||this._editor.getOption(80))return;if(this._config==="auto"){p.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:w.N("unusualLineTerminators.title","Unusual Line Terminators"),message:w.N("unusualLineTerminators.message","Detected unusual line terminators"),detail:w.N("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,W.EZ)(p.uri)),primaryButton:w.N("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:w.N("unusualLineTerminators.ignore","Ignore")})).confirmed){l(this._codeEditorService,p,!0);return}p.removeUnusualLineTerminators(this._editor.getSelections())})}};y.ID="editor.contrib.unusualLineTerminatorsDetector",y=x([N(1,G.S),N(2,O.$)],y),(0,k._K)(y.ID,y)},70185:function(Ct,we,t){"use strict";t.r(we);var h=t(15393),W=t(9917),k=t(16830),O=t(60303),w=t(32670),G=t(51200),x=t(32334),N=t(65072),s=t(33108),C=t(97781),l=function(n,p,f,v){var d=arguments.length,a=d<3?p:v===null?v=Object.getOwnPropertyDescriptor(p,f):v,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,p,f,v);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(a=(d<3?u(a):d>3?u(p,f,a):u(p,f))||a);return d>3&&a&&Object.defineProperty(p,f,a),a},m=function(n,p){return function(f,v){p(f,v,n)}};let y=class extends W.JT{constructor(p,f,v,d){super(),this._modelService=f,this._themeService=v,this._configurationService=d,this._editor=p,this._tokenizeViewport=new h.pY(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(a=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(O.K7.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration(x.e3)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const p of this._outstandingRequests)p.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(p){for(let f=0,v=this._outstandingRequests.length;f<v;f++)if(this._outstandingRequests[f]===p){this._outstandingRequests.splice(f,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const p=this._editor.getModel();if(p.hasCompleteSemanticTokens())return;if(!(0,x.tw)(p,this._themeService,this._configurationService)){p.hasSomeSemanticTokens()&&p.setSemanticTokens(null,!1);return}if(!(0,w.KO)(p)){p.hasSomeSemanticTokens()&&p.setSemanticTokens(null,!1);return}const f=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(f.map(v=>this._requestRange(p,v)))}_requestRange(p,f){const v=p.getVersionId(),d=(0,h.PG)(a=>Promise.resolve((0,w.OG)(p,f,a)));return d.then(a=>{if(!a||!a.tokens||p.isDisposed()||p.getVersionId()!==v)return;const{provider:u,tokens:c}=a,b=this._modelService.getSemanticTokensProviderStyling(u);p.setPartialSemanticTokens(f,(0,N.h)(c,b,p.getLanguageId()))}).then(()=>this._removeOutstandingRequest(d),()=>this._removeOutstandingRequest(d)),d}};y.ID="editor.contrib.viewportSemanticTokens",y=l([m(1,G.q),m(2,C.XE),m(3,s.Ui)],y),(0,k._K)(y.ID,y)},43497:function(Ct,we,t){"use strict";t.r(we),t.d(we,{getOccurrencesAtPosition:function(){return j}});var h=t(35996),W=t(9488),k=t(15393),O=t(71050),w=t(17301),G=t(9917),x=t(16830),N=t(24314),s=t(29102),C=t(84973),l=t(24979),m=t(60303),y=t(63580),n=t(38819),p=t(73910),f=t(97781),v=function(I,A,H,Y){var X=arguments.length,re=X<3?A:Y===null?Y=Object.getOwnPropertyDescriptor(A,H):Y,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(I,A,H,Y);else for(var ue=I.length-1;ue>=0;ue--)(fe=I[ue])&&(re=(X<3?fe(re):X>3?fe(A,H,re):fe(A,H))||re);return X>3&&re&&Object.defineProperty(A,H,re),re},d=function(I,A){return function(H,Y){A(H,Y,I)}};const a=(0,p.P6)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},y.N("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),u=(0,p.P6)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},y.N("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),c=(0,p.P6)("editor.wordHighlightBorder",{light:null,dark:null,hc:p.xL},y.N("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),b=(0,p.P6)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:p.xL},y.N("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),L=(0,p.P6)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},y.N("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),R=(0,p.P6)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},y.N("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),T=new n.uy("hasWordHighlights",!1);function j(I,A,H){const Y=m.vH.ordered(I);return(0,k.Ps)(Y.map(X=>()=>Promise.resolve(X.provideDocumentHighlights(I,A,H)).then(void 0,w.Cp)),W.Of)}class q{constructor(A,H,Y){this._wordRange=this._getCurrentWordRange(A,H),this.result=(0,k.PG)(X=>this._compute(A,H,Y,X))}_getCurrentWordRange(A,H){const Y=A.getWordAtPosition(H.getPosition());return Y?new N.e(H.startLineNumber,Y.startColumn,H.startLineNumber,Y.endColumn):null}isValid(A,H,Y){const X=H.startLineNumber,re=H.startColumn,fe=H.endColumn,ue=this._getCurrentWordRange(A,H);let Oe=!!(this._wordRange&&this._wordRange.equalsRange(ue));for(let Ce=0,oe=Y.length;!Oe&&Ce<oe;Ce++){let ae=A.getDecorationRange(Y[Ce]);ae&&ae.startLineNumber===X&&ae.startColumn<=re&&ae.endColumn>=fe&&(Oe=!0)}return Oe}cancel(){this.result.cancel()}}class ie extends q{_compute(A,H,Y,X){return j(A,H.getPosition(),X).then(re=>re||[])}}class ne extends q{constructor(A,H,Y){super(A,H,Y),this._selectionIsEmpty=H.isEmpty()}_compute(A,H,Y,X){return(0,k.Vs)(250,X).then(()=>{if(!H.isEmpty())return[];const re=A.getWordAtPosition(H.getPosition());return!re||re.word.length>1e3?[]:A.findMatches(re.word,!0,!1,!0,Y,!1).map(ue=>({range:ue.range,kind:m.MY.Text}))})}isValid(A,H,Y){const X=H.isEmpty();return this._selectionIsEmpty!==X?!1:super.isValid(A,H,Y)}}function he(I,A,H){return m.vH.has(I)?new ie(I,A,H):new ne(I,A,H)}(0,x.sb)("_executeDocumentHighlights",(I,A)=>j(I,A,O.T.None));class ${constructor(A,H){this.toUnhook=new G.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=A,this._hasWordHighlights=T.bindTo(H),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(71),this.model=this.editor.getModel(),this.toUnhook.add(A.onDidChangeCursorPosition(Y=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(Y)})),this.toUnhook.add(A.onDidChangeModelContent(Y=>{this._stopAll()})),this.toUnhook.add(A.onDidChangeConfiguration(Y=>{let X=this.editor.getOption(71);this.occurrencesHighlight!==X&&(this.occurrencesHighlight=X,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return W.kX(this._decorationIds.map(A=>this.model.getDecorationRange(A)).sort(N.e.compareRangesUsingStarts))}moveNext(){let A=this._getSortedHighlights(),Y=(A.findIndex(re=>re.containsPosition(this.editor.getPosition()))+1)%A.length,X=A[Y];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(X.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(X);const re=this._getWord();if(re){const fe=this.editor.getModel().getLineContent(X.startLineNumber);(0,h.Z9)(`${fe}, ${Y+1} of ${A.length} for '${re.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let A=this._getSortedHighlights(),Y=(A.findIndex(re=>re.containsPosition(this.editor.getPosition()))-1+A.length)%A.length,X=A[Y];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(X.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(X);const re=this._getWord();if(re){const fe=this.editor.getModel().getLineContent(X.startLineNumber);(0,h.Z9)(`${fe}, ${Y+1} of ${A.length} for '${re.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(A){if(!this.occurrencesHighlight){this._stopAll();return}if(A.reason!==3){this._stopAll();return}this._run()}_getWord(){let A=this.editor.getSelection(),H=A.startLineNumber,Y=A.startColumn;return this.model.getWordAtPosition({lineNumber:H,column:Y})}_run(){let A=this.editor.getSelection();if(A.startLineNumber!==A.endLineNumber){this._stopAll();return}let H=A.startColumn,Y=A.endColumn;const X=this._getWord();if(!X||X.startColumn>H||X.endColumn<Y){this._stopAll();return}const re=this.workerRequest&&this.workerRequest.isValid(this.model,A,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),re)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let fe=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=he(this.model,this.editor.getSelection(),this.editor.getOption(115)),this.workerRequest.result.then(ue=>{fe===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=ue||[],this._beginRenderDecorations())},w.dL)}}_beginRenderDecorations(){let A=new Date().getTime(),H=this.lastCursorPositionChangeTime+250;A>=H?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},H-A)}renderDecorations(){this.renderDecorationsTimer=-1;let A=[];for(const H of this.workerRequestValue)H.range&&A.push({range:H.range,options:$._getDecorationOptions(H.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,A),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(A){return A===m.MY.Write?this._WRITE_OPTIONS:A===m.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}$._WRITE_OPTIONS=l.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,f.EN)(R),position:C.sh.Center},minimap:{color:(0,f.EN)(p.IY),position:C.F5.Inline}}),$._TEXT_OPTIONS=l.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,f.EN)(p.SP),position:C.sh.Center},minimap:{color:(0,f.EN)(p.IY),position:C.F5.Inline}}),$._REGULAR_OPTIONS=l.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,f.EN)(L),position:C.sh.Center},minimap:{color:(0,f.EN)(p.IY),position:C.F5.Inline}});let V=class Bl extends G.JT{constructor(A,H){super(),this.wordHighlighter=null;const Y=()=>{A.hasModel()&&(this.wordHighlighter=new $(A,H))};this._register(A.onDidChangeModel(X=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),Y()})),Y()}static get(A){return A.getContribution(Bl.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(A){this.wordHighlighter&&A&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};V.ID="editor.contrib.wordHighlighter",V=v([d(1,n.i6)],V);class z extends x.R6{constructor(A,H){super(H),this._isNext=A}run(A,H){const Y=V.get(H);Y&&(this._isNext?Y.moveNext():Y.moveBack())}}class Q extends z{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:y.N("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:T,kbOpts:{kbExpr:s.u.editorTextFocus,primary:65,weight:100}})}}class le extends z{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:y.N("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:T,kbOpts:{kbExpr:s.u.editorTextFocus,primary:1089,weight:100}})}}class E extends x.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:y.N("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:T.toNegated(),kbOpts:{kbExpr:s.u.editorTextFocus,primary:0,weight:100}})}run(A,H,Y){const X=V.get(H);X&&X.restoreViewState(!0)}}(0,x._K)(V.ID,V),(0,x.Qr)(Q),(0,x.Qr)(le),(0,x.Qr)(E),(0,f.Ic)((I,A)=>{const H=I.getColor(p.Rz);H&&(A.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${H}; }`),A.addRule(`.monaco-editor .selectionHighlight { background-color: ${H.transparent(.5)}; }`));const Y=I.getColor(a);Y&&A.addRule(`.monaco-editor .wordHighlight { background-color: ${Y}; }`);const X=I.getColor(u);X&&A.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${X}; }`);const re=I.getColor(p.g_);re&&A.addRule(`.monaco-editor .selectionHighlight { border: 1px ${I.type==="hc"?"dotted":"solid"} ${re}; box-sizing: border-box; }`);const fe=I.getColor(c);fe&&A.addRule(`.monaco-editor .wordHighlight { border: 1px ${I.type==="hc"?"dashed":"solid"} ${fe}; box-sizing: border-box; }`);const ue=I.getColor(b);ue&&A.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${I.type==="hc"?"dashed":"solid"} ${ue}; box-sizing: border-box; }`)})},99453:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CursorWordAccessibilityLeft:function(){return T},CursorWordAccessibilityLeftSelect:function(){return j},CursorWordAccessibilityRight:function(){return z},CursorWordAccessibilityRightSelect:function(){return Q},CursorWordEndLeft:function(){return u},CursorWordEndLeftSelect:function(){return L},CursorWordEndRight:function(){return ie},CursorWordEndRightSelect:function(){return $},CursorWordLeft:function(){return c},CursorWordLeftSelect:function(){return R},CursorWordRight:function(){return ne},CursorWordRightSelect:function(){return V},CursorWordStartLeft:function(){return a},CursorWordStartLeftSelect:function(){return b},CursorWordStartRight:function(){return q},CursorWordStartRightSelect:function(){return he},DeleteInsideWord:function(){return ue},DeleteWordCommand:function(){return le},DeleteWordEndLeft:function(){return H},DeleteWordEndRight:function(){return re},DeleteWordLeft:function(){return Y},DeleteWordLeftCommand:function(){return E},DeleteWordRight:function(){return fe},DeleteWordRightCommand:function(){return I},DeleteWordStartLeft:function(){return A},DeleteWordStartRight:function(){return X},MoveWordCommand:function(){return f},WordLeftCommand:function(){return v},WordRightCommand:function(){return d}});var h=t(16830),W=t(61329),k=t(64141),O=t(33181),w=t(5795),G=t(59410),x=t(50187),N=t(24314),s=t(3860),C=t(29102),l=t(94660),m=t(63580),y=t(31106),n=t(38819),p=t(39282);class f extends h._l{constructor(Ce){super(Ce),this._inSelectionMode=Ce.inSelectionMode,this._wordNavigationType=Ce.wordNavigationType}runEditorCommand(Ce,oe,ae){if(!oe.hasModel())return;const Be=(0,G.u)(oe.getOption(115)),Ve=oe.getModel(),ce=oe.getSelections().map(Te=>{const xe=new x.L(Te.positionLineNumber,Te.positionColumn),Fe=this._move(Be,Ve,xe,this._wordNavigationType);return this._moveTo(Te,Fe,this._inSelectionMode)});if(Ve.pushStackElement(),oe._getViewModel().setCursorStates("moveWordCommand",3,ce.map(Te=>O.Vi.fromModelSelection(Te))),ce.length===1){const Te=new x.L(ce[0].positionLineNumber,ce[0].positionColumn);oe.revealPosition(Te,0)}}_moveTo(Ce,oe,ae){return ae?new s.Y(Ce.selectionStartLineNumber,Ce.selectionStartColumn,oe.lineNumber,oe.column):new s.Y(oe.lineNumber,oe.column,oe.lineNumber,oe.column)}}class v extends f{_move(Ce,oe,ae,Be){return w.w.moveWordLeft(Ce,oe,ae,Be)}}class d extends f{_move(Ce,oe,ae,Be){return w.w.moveWordRight(Ce,oe,ae,Be)}}class a extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class u extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class c extends v{constructor(){var Ce;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(C.u.textInputFocus,(Ce=n.Ao.and(y.U,p.c))===null||Ce===void 0?void 0:Ce.negate()),primary:2063,mac:{primary:527},weight:100}})}}class b extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class L extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class R extends v{constructor(){var Ce;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(C.u.textInputFocus,(Ce=n.Ao.and(y.U,p.c))===null||Ce===void 0?void 0:Ce.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class T extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Ce,oe,ae,Be){return super._move((0,G.u)(k.BH.wordSeparators.defaultValue),oe,ae,Be)}}class j extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Ce,oe,ae,Be){return super._move((0,G.u)(k.BH.wordSeparators.defaultValue),oe,ae,Be)}}class q extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class ie extends d{constructor(){var Ce;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(C.u.textInputFocus,(Ce=n.Ao.and(y.U,p.c))===null||Ce===void 0?void 0:Ce.negate()),primary:2065,mac:{primary:529},weight:100}})}}class ne extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class he extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class $ extends d{constructor(){var Ce;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(C.u.textInputFocus,(Ce=n.Ao.and(y.U,p.c))===null||Ce===void 0?void 0:Ce.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class V extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class z extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Ce,oe,ae,Be){return super._move((0,G.u)(k.BH.wordSeparators.defaultValue),oe,ae,Be)}}class Q extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Ce,oe,ae,Be){return super._move((0,G.u)(k.BH.wordSeparators.defaultValue),oe,ae,Be)}}class le extends h._l{constructor(Ce){super(Ce),this._whitespaceHeuristics=Ce.whitespaceHeuristics,this._wordNavigationType=Ce.wordNavigationType}runEditorCommand(Ce,oe,ae){if(!oe.hasModel())return;const Be=(0,G.u)(oe.getOption(115)),Ve=oe.getModel(),se=oe.getSelections(),ce=oe.getOption(5),Te=oe.getOption(8),xe=l.zu.getAutoClosingPairs(Ve.getLanguageId()),Fe=oe._getViewModel(),Le=se.map(Me=>{const Se=this._delete({wordSeparators:Be,model:Ve,selection:Me,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:oe.getOption(6),autoClosingBrackets:ce,autoClosingQuotes:Te,autoClosingPairs:xe,autoClosedCharacters:Fe.getCursorAutoClosedCharacters()},this._wordNavigationType);return new W.T4(Se,"")});oe.pushUndoStop(),oe.executeCommands(this.id,Le),oe.pushUndoStop()}}class E extends le{_delete(Ce,oe){let ae=w.w.deleteWordLeft(Ce,oe);return ae||new N.e(1,1,1,1)}}class I extends le{_delete(Ce,oe){let ae=w.w.deleteWordRight(Ce,oe);if(ae)return ae;const Be=Ce.model.getLineCount(),Ve=Ce.model.getLineMaxColumn(Be);return new N.e(Be,Ve,Be,Ve)}}class A extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:C.u.writable})}}class H extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:C.u.writable})}}class Y extends E{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:C.u.writable,kbOpts:{kbExpr:C.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class X extends I{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:C.u.writable})}}class re extends I{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:C.u.writable})}}class fe extends I{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:C.u.writable,kbOpts:{kbExpr:C.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class ue extends h.R6{constructor(){super({id:"deleteInsideWord",precondition:C.u.writable,label:m.N("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(Ce,oe,ae){if(!oe.hasModel())return;const Be=(0,G.u)(oe.getOption(115)),Ve=oe.getModel(),ce=oe.getSelections().map(Te=>{const xe=w.w.deleteInsideWord(Be,Ve,Te);return new W.T4(xe,"")});oe.pushUndoStop(),oe.executeCommands(this.id,ce),oe.pushUndoStop()}}(0,h.fK)(new a),(0,h.fK)(new u),(0,h.fK)(new c),(0,h.fK)(new b),(0,h.fK)(new L),(0,h.fK)(new R),(0,h.fK)(new q),(0,h.fK)(new ie),(0,h.fK)(new ne),(0,h.fK)(new he),(0,h.fK)(new $),(0,h.fK)(new V),(0,h.fK)(new T),(0,h.fK)(new j),(0,h.fK)(new z),(0,h.fK)(new Q),(0,h.fK)(new A),(0,h.fK)(new H),(0,h.fK)(new Y),(0,h.fK)(new X),(0,h.fK)(new re),(0,h.fK)(new fe),(0,h.Qr)(ue)},60661:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CursorWordPartLeft:function(){return C},CursorWordPartLeftSelect:function(){return l},CursorWordPartRight:function(){return y},CursorWordPartRightSelect:function(){return n},DeleteWordPartLeft:function(){return x},DeleteWordPartRight:function(){return N},WordPartLeftCommand:function(){return s},WordPartRightCommand:function(){return m}});var h=t(16830),W=t(5795),k=t(24314),O=t(29102),w=t(99453),G=t(94565);class x extends w.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:O.u.writable,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(f,v){let d=W.L.deleteWordPartLeft(f);return d||new k.e(1,1,1,1)}}class N extends w.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:O.u.writable,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(f,v){let d=W.L.deleteWordPartRight(f);if(d)return d;const a=f.model.getLineCount(),u=f.model.getLineMaxColumn(a);return new k.e(a,u,a,u)}}class s extends w.MoveWordCommand{_move(f,v,d,a){return W.L.moveWordPartLeft(f,v,d)}}class C extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}G.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class l extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}G.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class m extends w.MoveWordCommand{_move(f,v,d,a){return W.L.moveWordPartRight(f,v,d)}}class y extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class n extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,h.fK)(new x),(0,h.fK)(new N),(0,h.fK)(new C),(0,h.fK)(new l),(0,h.fK)(new y),(0,h.fK)(new n)},97174:function(Ct,we,t){"use strict";t.d(we,{CancellationTokenSource:function(){return Kc},Emitter:function(){return jc},KeyCode:function(){return $c},KeyMod:function(){return Gc},MarkerSeverity:function(){return Jc},MarkerTag:function(){return qc},Position:function(){return Zc},Range:function(){return Qc},Selection:function(){return Yc},SelectionDirection:function(){return Xc},Token:function(){return tu},Uri:function(){return eu},editor:function(){return iu},languages:function(){return nu}});var h=t(64141),W=t(71050),k=t(4669),O=t(22258),w=t(70666),G=t(50187),x=t(24314),N=t(3860),s=t(85600),C;(function(D){D[D.Unknown=0]="Unknown",D[D.Disabled=1]="Disabled",D[D.Enabled=2]="Enabled"})(C||(C={}));var l;(function(D){D[D.KeepWhitespace=1]="KeepWhitespace",D[D.InsertAsSnippet=4]="InsertAsSnippet"})(l||(l={}));var m;(function(D){D[D.Method=0]="Method",D[D.Function=1]="Function",D[D.Constructor=2]="Constructor",D[D.Field=3]="Field",D[D.Variable=4]="Variable",D[D.Class=5]="Class",D[D.Struct=6]="Struct",D[D.Interface=7]="Interface",D[D.Module=8]="Module",D[D.Property=9]="Property",D[D.Event=10]="Event",D[D.Operator=11]="Operator",D[D.Unit=12]="Unit",D[D.Value=13]="Value",D[D.Constant=14]="Constant",D[D.Enum=15]="Enum",D[D.EnumMember=16]="EnumMember",D[D.Keyword=17]="Keyword",D[D.Text=18]="Text",D[D.Color=19]="Color",D[D.File=20]="File",D[D.Reference=21]="Reference",D[D.Customcolor=22]="Customcolor",D[D.Folder=23]="Folder",D[D.TypeParameter=24]="TypeParameter",D[D.User=25]="User",D[D.Issue=26]="Issue",D[D.Snippet=27]="Snippet"})(m||(m={}));var y;(function(D){D[D.Deprecated=1]="Deprecated"})(y||(y={}));var n;(function(D){D[D.Invoke=0]="Invoke",D[D.TriggerCharacter=1]="TriggerCharacter",D[D.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(n||(n={}));var p;(function(D){D[D.EXACT=0]="EXACT",D[D.ABOVE=1]="ABOVE",D[D.BELOW=2]="BELOW"})(p||(p={}));var f;(function(D){D[D.NotSet=0]="NotSet",D[D.ContentFlush=1]="ContentFlush",D[D.RecoverFromMarkers=2]="RecoverFromMarkers",D[D.Explicit=3]="Explicit",D[D.Paste=4]="Paste",D[D.Undo=5]="Undo",D[D.Redo=6]="Redo"})(f||(f={}));var v;(function(D){D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(v||(v={}));var d;(function(D){D[D.Text=0]="Text",D[D.Read=1]="Read",D[D.Write=2]="Write"})(d||(d={}));var a;(function(D){D[D.None=0]="None",D[D.Keep=1]="Keep",D[D.Brackets=2]="Brackets",D[D.Advanced=3]="Advanced",D[D.Full=4]="Full"})(a||(a={}));var u;(function(D){D[D.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",D[D.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",D[D.accessibilitySupport=2]="accessibilitySupport",D[D.accessibilityPageSize=3]="accessibilityPageSize",D[D.ariaLabel=4]="ariaLabel",D[D.autoClosingBrackets=5]="autoClosingBrackets",D[D.autoClosingDelete=6]="autoClosingDelete",D[D.autoClosingOvertype=7]="autoClosingOvertype",D[D.autoClosingQuotes=8]="autoClosingQuotes",D[D.autoIndent=9]="autoIndent",D[D.automaticLayout=10]="automaticLayout",D[D.autoSurround=11]="autoSurround",D[D.bracketPairColorization=12]="bracketPairColorization",D[D.guides=13]="guides",D[D.codeLens=14]="codeLens",D[D.codeLensFontFamily=15]="codeLensFontFamily",D[D.codeLensFontSize=16]="codeLensFontSize",D[D.colorDecorators=17]="colorDecorators",D[D.columnSelection=18]="columnSelection",D[D.comments=19]="comments",D[D.contextmenu=20]="contextmenu",D[D.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",D[D.cursorBlinking=22]="cursorBlinking",D[D.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",D[D.cursorStyle=24]="cursorStyle",D[D.cursorSurroundingLines=25]="cursorSurroundingLines",D[D.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",D[D.cursorWidth=27]="cursorWidth",D[D.disableLayerHinting=28]="disableLayerHinting",D[D.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",D[D.domReadOnly=30]="domReadOnly",D[D.dragAndDrop=31]="dragAndDrop",D[D.emptySelectionClipboard=32]="emptySelectionClipboard",D[D.extraEditorClassName=33]="extraEditorClassName",D[D.fastScrollSensitivity=34]="fastScrollSensitivity",D[D.find=35]="find",D[D.fixedOverflowWidgets=36]="fixedOverflowWidgets",D[D.folding=37]="folding",D[D.foldingStrategy=38]="foldingStrategy",D[D.foldingHighlight=39]="foldingHighlight",D[D.foldingImportsByDefault=40]="foldingImportsByDefault",D[D.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",D[D.fontFamily=42]="fontFamily",D[D.fontInfo=43]="fontInfo",D[D.fontLigatures=44]="fontLigatures",D[D.fontSize=45]="fontSize",D[D.fontWeight=46]="fontWeight",D[D.formatOnPaste=47]="formatOnPaste",D[D.formatOnType=48]="formatOnType",D[D.glyphMargin=49]="glyphMargin",D[D.gotoLocation=50]="gotoLocation",D[D.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",D[D.hover=52]="hover",D[D.inDiffEditor=53]="inDiffEditor",D[D.inlineSuggest=54]="inlineSuggest",D[D.letterSpacing=55]="letterSpacing",D[D.lightbulb=56]="lightbulb",D[D.lineDecorationsWidth=57]="lineDecorationsWidth",D[D.lineHeight=58]="lineHeight",D[D.lineNumbers=59]="lineNumbers",D[D.lineNumbersMinChars=60]="lineNumbersMinChars",D[D.linkedEditing=61]="linkedEditing",D[D.links=62]="links",D[D.matchBrackets=63]="matchBrackets",D[D.minimap=64]="minimap",D[D.mouseStyle=65]="mouseStyle",D[D.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",D[D.mouseWheelZoom=67]="mouseWheelZoom",D[D.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",D[D.multiCursorModifier=69]="multiCursorModifier",D[D.multiCursorPaste=70]="multiCursorPaste",D[D.occurrencesHighlight=71]="occurrencesHighlight",D[D.overviewRulerBorder=72]="overviewRulerBorder",D[D.overviewRulerLanes=73]="overviewRulerLanes",D[D.padding=74]="padding",D[D.parameterHints=75]="parameterHints",D[D.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",D[D.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",D[D.quickSuggestions=78]="quickSuggestions",D[D.quickSuggestionsDelay=79]="quickSuggestionsDelay",D[D.readOnly=80]="readOnly",D[D.renameOnType=81]="renameOnType",D[D.renderControlCharacters=82]="renderControlCharacters",D[D.renderFinalNewline=83]="renderFinalNewline",D[D.renderLineHighlight=84]="renderLineHighlight",D[D.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",D[D.renderValidationDecorations=86]="renderValidationDecorations",D[D.renderWhitespace=87]="renderWhitespace",D[D.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",D[D.roundedSelection=89]="roundedSelection",D[D.rulers=90]="rulers",D[D.scrollbar=91]="scrollbar",D[D.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",D[D.scrollBeyondLastLine=93]="scrollBeyondLastLine",D[D.scrollPredominantAxis=94]="scrollPredominantAxis",D[D.selectionClipboard=95]="selectionClipboard",D[D.selectionHighlight=96]="selectionHighlight",D[D.selectOnLineNumbers=97]="selectOnLineNumbers",D[D.showFoldingControls=98]="showFoldingControls",D[D.showUnused=99]="showUnused",D[D.snippetSuggestions=100]="snippetSuggestions",D[D.smartSelect=101]="smartSelect",D[D.smoothScrolling=102]="smoothScrolling",D[D.stickyTabStops=103]="stickyTabStops",D[D.stopRenderingLineAfter=104]="stopRenderingLineAfter",D[D.suggest=105]="suggest",D[D.suggestFontSize=106]="suggestFontSize",D[D.suggestLineHeight=107]="suggestLineHeight",D[D.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",D[D.suggestSelection=109]="suggestSelection",D[D.tabCompletion=110]="tabCompletion",D[D.tabIndex=111]="tabIndex",D[D.unusualLineTerminators=112]="unusualLineTerminators",D[D.useShadowDOM=113]="useShadowDOM",D[D.useTabStops=114]="useTabStops",D[D.wordSeparators=115]="wordSeparators",D[D.wordWrap=116]="wordWrap",D[D.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",D[D.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",D[D.wordWrapColumn=119]="wordWrapColumn",D[D.wordWrapOverride1=120]="wordWrapOverride1",D[D.wordWrapOverride2=121]="wordWrapOverride2",D[D.wrappingIndent=122]="wrappingIndent",D[D.wrappingStrategy=123]="wrappingStrategy",D[D.showDeprecated=124]="showDeprecated",D[D.inlayHints=125]="inlayHints",D[D.editorClassName=126]="editorClassName",D[D.pixelRatio=127]="pixelRatio",D[D.tabFocusMode=128]="tabFocusMode",D[D.layoutInfo=129]="layoutInfo",D[D.wrappingInfo=130]="wrappingInfo"})(u||(u={}));var c;(function(D){D[D.TextDefined=0]="TextDefined",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(c||(c={}));var b;(function(D){D[D.LF=0]="LF",D[D.CRLF=1]="CRLF"})(b||(b={}));var L;(function(D){D[D.None=0]="None",D[D.Indent=1]="Indent",D[D.IndentOutdent=2]="IndentOutdent",D[D.Outdent=3]="Outdent"})(L||(L={}));var R;(function(D){D[D.Other=0]="Other",D[D.Type=1]="Type",D[D.Parameter=2]="Parameter"})(R||(R={}));var T;(function(D){D[D.Automatic=0]="Automatic",D[D.Explicit=1]="Explicit"})(T||(T={}));var j;(function(D){D[D.DependsOnKbLayout=-1]="DependsOnKbLayout",D[D.Unknown=0]="Unknown",D[D.Backspace=1]="Backspace",D[D.Tab=2]="Tab",D[D.Enter=3]="Enter",D[D.Shift=4]="Shift",D[D.Ctrl=5]="Ctrl",D[D.Alt=6]="Alt",D[D.PauseBreak=7]="PauseBreak",D[D.CapsLock=8]="CapsLock",D[D.Escape=9]="Escape",D[D.Space=10]="Space",D[D.PageUp=11]="PageUp",D[D.PageDown=12]="PageDown",D[D.End=13]="End",D[D.Home=14]="Home",D[D.LeftArrow=15]="LeftArrow",D[D.UpArrow=16]="UpArrow",D[D.RightArrow=17]="RightArrow",D[D.DownArrow=18]="DownArrow",D[D.Insert=19]="Insert",D[D.Delete=20]="Delete",D[D.Digit0=21]="Digit0",D[D.Digit1=22]="Digit1",D[D.Digit2=23]="Digit2",D[D.Digit3=24]="Digit3",D[D.Digit4=25]="Digit4",D[D.Digit5=26]="Digit5",D[D.Digit6=27]="Digit6",D[D.Digit7=28]="Digit7",D[D.Digit8=29]="Digit8",D[D.Digit9=30]="Digit9",D[D.KeyA=31]="KeyA",D[D.KeyB=32]="KeyB",D[D.KeyC=33]="KeyC",D[D.KeyD=34]="KeyD",D[D.KeyE=35]="KeyE",D[D.KeyF=36]="KeyF",D[D.KeyG=37]="KeyG",D[D.KeyH=38]="KeyH",D[D.KeyI=39]="KeyI",D[D.KeyJ=40]="KeyJ",D[D.KeyK=41]="KeyK",D[D.KeyL=42]="KeyL",D[D.KeyM=43]="KeyM",D[D.KeyN=44]="KeyN",D[D.KeyO=45]="KeyO",D[D.KeyP=46]="KeyP",D[D.KeyQ=47]="KeyQ",D[D.KeyR=48]="KeyR",D[D.KeyS=49]="KeyS",D[D.KeyT=50]="KeyT",D[D.KeyU=51]="KeyU",D[D.KeyV=52]="KeyV",D[D.KeyW=53]="KeyW",D[D.KeyX=54]="KeyX",D[D.KeyY=55]="KeyY",D[D.KeyZ=56]="KeyZ",D[D.Meta=57]="Meta",D[D.ContextMenu=58]="ContextMenu",D[D.F1=59]="F1",D[D.F2=60]="F2",D[D.F3=61]="F3",D[D.F4=62]="F4",D[D.F5=63]="F5",D[D.F6=64]="F6",D[D.F7=65]="F7",D[D.F8=66]="F8",D[D.F9=67]="F9",D[D.F10=68]="F10",D[D.F11=69]="F11",D[D.F12=70]="F12",D[D.F13=71]="F13",D[D.F14=72]="F14",D[D.F15=73]="F15",D[D.F16=74]="F16",D[D.F17=75]="F17",D[D.F18=76]="F18",D[D.F19=77]="F19",D[D.NumLock=78]="NumLock",D[D.ScrollLock=79]="ScrollLock",D[D.Semicolon=80]="Semicolon",D[D.Equal=81]="Equal",D[D.Comma=82]="Comma",D[D.Minus=83]="Minus",D[D.Period=84]="Period",D[D.Slash=85]="Slash",D[D.Backquote=86]="Backquote",D[D.BracketLeft=87]="BracketLeft",D[D.Backslash=88]="Backslash",D[D.BracketRight=89]="BracketRight",D[D.Quote=90]="Quote",D[D.OEM_8=91]="OEM_8",D[D.IntlBackslash=92]="IntlBackslash",D[D.Numpad0=93]="Numpad0",D[D.Numpad1=94]="Numpad1",D[D.Numpad2=95]="Numpad2",D[D.Numpad3=96]="Numpad3",D[D.Numpad4=97]="Numpad4",D[D.Numpad5=98]="Numpad5",D[D.Numpad6=99]="Numpad6",D[D.Numpad7=100]="Numpad7",D[D.Numpad8=101]="Numpad8",D[D.Numpad9=102]="Numpad9",D[D.NumpadMultiply=103]="NumpadMultiply",D[D.NumpadAdd=104]="NumpadAdd",D[D.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",D[D.NumpadSubtract=106]="NumpadSubtract",D[D.NumpadDecimal=107]="NumpadDecimal",D[D.NumpadDivide=108]="NumpadDivide",D[D.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",D[D.ABNT_C1=110]="ABNT_C1",D[D.ABNT_C2=111]="ABNT_C2",D[D.AudioVolumeMute=112]="AudioVolumeMute",D[D.AudioVolumeUp=113]="AudioVolumeUp",D[D.AudioVolumeDown=114]="AudioVolumeDown",D[D.BrowserSearch=115]="BrowserSearch",D[D.BrowserHome=116]="BrowserHome",D[D.BrowserBack=117]="BrowserBack",D[D.BrowserForward=118]="BrowserForward",D[D.MediaTrackNext=119]="MediaTrackNext",D[D.MediaTrackPrevious=120]="MediaTrackPrevious",D[D.MediaStop=121]="MediaStop",D[D.MediaPlayPause=122]="MediaPlayPause",D[D.LaunchMediaPlayer=123]="LaunchMediaPlayer",D[D.LaunchMail=124]="LaunchMail",D[D.LaunchApp2=125]="LaunchApp2",D[D.MAX_VALUE=126]="MAX_VALUE"})(j||(j={}));var q;(function(D){D[D.Hint=1]="Hint",D[D.Info=2]="Info",D[D.Warning=4]="Warning",D[D.Error=8]="Error"})(q||(q={}));var ie;(function(D){D[D.Unnecessary=1]="Unnecessary",D[D.Deprecated=2]="Deprecated"})(ie||(ie={}));var ne;(function(D){D[D.Inline=1]="Inline",D[D.Gutter=2]="Gutter"})(ne||(ne={}));var he;(function(D){D[D.UNKNOWN=0]="UNKNOWN",D[D.TEXTAREA=1]="TEXTAREA",D[D.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",D[D.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",D[D.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",D[D.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",D[D.CONTENT_TEXT=6]="CONTENT_TEXT",D[D.CONTENT_EMPTY=7]="CONTENT_EMPTY",D[D.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",D[D.CONTENT_WIDGET=9]="CONTENT_WIDGET",D[D.OVERVIEW_RULER=10]="OVERVIEW_RULER",D[D.SCROLLBAR=11]="SCROLLBAR",D[D.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",D[D.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(he||(he={}));var $;(function(D){D[D.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",D[D.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",D[D.TOP_CENTER=2]="TOP_CENTER"})($||($={}));var V;(function(D){D[D.Left=1]="Left",D[D.Center=2]="Center",D[D.Right=4]="Right",D[D.Full=7]="Full"})(V||(V={}));var z;(function(D){D[D.Off=0]="Off",D[D.On=1]="On",D[D.Relative=2]="Relative",D[D.Interval=3]="Interval",D[D.Custom=4]="Custom"})(z||(z={}));var Q;(function(D){D[D.None=0]="None",D[D.Text=1]="Text",D[D.Blocks=2]="Blocks"})(Q||(Q={}));var le;(function(D){D[D.Smooth=0]="Smooth",D[D.Immediate=1]="Immediate"})(le||(le={}));var E;(function(D){D[D.Auto=1]="Auto",D[D.Hidden=2]="Hidden",D[D.Visible=3]="Visible"})(E||(E={}));var I;(function(D){D[D.LTR=0]="LTR",D[D.RTL=1]="RTL"})(I||(I={}));var A;(function(D){D[D.Invoke=1]="Invoke",D[D.TriggerCharacter=2]="TriggerCharacter",D[D.ContentChange=3]="ContentChange"})(A||(A={}));var H;(function(D){D[D.File=0]="File",D[D.Module=1]="Module",D[D.Namespace=2]="Namespace",D[D.Package=3]="Package",D[D.Class=4]="Class",D[D.Method=5]="Method",D[D.Property=6]="Property",D[D.Field=7]="Field",D[D.Constructor=8]="Constructor",D[D.Enum=9]="Enum",D[D.Interface=10]="Interface",D[D.Function=11]="Function",D[D.Variable=12]="Variable",D[D.Constant=13]="Constant",D[D.String=14]="String",D[D.Number=15]="Number",D[D.Boolean=16]="Boolean",D[D.Array=17]="Array",D[D.Object=18]="Object",D[D.Key=19]="Key",D[D.Null=20]="Null",D[D.EnumMember=21]="EnumMember",D[D.Struct=22]="Struct",D[D.Event=23]="Event",D[D.Operator=24]="Operator",D[D.TypeParameter=25]="TypeParameter"})(H||(H={}));var Y;(function(D){D[D.Deprecated=1]="Deprecated"})(Y||(Y={}));var X;(function(D){D[D.Hidden=0]="Hidden",D[D.Blink=1]="Blink",D[D.Smooth=2]="Smooth",D[D.Phase=3]="Phase",D[D.Expand=4]="Expand",D[D.Solid=5]="Solid"})(X||(X={}));var re;(function(D){D[D.Line=1]="Line",D[D.Block=2]="Block",D[D.Underline=3]="Underline",D[D.LineThin=4]="LineThin",D[D.BlockOutline=5]="BlockOutline",D[D.UnderlineThin=6]="UnderlineThin"})(re||(re={}));var fe;(function(D){D[D.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",D[D.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",D[D.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",D[D.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(fe||(fe={}));var ue;(function(D){D[D.None=0]="None",D[D.Same=1]="Same",D[D.Indent=2]="Indent",D[D.DeepIndent=3]="DeepIndent"})(ue||(ue={}));class Oe{static chord(i,r){return(0,O.gx)(i,r)}}Oe.CtrlCmd=2048,Oe.Shift=1024,Oe.Alt=512,Oe.WinCtrl=256;function Ce(){return{editor:void 0,languages:void 0,CancellationTokenSource:W.A,Emitter:k.Q5,KeyCode:j,KeyMod:Oe,Position:G.L,Range:x.e,Selection:N.Y,SelectionDirection:I,MarkerSeverity:q,MarkerTag:ie,Uri:w.o,Token:s.WU}}var oe=t(11640),ae=t(65321),Be=t(91741),Ve=t(43702),se=t(23897),ce=t(66663),Te=t(95935),xe=t(94565),Fe;(function(D){D[D.API=0]="API",D[D.USER=1]="USER"})(Fe||(Fe={}));var Le=t(50988),Me=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Se=function(D,i){return function(r,S){i(r,S,D)}},ze=function(D,i,r,S){function K(te){return te instanceof r?te:new r(function(ge){ge(te)})}return new(r||(r=Promise))(function(te,ge){function De(St){try{gt(S.next(St))}catch(Vt){ge(Vt)}}function it(St){try{gt(S.throw(St))}catch(Vt){ge(Vt)}}function gt(St){St.done?te(St.value):K(St.value).then(De,it)}gt((S=S.apply(D,i||[])).next())})};let Ye=class{constructor(i){this._commandService=i}open(i,r){return ze(this,void 0,void 0,function*(){if(!(0,Le.xn)(i,ce.lg.command))return!1;if(!(r!=null&&r.allowCommands))return!0;typeof i=="string"&&(i=w.o.parse(i));let S=[];try{S=(0,se.Q)(decodeURIComponent(i.query))}catch(K){try{S=(0,se.Q)(i.query)}catch(te){}}return Array.isArray(S)||(S=[S]),yield this._commandService.executeCommand(i.path,...S),!0})}};Ye=Me([Se(0,xe.H)],Ye);let qe=class{constructor(i){this._editorService=i}open(i,r){return ze(this,void 0,void 0,function*(){typeof i=="string"&&(i=w.o.parse(i));let S;const K=/^L?(\d+)(?:,(\d+))?/.exec(i.fragment);return K&&(S={startLineNumber:parseInt(K[1]),startColumn:K[2]?parseInt(K[2]):1},i=i.with({fragment:""})),i.scheme===ce.lg.file&&(i=(0,Te.AH)(i)),yield this._editorService.openCodeEditor({resource:i,options:Object.assign({selection:S,context:r!=null&&r.fromUserGesture?Fe.USER:Fe.API},r==null?void 0:r.editorOptions)},this._editorService.getFocusedCodeEditor(),r==null?void 0:r.openToSide),!0})}};qe=Me([Se(0,oe.$)],qe);let ht=class{constructor(i,r){this._openers=new Be.S,this._validators=new Be.S,this._resolvers=new Be.S,this._resolvedUriTargets=new Ve.Y9(S=>S.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Be.S,this._defaultExternalOpener={openExternal:S=>ze(this,void 0,void 0,function*(){return(0,Le.xn)(S,ce.lg.http)||(0,Le.xn)(S,ce.lg.https)?ae.V3(S):window.location.href=S,!0})},this._openers.push({open:(S,K)=>ze(this,void 0,void 0,function*(){return K!=null&&K.openExternal||(0,Le.xn)(S,ce.lg.mailto)||(0,Le.xn)(S,ce.lg.http)||(0,Le.xn)(S,ce.lg.https)?(yield this._doOpenExternal(S,K),!0):!1})}),this._openers.push(new Ye(r)),this._openers.push(new qe(i))}registerOpener(i){return{dispose:this._openers.unshift(i)}}registerValidator(i){return{dispose:this._validators.push(i)}}registerExternalUriResolver(i){return{dispose:this._resolvers.push(i)}}setDefaultExternalOpener(i){this._defaultExternalOpener=i}registerExternalOpener(i){return{dispose:this._externalOpeners.push(i)}}open(i,r){var S;return ze(this,void 0,void 0,function*(){const K=typeof i=="string"?w.o.parse(i):i,te=(S=this._resolvedUriTargets.get(K))!==null&&S!==void 0?S:i;for(const ge of this._validators)if(!(yield ge.shouldOpen(te)))return!1;for(const ge of this._openers)if(yield ge.open(i,r))return!0;return!1})}resolveExternalUri(i,r){return ze(this,void 0,void 0,function*(){for(const S of this._resolvers)try{const K=yield S.resolveExternalUri(i,r);if(K)return this._resolvedUriTargets.has(K.resolved)||this._resolvedUriTargets.set(K.resolved,i),K}catch(K){}throw new Error("Could not resolve external URI: "+i.toString())})}_doOpenExternal(i,r){return ze(this,void 0,void 0,function*(){const S=typeof i=="string"?w.o.parse(i):i;let K;try{K=(yield this.resolveExternalUri(S,r)).resolved}catch(ge){K=S}let te;if(typeof i=="string"&&S.toString()===K.toString()?te=i:te=encodeURI(K.toString(!0)),r!=null&&r.allowContributedOpeners){const ge=typeof(r==null?void 0:r.allowContributedOpeners)=="string"?r==null?void 0:r.allowContributedOpeners:void 0;for(const De of this._externalOpeners)if(yield De.openExternal(te,{sourceUri:S,preferredOpenerId:ge},W.T.None))return!0}return this._defaultExternalOpener.openExternal(te,{sourceUri:S},W.T.None)})}dispose(){this._validators.clear()}};ht=Me([Se(0,oe.$),Se(1,xe.H)],ht);var kt=t(75623),zt=t(27374),Ke=t(96518),Je=t(84973),Ze=t(60303),Ae=t(28111),He=t(90469),It=t(71531),Bt=t(88216),oi=t(15393),ni=t(9917),hi=t(17301),Di=t(1432),Ti=t(98401),Ii=t(97295);const ai="$initialize";let Pt=!1;function Gt(D){Di.$L&&(Pt||(Pt=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(D.message))}class ot{constructor(i,r,S,K){this.vsWorker=i,this.req=r,this.method=S,this.args=K,this.type=0}}class mt{constructor(i,r,S,K){this.vsWorker=i,this.seq=r,this.res=S,this.err=K,this.type=1}}class ft{constructor(i,r,S,K){this.vsWorker=i,this.req=r,this.eventName=S,this.arg=K,this.type=2}}class Xe{constructor(i,r,S){this.vsWorker=i,this.req=r,this.event=S,this.type=3}}class Ge{constructor(i,r){this.vsWorker=i,this.req=r,this.type=4}}class Ie{constructor(i){this._workerId=-1,this._handler=i,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(i){this._workerId=i}sendMessage(i,r){const S=String(++this._lastSentReq);return new Promise((K,te)=>{this._pendingReplies[S]={resolve:K,reject:te},this._send(new ot(this._workerId,S,i,r))})}listen(i,r){let S=null;const K=new k.Q5({onFirstListenerAdd:()=>{S=String(++this._lastSentReq),this._pendingEmitters.set(S,K),this._send(new ft(this._workerId,S,i,r))},onLastListenerRemove:()=>{this._pendingEmitters.delete(S),this._send(new Ge(this._workerId,S)),S=null}});return K.event}handleMessage(i){!i||!i.vsWorker||this._workerId!==-1&&i.vsWorker!==this._workerId||this._handleMessage(i)}_handleMessage(i){switch(i.type){case 1:return this._handleReplyMessage(i);case 0:return this._handleRequestMessage(i);case 2:return this._handleSubscribeEventMessage(i);case 3:return this._handleEventMessage(i);case 4:return this._handleUnsubscribeEventMessage(i)}}_handleReplyMessage(i){if(!this._pendingReplies[i.seq]){console.warn("Got reply to unknown seq");return}let r=this._pendingReplies[i.seq];if(delete this._pendingReplies[i.seq],i.err){let S=i.err;i.err.$isError&&(S=new Error,S.name=i.err.name,S.message=i.err.message,S.stack=i.err.stack),r.reject(S);return}r.resolve(i.res)}_handleRequestMessage(i){let r=i.req;this._handler.handleMessage(i.method,i.args).then(K=>{this._send(new mt(this._workerId,r,K,void 0))},K=>{K.detail instanceof Error&&(K.detail=(0,hi.ri)(K.detail)),this._send(new mt(this._workerId,r,void 0,(0,hi.ri)(K)))})}_handleSubscribeEventMessage(i){const r=i.req,S=this._handler.handleEvent(i.eventName,i.arg)(K=>{this._send(new Xe(this._workerId,r,K))});this._pendingEvents.set(r,S)}_handleEventMessage(i){if(!this._pendingEmitters.has(i.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(i.req).fire(i.event)}_handleUnsubscribeEventMessage(i){if(!this._pendingEvents.has(i.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(i.req).dispose(),this._pendingEvents.delete(i.req)}_send(i){let r=[];if(i.type===0)for(let S=0;S<i.args.length;S++)i.args[S]instanceof ArrayBuffer&&r.push(i.args[S]);else i.type===1&&i.res instanceof ArrayBuffer&&r.push(i.res);this._handler.sendMessage(i,r)}}class Pe extends ni.JT{constructor(i,r,S){super();let K=null;this._worker=this._register(i.create("vs/base/common/worker/simpleWorker",gt=>{this._protocol.handleMessage(gt)},gt=>{K&&K(gt)})),this._protocol=new Ie({sendMessage:(gt,St)=>{this._worker.postMessage(gt,St)},handleMessage:(gt,St)=>{if(typeof S[gt]!="function")return Promise.reject(new Error("Missing method "+gt+" on main thread host."));try{return Promise.resolve(S[gt].apply(S,St))}catch(Vt){return Promise.reject(Vt)}},handleEvent:(gt,St)=>{if(dt(gt)){const Vt=S[gt].call(S,St);if(typeof Vt!="function")throw new Error(`Missing dynamic event ${gt} on main thread host.`);return Vt}if(je(gt)){const Vt=S[gt];if(typeof Vt!="function")throw new Error(`Missing event ${gt} on main thread host.`);return Vt}throw new Error(`Malformed event name ${gt}`)}}),this._protocol.setWorkerId(this._worker.getId());let te=null;typeof Di.li.require!="undefined"&&typeof Di.li.require.getConfig=="function"?te=Di.li.require.getConfig():typeof Di.li.requirejs!="undefined"&&(te=Di.li.requirejs.s.contexts._.config);const ge=Ti.$E(S);this._onModuleLoaded=this._protocol.sendMessage(ai,[this._worker.getId(),JSON.parse(JSON.stringify(te)),r,ge]);const De=(gt,St)=>this._request(gt,St),it=(gt,St)=>this._protocol.listen(gt,St);this._lazyProxy=new Promise((gt,St)=>{K=St,this._onModuleLoaded.then(Vt=>{gt(Nt(Vt,De,it))},Vt=>{St(Vt),this._onError("Worker failed to load "+r,Vt)})})}getProxyObject(){return this._lazyProxy}_request(i,r){return new Promise((S,K)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(i,r).then(S,K)},K)})}_onError(i,r){console.error(i),console.info(r)}}function je(D){return D[0]==="o"&&D[1]==="n"&&Ii.df(D.charCodeAt(2))}function dt(D){return/^onDynamic/.test(D)&&Ii.df(D.charCodeAt(9))}function Nt(D,i,r){const S=ge=>function(){const De=Array.prototype.slice.call(arguments,0);return i(ge,De)},K=ge=>function(De){return r(ge,De)};let te={};for(const ge of D){if(dt(ge)){te[ge]=K(ge);continue}if(je(ge)){te[ge]=r(ge,void 0);continue}te[ge]=S(ge)}return te}class $t{constructor(i,r){this._requestHandlerFactory=r,this._requestHandler=null,this._protocol=new Ie({sendMessage:(S,K)=>{i(S,K)},handleMessage:(S,K)=>this._handleMessage(S,K),handleEvent:(S,K)=>this._handleEvent(S,K)})}onmessage(i){this._protocol.handleMessage(i)}_handleMessage(i,r){if(i===ai)return this.initialize(r[0],r[1],r[2],r[3]);if(!this._requestHandler||typeof this._requestHandler[i]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+i));try{return Promise.resolve(this._requestHandler[i].apply(this._requestHandler,r))}catch(S){return Promise.reject(S)}}_handleEvent(i,r){if(!this._requestHandler)throw new Error("Missing requestHandler");if(dt(i)){const S=this._requestHandler[i].call(this._requestHandler,r);if(typeof S!="function")throw new Error(`Missing dynamic event ${i} on request handler.`);return S}if(je(i)){const S=this._requestHandler[i];if(typeof S!="function")throw new Error(`Missing event ${i} on request handler.`);return S}throw new Error(`Malformed event name ${i}`)}initialize(i,r,S,K){this._protocol.setWorkerId(i);const De=Nt(K,(it,gt)=>this._protocol.sendMessage(it,gt),(it,gt)=>this._protocol.listen(it,gt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(De),Promise.resolve(types.getAllMethodNames(this._requestHandler))):(r&&(typeof r.baseUrl!="undefined"&&delete r.baseUrl,typeof r.paths!="undefined"&&typeof r.paths.vs!="undefined"&&delete r.paths.vs,typeof r.trustedTypesPolicy!==void 0&&delete r.trustedTypesPolicy,r.catchError=!0,globals.require.config(r)),new Promise((it,gt)=>{const St=globals.require;St([S],Vt=>{if(this._requestHandler=Vt.create(De),!this._requestHandler){gt(new Error("No RequestHandler!"));return}it(types.getAllMethodNames(this._requestHandler))},gt)}))}}function Xt(D){return new $t(D,null)}var Ci;const Zt=(Ci=window.trustedTypes)===null||Ci===void 0?void 0:Ci.createPolicy("defaultWorkerFactory",{createScriptURL:D=>D});function mi(D,i){if(Di.li.MonacoEnvironment){if(typeof Di.li.MonacoEnvironment.getWorker=="function")return Di.li.MonacoEnvironment.getWorker(D,i);if(typeof Di.li.MonacoEnvironment.getWorkerUrl=="function"){const r=Di.li.MonacoEnvironment.getWorkerUrl(D,i);return new Worker(Zt?Zt.createScriptURL(r):r,{name:i})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function pt(D){return typeof D.then=="function"}class ut{constructor(i,r,S,K,te){this.id=r;const ge=mi("workerMain.js",S);pt(ge)?this.worker=ge:this.worker=Promise.resolve(ge),this.postMessage(i,[]),this.worker.then(De=>{De.onmessage=function(it){K(it.data)},De.onmessageerror=te,typeof De.addEventListener=="function"&&De.addEventListener("error",te)})}getId(){return this.id}postMessage(i,r){this.worker&&this.worker.then(S=>S.postMessage(i,r))}dispose(){this.worker&&this.worker.then(i=>i.terminate()),this.worker=null}}class tt{constructor(i){this._label=i,this._webWorkerFailedBeforeError=!1}create(i,r,S){let K=++tt.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ut(i,K,this._label||"anonymous"+K,r,te=>{Gt(te),this._webWorkerFailedBeforeError=te,S(te)})}}tt.LAST_WORKER_ID=0;var de=t(94660),be=t(22571);const J=3;function pe(D,i,r,S){return new be.Hs(D,i,r).ComputeDiff(S)}class ke{constructor(i){const r=[],S=[];for(let K=0,te=i.length;K<te;K++)r[K]=Mt(i[K],1),S[K]=Jt(i[K],1);this.lines=i,this._startColumns=r,this._endColumns=S}getElements(){const i=[];for(let r=0,S=this.lines.length;r<S;r++)i[r]=this.lines[r].substring(this._startColumns[r]-1,this._endColumns[r]-1);return i}getStrictElement(i){return this.lines[i]}getStartLineNumber(i){return i+1}getEndLineNumber(i){return i+1}createCharSequence(i,r,S){const K=[],te=[],ge=[];let De=0;for(let it=r;it<=S;it++){const gt=this.lines[it],St=i?this._startColumns[it]:1,Vt=i?this._endColumns[it]:gt.length+1;for(let vi=St;vi<Vt;vi++)K[De]=gt.charCodeAt(vi-1),te[De]=it+1,ge[De]=vi,De++}return new at(K,te,ge)}}class at{constructor(i,r,S){this._charCodes=i,this._lineNumbers=r,this._columns=S}getElements(){return this._charCodes}getStartLineNumber(i){return this._lineNumbers[i]}getStartColumn(i){return this._columns[i]}getEndLineNumber(i){return this._lineNumbers[i]}getEndColumn(i){return this._columns[i]+1}}class st{constructor(i,r,S,K,te,ge,De,it){this.originalStartLineNumber=i,this.originalStartColumn=r,this.originalEndLineNumber=S,this.originalEndColumn=K,this.modifiedStartLineNumber=te,this.modifiedStartColumn=ge,this.modifiedEndLineNumber=De,this.modifiedEndColumn=it}static createFromDiffChange(i,r,S){let K,te,ge,De,it,gt,St,Vt;return i.originalLength===0?(K=0,te=0,ge=0,De=0):(K=r.getStartLineNumber(i.originalStart),te=r.getStartColumn(i.originalStart),ge=r.getEndLineNumber(i.originalStart+i.originalLength-1),De=r.getEndColumn(i.originalStart+i.originalLength-1)),i.modifiedLength===0?(it=0,gt=0,St=0,Vt=0):(it=S.getStartLineNumber(i.modifiedStart),gt=S.getStartColumn(i.modifiedStart),St=S.getEndLineNumber(i.modifiedStart+i.modifiedLength-1),Vt=S.getEndColumn(i.modifiedStart+i.modifiedLength-1)),new st(K,te,ge,De,it,gt,St,Vt)}}function _t(D){if(D.length<=1)return D;const i=[D[0]];let r=i[0];for(let S=1,K=D.length;S<K;S++){const te=D[S],ge=te.originalStart-(r.originalStart+r.originalLength),De=te.modifiedStart-(r.modifiedStart+r.modifiedLength);Math.min(ge,De)<J?(r.originalLength=te.originalStart+te.originalLength-r.originalStart,r.modifiedLength=te.modifiedStart+te.modifiedLength-r.modifiedStart):(i.push(te),r=te)}return i}class Et{constructor(i,r,S,K,te){this.originalStartLineNumber=i,this.originalEndLineNumber=r,this.modifiedStartLineNumber=S,this.modifiedEndLineNumber=K,this.charChanges=te}static createFromDiffResult(i,r,S,K,te,ge,De){let it,gt,St,Vt,vi;if(r.originalLength===0?(it=S.getStartLineNumber(r.originalStart)-1,gt=0):(it=S.getStartLineNumber(r.originalStart),gt=S.getEndLineNumber(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(St=K.getStartLineNumber(r.modifiedStart)-1,Vt=0):(St=K.getStartLineNumber(r.modifiedStart),Vt=K.getEndLineNumber(r.modifiedStart+r.modifiedLength-1)),ge&&r.originalLength>0&&r.originalLength<20&&r.modifiedLength>0&&r.modifiedLength<20&&te()){const Yi=S.createCharSequence(i,r.originalStart,r.originalStart+r.originalLength-1),$i=K.createCharSequence(i,r.modifiedStart,r.modifiedStart+r.modifiedLength-1);let cn=pe(Yi,$i,te,!0).changes;De&&(cn=_t(cn)),vi=[];for(let un=0,Gn=cn.length;un<Gn;un++)vi.push(st.createFromDiffChange(cn[un],Yi,$i))}return new Et(it,gt,St,Vt,vi)}}class Wt{constructor(i,r,S){this.shouldComputeCharChanges=S.shouldComputeCharChanges,this.shouldPostProcessCharChanges=S.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=S.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=S.shouldMakePrettyDiff,this.originalLines=i,this.modifiedLines=r,this.original=new ke(i),this.modified=new ke(r),this.continueLineDiff=jt(S.maxComputationTime),this.continueCharDiff=jt(S.maxComputationTime===0?0:Math.min(S.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const i=pe(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),r=i.changes,S=i.quitEarly;if(this.shouldIgnoreTrimWhitespace){const De=[];for(let it=0,gt=r.length;it<gt;it++)De.push(Et.createFromDiffResult(this.shouldIgnoreTrimWhitespace,r[it],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:S,changes:De}}const K=[];let te=0,ge=0;for(let De=-1,it=r.length;De<it;De++){const gt=De+1<it?r[De+1]:null,St=gt?gt.originalStart:this.originalLines.length,Vt=gt?gt.modifiedStart:this.modifiedLines.length;for(;te<St&&ge<Vt;){const vi=this.originalLines[te],Yi=this.modifiedLines[ge];if(vi!==Yi){{let $i=Mt(vi,1),cn=Mt(Yi,1);for(;$i>1&&cn>1;){const un=vi.charCodeAt($i-2),Gn=Yi.charCodeAt(cn-2);if(un!==Gn)break;$i--,cn--}($i>1||cn>1)&&this._pushTrimWhitespaceCharChange(K,te+1,1,$i,ge+1,1,cn)}{let $i=Jt(vi,1),cn=Jt(Yi,1);const un=vi.length+1,Gn=Yi.length+1;for(;$i<un&&cn<Gn;){const Nn=vi.charCodeAt($i-1),fn=vi.charCodeAt(cn-1);if(Nn!==fn)break;$i++,cn++}($i<un||cn<Gn)&&this._pushTrimWhitespaceCharChange(K,te+1,$i,un,ge+1,cn,Gn)}}te++,ge++}gt&&(K.push(Et.createFromDiffResult(this.shouldIgnoreTrimWhitespace,gt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),te+=gt.originalLength,ge+=gt.modifiedLength)}return{quitEarly:S,changes:K}}_pushTrimWhitespaceCharChange(i,r,S,K,te,ge,De){if(this._mergeTrimWhitespaceCharChange(i,r,S,K,te,ge,De))return;let it;this.shouldComputeCharChanges&&(it=[new st(r,S,r,K,te,ge,te,De)]),i.push(new Et(r,r,te,te,it))}_mergeTrimWhitespaceCharChange(i,r,S,K,te,ge,De){const it=i.length;if(it===0)return!1;const gt=i[it-1];return gt.originalEndLineNumber===0||gt.modifiedEndLineNumber===0?!1:gt.originalEndLineNumber+1===r&&gt.modifiedEndLineNumber+1===te?(gt.originalEndLineNumber=r,gt.modifiedEndLineNumber=te,this.shouldComputeCharChanges&&gt.charChanges&&gt.charChanges.push(new st(r,S,r,K,te,ge,te,De)),!0):!1}}function Mt(D,i){const r=Ii.LC(D);return r===-1?i:r+1}function Jt(D,i){const r=Ii.ow(D);return r===-1?i:r+2}function jt(D){if(D===0)return()=>!0;const i=Date.now();return()=>Date.now()-i<D}var ui=t(3544);class _i{constructor(i,r,S,K){this._uri=i,this._lines=r,this._eol=S,this._versionId=K,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(i){i.eol&&i.eol!==this._eol&&(this._eol=i.eol,this._lineStarts=null);const r=i.changes;for(const S of r)this._acceptDeleteRange(S.range),this._acceptInsertText(new G.L(S.range.startLineNumber,S.range.startColumn),S.text);this._versionId=i.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const i=this._eol.length,r=this._lines.length,S=new Uint32Array(r);for(let K=0;K<r;K++)S[K]=this._lines[K].length+i;this._lineStarts=new ui.o(S)}}_setLineText(i,r){this._lines[i]=r,this._lineStarts&&this._lineStarts.changeValue(i,this._lines[i].length+this._eol.length)}_acceptDeleteRange(i){if(i.startLineNumber===i.endLineNumber){if(i.startColumn===i.endColumn)return;this._setLineText(i.startLineNumber-1,this._lines[i.startLineNumber-1].substring(0,i.startColumn-1)+this._lines[i.startLineNumber-1].substring(i.endColumn-1));return}this._setLineText(i.startLineNumber-1,this._lines[i.startLineNumber-1].substring(0,i.startColumn-1)+this._lines[i.endLineNumber-1].substring(i.endColumn-1)),this._lines.splice(i.startLineNumber,i.endLineNumber-i.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(i.startLineNumber,i.endLineNumber-i.startLineNumber)}_acceptInsertText(i,r){if(r.length===0)return;let S=(0,Ii.uq)(r);if(S.length===1){this._setLineText(i.lineNumber-1,this._lines[i.lineNumber-1].substring(0,i.column-1)+S[0]+this._lines[i.lineNumber-1].substring(i.column-1));return}S[S.length-1]+=this._lines[i.lineNumber-1].substring(i.column-1),this._setLineText(i.lineNumber-1,this._lines[i.lineNumber-1].substring(0,i.column-1)+S[0]);let K=new Uint32Array(S.length-1);for(let te=1;te<S.length;te++)this._lines.splice(i.lineNumber+te-1,0,S[te]),K[te-1]=S[te].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(i.lineNumber,K)}}var bi=t(97461),Ai=t(44906);class Ri{constructor(i,r,S){const K=new Uint8Array(i*r);for(let te=0,ge=i*r;te<ge;te++)K[te]=S;this._data=K,this.rows=i,this.cols=r}get(i,r){return this._data[i*this.cols+r]}set(i,r,S){this._data[i*this.cols+r]=S}}class zi{constructor(i){let r=0,S=0;for(let te=0,ge=i.length;te<ge;te++){let[De,it,gt]=i[te];it>r&&(r=it),De>S&&(S=De),gt>S&&(S=gt)}r++,S++;let K=new Ri(S,r,0);for(let te=0,ge=i.length;te<ge;te++){let[De,it,gt]=i[te];K.set(De,it,gt)}this._states=K,this._maxCharCode=r}nextState(i,r){return r<0||r>=this._maxCharCode?0:this._states.get(i,r)}}let hn=null;function bn(){return hn===null&&(hn=new zi([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),hn}let Xi=null;function xn(){if(Xi===null){Xi=new Ai.N(0);const D=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let r=0;r<D.length;r++)Xi.set(D.charCodeAt(r),1);const i=".,;";for(let r=0;r<i.length;r++)Xi.set(i.charCodeAt(r),2)}return Xi}class Sn{static _createLink(i,r,S,K,te){let ge=te-1;do{const De=r.charCodeAt(ge);if(i.get(De)!==2)break;ge--}while(ge>K);if(K>0){const De=r.charCodeAt(K-1),it=r.charCodeAt(ge);(De===40&&it===41||De===91&&it===93||De===123&&it===125)&&ge--}return{range:{startLineNumber:S,startColumn:K+1,endLineNumber:S,endColumn:ge+2},url:r.substring(K,ge+1)}}static computeLinks(i,r=bn()){const S=xn();let K=[];for(let te=1,ge=i.getLineCount();te<=ge;te++){const De=i.getLineContent(te),it=De.length;let gt=0,St=0,Vt=0,vi=1,Yi=!1,$i=!1,cn=!1,un=!1;for(;gt<it;){let Gn=!1;const Nn=De.charCodeAt(gt);if(vi===13){let fn;switch(Nn){case 40:Yi=!0,fn=0;break;case 41:fn=Yi?0:1;break;case 91:cn=!0,$i=!0,fn=0;break;case 93:cn=!1,fn=$i?0:1;break;case 123:un=!0,fn=0;break;case 125:fn=un?0:1;break;case 39:fn=Vt===34||Vt===96?0:1;break;case 34:fn=Vt===39||Vt===96?0:1;break;case 96:fn=Vt===39||Vt===34?0:1;break;case 42:fn=Vt===42?1:0;break;case 124:fn=Vt===124?1:0;break;case 32:fn=cn?0:1;break;default:fn=S.get(Nn)}fn===1&&(K.push(Sn._createLink(S,De,te,St,gt)),Gn=!0)}else if(vi===12){let fn;Nn===91?($i=!0,fn=0):fn=S.get(Nn),fn===1?Gn=!0:vi=13}else vi=r.nextState(vi,Nn),vi===0&&(Gn=!0);Gn&&(vi=1,Yi=!1,$i=!1,un=!1,St=gt+1,Vt=Nn),gt++}vi===13&&K.push(Sn._createLink(S,De,te,St,it))}return K}}function en(D){return!D||typeof D.getLineCount!="function"||typeof D.getLineContent!="function"?[]:Sn.computeLinks(D)}class Pn{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(i,r,S,K,te){if(i&&r){let ge=this.doNavigateValueSet(r,te);if(ge)return{range:i,value:ge}}if(S&&K){let ge=this.doNavigateValueSet(K,te);if(ge)return{range:S,value:ge}}return null}doNavigateValueSet(i,r){let S=this.numberReplace(i,r);return S!==null?S:this.textReplace(i,r)}numberReplace(i,r){let S=Math.pow(10,i.length-(i.lastIndexOf(".")+1)),K=Number(i),te=parseFloat(i);return!isNaN(K)&&!isNaN(te)&&K===te?K===0&&!r?null:(K=Math.floor(K*S),K+=r?S:-S,String(K/S)):null}textReplace(i,r){return this.valueSetsReplace(this._defaultValueSet,i,r)}valueSetsReplace(i,r,S){let K=null;for(let te=0,ge=i.length;K===null&&te<ge;te++)K=this.valueSetReplace(i[te],r,S);return K}valueSetReplace(i,r,S){let K=i.indexOf(r);return K>=0?(K+=S?1:-1,K<0?K=i.length-1:K%=i.length,i[K]):null}}Pn.INSTANCE=new Pn;var Ln=t(84013),Dn=function(D,i,r,S){function K(te){return te instanceof r?te:new r(function(ge){ge(te)})}return new(r||(r=Promise))(function(te,ge){function De(St){try{gt(S.next(St))}catch(Vt){ge(Vt)}}function it(St){try{gt(S.throw(St))}catch(Vt){ge(Vt)}}function gt(St){St.done?te(St.value):K(St.value).then(De,it)}gt((S=S.apply(D,i||[])).next())})};class Xn extends _i{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(i){return this._lines[i-1]}getWordAtPosition(i,r){let S=(0,bi.t2)(i.column,(0,bi.eq)(r),this._lines[i.lineNumber-1],0);return S?new x.e(i.lineNumber,S.startColumn,i.lineNumber,S.endColumn):null}words(i){const r=this._lines,S=this._wordenize.bind(this);let K=0,te="",ge=0,De=[];return{*[Symbol.iterator](){for(;;)if(ge<De.length){const it=te.substring(De[ge].start,De[ge].end);ge+=1,yield it}else if(K<r.length)te=r[K],De=S(te,i),ge=0,K+=1;else break}}}getLineWords(i,r){let S=this._lines[i-1],K=this._wordenize(S,r),te=[];for(const ge of K)te.push({word:S.substring(ge.start,ge.end),startColumn:ge.start+1,endColumn:ge.end+1});return te}_wordenize(i,r){const S=[];let K;for(r.lastIndex=0;(K=r.exec(i))&&K[0].length!==0;)S.push({start:K.index,end:K.index+K[0].length});return S}getValueInRange(i){if(i=this._validateRange(i),i.startLineNumber===i.endLineNumber)return this._lines[i.startLineNumber-1].substring(i.startColumn-1,i.endColumn-1);let r=this._eol,S=i.startLineNumber-1,K=i.endLineNumber-1,te=[];te.push(this._lines[S].substring(i.startColumn-1));for(let ge=S+1;ge<K;ge++)te.push(this._lines[ge]);return te.push(this._lines[K].substring(0,i.endColumn-1)),te.join(r)}offsetAt(i){return i=this._validatePosition(i),this._ensureLineStarts(),this._lineStarts.getPrefixSum(i.lineNumber-2)+(i.column-1)}positionAt(i){i=Math.floor(i),i=Math.max(0,i),this._ensureLineStarts();let r=this._lineStarts.getIndexOf(i),S=this._lines[r.index].length;return{lineNumber:1+r.index,column:1+Math.min(r.remainder,S)}}_validateRange(i){const r=this._validatePosition({lineNumber:i.startLineNumber,column:i.startColumn}),S=this._validatePosition({lineNumber:i.endLineNumber,column:i.endColumn});return r.lineNumber!==i.startLineNumber||r.column!==i.startColumn||S.lineNumber!==i.endLineNumber||S.column!==i.endColumn?{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:S.lineNumber,endColumn:S.column}:i}_validatePosition(i){if(!G.L.isIPosition(i))throw new Error("bad position");let{lineNumber:r,column:S}=i,K=!1;if(r<1)r=1,S=1,K=!0;else if(r>this._lines.length)r=this._lines.length,S=this._lines[r-1].length+1,K=!0;else{let te=this._lines[r-1].length+1;S<1?(S=1,K=!0):S>te&&(S=te,K=!0)}return K?{lineNumber:r,column:S}:i}}class an{constructor(i,r){this._host=i,this._models=Object.create(null),this._foreignModuleFactory=r,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(i){return this._models[i]}_getModels(){let i=[];return Object.keys(this._models).forEach(r=>i.push(this._models[r])),i}acceptNewModel(i){this._models[i.url]=new Xn(w.o.parse(i.url),i.lines,i.EOL,i.versionId)}acceptModelChanged(i,r){if(!this._models[i])return;this._models[i].onEvents(r)}acceptRemovedModel(i){this._models[i]&&delete this._models[i]}computeDiff(i,r,S,K){return Dn(this,void 0,void 0,function*(){const te=this._getModel(i),ge=this._getModel(r);if(!te||!ge)return null;const De=te.getLinesContent(),it=ge.getLinesContent(),St=new Wt(De,it,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:S,shouldMakePrettyDiff:!0,maxComputationTime:K}).computeDiff(),Vt=St.changes.length>0?!1:this._modelsAreIdentical(te,ge);return{quitEarly:St.quitEarly,identical:Vt,changes:St.changes}})}_modelsAreIdentical(i,r){const S=i.getLineCount(),K=r.getLineCount();if(S!==K)return!1;for(let te=1;te<=S;te++){const ge=i.getLineContent(te),De=r.getLineContent(te);if(ge!==De)return!1}return!0}computeMoreMinimalEdits(i,r){return Dn(this,void 0,void 0,function*(){const S=this._getModel(i);if(!S)return r;const K=[];let te;r=r.slice(0).sort((ge,De)=>{if(ge.range&&De.range)return x.e.compareRangesUsingStarts(ge.range,De.range);let it=ge.range?0:1,gt=De.range?0:1;return it-gt});for(let{range:ge,text:De,eol:it}of r){if(typeof it=="number"&&(te=it),x.e.isEmpty(ge)&&!De)continue;const gt=S.getValueInRange(ge);if(De=De.replace(/\r\n|\n|\r/g,S.eol),gt===De)continue;if(Math.max(De.length,gt.length)>an._diffLimit){K.push({range:ge,text:De});continue}const St=(0,be.a$)(gt,De,!1),Vt=S.offsetAt(x.e.lift(ge).getStartPosition());for(const vi of St){const Yi=S.positionAt(Vt+vi.originalStart),$i=S.positionAt(Vt+vi.originalStart+vi.originalLength),cn={text:De.substr(vi.modifiedStart,vi.modifiedLength),range:{startLineNumber:Yi.lineNumber,startColumn:Yi.column,endLineNumber:$i.lineNumber,endColumn:$i.column}};S.getValueInRange(cn.range)!==cn.text&&K.push(cn)}}return typeof te=="number"&&K.push({eol:te,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),K})}computeLinks(i){return Dn(this,void 0,void 0,function*(){let r=this._getModel(i);return r?en(r):null})}textualSuggest(i,r,S,K){return Dn(this,void 0,void 0,function*(){const te=new Ln.G(!0),ge=new RegExp(S,K),De=new Set;e:for(let it of i){const gt=this._getModel(it);if(gt){for(let St of gt.words(ge))if(!(St===r||!isNaN(Number(St)))&&(De.add(St),De.size>an._suggestionsLimit))break e}}return{words:Array.from(De),duration:te.elapsed()}})}computeWordRanges(i,r,S,K){return Dn(this,void 0,void 0,function*(){let te=this._getModel(i);if(!te)return Object.create(null);const ge=new RegExp(S,K),De=Object.create(null);for(let it=r.startLineNumber;it<r.endLineNumber;it++){let gt=te.getLineWords(it,ge);for(const St of gt){if(!isNaN(Number(St.word)))continue;let Vt=De[St.word];Vt||(Vt=[],De[St.word]=Vt),Vt.push({startLineNumber:it,startColumn:St.startColumn,endLineNumber:it,endColumn:St.endColumn})}}return De})}navigateValueSet(i,r,S,K,te){return Dn(this,void 0,void 0,function*(){let ge=this._getModel(i);if(!ge)return null;let De=new RegExp(K,te);r.startColumn===r.endColumn&&(r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.endColumn+1});let it=ge.getValueInRange(r),gt=ge.getWordAtPosition({lineNumber:r.startLineNumber,column:r.startColumn},De);if(!gt)return null;let St=ge.getValueInRange(gt);return Pn.INSTANCE.navigateValueSet(r,it,gt,St,S)})}loadForeignModule(i,r,S){const K=(De,it)=>this._host.fhr(De,it);let ge={host:Ti.IU(S,K),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ge,r),Promise.resolve(Ti.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(i,r){if(!this._foreignModule||typeof this._foreignModule[i]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+i));try{return Promise.resolve(this._foreignModule[i].apply(this._foreignModule,r))}catch(S){return Promise.reject(S)}}}an._diffLimit=1e5,an._suggestionsLimit=1e4;function zn(D){return new an(D,null)}typeof importScripts=="function"&&(Di.li.monaco=Ce());var Kn=t(51200),is=t(33187),mn=t(9488),Qn=t(43557),Bn=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},An=function(D,i){return function(r,S){i(r,S,D)}},On=function(D,i,r,S){function K(te){return te instanceof r?te:new r(function(ge){ge(te)})}return new(r||(r=Promise))(function(te,ge){function De(St){try{gt(S.next(St))}catch(Vt){ge(Vt)}}function it(St){try{gt(S.throw(St))}catch(Vt){ge(Vt)}}function gt(St){St.done?te(St.value):K(St.value).then(De,it)}gt((S=S.apply(D,i||[])).next())})};const qn=60*1e3,Hn=5*60*1e3;function sn(D,i){let r=D.getModel(i);return!(!r||r.isTooLargeForSyncing())}let Lt=class extends ni.JT{constructor(i,r,S){super(),this._modelService=i,this._workerManager=this._register(new me(this._modelService)),this._logService=S,this._register(Ze.pM.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(K,te)=>sn(this._modelService,K.uri)?this._workerManager.withWorker().then(ge=>ge.computeLinks(K.uri)).then(ge=>ge&&{links:ge}):Promise.resolve({links:[]})})),this._register(Ze.KZ.register("*",new U(this._workerManager,r,this._modelService)))}dispose(){super.dispose()}computeDiff(i,r,S,K){return this._workerManager.withWorker().then(te=>te.computeDiff(i,r,S,K))}computeMoreMinimalEdits(i,r){if((0,mn.Of)(r)){if(!sn(this._modelService,i))return Promise.resolve(r);const S=Ln.G.create(!0),K=this._workerManager.withWorker().then(te=>te.computeMoreMinimalEdits(i,r));return K.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",i.toString(!0),S.elapsed())),Promise.race([K,(0,oi.Vs)(1e3).then(()=>r)])}else return Promise.resolve(void 0)}canNavigateValueSet(i){return sn(this._modelService,i)}navigateValueSet(i,r,S){return this._workerManager.withWorker().then(K=>K.navigateValueSet(i,r,S))}canComputeWordRanges(i){return sn(this._modelService,i)}computeWordRanges(i,r){return this._workerManager.withWorker().then(S=>S.computeWordRanges(i,r))}};Lt=Bn([An(0,Kn.q),An(1,is.V),An(2,Qn.VZ)],Lt);class U{constructor(i,r,S){this._debugDisplayName="wordbasedCompletions",this._workerManager=i,this._configurationService=r,this._modelService=S}provideCompletionItems(i,r){return On(this,void 0,void 0,function*(){const S=this._configurationService.getValue(i.uri,r,"editor");if(!S.wordBasedSuggestions)return;const K=[];if(S.wordBasedSuggestionsMode==="currentDocument")sn(this._modelService,i.uri)&&K.push(i.uri);else for(const Vt of this._modelService.getModels())sn(this._modelService,Vt.uri)&&(Vt===i?K.unshift(Vt.uri):(S.wordBasedSuggestionsMode==="allDocuments"||Vt.getLanguageId()===i.getLanguageId())&&K.push(Vt.uri));if(K.length===0)return;const te=de.zu.getWordDefinition(i.getLanguageId()),ge=i.getWordAtPosition(r),De=ge?new x.e(r.lineNumber,ge.startColumn,r.lineNumber,ge.endColumn):x.e.fromPositions(r),it=De.setEndPosition(r.lineNumber,r.column),St=yield(yield this._workerManager.withWorker()).textualSuggest(K,ge==null?void 0:ge.word,te);if(St)return{duration:St.duration,suggestions:St.words.map(Vt=>({kind:18,label:Vt,insertText:Vt,range:{insert:it,replace:De}}))}})}}class me extends ni.JT{constructor(i){super(),this._modelService=i,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new oi.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Hn/2)),this._register(this._modelService.onModelRemoved(S=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>Hn&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new wt(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class Ee extends ni.JT{constructor(i,r,S){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=i,this._modelService=r,!S){let K=new oi.zh;K.cancelAndSet(()=>this._checkStopModelSync(),Math.round(qn/2)),this._register(K)}}dispose(){for(let i in this._syncedModels)(0,ni.B9)(this._syncedModels[i]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(i,r){for(const S of i){let K=S.toString();this._syncedModels[K]||this._beginModelSync(S,r),this._syncedModels[K]&&(this._syncedModelsLastUsedTime[K]=new Date().getTime())}}_checkStopModelSync(){let i=new Date().getTime(),r=[];for(let S in this._syncedModelsLastUsedTime)i-this._syncedModelsLastUsedTime[S]>qn&&r.push(S);for(const S of r)this._stopModelSync(S)}_beginModelSync(i,r){let S=this._modelService.getModel(i);if(!S||!r&&S.isTooLargeForSyncing())return;let K=i.toString();this._proxy.acceptNewModel({url:S.uri.toString(),lines:S.getLinesContent(),EOL:S.getEOL(),versionId:S.getVersionId()});const te=new ni.SL;te.add(S.onDidChangeContent(ge=>{this._proxy.acceptModelChanged(K.toString(),ge)})),te.add(S.onWillDispose(()=>{this._stopModelSync(K)})),te.add((0,ni.OF)(()=>{this._proxy.acceptRemovedModel(K)})),this._syncedModels[K]=te}_stopModelSync(i){let r=this._syncedModels[i];delete this._syncedModels[i],delete this._syncedModelsLastUsedTime[i],(0,ni.B9)(r)}}class $e{constructor(i){this._instance=i,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class et{constructor(i){this._workerClient=i}fhr(i,r){return this._workerClient.fhr(i,r)}}class wt extends ni.JT{constructor(i,r,S){super(),this._disposed=!1,this._modelService=i,this._keepIdleModels=r,this._workerFactory=new tt(S),this._worker=null,this._modelManager=null}fhr(i,r){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Pe(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new et(this)))}catch(i){Gt(i),this._worker=new $e(new an(new et(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,i=>(Gt(i),this._worker=new $e(new an(new et(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(i){return this._modelManager||(this._modelManager=this._register(new Ee(i,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(i,r=!1){return On(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,hi.F0)()):this._getProxy().then(S=>(this._getOrCreateModelManager(S).ensureSyncedResources(i,r),S))})}computeDiff(i,r,S,K){return this._withSyncedResources([i,r],!0).then(te=>te.computeDiff(i.toString(),r.toString(),S,K))}computeMoreMinimalEdits(i,r){return this._withSyncedResources([i]).then(S=>S.computeMoreMinimalEdits(i.toString(),r))}computeLinks(i){return this._withSyncedResources([i]).then(r=>r.computeLinks(i.toString()))}textualSuggest(i,r,S){return On(this,void 0,void 0,function*(){const K=yield this._withSyncedResources(i),te=S.source,ge=(0,Ii.mr)(S);return K.textualSuggest(i.map(De=>De.toString()),r,te,ge)})}computeWordRanges(i,r){return this._withSyncedResources([i]).then(S=>{let K=this._modelService.getModel(i);if(!K)return Promise.resolve(null);let te=de.zu.getWordDefinition(K.getLanguageId()),ge=te.source,De=(0,Ii.mr)(te);return S.computeWordRanges(i.toString(),r,ge,De)})}navigateValueSet(i,r,S){return this._withSyncedResources([i]).then(K=>{let te=this._modelService.getModel(i);if(!te)return null;let ge=de.zu.getWordDefinition(te.getLanguageId()),De=ge.source,it=(0,Ii.mr)(ge);return K.navigateValueSet(i.toString(),r,S,De,it)})}dispose(){super.dispose(),this._disposed=!0}}function Rt(D,i){return new ti(D,i)}class ti extends wt{constructor(i,r){super(i,r.keepIdleModels||!1,r.label),this._foreignModuleId=r.moduleId,this._foreignModuleCreateData=r.createData||null,this._foreignModuleHost=r.host||null,this._foreignProxy=null}fhr(i,r){if(!this._foreignModuleHost||typeof this._foreignModuleHost[i]!="function")return Promise.reject(new Error("Missing method "+i+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[i].apply(this._foreignModuleHost,r))}catch(S){return Promise.reject(S)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(i=>{const r=this._foreignModuleHost?Ti.$E(this._foreignModuleHost):[];return i.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,r).then(S=>{this._foreignModuleCreateData=null;const K=(De,it)=>i.fmr(De,it),te=(De,it)=>function(){const gt=Array.prototype.slice.call(arguments,0);return it(De,gt)};let ge={};for(const De of S)ge[De]=te(De,K);return ge})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(i){return this._withSyncedResources(i).then(r=>this.getProxy())}}var fi=t(78411),ii=t(77736),bt=t(13824);function B(D){return Array.isArray(D)}function _e(D){return!B(D)}function We(D){return typeof D=="string"}function rt(D){return!We(D)}function yt(D){return!D}function Ht(D,i){return D.ignoreCase&&i?i.toLowerCase():i}function Qt(D){return D.replace(/[&<>'"_]/g,"-")}function ei(D,i){console.log(`${D.languageId}: ${i}`)}function ri(D,i){return new Error(`${D.languageId}: ${i}`)}function gi(D,i,r,S,K){const te=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let ge=null;return i.replace(te,function(De,it,gt,St,Vt,vi,Yi,$i,cn){return yt(gt)?yt(St)?!yt(Vt)&&Vt<S.length?Ht(D,S[Vt]):!yt(Yi)&&D&&typeof D[Yi]=="string"?D[Yi]:(ge===null&&(ge=K.split("."),ge.unshift(K)),!yt(vi)&&vi<ge.length?Ht(D,ge[vi]):""):Ht(D,r):"$"})}function Mi(D,i){let r=i;for(;r&&r.length>0;){const S=D.tokenizer[r];if(S)return S;const K=r.lastIndexOf(".");K<0?r=null:r=r.substr(0,K)}return null}function Ei(D,i){let r=i;for(;r&&r.length>0;){if(D.stateNames[r])return!0;const K=r.lastIndexOf(".");K<0?r=null:r=r.substr(0,K)}return!1}const xi=5;class Pi{constructor(i){this._maxCacheDepth=i,this._entries=Object.create(null)}static create(i,r){return this._INSTANCE.create(i,r)}create(i,r){if(i!==null&&i.depth>=this._maxCacheDepth)return new ki(i,r);let S=ki.getStackElementId(i);S.length>0&&(S+="|"),S+=r;let K=this._entries[S];return K||(K=new ki(i,r),this._entries[S]=K,K)}}Pi._INSTANCE=new Pi(xi);class ki{constructor(i,r){this.parent=i,this.state=r,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(i){let r="";for(;i!==null;)r.length>0&&(r+="|"),r+=i.state,i=i.parent;return r}static _equals(i,r){for(;i!==null&&r!==null;){if(i===r)return!0;if(i.state!==r.state)return!1;i=i.parent,r=r.parent}return i===null&&r===null}equals(i){return ki._equals(this,i)}push(i){return Pi.create(this,i)}pop(){return this.parent}popall(){let i=this;for(;i.parent;)i=i.parent;return i}switchTo(i){return Pi.create(this.parent,i)}}class Bi{constructor(i,r){this.languageId=i,this.state=r}equals(i){return this.languageId===i.languageId&&this.state.equals(i.state)}clone(){return this.state.clone()===this.state?this:new Bi(this.languageId,this.state)}}class on{constructor(i){this._maxCacheDepth=i,this._entries=Object.create(null)}static create(i,r){return this._INSTANCE.create(i,r)}create(i,r){if(r!==null)return new jn(i,r);if(i!==null&&i.depth>=this._maxCacheDepth)return new jn(i,r);let S=ki.getStackElementId(i),K=this._entries[S];return K||(K=new jn(i,null),this._entries[S]=K,K)}}on._INSTANCE=new on(xi);class jn{constructor(i,r){this.stack=i,this.embeddedModeData=r}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:on.create(this.stack,this.embeddedModeData)}equals(i){return!(i instanceof jn)||!this.stack.equals(i.stack)?!1:this.embeddedModeData===null&&i.embeddedModeData===null?!0:this.embeddedModeData===null||i.embeddedModeData===null?!1:this.embeddedModeData.equals(i.embeddedModeData)}}class hs{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(i,r){this._languageId=r}emit(i,r){this._lastTokenType===r&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=r,this._lastTokenLanguage=this._languageId,this._tokens.push(new s.WU(i,r,this._languageId)))}nestedModeTokenize(i,r,S,K){const te=S.languageId,ge=S.state,De=Ze.RW.get(te);if(!De)return this.enterMode(K,te),this.emit(K,""),ge;let it=De.tokenize(i,r,ge,K);return this._tokens=this._tokens.concat(it.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,it.endState}finalize(i){return new s.hG(this._tokens,i)}}class tn{constructor(i,r){this._modeService=i,this._theme=r,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(i,r){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(r)}emit(i,r){let S=this._theme.match(this._currentLanguageId,r);this._lastTokenMetadata!==S&&(this._lastTokenMetadata=S,this._tokens.push(i),this._tokens.push(S))}static _merge(i,r,S){let K=i!==null?i.length:0,te=r.length,ge=S!==null?S.length:0;if(K===0&&te===0&&ge===0)return new Uint32Array(0);if(K===0&&te===0)return S;if(te===0&&ge===0)return i;let De=new Uint32Array(K+te+ge);i!==null&&De.set(i);for(let it=0;it<te;it++)De[K+it]=r[it];return S!==null&&De.set(S,K+te),De}nestedModeTokenize(i,r,S,K){const te=S.languageId,ge=S.state,De=Ze.RW.get(te);if(!De)return this.enterMode(K,te),this.emit(K,""),ge;let it=De.tokenize2(i,r,ge,K);return this._prependTokens=tn._merge(this._prependTokens,this._tokens,it.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,it.endState}finalize(i){return new s.Hi(tn._merge(this._prependTokens,this._tokens,null),i)}}class pn{constructor(i,r,S,K){this._modeService=i,this._standaloneThemeService=r,this._languageId=S,this._lexer=K,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let te=!1;this._tokenizationRegistryListener=Ze.RW.onDidChange(ge=>{if(te)return;let De=!1;for(let it=0,gt=ge.changedLanguages.length;it<gt;it++){let St=ge.changedLanguages[it];if(this._embeddedModes[St]){De=!0;break}}De&&(te=!0,Ze.RW.fire([this._languageId]),te=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let i=[];for(let r in this._embeddedModes){const S=Ze.RW.get(r);if(S){if(S instanceof pn){const te=S.getLoadStatus();te.loaded===!1&&i.push(te.promise)}continue}const K=Ze.RW.getPromise(r);K&&i.push(K)}return i.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(i).then(r=>{})}}getInitialState(){let i=Pi.create(null,this._lexer.start);return on.create(i,null)}tokenize(i,r,S,K){let te=new hs,ge=this._tokenize(i,r,S,K,te);return te.finalize(ge)}tokenize2(i,r,S,K){let te=new tn(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),ge=this._tokenize(i,r,S,K,te);return te.finalize(ge)}_tokenize(i,r,S,K,te){return S.embeddedModeData?this._nestedTokenize(i,r,S,K,te):this._myTokenize(i,r,S,K,te)}_findLeavingNestedModeOffset(i,r){let S=this._lexer.tokenizer[r.stack.state];if(!S&&(S=Mi(this._lexer,r.stack.state),!S))throw ri(this._lexer,"tokenizer state is not defined: "+r.stack.state);let K=-1,te=!1;for(const ge of S){if(!rt(ge.action)||ge.action.nextEmbedded!=="@pop")continue;te=!0;let De=ge.regex,it=ge.regex.source;if(it.substr(0,4)==="^(?:"&&it.substr(it.length-1,1)===")"){let St=(De.ignoreCase?"i":"")+(De.unicode?"u":"");De=new RegExp(it.substr(4,it.length-5),St)}let gt=i.search(De);gt===-1||gt!==0&&ge.matchOnlyAtLineStart||(K===-1||gt<K)&&(K=gt)}if(!te)throw ri(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+r.stack.state);return K}_nestedTokenize(i,r,S,K,te){let ge=this._findLeavingNestedModeOffset(i,S);if(ge===-1){let gt=te.nestedModeTokenize(i,r,S.embeddedModeData,K);return on.create(S.stack,new Bi(S.embeddedModeData.languageId,gt))}let De=i.substring(0,ge);De.length>0&&te.nestedModeTokenize(De,!1,S.embeddedModeData,K);let it=i.substring(ge);return this._myTokenize(it,r,S,K+ge,te)}_safeRuleName(i){return i?i.name:"(unknown)"}_myTokenize(i,r,S,K,te){te.enterMode(K,this._languageId);const ge=i.length,De=r&&this._lexer.includeLF?i+`
`:i,it=De.length;let gt=S.embeddedModeData,St=S.stack,Vt=0,vi=null,Yi=!0;for(;Yi||Vt<it;){const $i=Vt,cn=St.depth,un=vi?vi.groups.length:0,Gn=St.state;let Nn=null,fn=null,En=null,Is=null,go=null;if(vi){Nn=vi.matches;const Vn=vi.groups.shift();fn=Vn.matched,En=Vn.action,Is=vi.rule,vi.groups.length===0&&(vi=null)}else{if(!Yi&&Vt>=it)break;Yi=!1;let Vn=this._lexer.tokenizer[Gn];if(!Vn&&(Vn=Mi(this._lexer,Gn),!Vn))throw ri(this._lexer,"tokenizer state is not defined: "+Gn);let gn=De.substr(Vt);for(const gs of Vn)if((Vt===0||!gs.matchOnlyAtLineStart)&&(Nn=gn.match(gs.regex),Nn)){fn=Nn[0],En=gs.action;break}}if(Nn||(Nn=[""],fn=""),En||(Vt<it&&(Nn=[De.charAt(Vt)],fn=Nn[0]),En=this._lexer.defaultToken),fn===null)break;for(Vt+=fn.length;_e(En)&&rt(En)&&En.test;)En=En.test(fn,Nn,Gn,Vt===it);let ts=null;if(typeof En=="string"||Array.isArray(En))ts=En;else if(En.group)ts=En.group;else if(En.token!==null&&En.token!==void 0){if(En.tokenSubst?ts=gi(this._lexer,En.token,fn,Nn,Gn):ts=En.token,En.nextEmbedded)if(En.nextEmbedded==="@pop"){if(!gt)throw ri(this._lexer,"cannot pop embedded mode if not inside one");gt=null}else{if(gt)throw ri(this._lexer,"cannot enter embedded mode from within an embedded mode");go=gi(this._lexer,En.nextEmbedded,fn,Nn,Gn)}if(En.goBack&&(Vt=Math.max(0,Vt-En.goBack)),En.switchTo&&typeof En.switchTo=="string"){let Vn=gi(this._lexer,En.switchTo,fn,Nn,Gn);if(Vn[0]==="@"&&(Vn=Vn.substr(1)),Mi(this._lexer,Vn))St=St.switchTo(Vn);else throw ri(this._lexer,"trying to switch to a state '"+Vn+"' that is undefined in rule: "+this._safeRuleName(Is))}else{if(En.transform&&typeof En.transform=="function")throw ri(this._lexer,"action.transform not supported");if(En.next)if(En.next==="@push"){if(St.depth>=this._lexer.maxStack)throw ri(this._lexer,"maximum tokenizer stack size reached: ["+St.state+","+St.parent.state+",...]");St=St.push(Gn)}else if(En.next==="@pop"){if(St.depth<=1)throw ri(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Is));St=St.pop()}else if(En.next==="@popall")St=St.popall();else{let Vn=gi(this._lexer,En.next,fn,Nn,Gn);if(Vn[0]==="@"&&(Vn=Vn.substr(1)),Mi(this._lexer,Vn))St=St.push(Vn);else throw ri(this._lexer,"trying to set a next state '"+Vn+"' that is undefined in rule: "+this._safeRuleName(Is))}}En.log&&typeof En.log=="string"&&ei(this._lexer,this._lexer.languageId+": "+gi(this._lexer,En.log,fn,Nn,Gn))}if(ts===null)throw ri(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Is));const Xo=Vn=>{let gn=this._modeService.getModeIdForLanguageName(Vn);gn&&(Vn=gn);const gs=this._getNestedEmbeddedModeData(Vn);if(Vt<it){const Eo=i.substr(Vt);return this._nestedTokenize(Eo,r,on.create(St,gs),K+Vt,te)}else return on.create(St,gs)};if(Array.isArray(ts)){if(vi&&vi.groups.length>0)throw ri(this._lexer,"groups cannot be nested: "+this._safeRuleName(Is));if(Nn.length!==ts.length+1)throw ri(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Is));let Vn=0;for(let gn=1;gn<Nn.length;gn++)Vn+=Nn[gn].length;if(Vn!==fn.length)throw ri(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Is));vi={rule:Is,matches:Nn,groups:[]};for(let gn=0;gn<ts.length;gn++)vi.groups[gn]={action:ts[gn],matched:Nn[gn+1]};Vt-=fn.length;continue}else{if(ts==="@rematch"&&(Vt-=fn.length,fn="",Nn=null,ts="",go!==null))return Xo(go);if(fn.length===0){if(it===0||cn!==St.depth||Gn!==St.state||(vi?vi.groups.length:0)!==un)continue;throw ri(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Is))}let Vn=null;if(We(ts)&&ts.indexOf("@brackets")===0){let gn=ts.substr(9),gs=kn(this._lexer,fn);if(!gs)throw ri(this._lexer,"@brackets token returned but no bracket defined as: "+fn);Vn=Qt(gs.token+gn)}else{let gn=ts===""?"":ts+this._lexer.tokenPostfix;Vn=Qt(gn)}$i<ge&&te.emit($i+K,Vn)}if(go!==null)return Xo(go)}return on.create(St,gt)}_getNestedEmbeddedModeData(i){let r=this._locateMode(i);if(r){let S=Ze.RW.get(r);if(S)return new Bi(r,S.getInitialState())}return new Bi(r||Ae.TG,Ae.nO)}_locateMode(i){if(!i||!this._modeService.isRegisteredMode(i))return null;if(i===this._languageId)return i;const r=this._modeService.getModeId(i);return r&&(this._modeService.triggerMode(r),this._embeddedModes[r]=!0),r}}function kn(D,i){if(!i)return null;i=Ht(D,i);let r=D.brackets;for(const S of r){if(S.open===i)return{token:S.token,bracketType:1};if(S.close===i)return{token:S.token,bracketType:-1}}return null}function Qi(D,i,r,S){return new pn(D,i,r,S)}var nn;const Wn=(nn=window.trustedTypes)===null||nn===void 0?void 0:nn.createPolicy("standaloneColorizer",{createHTML:D=>D});class vs{static colorizeElement(i,r,S,K){K=K||{};let te=K.theme||"vs",ge=K.mimeType||S.getAttribute("lang")||S.getAttribute("data-lang");if(!ge)return console.error("Mode not detected"),Promise.resolve();i.setTheme(te);let De=S.firstChild?S.firstChild.nodeValue:"";S.className+=" "+te;let it=gt=>{var St;const Vt=(St=Wn==null?void 0:Wn.createHTML(gt))!==null&&St!==void 0?St:gt;S.innerHTML=Vt};return this.colorize(r,De||"",ge,K).then(it,gt=>console.error(gt))}static colorize(i,r,S,K){const te=i.languageIdCodec;let ge=4;K&&typeof K.tabSize=="number"&&(ge=K.tabSize),Ii.uS(r)&&(r=r.substr(1));let De=Ii.uq(r),it=i.getModeId(S);if(!it)return Promise.resolve(ds(De,ge,te));i.triggerMode(it);const gt=Ze.RW.get(it);if(gt)return ys(De,ge,gt,te);const St=Ze.RW.getPromise(it);return St?new Promise((Vt,vi)=>{St.then(Yi=>{ys(De,ge,Yi,te).then(Vt,vi)},vi)}):new Promise((Vt,vi)=>{let Yi=null,$i=null;const cn=()=>{Yi&&(Yi.dispose(),Yi=null),$i&&($i.dispose(),$i=null);const un=Ze.RW.get(it);if(un){ys(De,ge,un,te).then(Vt,vi);return}Vt(ds(De,ge,te))};$i=new oi._F,$i.cancelAndSet(cn,500),Yi=Ze.RW.onDidChange(un=>{un.changedLanguages.indexOf(it)>=0&&cn()})})}static colorizeLine(i,r,S,K,te=4){const ge=bt.wA.isBasicASCII(i,r),De=bt.wA.containsRTL(i,ge,S);return(0,ii.tF)(new ii.IJ(!1,!0,i,!1,ge,De,0,K,[],te,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(i,r,S=4){let K=i.getLineContent(r);i.forceTokenization(r);let ge=i.getLineTokens(r).inflate();return this.colorizeLine(K,i.mightContainNonBasicASCII(),i.mightContainRTL(),ge,S)}}function ys(D,i,r,S){return new Promise((K,te)=>{const ge=()=>{const De=ms(D,i,r,S);if(r instanceof pn){const it=r.getLoadStatus();if(it.loaded===!1){it.promise.then(ge,te);return}}K(De)};ge()})}function ds(D,i,r){let S=[];const te=new Uint32Array(2);te[0]=0,te[1]=16793600;for(let ge=0,De=D.length;ge<De;ge++){let it=D[ge];te[0]=it.length;const gt=new fi.A(te,it,r),St=bt.wA.isBasicASCII(it,!0),Vt=bt.wA.containsRTL(it,St,!0);let vi=(0,ii.tF)(new ii.IJ(!1,!0,it,!1,St,Vt,0,gt,[],i,0,0,0,0,-1,"none",!1,!1,null));S=S.concat(vi.html),S.push("<br/>")}return S.join("")}function ms(D,i,r,S){let K=[],te=r.getInitialState();for(let ge=0,De=D.length;ge<De;ge++){let it=D[ge],gt=r.tokenize2(it,!0,te,0);fi.A.convertToEndOffset(gt.tokens,it.length);let St=new fi.A(gt.tokens,it,S);const Vt=bt.wA.isBasicASCII(it,!0),vi=bt.wA.containsRTL(it,Vt,!0);let Yi=(0,ii.tF)(new ii.IJ(!1,!0,it,!1,Vt,vi,0,St.inflate(),[],i,0,0,0,0,-1,"none",!1,!1,null));K=K.concat(Yi.html),K.push("<br/>"),te=gt.endState}return K.join("")}var cs=t(59069),us=t(8313),os=t(14603),to=t(65520),rn=t(66007),li=t(56345),Oi=t(69386),Hi=t(33108),vn=t(36248),ns=t(23193);class Rn{constructor(i={},r=[],S=[]){this._contents=i,this._keys=r,this._overrides=S,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(i){return i?(0,Hi.Mt)(this.contents,i):this.contents}override(i){let r=this.overrideConfigurations.get(i);return r||(r=this.createOverrideConfigurationModel(i),this.overrideConfigurations.set(i,r)),r}merge(...i){const r=vn.I8(this.contents),S=vn.I8(this.overrides),K=[...this.keys];for(const te of i){this.mergeContents(r,te.contents);for(const ge of te.overrides){const[De]=S.filter(it=>mn.fS(it.identifiers,ge.identifiers));De?this.mergeContents(De.contents,ge.contents):S.push(vn.I8(ge))}for(const ge of te.keys)K.indexOf(ge)===-1&&K.push(ge)}return new Rn(r,K,S)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(i){const r=this.getContentsForOverrideIdentifer(i);if(!r||typeof r!="object"||!Object.keys(r).length)return this;let S={};for(const K of mn.EB([...Object.keys(this.contents),...Object.keys(r)])){let te=this.contents[K],ge=r[K];ge&&(typeof te=="object"&&typeof ge=="object"?(te=vn.I8(te),this.mergeContents(te,ge)):te=ge),S[K]=te}return new Rn(S,this.keys,this.overrides)}mergeContents(i,r){for(const S of Object.keys(r)){if(S in i&&Ti.Kn(i[S])&&Ti.Kn(r[S])){this.mergeContents(i[S],r[S]);continue}i[S]=vn.I8(r[S])}}checkAndFreeze(i){return this.isFrozen&&!Object.isFrozen(i)?vn._A(i):i}getContentsForOverrideIdentifer(i){for(const r of this.overrides)if(r.identifiers.indexOf(i)!==-1)return r.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(i,r){this.addKey(i),(0,Hi.KV)(this.contents,i,r,S=>{throw new Error(S)})}removeValue(i){this.removeKey(i)&&(0,Hi.xL)(this.contents,i)}addKey(i){let r=this.keys.length;for(let S=0;S<r;S++)i.indexOf(this.keys[S])===0&&(r=S);this.keys.splice(r,1,i)}removeKey(i){let r=this.keys.indexOf(i);return r!==-1?(this.keys.splice(r,1),!0):!1}}class lt extends Rn{constructor(){const i=(0,Hi.O4)(),r=(0,Hi.MR)(),S=[];for(const K of Object.keys(i))ns.G1.test(K)&&S.push({identifiers:[(0,ns.Uh)(K).trim()],keys:Object.keys(i[K]),contents:(0,Hi.Od)(i[K],te=>console.error(`Conflict in default settings file: ${te}`))});super(i,r,S)}}class _{constructor(i,r,S=new Rn,K=new Rn,te=new Ve.Y9,ge=new Rn,De=new Ve.Y9,it=!0){this._defaultConfiguration=i,this._localUserConfiguration=r,this._remoteUserConfiguration=S,this._workspaceConfiguration=K,this._folderConfigurations=te,this._memoryConfiguration=ge,this._memoryConfigurationByResource=De,this._freeze=it,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ve.Y9,this._userConfiguration=null}getValue(i,r,S){return this.getConsolidateConfigurationModel(r,S).getValue(i)}updateValue(i,r,S={}){let K;S.resource?(K=this._memoryConfigurationByResource.get(S.resource),K||(K=new Rn,this._memoryConfigurationByResource.set(S.resource,K))):K=this._memoryConfiguration,r===void 0?K.removeValue(i):K.setValue(i,r),S.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(i,r){let S=this.getConsolidatedConfigurationModelForResource(i,r);return i.overrideIdentifier?S.override(i.overrideIdentifier):S}getConsolidatedConfigurationModelForResource({resource:i},r){let S=this.getWorkspaceConsolidatedConfiguration();if(r&&i){const K=r.getFolder(i);K&&(S=this.getFolderConsolidatedConfiguration(K.uri)||S);const te=this._memoryConfigurationByResource.get(i);te&&(S=S.merge(te))}return S}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(i){let r=this._foldersConsolidatedConfigurations.get(i);if(!r){const S=this.getWorkspaceConsolidatedConfiguration(),K=this._folderConfigurations.get(i);K?(r=S.merge(K),this._freeze&&(r=r.freeze()),this._foldersConsolidatedConfigurations.set(i,r)):r=S}return r}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((i,r)=>{const{contents:S,overrides:K,keys:te}=this._folderConfigurations.get(r);return i.push([r,{contents:S,overrides:K,keys:te}]),i},[])}}static parse(i){const r=this.parseConfigurationModel(i.defaults),S=this.parseConfigurationModel(i.user),K=this.parseConfigurationModel(i.workspace),te=i.folders.reduce((ge,De)=>(ge.set(w.o.revive(De[0]),this.parseConfigurationModel(De[1])),ge),new Ve.Y9);return new _(r,S,new Rn,K,te,new Rn,new Ve.Y9,!1)}static parseConfigurationModel(i){return new Rn(i.contents,i.keys,i.overrides).freeze()}}class P{constructor(i,r,S,K){this.change=i,this.previous=r,this.currentConfiguraiton=S,this.currentWorkspace=K,this._previousConfiguration=void 0;const te=new Set;i.keys.forEach(De=>te.add(De)),i.overrides.forEach(([,De])=>De.forEach(it=>te.add(it))),this.affectedKeys=[...te.values()];const ge=new Rn;this.affectedKeys.forEach(De=>ge.setValue(De,{})),this.affectedKeysTree=ge.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=_.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(i,r){var S;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,i)){if(r){const K=this.previousConfiguration?this.previousConfiguration.getValue(i,r,(S=this.previous)===null||S===void 0?void 0:S.workspace):void 0,te=this.currentConfiguraiton.getValue(i,r,this.currentWorkspace);return!vn.fS(K,te)}return!0}return!1}doesAffectedKeysTreeContains(i,r){let S=(0,Hi.Od)({[r]:!0},()=>{}),K;for(;typeof S=="object"&&(K=Object.keys(S)[0]);){if(i=i[K],!i)return!1;S=S[K]}return!0}}var Z=t(63580);const ve=/^(cursor|delete)/;class Ne extends ni.JT{constructor(i,r,S,K,te){super(),this._contextKeyService=i,this._commandService=r,this._telemetryService=S,this._notificationService=K,this._logService=te,this._onDidUpdateKeybindings=this._register(new k.Q5),this._currentChord=null,this._currentChordChecker=new oi.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Ue.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new oi._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:k.ju.None}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,r){const S=this._getResolver().lookupPrimaryKeybinding(i,r||this._contextKeyService);if(S)return S.resolvedKeybinding}dispatchEvent(i,r){return this._dispatch(i,r)}softDispatch(i,r){const S=this.resolveKeyboardEvent(i);if(S.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[K]=S.getDispatchParts();if(K===null)return null;const te=this._contextKeyService.getContext(r),ge=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(te,ge,K)}_enterChordMode(i,r){this._currentChord={keypress:i,label:r},this._currentChordStatusMessage=this._notificationService.status(Z.N("first.chord","({0}) was pressed. Waiting for second key of chord...",r));const S=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-S>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(i,r){return this._doDispatch(this.resolveKeyboardEvent(i),r,!1)}_singleModifierDispatch(i,r){const S=this.resolveKeyboardEvent(i),[K]=S.getSingleModifierDispatchParts();if(K)return this._ignoreSingleModifiers.has(K)?(this._log(`+ Ignoring single modifier ${K} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Ue.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Ue.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${K}.`),this._currentSingleModifier=K,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):K===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${K} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(S,r,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[te]=S.getParts();return this._ignoreSingleModifiers=new Ue(te),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,r,S=!1){let K=!1;if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let te=null,ge=null;if(S){const[St]=i.getSingleModifierDispatchParts();te=St,ge=St}else[te]=i.getDispatchParts(),ge=this._currentChord?this._currentChord.keypress:null;if(te===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),K;const De=this._contextKeyService.getContext(r),it=i.getLabel(),gt=this._getResolver().resolve(De,ge,te);return this._logService.trace("KeybindingService#dispatch",it,gt==null?void 0:gt.commandId),gt&&gt.enterChord?(K=!0,this._enterChordMode(te,it),K):(this._currentChord&&(!gt||!gt.commandId)&&(this._notificationService.status(Z.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,it),{hideAfter:10*1e3}),K=!0),this._leaveChordMode(),gt&&gt.commandId&&(gt.bubble||(K=!0),typeof gt.commandArgs=="undefined"?this._commandService.executeCommand(gt.commandId).then(void 0,St=>this._notificationService.warn(St)):this._commandService.executeCommand(gt.commandId,gt.commandArgs).then(void 0,St=>this._notificationService.warn(St)),ve.test(gt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:gt.commandId,from:"keybinding"})),K)}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}class Ue{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Ue.EMPTY=new Ue(null);var vt=t(38819);class Dt{constructor(i,r,S){this._log=S,this._defaultKeybindings=i,this._defaultBoundCommands=new Map;for(let K=0,te=i.length;K<te;K++){const ge=i[K].command;ge&&this._defaultBoundCommands.set(ge,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Dt.combine(i,r);for(let K=0,te=this._keybindings.length;K<te;K++){let ge=this._keybindings[K];ge.keypressParts.length!==0&&(ge.when&&ge.when.type===0||this._addKeyPress(ge.keypressParts[0],ge))}}static _isTargetedForRemoval(i,r,S,K,te){return!(i.command!==K||r&&i.keypressParts[0]!==r||S&&i.keypressParts[1]!==S||te&&(!i.when||!(0,vt.Fb)(te,i.when)))}static combine(i,r){i=i.slice(0);let S=[];for(const K of r){if(!K.command||K.command.length===0||K.command.charAt(0)!=="-"){S.push(K);continue}const te=K.command.substr(1),ge=K.keypressParts[0],De=K.keypressParts[1],it=K.when;for(let gt=i.length-1;gt>=0;gt--)this._isTargetedForRemoval(i[gt],ge,De,te,it)&&i.splice(gt,1)}return i.concat(S)}_addKeyPress(i,r){const S=this._map.get(i);if(typeof S=="undefined"){this._map.set(i,[r]),this._addToLookupMap(r);return}for(let K=S.length-1;K>=0;K--){let te=S[K];if(te.command===r.command)continue;const ge=te.keypressParts.length>1,De=r.keypressParts.length>1;ge&&De&&te.keypressParts[1]!==r.keypressParts[1]||Dt.whenIsEntirelyIncluded(te.when,r.when)&&this._removeFromLookupMap(te)}S.push(r),this._addToLookupMap(r)}_addToLookupMap(i){if(!i.command)return;let r=this._lookupMap.get(i.command);typeof r=="undefined"?(r=[i],this._lookupMap.set(i.command,r)):r.push(i)}_removeFromLookupMap(i){if(!i.command)return;let r=this._lookupMap.get(i.command);if(typeof r!="undefined"){for(let S=0,K=r.length;S<K;S++)if(r[S]===i){r.splice(S,1);return}}}static whenIsEntirelyIncluded(i,r){return!r||r.type===1?!0:!i||i.type===1?!1:(0,vt.K8)(i,r)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(i,r){const S=this._lookupMap.get(i);if(typeof S=="undefined"||S.length===0)return null;if(S.length===1)return S[0];for(let K=S.length-1;K>=0;K--){const te=S[K];if(r.contextMatchesRules(te.when))return te}return S[S.length-1]}resolve(i,r,S){this._log(`| Resolving ${S}${r?` chorded from ${r}`:""}`);let K=null;if(r!==null){const ge=this._map.get(r);if(typeof ge=="undefined")return this._log("\\ No keybinding entries."),null;K=[];for(let De=0,it=ge.length;De<it;De++){let gt=ge[De];gt.keypressParts[1]===S&&K.push(gt)}}else{const ge=this._map.get(S);if(typeof ge=="undefined")return this._log("\\ No keybinding entries."),null;K=ge}let te=this._findCommand(i,K);return te?r===null&&te.keypressParts.length>1&&te.keypressParts[1]!==null?(this._log(`\\ From ${K.length} keybinding entries, matched chord, when: ${Ft(te.when)}, source: ${At(te)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${K.length} keybinding entries, matched ${te.command}, when: ${Ft(te.when)}, source: ${At(te)}.`),{enterChord:!1,leaveChord:te.keypressParts.length>1,commandId:te.command,commandArgs:te.commandArgs,bubble:te.bubble}):(this._log(`\\ From ${K.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(i,r){for(let S=r.length-1;S>=0;S--){let K=r[S];if(Dt.contextMatchesRules(i,K.when))return K}return null}static contextMatchesRules(i,r){return r?r.evaluate(i):!0}}function Ft(D){return D?`${D.serialize()}`:"no when condition"}function At(D){return D.extensionId?D.isBuiltinExtension?`built-in extension ${D.extensionId}`:`user extension ${D.extensionId}`:D.isDefault?"built-in":"user"}var Ut=t(49989);class Yt{constructor(i,r,S,K,te,ge,De){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=i,this.keypressParts=i?si(i.getDispatchParts()):[],i&&this.keypressParts.length===0&&(this.keypressParts=si(i.getSingleModifierDispatchParts())),this.bubble=r?r.charCodeAt(0)===94:!1,this.command=this.bubble?r.substr(1):r,this.commandArgs=S,this.when=K,this.isDefault=te,this.extensionId=ge,this.isBuiltinExtension=De}}function si(D){let i=[];for(let r=0,S=D.length;r<S;r++){const K=D[r];if(!K)return i;i.push(K)}return i}var ci=t(8030);class yi extends us.f1{constructor(i,r){if(super(),r.length===0)throw(0,hi.b1)("parts");this._os=i,this._parts=r}getLabel(){return ci.xo.toLabel(this._os,this._parts,i=>this._getLabel(i))}getAriaLabel(){return ci.X4.toLabel(this._os,this._parts,i=>this._getAriaLabel(i))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:ci.jC.toLabel(this._os,this._parts,i=>this._getElectronAccelerator(i))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(i=>this._getPart(i))}_getPart(i){return new us.BQ(i.ctrlKey,i.shiftKey,i.altKey,i.metaKey,this._getLabel(i),this._getAriaLabel(i))}getDispatchParts(){return this._parts.map(i=>this._getDispatchPart(i))}getSingleModifierDispatchParts(){return this._parts.map(i=>this._getSingleModifierDispatchPart(i))}}class wi extends yi{constructor(i,r){super(r,i.parts)}_keyCodeToUILabel(i){if(this._os===2)switch(i){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return O.kL.toString(i)}_getLabel(i){return i.isDuplicateModifierCase()?"":this._keyCodeToUILabel(i.keyCode)}_getAriaLabel(i){return i.isDuplicateModifierCase()?"":O.kL.toString(i.keyCode)}_getElectronAccelerator(i){return O.kL.toElectronAccelerator(i.keyCode)}_getDispatchPart(i){return wi.getDispatchStr(i)}static getDispatchStr(i){if(i.isModifierKey())return null;let r="";return i.ctrlKey&&(r+="ctrl+"),i.shiftKey&&(r+="shift+"),i.altKey&&(r+="alt+"),i.metaKey&&(r+="meta+"),r+=O.kL.toString(i.keyCode),r}_getSingleModifierDispatchPart(i){return i.keyCode===5&&!i.shiftKey&&!i.altKey&&!i.metaKey?"ctrl":i.keyCode===4&&!i.ctrlKey&&!i.altKey&&!i.metaKey?"shift":i.keyCode===6&&!i.ctrlKey&&!i.shiftKey&&!i.metaKey?"alt":i.keyCode===57&&!i.ctrlKey&&!i.shiftKey&&!i.altKey?"meta":null}static _scanCodeToKeyCode(i){const r=O.Vd[i];if(r!==-1)return r;switch(i){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(i){if(!i)return null;if(i instanceof us.QC)return i;const r=this._scanCodeToKeyCode(i.scanCode);return r===0?null:new us.QC(i.ctrlKey,i.shiftKey,i.altKey,i.metaKey,r)}static resolveUserBinding(i,r){const S=si(i.map(K=>this._resolveSimpleUserBinding(K)));return S.length>0?[new wi(new us.X_(S),r)]:[]}}var Ni=t(59422),Ui=t(40382),qi=t(20913),Vi=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},ln=function(D,i){return function(r,S){i(r,S,D)}},In=function(D,i,r,S){function K(te){return te instanceof r?te:new r(function(ge){ge(te)})}return new(r||(r=Promise))(function(te,ge){function De(St){try{gt(S.next(St))}catch(Vt){ge(Vt)}}function it(St){try{gt(S.throw(St))}catch(Vt){ge(Vt)}}function gt(St){St.done?te(St.value):K(St.value).then(De,it)}gt((S=S.apply(D,i||[])).next())})};class Cn{constructor(i){this.disposed=!1,this.model=i,this._onWillDispose=new k.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}function yn(D,i,r){return(0,to.CL)(D)?i(D):r(D)}let Mn=class{constructor(i){this.modelService=i}setEditor(i){this.editor=i}createModelReference(i){let r=null;return this.editor&&(r=yn(this.editor,S=>this.findModel(S,i),S=>this.findModel(S.getOriginalEditor(),i)||this.findModel(S.getModifiedEditor(),i))),r?Promise.resolve(new ni.Jz(new Cn(r))):Promise.reject(new Error("Model not found"))}findModel(i,r){let S=this.modelService.getModel(r);return S&&S.uri.toString()!==r.toString()?null:S}};Mn=Vi([ln(0,Kn.q)],Mn);class as{show(){return as.NULL_PROGRESS_RUNNER}showWhile(i,r){return In(this,void 0,void 0,function*(){yield i})}}as.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class bs{confirm(i){return this.doConfirm(i).then(r=>({confirmed:r,checkboxChecked:!1}))}doConfirm(i){let r=i.message;return i.detail&&(r=r+`

`+i.detail),Promise.resolve(window.confirm(r))}show(i,r,S,K){return Promise.resolve({choice:0})}}class fs{info(i){return this.notify({severity:os.Z.Info,message:i})}warn(i){return this.notify({severity:os.Z.Warning,message:i})}error(i){return this.notify({severity:os.Z.Error,message:i})}notify(i){switch(i.severity){case os.Z.Error:console.error(i.message);break;case os.Z.Warning:console.warn(i.message);break;default:console.log(i.message);break}return fs.NO_OP}status(i,r){return ni.JT.None}}fs.NO_OP=new Ni.EO;class Ts{constructor(i){this._onWillExecuteCommand=new k.Q5,this._onDidExecuteCommand=new k.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=i}executeCommand(i,...r){const S=xe.P.getCommand(i);if(!S)return Promise.reject(new Error(`command '${i}' not found`));try{this._onWillExecuteCommand.fire({commandId:i,args:r});const K=this._instantiationService.invokeFunction.apply(this._instantiationService,[S.handler,...r]);return this._onDidExecuteCommand.fire({commandId:i,args:r}),Promise.resolve(K)}catch(K){return Promise.reject(K)}}}class Ns extends Ne{constructor(i,r,S,K,te,ge){super(i,r,S,K,te),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(ae.nm(ge,ae.tw.KEY_DOWN,De=>{const it=new cs.y(De);this._dispatch(it,it.target)&&(it.preventDefault(),it.stopPropagation())})),this._register(ae.nm(window,ae.tw.KEY_UP,De=>{const it=new cs.y(De);this._singleModifierDispatch(it,it.target)&&it.preventDefault()}))}addDynamicKeybinding(i,r,S,K){const te=(0,us.gm)(r,Di.OS),ge=new ni.SL;return te&&(this._dynamicKeybindings.push({keybinding:te.parts,command:i,when:K,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ge.add((0,ni.OF)(()=>{for(let De=0;De<this._dynamicKeybindings.length;De++)if(this._dynamicKeybindings[De].command===i){this._dynamicKeybindings.splice(De,1),this.updateResolver({source:1});return}}))),ge.add(xe.P.registerCommand(i,S)),this.updateResolver({source:1}),ge}updateResolver(i){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(i)}_getResolver(){if(!this._cachedResolver){const i=this._toNormalizedKeybindingItems(Ut.W.getDefaultKeybindings(),!0),r=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Dt(i,r,S=>this._log(S))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(i,r){let S=[],K=0;for(const te of i){const ge=te.when||void 0,De=te.keybinding;if(!De)S[K++]=new Yt(void 0,te.command,te.commandArgs,ge,r,null,!1);else{const it=wi.resolveUserBinding(De,Di.OS);for(const gt of it)S[K++]=new Yt(gt,te.command,te.commandArgs,ge,r,null,!1)}}return S}resolveKeyboardEvent(i){let r=new us.QC(i.ctrlKey,i.shiftKey,i.altKey,i.metaKey,i.keyCode).toChord();return new wi(r,Di.OS)}}function Os(D){return D&&typeof D=="object"&&(!D.overrideIdentifier||typeof D.overrideIdentifier=="string")&&(!D.resource||D.resource instanceof w.o)}class Gs{constructor(){this._onDidChangeConfiguration=new k.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new _(new lt,new Rn)}getValue(i,r){const S=typeof i=="string"?i:void 0,K=Os(i)?i:Os(r)?r:{};return this._configuration.getValue(S,K,void 0)}updateValues(i){const r={data:this._configuration.toData()};let S=[];for(const K of i){const[te,ge]=K;this.getValue(te)!==ge&&(this._configuration.updateValue(te,ge),S.push(te))}if(S.length>0){const K=new P({keys:S,overrides:[]},r,this._configuration);K.source=7,K.sourceConfig=null,this._onDidChangeConfiguration.fire(K)}return Promise.resolve()}}class io{constructor(i){this.configurationService=i,this._onDidChangeConfiguration=new k.Q5,this.configurationService.onDidChangeConfiguration(r=>{this._onDidChangeConfiguration.fire({affectedKeys:r.affectedKeys,affectsConfiguration:(S,K)=>r.affectsConfiguration(K)})})}getValue(i,r,S){const te=(G.L.isIPosition(r)?r:null)?typeof S=="string"?S:void 0:typeof r=="string"?r:void 0;return typeof te=="undefined"?this.configurationService.getValue():this.configurationService.getValue(te)}}let Fn=class{constructor(i){this.configurationService=i}getEOL(i,r){const S=this.configurationService.getValue("files.eol",{overrideIdentifier:r,resource:i});return S&&typeof S=="string"&&S!=="auto"?S:Di.IJ||Di.dz?`
`:`\r
`}};Fn=Vi([ln(0,Hi.Ui)],Fn);class xr{publicLog(i,r){return Promise.resolve(void 0)}publicLog2(i,r){return this.publicLog(i,r)}}class po{constructor(){const i=w.o.from({scheme:po.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Ui.md({uri:i,name:"",index:0})]}}getWorkspace(){return this.workspace}}po.SCHEME="inmemory";function _o(D,i,r){if(!i||!(D instanceof Gs))return;let S=[];Object.keys(i).forEach(K=>{(0,li.ei)(K)&&S.push([`editor.${K}`,i[K]]),r&&(0,li.Pe)(K)&&S.push([`diffEditor.${K}`,i[K]])}),S.length>0&&D.updateValues(S)}class Mr{constructor(i){this._modelService=i}hasPreviewHandler(){return!1}apply(i,r){return In(this,void 0,void 0,function*(){const S=new Map;for(let ge of i){if(!(ge instanceof rn.Gl))throw new Error("bad edit - only text edits are supported");const De=this._modelService.getModel(ge.resource);if(!De)throw new Error("bad edit - model not found");if(typeof ge.versionId=="number"&&De.getVersionId()!==ge.versionId)throw new Error("bad state - model changed in the meantime");let it=S.get(De);it||(it=[],S.set(De,it)),it.push(Oi.h.replaceMove(x.e.lift(ge.textEdit.range),ge.textEdit.text))}let K=0,te=0;for(const[ge,De]of S)ge.pushStackElement(),ge.pushEditOperations([],De,()=>[]),ge.pushStackElement(),te+=1,K+=De.length;return{ariaSummary:Ii.WU(qi.UL.bulkEditServiceSummary,K,te)}})}}class no{getUriLabel(i,r){return i.scheme==="file"?i.fsPath:i.path}}class Tr{constructor(i,r){this._codeEditorService=i,this._container=r,this.onDidLayout=k.ju.None}get dimension(){return this._dimension||(this._dimension=ae.D6(window.document.body)),this._dimension}get container(){return this._container}focus(){var i;(i=this._codeEditorService.getFocusedCodeEditor())===null||i===void 0||i.focus()}}var so=t(35996),Rr=t(50124),Ar=t(92913),Or=t(30653),oo=t(12095),ws=t(84144),Rs=t(5606),ps=t(72065),Ps=t(91847),Cs=t(97781),xs=t(31106),Zs=t(84972),xo=t(90535);class Mo extends ni.JT{constructor(){super(),this._onCodeEditorAdd=this._register(new k.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new k.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new k.Q5),this._onDiffEditorRemove=this._register(new k.Q5),this._onDecorationTypeRegistered=this._register(new k.Q5),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(i){this._codeEditors[i.getId()]=i,this._onCodeEditorAdd.fire(i)}removeCodeEditor(i){delete this._codeEditors[i.getId()]&&this._onCodeEditorRemove.fire(i)}listCodeEditors(){return Object.keys(this._codeEditors).map(i=>this._codeEditors[i])}addDiffEditor(i){this._diffEditors[i.getId()]=i,this._onDiffEditorAdd.fire(i)}removeDiffEditor(i){delete this._diffEditors[i.getId()]&&this._onDiffEditorRemove.fire(i)}listDiffEditors(){return Object.keys(this._diffEditors).map(i=>this._diffEditors[i])}getFocusedCodeEditor(){let i=null;const r=this.listCodeEditors();for(const S of r){if(S.hasTextFocus())return S;S.hasWidgetFocus()&&(i=S)}return i}setModelProperty(i,r,S){const K=i.toString();let te;this._modelProperties.has(K)?te=this._modelProperties.get(K):(te=new Map,this._modelProperties.set(K,te)),te.set(r,S)}getModelProperty(i,r){const S=i.toString();if(this._modelProperties.has(S))return this._modelProperties.get(S).get(r)}}var tr=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Pr=function(D,i){return function(r,S){i(r,S,D)}};class To{constructor(i,r,S){this._parent=i,this._editorId=r,this._styleSheet=S,this._refCount=0}ref(){this._refCount++}unref(){var i;this._refCount--,this._refCount===0&&((i=this._styleSheet.parentNode)===null||i===void 0||i.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(i,r){this._styleSheet.sheet.insertRule(i,r)}removeRulesContainingSelector(i){ae.uN(i,this._styleSheet)}}class kr{constructor(i){this._styleSheet=i}ref(){}unref(){}insertRule(i,r){this._styleSheet.sheet.insertRule(i,r)}removeRulesContainingSelector(i){ae.uN(i,this._styleSheet)}}let Ro=class extends Mo{constructor(i,r){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=i||null,this._themeService=r}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new kr(ae.dS())),this._globalStyleSheet}_getOrCreateStyleSheet(i){if(!i)return this._getOrCreateGlobalStyleSheet();const r=i.getContainerDomNode();if(!ae.OO(r))return this._getOrCreateGlobalStyleSheet();const S=i.getId();if(!this._editorStyleSheets.has(S)){const K=new To(this,S,ae.dS(r));this._editorStyleSheets.set(S,K)}return this._editorStyleSheets.get(S)}_removeEditorStyleSheets(i){this._editorStyleSheets.delete(i)}registerDecorationType(i,r,S,K,te){let ge=this._decorationOptionProviders.get(r);if(!ge){const De=this._getOrCreateStyleSheet(te),it={styleSheet:De,key:r,parentTypeKey:K,options:S||Object.create(null)};K?ge=new Fr(this._themeService,De,it):ge=new Br(i,this._themeService,De,it),this._decorationOptionProviders.set(r,ge),this._onDecorationTypeRegistered.fire(r)}ge.refCount++}removeDecorationType(i){const r=this._decorationOptionProviders.get(i);r&&(r.refCount--,r.refCount<=0&&(this._decorationOptionProviders.delete(i),r.dispose(),this.listCodeEditors().forEach(S=>S.removeDecorations(i))))}resolveDecorationOptions(i,r){const S=this._decorationOptionProviders.get(i);if(!S)throw new Error("Unknown decoration type key: "+i);return S.getOptions(this,r)}};Ro=tr([Pr(1,Cs.XE)],Ro);class Fr{constructor(i,r,S){this._styleSheet=r,this._styleSheet.ref(),this._parentTypeKey=S.parentTypeKey,this.refCount=0,this._beforeContentRules=new vo(3,S,i),this._afterContentRules=new vo(4,S,i)}getOptions(i,r){const S=i.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(S.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(S.afterContentClassName=this._afterContentRules.className),S}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class Br{constructor(i,r,S,K){this._disposables=new ni.SL,this.description=i,this._styleSheet=S,this._styleSheet.ref(),this.refCount=0;const te=Vt=>{const vi=new vo(Vt,K,r);if(this._disposables.add(vi),vi.hasContent)return vi.className},ge=Vt=>{const vi=new vo(Vt,K,r);return this._disposables.add(vi),vi.hasContent?{className:vi.className,hasLetterSpacing:vi.hasLetterSpacing}:null};this.className=te(0);const De=ge(1);if(De&&(this.inlineClassName=De.className,this.inlineClassNameAffectsLetterSpacing=De.hasLetterSpacing),this.beforeContentClassName=te(3),this.afterContentClassName=te(4),K.options.beforeInjectedText&&K.options.beforeInjectedText.contentText){const Vt=ge(5);this.beforeInjectedText={content:K.options.beforeInjectedText.contentText,inlineClassName:Vt==null?void 0:Vt.className,inlineClassNameAffectsLetterSpacing:(Vt==null?void 0:Vt.hasLetterSpacing)||K.options.beforeInjectedText.affectsLetterSpacing}}if(K.options.afterInjectedText&&K.options.afterInjectedText.contentText){const Vt=ge(6);this.afterInjectedText={content:K.options.afterInjectedText.contentText,inlineClassName:Vt==null?void 0:Vt.className,inlineClassNameAffectsLetterSpacing:(Vt==null?void 0:Vt.hasLetterSpacing)||K.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=te(2);const it=K.options;this.isWholeLine=!!it.isWholeLine,this.stickiness=it.rangeBehavior;const gt=it.light&&it.light.overviewRulerColor||it.overviewRulerColor,St=it.dark&&it.dark.overviewRulerColor||it.overviewRulerColor;(typeof gt!="undefined"||typeof St!="undefined")&&(this.overviewRuler={color:gt||St,darkColor:St||gt,position:it.overviewRulerLane||Je.sh.Center})}getOptions(i,r){return r?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const ro={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class vo{constructor(i,r,S){this._theme=S.getColorTheme(),this._ruleType=i,this._providerArgs=r,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let K=Ao.getClassName(this._providerArgs.key,i);this._providerArgs.parentTypeKey&&(K=K+" "+Ao.getClassName(this._providerArgs.parentTypeKey,i)),this._className=K,this._unThemedSelector=Ao.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,i),this._buildCSS(),this._usesThemeColors?this._themeListener=S.onDidColorThemeChange(te=>{this._theme=S.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const i=this._providerArgs.options;let r,S,K;switch(this._ruleType){case 0:r=this.getCSSTextForModelDecorationClassName(i),S=this.getCSSTextForModelDecorationClassName(i.light),K=this.getCSSTextForModelDecorationClassName(i.dark);break;case 1:r=this.getCSSTextForModelDecorationInlineClassName(i),S=this.getCSSTextForModelDecorationInlineClassName(i.light),K=this.getCSSTextForModelDecorationInlineClassName(i.dark);break;case 2:r=this.getCSSTextForModelDecorationGlyphMarginClassName(i),S=this.getCSSTextForModelDecorationGlyphMarginClassName(i.light),K=this.getCSSTextForModelDecorationGlyphMarginClassName(i.dark);break;case 3:r=this.getCSSTextForModelDecorationContentClassName(i.before),S=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.before),K=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.before);break;case 4:r=this.getCSSTextForModelDecorationContentClassName(i.after),S=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.after),K=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.after);break;case 5:r=this.getCSSTextForModelDecorationContentClassName(i.beforeInjectedText),S=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.beforeInjectedText),K=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.beforeInjectedText);break;case 6:r=this.getCSSTextForModelDecorationContentClassName(i.afterInjectedText),S=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.afterInjectedText),K=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const te=this._providerArgs.styleSheet;let ge=!1;r.length>0&&(te.insertRule(`${this._unThemedSelector} {${r}}`,0),ge=!0),S.length>0&&(te.insertRule(`.vs${this._unThemedSelector} {${S}}`,0),ge=!0),K.length>0&&(te.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${K}}`,0),ge=!0),this._hasContent=ge}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(i){if(!i)return"";const r=[];return this.collectCSSText(i,["backgroundColor"],r),this.collectCSSText(i,["outline","outlineColor","outlineStyle","outlineWidth"],r),this.collectBorderSettingsCSSText(i,r),r.join("")}getCSSTextForModelDecorationInlineClassName(i){if(!i)return"";const r=[];return this.collectCSSText(i,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],r),i.letterSpacing&&(this._hasLetterSpacing=!0),r.join("")}getCSSTextForModelDecorationContentClassName(i){if(!i)return"";const r=[];if(typeof i!="undefined"){if(this.collectBorderSettingsCSSText(i,r),typeof i.contentIconPath!="undefined"&&r.push(Ii.WU(ro.contentIconPath,ae.wY(w.o.revive(i.contentIconPath)))),typeof i.contentText=="string"){const K=i.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");r.push(Ii.WU(ro.contentText,K))}this.collectCSSText(i,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],r),this.collectCSSText(i,["width","height"],r)&&r.push("display:inline-block;")}return r.join("")}getCSSTextForModelDecorationGlyphMarginClassName(i){if(!i)return"";const r=[];return typeof i.gutterIconPath!="undefined"&&(r.push(Ii.WU(ro.gutterIconPath,ae.wY(w.o.revive(i.gutterIconPath)))),typeof i.gutterIconSize!="undefined"&&r.push(Ii.WU(ro.gutterIconSize,i.gutterIconSize))),r.join("")}collectBorderSettingsCSSText(i,r){return this.collectCSSText(i,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],r)?(r.push(Ii.WU("box-sizing: border-box;")),!0):!1}collectCSSText(i,r,S){const K=S.length;for(let te of r){const ge=this.resolveValue(i[te]);typeof ge=="string"&&S.push(Ii.WU(ro[te],ge))}return S.length!==K}resolveValue(i){if((0,Ke.I)(i)){this._usesThemeColors=!0;const r=this._theme.getColor(i.id);return r?r.toString():"transparent"}return i}}class Ao{static getClassName(i,r){return"ced-"+i+"-"+r}static getSelector(i,r,S){let K=".monaco-editor ."+this.getClassName(i,S);return r&&(K=K+"."+this.getClassName(r,S)),S===3?K+="::before":S===4&&(K+="::after"),K}}var Wr=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Oo=function(D,i){return function(r,S){i(r,S,D)}};let Co=class extends Ro{constructor(i,r,S){super(i,S),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=r.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const r of this.listCodeEditors())if(!r.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,r,S){return r?Promise.resolve(this.doOpenEditor(r,i)):Promise.resolve(null)}doOpenEditor(i,r){if(!this.findModel(i,r.resource)){if(r.resource){const te=r.resource.scheme;if(te===ce.lg.http||te===ce.lg.https)return(0,ae.V3)(r.resource.toString()),i}return null}const K=r.options?r.options.selection:null;if(K)if(typeof K.endLineNumber=="number"&&typeof K.endColumn=="number")i.setSelection(K),i.revealRangeInCenter(K,1);else{const te={lineNumber:K.startLineNumber,column:K.startColumn};i.setPosition(te),i.revealPositionInCenter(te,1)}return i}findModel(i,r){const S=i.getModel();return S&&S.uri.toString()!==r.toString()?null:S}};Co=Wr([Oo(1,vt.i6),Oo(2,Cs.XE)],Co);var Us=t(81170),Po=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Un=function(D,i){return function(r,S){i(r,S,D)}};let Vr=0,ir=!1;function ko(D){if(!D){if(ir)return;ir=!0}so.wW(D||document.body)}let Qs=class extends Rr.Gm{constructor(i,r,S,K,te,ge,De,it,gt,St){const Vt=Object.assign({},r);Vt.ariaLabel=Vt.ariaLabel||qi.B8.editorViewAccessibleLabel,Vt.ariaLabel=Vt.ariaLabel+";"+qi.B8.accessibilityHelpMessage,super(i,Vt,{},S,K,te,ge,it,gt,St),De instanceof Ns?this._standaloneKeybindingService=De:this._standaloneKeybindingService=null,ko(Vt.ariaContainerElement)}addCommand(i,r,S){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let K="DYNAMIC_"+ ++Vr,te=vt.Ao.deserialize(S);return this._standaloneKeybindingService.addDynamicKeybinding(K,i,r,te),K}createContextKey(i,r){return this._contextKeyService.createKey(i,r)}addAction(i){if(typeof i.id!="string"||typeof i.label!="string"||typeof i.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ni.JT.None;const r=i.id,S=i.label,K=vt.Ao.and(vt.Ao.equals("editorId",this.getId()),vt.Ao.deserialize(i.precondition)),te=i.keybindings,ge=vt.Ao.and(K,vt.Ao.deserialize(i.keybindingContext)),De=i.contextMenuGroupId||null,it=i.contextMenuOrder||0,gt=(Yi,...$i)=>Promise.resolve(i.run(this,...$i)),St=new ni.SL,Vt=this.getId()+":"+r;if(St.add(xe.P.registerCommand(Vt,gt)),De){let Yi={command:{id:Vt,title:S},when:K,group:De,order:it};St.add(ws.BH.appendMenuItem(ws.eH.EditorContext,Yi))}if(Array.isArray(te))for(const Yi of te)St.add(this._standaloneKeybindingService.addDynamicKeybinding(Vt,Yi,gt,ge));let vi=new Or.p(Vt,S,S,K,gt,this._contextKeyService);return this._actions[r]=vi,St.add((0,ni.OF)(()=>{delete this._actions[r]})),St}_triggerCommand(i,r){if(this._codeEditorService instanceof Co)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(i,r)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(i,r)}};Qs=Po([Un(2,ps.TG),Un(3,oe.$),Un(4,xe.H),Un(5,vt.i6),Un(6,Ps.d),Un(7,Cs.XE),Un(8,Ni.lT),Un(9,xs.F)],Qs);let ao=class extends Qs{constructor(i,r,S,K,te,ge,De,it,gt,St,Vt,vi,Yi,$i,cn){const un=Object.assign({},r);_o(vi,un,!1);const Gn=St.registerEditorContainer(i);typeof un.theme=="string"&&St.setTheme(un.theme),typeof un.autoDetectHighContrast!="undefined"&&St.setAutoDetectHighContrast(!!un.autoDetectHighContrast);let Nn=un.model;delete un.model,super(i,un,K,te,ge,De,it,St,Vt,Yi),this._contextViewService=gt,this._configurationService=vi,this._standaloneThemeService=St,this._register(S),this._register(Gn);let fn;if(typeof Nn=="undefined"?(fn=nr($i,cn,un.value||"",un.language||Us.vW.text,void 0),this._ownsModel=!0):(fn=Nn,this._ownsModel=!1),this._attachModel(fn),fn){let En={oldModelUrl:null,newModelUrl:fn.uri};this._onDidChangeModel.fire(En)}}dispose(){super.dispose()}updateOptions(i){_o(this._configurationService,i,!1),typeof i.theme=="string"&&this._standaloneThemeService.setTheme(i.theme),typeof i.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!i.autoDetectHighContrast),super.updateOptions(i)}_attachModel(i){super._attachModel(i),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(i){super._postDetachModelCleanup(i),i&&this._ownsModel&&(i.dispose(),this._ownsModel=!1)}};ao=Po([Un(3,ps.TG),Un(4,oe.$),Un(5,xe.H),Un(6,vt.i6),Un(7,Ps.d),Un(8,Rs.u),Un(9,oo.Z),Un(10,Ni.lT),Un(11,Hi.Ui),Un(12,xs.F),Un(13,Kn.q),Un(14,It.h)],ao);let Fo=class extends Ar.p{constructor(i,r,S,K,te,ge,De,it,gt,St,Vt,vi,Yi,$i,cn){const un=Object.assign({},r);_o(vi,un,!0);const Gn=St.registerEditorContainer(i);typeof un.theme=="string"&&St.setTheme(un.theme),typeof un.autoDetectHighContrast!="undefined"&&St.setAutoDetectHighContrast(!!un.autoDetectHighContrast),super(i,un,{},cn,it,te,K,gt,St,Vt,Yi,$i),this._contextViewService=De,this._configurationService=vi,this._standaloneThemeService=St,this._register(S),this._register(Gn),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(i){_o(this._configurationService,i,!0),typeof i.theme=="string"&&this._standaloneThemeService.setTheme(i.theme),typeof i.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!i.autoDetectHighContrast),super.updateOptions(i)}_createInnerEditor(i,r,S){return i.createInstance(Qs,r,S)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(i,r,S){return this.getModifiedEditor().addCommand(i,r,S)}createContextKey(i,r){return this.getModifiedEditor().createContextKey(i,r)}addAction(i){return this.getModifiedEditor().addAction(i)}};Fo=Po([Un(3,ps.TG),Un(4,vt.i6),Un(5,Ps.d),Un(6,Rs.u),Un(7,He.p),Un(8,oe.$),Un(9,oo.Z),Un(10,Ni.lT),Un(11,Hi.Ui),Un(12,Rs.i),Un(13,xo.e),Un(14,Zs.p)],Fo);function nr(D,i,r,S,K){if(r=r||"",!S){const te=r.indexOf(`
`);let ge=r;return te!==-1&&(ge=r.substring(0,te)),Ys(D,r,i.createByFilepathOrFirstLine(K||null,ge),K)}return Ys(D,r,i.create(S),K)}function Ys(D,i,r,S){return D.createModel(i,r,S)}var zs=t(71144),Xs=t(89872);const ks=Object.prototype.hasOwnProperty;class Bo{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Ae.TG,0),this._register(zs.XT,1),this._nextLanguageId=2}_register(i,r){this._languageIdToLanguage[r]=i,this._languageToLanguageId.set(i,r)}register(i){if(this._languageToLanguageId.has(i))return;const r=this._nextLanguageId++;this._register(i,r)}encodeLanguageId(i){return this._languageToLanguageId.get(i)||0}decodeLanguageId(i){return this._languageIdToLanguage[i]||Ae.TG}}class Ks extends ni.JT{constructor(i=!0,r=!1){super(),this._onDidChange=this._register(new k.Q5),this.onDidChange=this._onDidChange.event,Ks.instanceCount++,this._warnOnOverwrite=r,this.languageIdCodec=new Bo,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},i&&(this._initializeFromRegistry(),this._register(zs.dQ.onDidChangeLanguages(S=>{this._initializeFromRegistry()})))}dispose(){Ks.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Us.bS();const i=zs.dQ.getLanguages();this._registerLanguages(i)}_registerLanguages(i){for(const r of i)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{let S=this._languages[r];S.name&&(this._nameMap[S.name]=S.identifier),S.aliases.forEach(K=>{this._lowercaseNameMap[K.toLowerCase()]=S.identifier}),S.mimetypes.forEach(K=>{this._mimeTypesMap[K]=S.identifier})}),Xs.B.as(ns.IP.Configuration).registerOverrideIdentifiers(zs.dQ.getLanguages().map(r=>r.id)),this._onDidChange.fire()}_registerLanguage(i){const r=i.id;let S;ks.call(this._languages,r)?S=this._languages[r]:(this.languageIdCodec.register(r),S={identifier:r,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=S),this._mergeLanguage(S,i)}_mergeLanguage(i,r){const S=r.id;let K=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(i.mimetypes.push(...r.mimetypes),K=r.mimetypes[0]),K||(K=`text/x-${S}`,i.mimetypes.push(K)),Array.isArray(r.extensions)){r.configuration?i.extensions=r.extensions.concat(i.extensions):i.extensions=i.extensions.concat(r.extensions);for(let De of r.extensions)Us.sA({id:S,mime:K,extension:De},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(let De of r.filenames)Us.sA({id:S,mime:K,filename:De},this._warnOnOverwrite),i.filenames.push(De);if(Array.isArray(r.filenamePatterns))for(let De of r.filenamePatterns)Us.sA({id:S,mime:K,filepattern:De},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let De=r.firstLine;De.charAt(0)!=="^"&&(De="^"+De);try{let it=new RegExp(De);Ii.IO(it)||Us.sA({id:S,mime:K,firstline:it},this._warnOnOverwrite)}catch(it){(0,hi.dL)(it)}}i.aliases.push(S);let te=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?te=[null]:te=r.aliases),te!==null)for(const De of te)!De||De.length===0||i.aliases.push(De);let ge=te!==null&&te.length>0;if(!(ge&&te[0]===null)){let De=(ge?te[0]:null)||S;(ge||!i.name)&&(i.name=De)}r.configuration&&i.configurationFiles.push(r.configuration)}isRegisteredMode(i){return ks.call(this._mimeTypesMap,i)?!0:ks.call(this._languages,i)}getModeIdForLanguageNameLowercase(i){return ks.call(this._lowercaseNameMap,i)?this._lowercaseNameMap[i]:null}extractModeIds(i){return i?i.split(",").map(r=>r.trim()).map(r=>ks.call(this._mimeTypesMap,r)?this._mimeTypesMap[r]:r).filter(r=>ks.call(this._languages,r)):[]}validateLanguageId(i){return!i||i===Ae.TG?Ae.TG:ks.call(this._languages,i)?i:null}getModeIdsFromFilepathOrFirstLine(i,r){if(!i&&!r)return[];let S=Us.G8(i,r);return this.extractModeIds(S.join(","))}}Ks.instanceCount=0;class bo{constructor(i,r){this._selector=r,this.languageId=this._selector();let S;this._onDidChange=new k.Q5({onFirstListenerAdd:()=>{S=i(()=>this._evaluate())},onLastListenerRemove:()=>{S.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const i=this._selector();i!==this.languageId&&(this.languageId=i,this._onDidChange.fire(this.languageId))}}class lo extends ni.JT{constructor(i=!1){super(),this._onDidEncounterLanguage=this._register(new k.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new k.Q5({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,lo.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Ks(!0,i)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){lo.instanceCount--,super.dispose()}isRegisteredMode(i){return this._registry.isRegisteredMode(i)}getModeIdForLanguageName(i){return this._registry.getModeIdForLanguageNameLowercase(i)}getModeIdByFilepathOrFirstLine(i,r){const S=this._registry.getModeIdsFromFilepathOrFirstLine(i,r);return(0,mn.Xh)(S,null)}getModeId(i){const r=this._registry.extractModeIds(i);return(0,mn.Xh)(r,null)}validateLanguageId(i){return this._registry.validateLanguageId(i)}create(i){return new bo(this.onLanguagesMaybeChanged,()=>{const r=this.getModeId(i);return this._createModeAndGetLanguageIdentifier(r)})}createByFilepathOrFirstLine(i,r){return new bo(this.onLanguagesMaybeChanged,()=>{const S=this.getModeIdByFilepathOrFirstLine(i,r);return this._createModeAndGetLanguageIdentifier(S)})}_createModeAndGetLanguageIdentifier(i){const r=this.validateLanguageId(i||"plaintext")||Ae.TG;return this._getOrCreateMode(r),r}triggerMode(i){const r=this.getModeId(i);this._getOrCreateMode(r||"plaintext")}_getOrCreateMode(i){if(!this._encounteredLanguages.has(i)){this._encounteredLanguages.add(i);const r=this.validateLanguageId(i)||Ae.TG;this._onDidEncounterLanguage.fire(r)}}}lo.instanceCount=0;var Hr=t(32334),Fs=t(41264);class Wo{constructor(i,r,S,K,te){this._parsedThemeRuleBrand=void 0,this.token=i,this.index=r,this.fontStyle=S,this.foreground=K,this.background=te}}function Vo(D){if(!D||!Array.isArray(D))return[];let i=[],r=0;for(let S=0,K=D.length;S<K;S++){let te=D[S],ge=-1;if(typeof te.fontStyle=="string"){ge=0;let gt=te.fontStyle.split(" ");for(let St=0,Vt=gt.length;St<Vt;St++)switch(gt[St]){case"italic":ge=ge|1;break;case"bold":ge=ge|2;break;case"underline":ge=ge|4;break}}let De=null;typeof te.foreground=="string"&&(De=te.foreground);let it=null;typeof te.background=="string"&&(it=te.background),i[r++]=new Wo(te.token||"",S,ge,De,it)}return i}function Ur(D,i){D.sort((St,Vt)=>{let vi=or(St.token,Vt.token);return vi!==0?vi:St.index-Vt.index});let r=0,S="000000",K="ffffff";for(;D.length>=1&&D[0].token==="";){let St=D.shift();St.fontStyle!==-1&&(r=St.fontStyle),St.foreground!==null&&(S=St.foreground),St.background!==null&&(K=St.background)}let te=new js;for(let St of i)te.getId(St);let ge=te.getId(S),De=te.getId(K),it=new Uo(r,ge,De),gt=new zo(it);for(let St=0,Vt=D.length;St<Vt;St++){let vi=D[St];gt.insert(vi.token,vi.fontStyle,te.getId(vi.foreground),te.getId(vi.background))}return new sr(te,gt)}const zr=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class js{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(i){if(i===null)return 0;const r=i.match(zr);if(!r)throw new Error("Illegal value for token color: "+i);i=r[1].toUpperCase();let S=this._color2id.get(i);return S||(S=++this._lastColorId,this._color2id.set(i,S),this._id2color[S]=Fs.Il.fromHex("#"+i),S)}getColorMap(){return this._id2color.slice(0)}}class sr{constructor(i,r){this._colorMap=i,this._root=r,this._cache=new Map}static createFromRawTokenTheme(i,r){return this.createFromParsedTokenTheme(Vo(i),r)}static createFromParsedTokenTheme(i,r){return Ur(i,r)}getColorMap(){return this._colorMap.getColorMap()}_match(i){return this._root.match(i)}match(i,r){let S=this._cache.get(r);if(typeof S=="undefined"){let K=this._match(r),te=Ho(r);S=(K.metadata|te<<8)>>>0,this._cache.set(r,S)}return(S|i<<0)>>>0}}const Kr=/\b(comment|string|regex|regexp)\b/;function Ho(D){let i=D.match(Kr);if(!i)return 0;switch(i[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function or(D,i){return D<i?-1:D>i?1:0}class Uo{constructor(i,r,S){this._themeTrieElementRuleBrand=void 0,this._fontStyle=i,this._foreground=r,this._background=S,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new Uo(this._fontStyle,this._foreground,this._background)}acceptOverwrite(i,r,S){i!==-1&&(this._fontStyle=i),r!==0&&(this._foreground=r),S!==0&&(this._background=S),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class zo{constructor(i){this._themeTrieElementBrand=void 0,this._mainRule=i,this._children=new Map}match(i){if(i==="")return this._mainRule;let r=i.indexOf("."),S,K;r===-1?(S=i,K=""):(S=i.substring(0,r),K=i.substring(r+1));let te=this._children.get(S);return typeof te!="undefined"?te.match(K):this._mainRule}insert(i,r,S,K){if(i===""){this._mainRule.acceptOverwrite(r,S,K);return}let te=i.indexOf("."),ge,De;te===-1?(ge=i,De=""):(ge=i.substring(0,te),De=i.substring(te+1));let it=this._children.get(ge);typeof it=="undefined"&&(it=new zo(this._mainRule.clone()),this._children.set(ge,it)),it.insert(De,r,S,K)}}function jr(D){let i=[];for(let r=1,S=D.length;r<S;r++){let K=D[r];i[r]=`.mtk${r} { color: ${K}; }`}return i.push(".mtki { font-style: italic; }"),i.push(".mtkb { font-weight: bold; }"),i.push(".mtku { text-decoration: underline; text-underline-position: under; }"),i.join(`
`)}var As=t(27869),dn=t(73910);const Ko={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[dn.cv]:"#FFFFFE",[dn.NO]:"#000000",[dn.ES]:"#E5EBF1",[As.tR]:"#D3D3D3",[As.Ym]:"#939393",[dn.Rz]:"#ADD6FF4D"}},$r={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[dn.cv]:"#1E1E1E",[dn.NO]:"#D4D4D4",[dn.ES]:"#3A3D41",[As.tR]:"#404040",[As.Ym]:"#707070",[dn.Rz]:"#ADD6FF26"}},Gr={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[dn.cv]:"#000000",[dn.NO]:"#FFFFFF",[As.tR]:"#FFFFFF",[As.Ym]:"#FFFFFF"}};var jo=t(92321),Tt=t(59554);function e(){const D=new k.Q5,i=(0,Tt.Ks)();return i.onDidChange(()=>D.fire()),{onDidChange:D.event,getCSS(){const r={},S=te=>{let ge=te.defaults;for(;Cs.kS.isThemeIcon(ge);){const it=i.getIcon(ge.id);if(!it)return;ge=it.defaults}const De=ge.fontId;if(De){const it=i.getIconFont(De);if(it)return r[De]=it,`.codicon-${te.id}:before { content: '${ge.fontCharacter}'; font-family: ${(0,ae._h)(De)}; }`}return`.codicon-${te.id}:before { content: '${ge.fontCharacter}'; }`},K=[];for(let te of i.getIcons()){const ge=S(te);ge&&K.push(ge)}for(let te in r){const De=r[te].definition.src.map(it=>`${(0,ae.wY)(it.location)} format('${it.format}')`).join(", ");K.push(`@font-face { src: ${De}; font-family: ${(0,ae._h)(te)}; font-display: block; }`)}return K.join(`
`)}}}const o="vs",g="vs-dark",M="hc-black",F=Xs.B.as(dn.IP.ColorContribution),ee=Xs.B.as(Cs.IP.ThemingContribution);class ye{constructor(i,r){this.semanticHighlighting=!1,this.themeData=r;let S=r.base;i.length>0?(Re(i)?this.id=i:this.id=S+" "+i,this.themeName=i):(this.id=S,this.themeName=S),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const i=new Map;for(let r in this.themeData.colors)i.set(r,Fs.Il.fromHex(this.themeData.colors[r]));if(this.themeData.inherit){let r=Qe(this.themeData.base);for(let S in r.colors)i.has(S)||i.set(S,Fs.Il.fromHex(r.colors[S]))}this.colors=i}return this.colors}getColor(i,r){const S=this.getColors().get(i);if(S)return S;if(r!==!1)return this.getDefault(i)}getDefault(i){let r=this.defaultColors[i];return r||(r=F.resolveDefaultColor(i,this),this.defaultColors[i]=r,r)}defines(i){return Object.prototype.hasOwnProperty.call(this.getColors(),i)}get type(){switch(this.base){case o:return jo.e.LIGHT;case M:return jo.e.HIGH_CONTRAST;default:return jo.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let i=[],r=[];if(this.themeData.inherit){let te=Qe(this.themeData.base);i=te.rules,te.encodedTokensColors&&(r=te.encodedTokensColors)}const S=this.themeData.colors["editor.foreground"],K=this.themeData.colors["editor.background"];if(S||K){const te={token:""};S&&(te.foreground=S),K&&(te.background=K),i.push(te)}i=i.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(r=this.themeData.encodedTokensColors),this._tokenTheme=sr.createFromRawTokenTheme(i,r)}return this._tokenTheme}getTokenStyleMetadata(i,r,S){const te=this.tokenTheme._match([i].concat(r).join(".")).metadata,ge=Ze.NX.getForeground(te),De=Ze.NX.getFontStyle(te);return{foreground:ge,italic:!!(De&1),bold:!!(De&2),underline:!!(De&4)}}}function Re(D){return D===o||D===g||D===M}function Qe(D){switch(D){case o:return Ko;case g:return $r;case M:return Gr}}function nt(D){let i=Qe(D);return new ye(D,i)}class ct extends ni.JT{constructor(){super(),this._onColorThemeChange=this._register(new k.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(o,nt(o)),this._knownThemes.set(g,nt(g)),this._knownThemes.set(M,nt(M));const i=e();this._codiconCSS=i.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(o),i.onDidChange(()=>{this._codiconCSS=i.getCSS(),this._updateCSS()}),ae.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(i){return ae.OO(i)?this._registerShadowDomContainer(i):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=ae.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),ni.JT.None}_registerShadowDomContainer(i){const r=ae.dS(i);return r.className="monaco-colors",r.textContent=this._allCSS,this._styleElements.push(r),{dispose:()=>{for(let S=0;S<this._styleElements.length;S++)if(this._styleElements[S]===r){this._styleElements.splice(S,1);return}}}}defineTheme(i,r){if(!/^[a-z0-9\-]+$/i.test(i))throw new Error("Illegal theme name!");if(!Re(r.base)&&!Re(i))throw new Error("Illegal theme base!");this._knownThemes.set(i,new ye(i,r)),Re(i)&&this._knownThemes.forEach(S=>{S.base===i&&S.notifyBaseUpdated()}),this._theme.themeName===i&&this.setTheme(i)}getColorTheme(){return this._theme}setColorMapOverride(i){this._colorMapOverride=i,this._updateThemeOrColorMap()}setTheme(i){let r;this._knownThemes.has(i)?r=this._knownThemes.get(i):r=this._knownThemes.get(o),this._desiredTheme=r,this._updateActualTheme()}_updateActualTheme(){const i=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(M):this._desiredTheme;this._theme!==i&&(this._theme=i,this._updateThemeOrColorMap())}setAutoDetectHighContrast(i){this._autoDetectHighContrast=i,this._updateActualTheme()}_updateThemeOrColorMap(){let i=[],r={},S={addRule:te=>{r[te]||(i.push(te),r[te]=!0)}};ee.getThemingParticipants().forEach(te=>te(this._theme,S,this._environment));const K=this._colorMapOverride||this._theme.tokenTheme.getColorMap();S.addRule(jr(K)),this._themeCSS=i.join(`
`),this._updateCSS(),Ze.RW.setColorMap(K),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(i=>i.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var Ot=t(56899),xt=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Kt=function(D,i){return function(r,S){i(r,S,D)}};const qt="data-keybinding-context";class di{constructor(i,r){this._id=i,this._parent=r,this._value=Object.create(null),this._value._contextId=i}setValue(i,r){return this._value[i]!==r?(this._value[i]=r,!0):!1}removeValue(i){return i in this._value?(delete this._value[i],!0):!1}getValue(i){const r=this._value[i];return typeof r=="undefined"&&this._parent?this._parent.getValue(i):r}}class pi extends di{constructor(){super(-1,null)}setValue(i,r){return!1}removeValue(i){return!1}getValue(i){}}pi.INSTANCE=new pi;class Li extends di{constructor(i,r,S){super(i,null),this._configurationService=r,this._values=Ve.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(K=>{if(K.source===6){const te=Array.from(Ot.$.map(this._values,([ge])=>ge));this._values.clear(),S.fire(new Wi(te))}else{const te=[];for(const ge of K.affectedKeys){const De=`config.${ge}`,it=this._values.findSuperstr(De);it!==void 0&&(te.push(...Ot.$.map(it,([gt])=>gt)),this._values.deleteSuperstr(De)),this._values.has(De)&&(te.push(De),this._values.delete(De))}S.fire(new Wi(te))}})}dispose(){this._listener.dispose()}getValue(i){if(i.indexOf(Li._keyPrefix)!==0)return super.getValue(i);if(this._values.has(i))return this._values.get(i);const r=i.substr(Li._keyPrefix.length),S=this._configurationService.getValue(r);let K;switch(typeof S){case"number":case"boolean":case"string":K=S;break;default:Array.isArray(S)?K=JSON.stringify(S):K=S}return this._values.set(i,K),K}setValue(i,r){return super.setValue(i,r)}removeValue(i){return super.removeValue(i)}}Li._keyPrefix="config.";class Si{constructor(i,r,S){this._service=i,this._key=r,this._defaultValue=S,this.reset()}set(i){this._service.setContext(this._key,i)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Ki{constructor(i){this.key=i}affectsSome(i){return i.has(this.key)}}class Wi{constructor(i){this.keys=i}affectsSome(i){for(const r of this.keys)if(i.has(r))return!0;return!1}}class Zi{constructor(i){this.events=i}affectsSome(i){for(const r of this.events)if(r.affectsSome(i))return!0;return!1}}class ji{constructor(i){this._onDidChangeContext=new k.K3({merge:r=>new Zi(r)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=i}createKey(i,r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Si(this,i,r)}bufferChangeEvents(i){this._onDidChangeContext.pause();try{i()}finally{this._onDidChangeContext.resume()}}createScoped(i){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Gi(this,i)}contextMatchesRules(i){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const r=this.getContextValuesContainer(this._myContextId);return Dt.contextMatchesRules(r,i)}getContextKeyValue(i){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(i)}setContext(i,r){if(this._isDisposed)return;const S=this.getContextValuesContainer(this._myContextId);S&&S.setValue(i,r)&&this._onDidChangeContext.fire(new Ki(i))}removeContext(i){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(i)&&this._onDidChangeContext.fire(new Ki(i))}getContext(i){return this._isDisposed?pi.INSTANCE:this.getContextValuesContainer(_n(i))}}let Fi=class extends ji{constructor(i){super(0),this._contexts=new Map,this._toDispose=new ni.SL,this._lastContextId=0;const r=new Li(this._myContextId,i,this._onDidChangeContext);this._contexts.set(this._myContextId,r),this._toDispose.add(r)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(i){return this._isDisposed?pi.INSTANCE:this._contexts.get(i)||pi.INSTANCE}createChildContext(i=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let r=++this._lastContextId;return this._contexts.set(r,new di(r,this.getContextValuesContainer(i))),r}disposeContext(i){this._isDisposed||this._contexts.delete(i)}};Fi=xt([Kt(0,Hi.Ui)],Fi);class Gi extends ji{constructor(i,r){if(super(i.createChildContext()),this._parentChangeListener=new ni.XK,this._parent=i,this._updateParentChangeListener(),this._domNode=r,this._domNode.hasAttribute(qt)){let S="";this._domNode.classList&&(S=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${S?": "+S:""}`)}this._domNode.setAttribute(qt,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(qt),this._isDisposed=!0)}getContextValuesContainer(i){return this._isDisposed?pi.INSTANCE:this._parent.getContextValuesContainer(i)}createChildContext(i=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(i)}disposeContext(i){this._isDisposed||this._parent.disposeContext(i)}}function _n(D){for(;D;){if(D.hasAttribute(qt)){const i=D.getAttribute(qt);return i?parseInt(i,10):NaN}D=D.parentElement}return 0}xe.P.registerCommand(vt.Eq,function(D,i,r){D.get(vt.i6).createKey(String(i),r)}),xe.P.registerCommand({id:"getContextKeyInfo",handler(){return[...vt.uy.all()].sort((D,i)=>D.key.localeCompare(i.key))},description:{description:(0,Z.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),xe.P.registerCommand("_generateContextKeyInfo",function(){const D=[],i=new Set;for(let r of vt.uy.all())i.has(r.key)||(i.add(r.key),D.push(r));D.sort((r,S)=>r.key.localeCompare(S.key)),console.log(JSON.stringify(D,void 0,2))});var Ji=t(10829),$n=t(23938),Zn=t(16268),Yn=t(10553),wn=t(90317),rs=t(76033),es=t(15375),ss=t(10161),Ls=t(61134),Js;(function(D){D[D.AVOID=0]="AVOID",D[D.ALIGN=1]="ALIGN"})(Js||(Js={}));function So(D,i,r){const S=r.mode===Js.ALIGN?r.offset:r.offset+r.size,K=r.mode===Js.ALIGN?r.offset+r.size:r.offset;return r.position===0?i<=D-S?S:i<=K?K-i:Math.max(D-i,0):i<=K?K-i:i<=D-S?S:0}class yo extends ni.JT{constructor(i,r){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=ni.JT.None,this.toDisposeOnSetContainer=ni.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ae.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ae.Cp(this.view),this.setContainer(i,r),this._register((0,ni.OF)(()=>this.setContainer(null,1)))}setContainer(i,r){var S;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(S=this.shadowRootHostElement)===null||S===void 0||S.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i){if(this.container=i,this.useFixedPosition=r!==1,this.useShadowDOM=r===3,this.useShadowDOM){this.shadowRootHostElement=ae.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const te=document.createElement("style");te.textContent=Ul,this.shadowRoot.appendChild(te),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ae.$("slot"))}else this.container.appendChild(this.view);const K=new ni.SL;yo.BUBBLE_UP_EVENTS.forEach(te=>{K.add(ae.mu(this.container,te,ge=>{this.onDOMEvent(ge,!1)}))}),yo.BUBBLE_DOWN_EVENTS.forEach(te=>{K.add(ae.mu(this.container,te,ge=>{this.onDOMEvent(ge,!0)},!0))}),this.toDisposeOnSetContainer=K}}show(i){this.isVisible()&&this.hide(),ae.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ae.$Z(this.view),this.toDisposeOnClean=i.render(this.view)||ni.JT.None,this.delegate=i,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(Di.gn&&ss.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let i=this.delegate.getAnchor(),r;if(ae.Re(i)){let Vt=ae.i(i);r={top:Vt.top,left:Vt.left,width:Vt.width,height:Vt.height}}else r={top:i.y,left:i.x,width:i.width||1,height:i.height||2};const S=ae.w(this.view),K=ae.wn(this.view),te=this.delegate.anchorPosition||0,ge=this.delegate.anchorAlignment||0,De=this.delegate.anchorAxisAlignment||0;let it,gt;if(De===0){const Vt={offset:r.top-window.pageYOffset,size:r.height,position:te===0?0:1},vi={offset:r.left,size:r.width,position:ge===0?0:1,mode:Js.ALIGN};it=So(window.innerHeight,K,Vt)+window.pageYOffset,Ls.e.intersects({start:it,end:it+K},{start:Vt.offset,end:Vt.offset+Vt.size})&&(vi.mode=Js.AVOID),gt=So(window.innerWidth,S,vi)}else{const Vt={offset:r.left,size:r.width,position:ge===0?0:1},vi={offset:r.top,size:r.height,position:te===0?0:1,mode:Js.ALIGN};gt=So(window.innerWidth,S,Vt),Ls.e.intersects({start:gt,end:gt+S},{start:Vt.offset,end:Vt.offset+Vt.size})&&(vi.mode=Js.AVOID),it=So(window.innerHeight,K,vi)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(te===0?"bottom":"top"),this.view.classList.add(ge===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const St=ae.i(this.container);this.view.style.top=`${it-(this.useFixedPosition?ae.i(this.view).top:St.top)}px`,this.view.style.left=`${gt-(this.useFixedPosition?ae.i(this.view).left:St.left)}px`,this.view.style.width="initial"}hide(i){const r=this.delegate;this.delegate=null,r!=null&&r.onHide&&r.onHide(i),this.toDisposeOnClean.dispose(),ae.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,r){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,document.activeElement):r&&!ae.jg(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}yo.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],yo.BUBBLE_DOWN_EVENTS=["click"];let Ul=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var zl=t(13433),qs=t(74741),co=t(73046),$s=t(21212);const Zr=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Qr=/(&amp;)?(&amp;)([^\s&])/g,Ra=(0,co.CM)("menu-selection",co.lA.check),Aa=(0,co.CM)("menu-submenu",co.lA.chevronRight);var rr;(function(D){D[D.Right=0]="Right",D[D.Left=1]="Left"})(rr||(rr={}));class uo extends wn.o{constructor(i,r,S={}){i.classList.add("monaco-menu-container"),i.setAttribute("role","presentation");const K=document.createElement("div");K.classList.add("monaco-menu"),K.setAttribute("role","presentation"),super(K,{orientation:1,actionViewItemProvider:De=>this.doGetActionViewItem(De,S,te),context:S.context,actionRunner:S.actionRunner,ariaLabel:S.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Di.dz||Di.IJ?[10]:[]],keyDown:!0}}),this.menuElement=K,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new ni.SL),this.initializeStyleSheet(i),this._register(Yn.o.addTarget(K)),(0,ae.nm)(K,ae.tw.KEY_DOWN,De=>{new cs.y(De).equals(2)&&De.preventDefault()}),S.enableMnemonics&&this.menuDisposables.add((0,ae.nm)(K,ae.tw.KEY_DOWN,De=>{const it=De.key.toLocaleLowerCase();if(this.mnemonics.has(it)){ae.zB.stop(De,!0);const gt=this.mnemonics.get(it);if(gt.length===1&&(gt[0]instanceof Oa&&gt[0].container&&this.focusItemByElement(gt[0].container),gt[0].onClick(De)),gt.length>1){const St=gt.shift();St&&St.container&&(this.focusItemByElement(St.container),gt.push(St)),this.mnemonics.set(it,gt)}}})),Di.IJ&&this._register((0,ae.nm)(K,ae.tw.KEY_DOWN,De=>{const it=new cs.y(De);it.equals(14)||it.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),ae.zB.stop(De,!0)):(it.equals(13)||it.equals(12))&&(this.focusedItem=0,this.focusPrevious(),ae.zB.stop(De,!0))})),this._register((0,ae.nm)(this.domNode,ae.tw.MOUSE_OUT,De=>{let it=De.relatedTarget;(0,ae.jg)(it,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),De.stopPropagation())})),this._register((0,ae.nm)(this.actionsList,ae.tw.MOUSE_OVER,De=>{let it=De.target;if(!(!it||!(0,ae.jg)(it,this.actionsList)||it===this.actionsList)){for(;it.parentElement!==this.actionsList&&it.parentElement!==null;)it=it.parentElement;if(it.classList.contains("action-item")){const gt=this.focusedItem;this.setFocusedItem(it),gt!==this.focusedItem&&this.updateFocus()}}})),this._register(Yn.o.addTarget(this.actionsList)),this._register((0,ae.nm)(this.actionsList,Yn.t.Tap,De=>{let it=De.initialTarget;if(!(!it||!(0,ae.jg)(it,this.actionsList)||it===this.actionsList)){for(;it.parentElement!==this.actionsList&&it.parentElement!==null;)it=it.parentElement;if(it.classList.contains("action-item")){const gt=this.focusedItem;this.setFocusedItem(it),gt!==this.focusedItem&&this.updateFocus()}}}));let te={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new zl.s$(K,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const ge=this.scrollableElement.getDomNode();ge.style.position="",this._register((0,ae.nm)(K,Yn.t.Change,De=>{ae.zB.stop(De,!0);const it=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:it-De.translationY})})),this._register((0,ae.nm)(ge,ae.tw.MOUSE_UP,De=>{De.preventDefault()})),K.style.maxHeight=`${Math.max(10,window.innerHeight-i.getBoundingClientRect().top-35)}px`,r=r.filter(De=>{var it;return!((it=S.submenuIds)===null||it===void 0)&&it.has(De.id)?(console.warn(`Found submenu cycle: ${De.id}`),!1):!0}),this.push(r,{icon:!0,label:!0,isMenu:!0}),i.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(De=>!(De instanceof Xr)).forEach((De,it,gt)=>{De.updatePositionInSet(it+1,gt.length)})}initializeStyleSheet(i){(0,ae.OO)(i)?(this.styleSheet=(0,ae.dS)(i),this.styleSheet.textContent=Pa):(uo.globalStyleSheet||(uo.globalStyleSheet=(0,ae.dS)(),uo.globalStyleSheet.textContent=Pa),this.styleSheet=uo.globalStyleSheet)}style(i){const r=this.getContainer(),S=i.foregroundColor?`${i.foregroundColor}`:"",K=i.backgroundColor?`${i.backgroundColor}`:"",te=i.borderColor?`1px solid ${i.borderColor}`:"",ge=i.shadowColor?`0 2px 4px ${i.shadowColor}`:"";r.style.border=te,this.domNode.style.color=S,this.domNode.style.backgroundColor=K,r.style.boxShadow=ge,this.viewItems&&this.viewItems.forEach(De=>{(De instanceof Yr||De instanceof Xr)&&De.style(i)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(i){const r=this.focusedItem;this.setFocusedItem(i),r!==this.focusedItem&&this.updateFocus()}setFocusedItem(i){for(let r=0;r<this.actionsList.children.length;r++){let S=this.actionsList.children[r];if(i===S){this.focusedItem=r;break}}}updateFocus(i){super.updateFocus(i,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(i,r,S){if(i instanceof qs.Z0)return new Xr(r.context,i,{icon:!0});if(i instanceof qs.wY){const K=new Oa(i,i.actions,S,Object.assign(Object.assign({},r),{submenuIds:new Set([...r.submenuIds||[],i.id])}));if(r.enableMnemonics){const te=K.getMnemonic();if(te&&K.isEnabled()){let ge=[];this.mnemonics.has(te)&&(ge=this.mnemonics.get(te)),ge.push(K),this.mnemonics.set(te,ge)}}return K}else{const K={enableMnemonics:r.enableMnemonics,useEventAsContext:r.useEventAsContext};if(r.getKeyBinding){const ge=r.getKeyBinding(i);if(ge){const De=ge.getLabel();De&&(K.keybinding=De)}}const te=new Yr(r.context,i,K);if(r.enableMnemonics){const ge=te.getMnemonic();if(ge&&te.isEnabled()){let De=[];this.mnemonics.has(ge)&&(De=this.mnemonics.get(ge)),De.push(te),this.mnemonics.set(ge,De)}}return te}}}class Yr extends rs.Y{constructor(i,r,S={}){if(S.isMenu=!0,super(r,r,S),this.options=S,this.options.icon=S.icon!==void 0?S.icon:!1,this.options.label=S.label!==void 0?S.label:!0,this.cssClass="",this.options.label&&S.enableMnemonics){let K=this.getAction().label;if(K){let te=Zr.exec(K);te&&(this.mnemonic=(te[1]?te[1]:te[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new oi.pY(()=>{this.element&&(this._register((0,ae.nm)(this.element,ae.tw.MOUSE_UP,K=>{if(ae.zB.stop(K,!0),Zn.vU){if(new $n.n(K).rightButton)return;this.onClick(K)}else setTimeout(()=>{this.onClick(K)},0)})),this._register((0,ae.nm)(this.element,ae.tw.CONTEXT_MENU,K=>{ae.zB.stop(K,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(i){super.render(i),this.element&&(this.container=i,this.item=(0,ae.R3)(this.element,(0,ae.$)("a.action-menu-item")),this._action.id===qs.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,ae.R3)(this.item,(0,ae.$)("span.menu-item-check"+Ra.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,ae.R3)(this.item,(0,ae.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,ae.R3)(this.item,(0,ae.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(i,r){this.item&&(this.item.setAttribute("aria-posinset",`${i}`),this.item.setAttribute("aria-setsize",`${r}`))}updateLabel(){if(this.label&&this.options.label){(0,ae.PO)(this.label);let i=(0,$s.x$)(this.getAction().label);if(i){const r=Kl(i);this.options.enableMnemonics||(i=r),this.label.setAttribute("aria-label",r.replace(/&&/g,"&"));const S=Zr.exec(i);if(S){i=Ii.YU(i),Qr.lastIndex=0;let K=Qr.exec(i);for(;K&&K[1];)K=Qr.exec(i);const te=ge=>ge.replace(/&amp;&amp;/g,"&amp;");K?this.label.append(Ii.j3(te(i.substr(0,K.index))," "),(0,ae.$)("u",{"aria-hidden":"true"},K[3]),Ii.oL(te(i.substr(K.index+K[0].length))," ")):this.label.innerText=te(i).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(S[1]?S[1]:S[3]).toLocaleLowerCase())}else this.label.innerText=i.replace(/&&/g,"&").trim()}}}updateTooltip(){let i=null;this.getAction().tooltip?i=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(i=this.getAction().label,this.options.keybinding&&(i=Z.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",i,this.options.keybinding))),i&&this.item&&(this.item.title=i)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const i=this.getAction().checked;this.item.classList.toggle("checked",!!i),i!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",i?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const i=this.element&&this.element.classList.contains("focused"),r=i&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,S=i&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,K=i&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=r?r.toString():"",this.item.style.backgroundColor=S?S.toString():""),this.check&&(this.check.style.color=r?r.toString():""),this.container&&(this.container.style.border=K)}style(i){this.menuStyle=i,this.applyStyle()}}class Oa extends Yr{constructor(i,r,S,K){super(i,i,K),this.submenuActions=r,this.parentData=S,this.submenuOptions=K,this.mysubmenu=null,this.submenuDisposables=this._register(new ni.SL),this.mouseOver=!1,this.expandDirection=K&&K.expandDirection!==void 0?K.expandDirection:rr.Right,this.showScheduler=new oi.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new oi.pY(()=>{this.element&&!(0,ae.jg)((0,ae.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(i){super.render(i),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,ae.R3)(this.item,(0,ae.$)("span.submenu-indicator"+Aa.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,ae.nm)(this.element,ae.tw.KEY_UP,r=>{let S=new cs.y(r);(S.equals(17)||S.equals(3))&&(ae.zB.stop(r,!0),this.createSubmenu(!0))})),this._register((0,ae.nm)(this.element,ae.tw.KEY_DOWN,r=>{let S=new cs.y(r);(0,ae.vY)()===this.item&&(S.equals(17)||S.equals(3))&&ae.zB.stop(r,!0)})),this._register((0,ae.nm)(this.element,ae.tw.MOUSE_OVER,r=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,ae.nm)(this.element,ae.tw.MOUSE_LEAVE,r=>{this.mouseOver=!1})),this._register((0,ae.nm)(this.element,ae.tw.FOCUS_OUT,r=>{this.element&&!(0,ae.jg)((0,ae.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(i){ae.zB.stop(i,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(i){if(this.parentData.submenu&&(i||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(r){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(i,r,S,K){const te={top:0,left:0};return te.left=So(i.width,r.width,{position:K===rr.Right?0:1,offset:S.left,size:S.width}),te.left>=S.left&&te.left<S.left+S.width&&(S.left+10+r.width<=i.width&&(te.left=S.left+10),S.top+=10,S.height=0),te.top=So(i.height,r.height,{position:0,offset:S.top,size:0}),te.top+r.height===S.top&&te.top+S.height+r.height<=i.height&&(te.top+=S.height),te}createSubmenu(i=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,ae.R3)(this.element,(0,ae.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const r=getComputedStyle(this.parentData.parent.domNode),S=parseFloat(r.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new uo(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new qs.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const K=this.element.getBoundingClientRect(),te={top:K.top-S,left:K.left,height:K.height+2*S,width:K.width},ge=this.submenuContainer.getBoundingClientRect(),{top:De,left:it}=this.calculateSubmenuMenuLayout(new ae.Ro(window.innerWidth,window.innerHeight),ae.Ro.lift(ge),te,this.expandDirection);this.submenuContainer.style.left=`${it-ge.left}px`,this.submenuContainer.style.top=`${De-ge.top}px`,this.submenuDisposables.add((0,ae.nm)(this.submenuContainer,ae.tw.KEY_UP,gt=>{new cs.y(gt).equals(15)&&(ae.zB.stop(gt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,ae.nm)(this.submenuContainer,ae.tw.KEY_DOWN,gt=>{new cs.y(gt).equals(15)&&ae.zB.stop(gt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(i),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(i){var r;this.item&&((r=this.item)===null||r===void 0||r.setAttribute("aria-expanded",i))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const r=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=r?`${r}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Xr extends rs.g{style(i){this.label&&(this.label.style.borderBottomColor=i.separatorColor?`${i.separatorColor}`:"")}}function Kl(D){const i=Zr,r=i.exec(D);if(!r)return D;const S=!r[1];return D.replace(i,S?"$2$3":"").trim()}let Pa=`
.monaco-menu {
	font-size: 13px;

}

${(0,es.a)(Ra)}
${(0,es.a)(Aa)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`;var eo=t(88810);class jl{constructor(i,r,S,K,te){this.contextViewService=i,this.telemetryService=r,this.notificationService=S,this.keybindingService=K,this.themeService=te,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(i){this.options=i}showContextMenu(i){const r=i.getActions();if(!r.length)return;this.focusToReturn=document.activeElement;let S,K=(0,ae.Re)(i.domForShadowRoot)?i.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>i.getAnchor(),canRelayout:!1,anchorAlignment:i.anchorAlignment,anchorAxisAlignment:i.anchorAxisAlignment,render:te=>{let ge=i.getMenuClassName?i.getMenuClassName():"";ge&&(te.className+=" "+ge),this.options.blockMouse&&(this.block=te.appendChild((0,ae.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,ae.nm)(this.block,ae.tw.MOUSE_DOWN,gt=>gt.stopPropagation()));const De=new ni.SL,it=i.actionRunner||new qs.Wi;return it.onBeforeRun(this.onActionRun,this,De),it.onDidRun(this.onDidActionRun,this,De),S=new uo(te,r,{actionViewItemProvider:i.getActionViewItem,context:i.getActionsContext?i.getActionsContext():null,actionRunner:it,getKeyBinding:i.getKeyBinding?i.getKeyBinding:gt=>this.keybindingService.lookupKeybinding(gt.id)}),De.add((0,eo.tj)(S,this.themeService)),S.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,De),S.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,De),De.add((0,ae.nm)(window,ae.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),De.add((0,ae.nm)(window,ae.tw.MOUSE_DOWN,gt=>{if(gt.defaultPrevented)return;let St=new $n.n(gt),Vt=St.target;if(!St.rightButton){for(;Vt;){if(Vt===te)return;Vt=Vt.parentElement}this.contextViewService.hideContextView(!0)}})),(0,ni.F8)(De,S)},focus:()=>{S&&S.focus(!!i.autoSelectFirstItem)},onHide:te=>{i.onHide&&i.onHide(!!te),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},K,!!K)}onActionRun(i){this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(i){i.error&&!(0,hi.VV)(i.error)&&this.notificationService.error(i.error)}}var $l=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},$o=function(D,i){return function(r,S){i(r,S,D)}};let Jr=class extends ni.JT{constructor(i,r,S,K,te){super(),this.contextMenuHandler=new jl(S,i,r,K,te)}configure(i){this.contextMenuHandler.configure(i)}showContextMenu(i){this.contextMenuHandler.showContextMenu(i),ae._q.getInstance().resetKeyStatus()}};Jr=$l([$o(0,Ji.b),$o(1,Ni.lT),$o(2,Rs.u),$o(3,Ps.d),$o(4,Cs.XE)],Jr);const ar=(0,ps.yh)("layoutService");var Gl=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Zl=function(D,i){return function(r,S){i(r,S,D)}};let qr=class extends ni.JT{constructor(i){super(),this.layoutService=i,this.currentViewDisposable=ni.JT.None,this.container=i.container,this.contextView=this._register(new yo(this.container,1)),this.layout(),this._register(i.onDidLayout(()=>this.layout()))}setContainer(i,r){this.contextView.setContainer(i,r||1)}showContextView(i,r,S){r?r!==this.container&&(this.container=r,this.setContainer(r,S?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(i);const K=(0,ni.OF)(()=>{this.currentViewDisposable===K&&this.hideContextView()});return this.currentViewDisposable=K,K}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(i){this.contextView.hide(i)}};qr=Gl([Zl(0,ar)],qr);var ka=t(28820),wo=t(97108);class Ql{constructor(i){this.incoming=new Map,this.outgoing=new Map,this.data=i}}class Yl{constructor(i){this._hashFn=i,this._nodes=new Map}roots(){const i=[];for(let r of this._nodes.values())r.outgoing.size===0&&i.push(r);return i}insertEdge(i,r){const S=this.lookupOrInsertNode(i),K=this.lookupOrInsertNode(r);S.outgoing.set(this._hashFn(r),K),K.incoming.set(this._hashFn(i),S)}removeNode(i){const r=this._hashFn(i);this._nodes.delete(r);for(let S of this._nodes.values())S.outgoing.delete(r),S.incoming.delete(r)}lookupOrInsertNode(i){const r=this._hashFn(i);let S=this._nodes.get(r);return S||(S=new Ql(i),this._nodes.set(r,S)),S}isEmpty(){return this._nodes.size===0}toString(){let i=[];for(let[r,S]of this._nodes)i.push(`${r}, (incoming)[${[...S.incoming.keys()].join(", ")}], (outgoing)[${[...S.outgoing.keys()].join(",")}]`);return i.join(`
`)}findCycleSlow(){for(let[i,r]of this._nodes){const S=new Set([i]),K=this._findCycle(r,S);if(K)return K}}_findCycle(i,r){for(let[S,K]of i.outgoing){if(r.has(S))return[...r,S].join(" -> ");r.add(S);const te=this._findCycle(K,r);if(te)return te;r.delete(S)}}}var ea=t(60972);const Fa=!1;class Ba extends Error{constructor(i){var r;super("cyclic dependency between services"),this.message=(r=i.findCycleSlow())!==null&&r!==void 0?r:`UNABLE to detect cycle, dumping graph: 
${i.toString()}`}}class lr{constructor(i=new ea.y,r=!1,S){this._activeInstantiations=new Set,this._services=i,this._strict=r,this._parent=S,this._services.set(ps.TG,this)}createChild(i){return new lr(i,this._strict,this)}invokeFunction(i,...r){let S=Ds.traceInvocation(i),K=!1;try{return i({get:(ge,De)=>{if(K)throw(0,hi.L6)("service accessor is only valid during the invocation of its target method");const it=this._getOrCreateServiceInstance(ge,S);if(!it&&De!==ps.jt)throw new Error(`[invokeFunction] unknown service '${ge}'`);return it}},...r)}finally{K=!0,S.stop()}}createInstance(i,...r){let S,K;return i instanceof wo.M?(S=Ds.traceCreation(i.ctor),K=this._createInstance(i.ctor,i.staticArguments.concat(r),S)):(S=Ds.traceCreation(i),K=this._createInstance(i,r,S)),S.stop(),K}_createInstance(i,r=[],S){let K=ps.I8.getServiceDependencies(i).sort((De,it)=>De.index-it.index),te=[];for(const De of K){let it=this._getOrCreateServiceInstance(De.id,S);if(!it&&this._strict&&!De.optional)throw new Error(`[createInstance] ${i.name} depends on UNKNOWN service ${De.id}.`);te.push(it)}let ge=K.length>0?K[0].index:r.length;if(r.length!==ge){console.warn(`[createInstance] First service dependency of ${i.name} at position ${ge+1} conflicts with ${r.length} static arguments`);let De=ge-r.length;De>0?r=r.concat(new Array(De)):r=r.slice(0,ge)}return new i(...r,...te)}_setServiceInstance(i,r){if(this._services.get(i)instanceof wo.M)this._services.set(i,r);else if(this._parent)this._parent._setServiceInstance(i,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(i){let r=this._services.get(i);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(i):r}_getOrCreateServiceInstance(i,r){let S=this._getServiceInstanceOrDescriptor(i);return S instanceof wo.M?this._safeCreateAndCacheServiceInstance(i,S,r.branch(i,!0)):(r.branch(i,!1),S)}_safeCreateAndCacheServiceInstance(i,r,S){if(this._activeInstantiations.has(i))throw new Error(`illegal state - RECURSIVELY instantiating service '${i}'`);this._activeInstantiations.add(i);try{return this._createAndCacheServiceInstance(i,r,S)}finally{this._activeInstantiations.delete(i)}}_createAndCacheServiceInstance(i,r,S){const K=new Yl(De=>De.id.toString());let te=0;const ge=[{id:i,desc:r,_trace:S}];for(;ge.length;){const De=ge.pop();if(K.lookupOrInsertNode(De),te++>1e3)throw new Ba(K);for(let it of ps.I8.getServiceDependencies(De.desc.ctor)){let gt=this._getServiceInstanceOrDescriptor(it.id);if(!gt&&!it.optional&&console.warn(`[createInstance] ${i} depends on ${it.id} which is NOT registered.`),gt instanceof wo.M){const St={id:it.id,desc:gt,_trace:De._trace.branch(it.id,!0)};K.insertEdge(De,St),ge.push(St)}}}for(;;){const De=K.roots();if(De.length===0){if(!K.isEmpty())throw new Ba(K);break}for(const{data:it}of De){if(this._getServiceInstanceOrDescriptor(it.id)instanceof wo.M){const St=this._createServiceInstanceWithOwner(it.id,it.desc.ctor,it.desc.staticArguments,it.desc.supportsDelayedInstantiation,it._trace);this._setServiceInstance(it.id,St)}K.removeNode(it)}}return this._getServiceInstanceOrDescriptor(i)}_createServiceInstanceWithOwner(i,r,S=[],K,te){if(this._services.get(i)instanceof wo.M)return this._createServiceInstance(r,S,K,te);if(this._parent)return this._parent._createServiceInstanceWithOwner(i,r,S,K,te);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(i,r=[],S,K){if(S){const te=new oi.Ue(()=>this._createInstance(i,r,K));return new Proxy(Object.create(null),{get(ge,De){if(De in ge)return ge[De];let it=te.value,gt=it[De];return typeof gt!="function"||(gt=gt.bind(it),ge[De]=gt),gt},set(ge,De,it){return te.value[De]=it,!0}})}else return this._createInstance(i,r,K)}}class Ds{constructor(i,r){this.type=i,this.name=r,this._start=Date.now(),this._dep=[]}static traceInvocation(i){return Fa?new Ds(1,i.name||i.toString().substring(0,42).replace(/\n/g,"")):Ds._None}static traceCreation(i){return Fa?new Ds(0,i.name):Ds._None}branch(i,r){let S=new Ds(2,i.toString());return this._dep.push([i,r,S]),S}stop(){let i=Date.now()-this._start;Ds._totals+=i;let r=!1;function S(te,ge){let De=[],it=new Array(te+1).join("	");for(const[gt,St,Vt]of ge._dep)if(St&&Vt){r=!0,De.push(`${it}CREATES -> ${gt}`);let vi=S(te+1,Vt);vi&&De.push(vi)}else De.push(`${it}uses -> ${gt}`);return De.join(`
`)}let K=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${S(1,this)}`,`DONE, took ${i.toFixed(2)}ms (grand total ${Ds._totals.toFixed(2)}ms)`];(i>2||r)&&console.log(K.join(`
`))}}Ds._None=new class extends Ds{constructor(){super(-1,null)}stop(){}branch(){return this}},Ds._totals=0;var Xl=t(44349),ta=t(2520),Bs=t(98674);class Jl{constructor(){this._byResource=new Ve.Y9,this._byOwner=new Map}set(i,r,S){let K=this._byResource.get(i);K||(K=new Map,this._byResource.set(i,K)),K.set(r,S);let te=this._byOwner.get(r);te||(te=new Ve.Y9,this._byOwner.set(r,te)),te.set(i,S)}get(i,r){let S=this._byResource.get(i);return S==null?void 0:S.get(r)}delete(i,r){let S=!1,K=!1,te=this._byResource.get(i);te&&(S=te.delete(r));let ge=this._byOwner.get(r);if(ge&&(K=ge.delete(i)),S!==K)throw new Error("illegal state");return S&&K}values(i){var r,S,K,te;return typeof i=="string"?(S=(r=this._byOwner.get(i))===null||r===void 0?void 0:r.values())!==null&&S!==void 0?S:Ot.$.empty():w.o.isUri(i)?(te=(K=this._byResource.get(i))===null||K===void 0?void 0:K.values())!==null&&te!==void 0?te:Ot.$.empty():Ot.$.map(Ot.$.concat(...this._byOwner.values()),ge=>ge[1])}}class ql{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ve.Y9,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const r of i){const S=this._data.get(r);S&&this._substract(S);const K=this._resourceStats(r);this._add(K),this._data.set(r,K)}}_resourceStats(i){const r={errors:0,warnings:0,infos:0,unknowns:0};if(i.scheme===ce.lg.inMemory||i.scheme===ce.lg.walkThrough||i.scheme===ce.lg.walkThroughSnippet)return r;for(const{severity:S}of this._service.read({resource:i}))S===Bs.ZL.Error?r.errors+=1:S===Bs.ZL.Warning?r.warnings+=1:S===Bs.ZL.Info?r.infos+=1:r.unknowns+=1;return r}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class ho{constructor(){this._onMarkerChanged=new k.D0({delay:0,merge:ho._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Jl,this._stats=new ql(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,r){for(const S of r||[])this.changeOne(i,S,[])}changeOne(i,r,S){if((0,mn.XY)(S))this._data.delete(r,i)&&this._onMarkerChanged.fire([r]);else{const K=[];for(const te of S){const ge=ho._toMarker(i,r,te);ge&&K.push(ge)}this._data.set(r,i,K),this._onMarkerChanged.fire([r])}}static _toMarker(i,r,S){let{code:K,severity:te,message:ge,source:De,startLineNumber:it,startColumn:gt,endLineNumber:St,endColumn:Vt,relatedInformation:vi,tags:Yi}=S;if(ge)return it=it>0?it:1,gt=gt>0?gt:1,St=St>=it?St:it,Vt=Vt>0?Vt:gt,{resource:r,owner:i,code:K,severity:te,message:ge,source:De,startLineNumber:it,startColumn:gt,endLineNumber:St,endColumn:Vt,relatedInformation:vi,tags:Yi}}read(i=Object.create(null)){let{owner:r,resource:S,severities:K,take:te}=i;if((!te||te<0)&&(te=-1),r&&S){const ge=this._data.get(S,r);if(ge){const De=[];for(const it of ge)if(ho._accept(it,K)){const gt=De.push(it);if(te>0&&gt===te)break}return De}else return[]}else if(!r&&!S){const ge=[];for(let De of this._data.values())for(let it of De)if(ho._accept(it,K)){const gt=ge.push(it);if(te>0&&gt===te)return ge}return ge}else{const ge=this._data.values(S!=null?S:r),De=[];for(const it of ge)for(const gt of it)if(ho._accept(gt,K)){const St=De.push(gt);if(te>0&&St===te)return De}return De}}static _accept(i,r){return r===void 0||(r&i.severity)===i.severity}static _merge(i){const r=new Ve.Y9;for(let S of i)for(let K of S)r.set(K,!0);return Array.from(r.keys())}}var Wa=t(87060),Va=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},dr=function(D,i){return function(r,S){i(r,S,D)}};let ia=class{constructor(i){this._commandService=i}createMenu(i,r,S){return new na(i,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},S),this._commandService,r,this)}};ia=Va([dr(0,xe.H)],ia);let na=class No{constructor(i,r,S,K,te){this._id=i,this._options=r,this._commandService=S,this._contextKeyService=K,this._menuService=te,this._disposables=new ni.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const ge=new oi.pY(()=>{this._build(),this._onDidChange.fire(this)},r.eventDebounceDelay);this._disposables.add(ge),this._disposables.add(ws.BH.onDidChangeMenu(gt=>{gt.has(i)&&ge.schedule()}));const De=this._disposables.add(new ni.SL),it=()=>{const gt=new oi.pY(()=>this._onDidChange.fire(this),r.eventDebounceDelay);De.add(gt),De.add(K.onDidChangeContext(St=>{St.affectsSome(this._contextKeys)&&gt.schedule()}))};this._onDidChange=new k.Q5({onFirstListenerAdd:it,onLastListenerRemove:De.clear.bind(De)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const i=ws.BH.getMenuItems(this._id);let r;i.sort(No._compareMenuItems);for(const S of i){const K=S.group||"";(!r||r[0]!==K)&&(r=[K,[]],this._menuGroups.push(r)),r[1].push(S),this._collectContextKeys(S)}}_collectContextKeys(i){if(No._fillInKbExprKeys(i.when,this._contextKeys),(0,ws.vr)(i)){if(i.command.precondition&&No._fillInKbExprKeys(i.command.precondition,this._contextKeys),i.command.toggled){const r=i.command.toggled.condition||i.command.toggled;No._fillInKbExprKeys(r,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&ws.BH.getMenuItems(i.submenu).forEach(this._collectContextKeys,this)}getActions(i){const r=[];for(let S of this._menuGroups){const[K,te]=S,ge=[];for(const De of te)if(this._contextKeyService.contextMatchesRules(De.when)){const it=(0,ws.vr)(De)?new ws.U8(De.command,De.alt,i,this._contextKeyService,this._commandService):new ws.NZ(De,this._menuService,this._contextKeyService,i);ge.push(it)}ge.length>0&&r.push([K,ge])}return r}static _fillInKbExprKeys(i,r){if(i)for(let S of i.keys())r.add(S)}static _compareMenuItems(i,r){let S=i.group,K=r.group;if(S!==K){if(S){if(!K)return-1}else return 1;if(S==="navigation")return-1;if(K==="navigation")return 1;let De=S.localeCompare(K);if(De!==0)return De}let te=i.order||0,ge=r.order||0;return te<ge?-1:te>ge?1:No._compareTitles((0,ws.vr)(i)?i.command.title:i.title,(0,ws.vr)(r)?r.command.title:r.title)}static _compareTitles(i,r){const S=typeof i=="string"?i:i.original,K=typeof r=="string"?r:r.original;return S.localeCompare(K)}};na=Va([dr(2,xe.H),dr(3,vt.i6),dr(4,ws.co)],na);var ed=t(26479),td=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Ha=function(D,i){return function(r,S){i(r,S,D)}};class id extends ni.JT{constructor(i){super(),this.model=i,this._markersData=new Map,this._register((0,ni.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(i,r){const S=[...this._markersData.keys()];this._markersData.clear();const K=this.model.deltaDecorations(S,r);for(let te=0;te<K.length;te++)this._markersData.set(K[te],i[te]);return S.length!==0||K.length!==0}getMarker(i){return this._markersData.get(i.id)}}let sa=class extends ni.JT{constructor(i,r){super(),this._markerService=r,this._onDidChangeMarker=this._register(new k.Q5),this._markerDecorations=new Ve.Y9,i.getModels().forEach(S=>this._onModelAdded(S)),this._register(i.onModelAdded(this._onModelAdded,this)),this._register(i.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(i=>i.dispose()),this._markerDecorations.clear()}getMarker(i,r){const S=this._markerDecorations.get(i);return S&&S.getMarker(r)||null}_handleMarkerChange(i){i.forEach(r=>{const S=this._markerDecorations.get(r);S&&this._updateDecorations(S)})}_onModelAdded(i){const r=new id(i);this._markerDecorations.set(i.uri,r),this._updateDecorations(r)}_onModelRemoved(i){const r=this._markerDecorations.get(i.uri);r&&(r.dispose(),this._markerDecorations.delete(i.uri)),(i.uri.scheme===ce.lg.inMemory||i.uri.scheme===ce.lg.internal||i.uri.scheme===ce.lg.vscode)&&this._markerService&&this._markerService.read({resource:i.uri}).map(S=>S.owner).forEach(S=>this._markerService.remove(S,[i.uri]))}_updateDecorations(i){const r=this._markerService.read({resource:i.model.uri,take:500});let S=r.map(K=>({range:this._createDecorationRange(i.model,K),options:this._createDecorationOption(K)}));i.update(r,S)&&this._onDidChangeMarker.fire(i.model)}_createDecorationRange(i,r){let S=x.e.lift(r);return r.severity===Bs.ZL.Hint&&!this._hasMarkerTag(r,1)&&!this._hasMarkerTag(r,2)&&(S=S.setEndPosition(S.startLineNumber,S.startColumn+2)),i.validateRange(S)}_createDecorationOption(i){let r,S,K,te,ge;switch(i.severity){case Bs.ZL.Hint:this._hasMarkerTag(i,2)?r=void 0:this._hasMarkerTag(i,1)?r="squiggly-unnecessary":r="squiggly-hint",K=0;break;case Bs.ZL.Warning:r="squiggly-warning",S=(0,Cs.EN)(As.Re),K=20,ge={color:(0,Cs.EN)(dn.Iv),position:Je.F5.Inline};break;case Bs.ZL.Info:r="squiggly-info",S=(0,Cs.EN)(As.eS),K=10;break;case Bs.ZL.Error:default:r="squiggly-error",S=(0,Cs.EN)(As.lK),K=30,ge={color:(0,Cs.EN)(dn.Gj),position:Je.F5.Inline};break}return i.tags&&(i.tags.indexOf(1)!==-1&&(te="squiggly-inline-unnecessary"),i.tags.indexOf(2)!==-1&&(te="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:r,showIfCollapsed:!0,overviewRuler:{color:S,position:Je.sh.Right},minimap:ge,zIndex:K,inlineClassName:te}}_hasMarkerTag(i,r){return i.tags?i.tags.indexOf(r)>=0:!1}};sa=td([Ha(0,Kn.q),Ha(1,Bs.lT)],sa);var Ua=t(65026),nd=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},za=function(D,i){return function(r,S){i(r,S,D)}};let oa=class extends ni.JT{constructor(i,r){super(),this._contextKeyService=i,this._configurationService=r,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new k.Q5,this._accessibilityModeEnabledContext=xs.U.bindTo(this._contextKeyService);const S=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(K=>{K.affectsConfiguration("editor.accessibilitySupport")&&(S(),this._onDidChangeScreenReaderOptimized.fire())})),S(),this.onDidChangeScreenReaderOptimized(()=>S())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};oa=nd([za(0,vt.i6),za(1,Hi.Ui)],oa);var cr=function(D,i,r,S){function K(te){return te instanceof r?te:new r(function(ge){ge(te)})}return new(r||(r=Promise))(function(te,ge){function De(St){try{gt(S.next(St))}catch(Vt){ge(Vt)}}function it(St){try{gt(S.throw(St))}catch(Vt){ge(Vt)}}function gt(St){St.done?te(St.value):K(St.value).then(De,it)}gt((S=S.apply(D,i||[])).next())})};class sd{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(i,r){return cr(this,void 0,void 0,function*(){if(r){this.mapTextToType.set(r,i);return}try{return yield navigator.clipboard.writeText(i)}catch(te){console.error(te)}const S=document.activeElement,K=document.body.appendChild((0,ae.$)("textarea",{"aria-hidden":!0}));K.style.height="1px",K.style.width="1px",K.style.position="absolute",K.value=i,K.focus(),K.select(),document.execCommand("copy"),S instanceof HTMLElement&&S.focus(),document.body.removeChild(K)})}readText(i){return cr(this,void 0,void 0,function*(){if(i)return this.mapTextToType.get(i)||"";try{return yield navigator.clipboard.readText()}catch(r){return console.error(r),""}})}readFindText(){return cr(this,void 0,void 0,function*(){return this.findText})}writeFindText(i){return cr(this,void 0,void 0,function*(){this.findText=i})}}var Ws=t(64862),od=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Ka=function(D,i){return function(r,S){i(r,S,D)}},ur=function(D,i,r,S){function K(te){return te instanceof r?te:new r(function(ge){ge(te)})}return new(r||(r=Promise))(function(te,ge){function De(St){try{gt(S.next(St))}catch(Vt){ge(Vt)}}function it(St){try{gt(S.throw(St))}catch(Vt){ge(Vt)}}function gt(St){St.done?te(St.value):K(St.value).then(De,it)}gt((S=S.apply(D,i||[])).next())})};const Lo=!1;function hr(D){return D.scheme===ce.lg.file?D.fsPath:D.path}let ja=0;class fr{constructor(i,r,S,K,te,ge,De){this.id=++ja,this.type=0,this.actual=i,this.label=i.label,this.confirmBeforeUndo=i.confirmBeforeUndo||!1,this.resourceLabel=r,this.strResource=S,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=K,this.groupOrder=te,this.sourceId=ge,this.sourceOrder=De,this.isValid=!0}setValid(i){this.isValid=i}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class $a{constructor(i,r){this.resourceLabel=i,this.reason=r}}class Ga{constructor(){this.elements=new Map}createMessage(){const i=[],r=[];for(const[,K]of this.elements)(K.reason===0?i:r).push(K.resourceLabel);let S=[];return i.length>0&&S.push(Z.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",i.join(", "))),r.length>0&&S.push(Z.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",r.join(", "))),S.join(`
`)}get size(){return this.elements.size}has(i){return this.elements.has(i)}set(i,r){this.elements.set(i,r)}delete(i){return this.elements.delete(i)}}class rd{constructor(i,r,S,K,te,ge,De){this.id=++ja,this.type=1,this.actual=i,this.label=i.label,this.confirmBeforeUndo=i.confirmBeforeUndo||!1,this.resourceLabels=r,this.strResources=S,this.groupId=K,this.groupOrder=te,this.sourceId=ge,this.sourceOrder=De,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(i,r,S){this.removedResources||(this.removedResources=new Ga),this.removedResources.has(r)||this.removedResources.set(r,new $a(i,S))}setValid(i,r,S){S?this.invalidatedResources&&(this.invalidatedResources.delete(r),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Ga),this.invalidatedResources.has(r)||this.invalidatedResources.set(r,new $a(i,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Za{constructor(i,r){this.resourceLabel=i,this.strResource=r,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const i of this._past)i.type===1&&i.removeResource(this.resourceLabel,this.strResource,0);for(const i of this._future)i.type===1&&i.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let i=[];i.push(`* ${this.strResource}:`);for(let r=0;r<this._past.length;r++)i.push(`   * [UNDO] ${this._past[r]}`);for(let r=this._future.length-1;r>=0;r--)i.push(`   * [REDO] ${this._future[r]}`);return i.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(i,r){i.type===1?i.setValid(this.resourceLabel,this.strResource,r):i.setValid(r)}setElementsValidFlag(i,r){for(const S of this._past)r(S.actual)&&this._setElementValidFlag(S,i);for(const S of this._future)r(S.actual)&&this._setElementValidFlag(S,i)}pushElement(i){for(const r of this._future)r.type===1&&r.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(i),this.versionId++}createSnapshot(i){const r=[];for(let S=0,K=this._past.length;S<K;S++)r.push(this._past[S].id);for(let S=this._future.length-1;S>=0;S--)r.push(this._future[S].id);return new Ws.YO(i,r)}restoreSnapshot(i){const r=i.elements.length;let S=!0,K=0,te=-1;for(let De=0,it=this._past.length;De<it;De++,K++){const gt=this._past[De];S&&(K>=r||gt.id!==i.elements[K])&&(S=!1,te=0),!S&&gt.type===1&&gt.removeResource(this.resourceLabel,this.strResource,0)}let ge=-1;for(let De=this._future.length-1;De>=0;De--,K++){const it=this._future[De];S&&(K>=r||it.id!==i.elements[K])&&(S=!1,ge=De),!S&&it.type===1&&it.removeResource(this.resourceLabel,this.strResource,0)}te!==-1&&(this._past=this._past.slice(0,te)),ge!==-1&&(this._future=this._future.slice(ge+1)),this.versionId++}getElements(){const i=[],r=[];for(const S of this._past)i.push(S.actual);for(const S of this._future)r.push(S.actual);return{past:i,future:r}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(i,r){for(let S=this._past.length-1;S>=0;S--)if(this._past[S]===i){r.has(this.strResource)?this._past[S]=r.get(this.strResource):this._past.splice(S,1);break}this.versionId++}splitFutureWorkspaceElement(i,r){for(let S=this._future.length-1;S>=0;S--)if(this._future[S]===i){r.has(this.strResource)?this._future[S]=r.get(this.strResource):this._future.splice(S,1);break}this.versionId++}moveBackward(i){this._past.pop(),this._future.push(i),this.versionId++}moveForward(i){this._future.pop(),this._past.push(i),this.versionId++}}class ra{constructor(i){this.editStacks=i,this._versionIds=[];for(let r=0,S=this.editStacks.length;r<S;r++)this._versionIds[r]=this.editStacks[r].versionId}isValid(){for(let i=0,r=this.editStacks.length;i<r;i++)if(this._versionIds[i]!==this.editStacks[i].versionId)return!1;return!0}}const Qa=new Za("","");Qa.locked=!0;let gr=class{constructor(i,r){this._dialogService=i,this._notificationService=r,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(i){for(const r of this._uriComparisonKeyComputers)if(r[0]===i.scheme)return r[1].getComparisonKey(i);return i.toString()}_print(i){console.log("------------------------------------"),console.log(`AFTER ${i}: `);let r=[];for(const S of this._editStacks)r.push(S[1].toString());console.log(r.join(`
`))}pushElement(i,r=Ws.Xt.None,S=Ws.gJ.None){if(i.type===0){const K=hr(i.resource),te=this.getUriComparisonKey(i.resource);this._pushElement(new fr(i,K,te,r.id,r.nextOrder(),S.id,S.nextOrder()))}else{const K=new Set,te=[],ge=[];for(const De of i.resources){const it=hr(De),gt=this.getUriComparisonKey(De);K.has(gt)||(K.add(gt),te.push(it),ge.push(gt))}te.length===1?this._pushElement(new fr(i,te[0],ge[0],r.id,r.nextOrder(),S.id,S.nextOrder())):this._pushElement(new rd(i,te,ge,r.id,r.nextOrder(),S.id,S.nextOrder()))}Lo&&this._print("pushElement")}_pushElement(i){for(let r=0,S=i.strResources.length;r<S;r++){const K=i.resourceLabels[r],te=i.strResources[r];let ge;this._editStacks.has(te)?ge=this._editStacks.get(te):(ge=new Za(K,te),this._editStacks.set(te,ge)),ge.pushElement(i)}}getLastElement(i){const r=this.getUriComparisonKey(i);if(this._editStacks.has(r)){const S=this._editStacks.get(r);if(S.hasFutureElements())return null;const K=S.getClosestPastElement();return K?K.actual:null}return null}_splitPastWorkspaceElement(i,r){const S=i.actual.split(),K=new Map;for(const te of S){const ge=hr(te.resource),De=this.getUriComparisonKey(te.resource),it=new fr(te,ge,De,0,0,0,0);K.set(it.strResource,it)}for(const te of i.strResources){if(r&&r.has(te))continue;this._editStacks.get(te).splitPastWorkspaceElement(i,K)}}_splitFutureWorkspaceElement(i,r){const S=i.actual.split(),K=new Map;for(const te of S){const ge=hr(te.resource),De=this.getUriComparisonKey(te.resource),it=new fr(te,ge,De,0,0,0,0);K.set(it.strResource,it)}for(const te of i.strResources){if(r&&r.has(te))continue;this._editStacks.get(te).splitFutureWorkspaceElement(i,K)}}removeElements(i){const r=typeof i=="string"?i:this.getUriComparisonKey(i);this._editStacks.has(r)&&(this._editStacks.get(r).dispose(),this._editStacks.delete(r)),Lo&&this._print("removeElements")}setElementsValidFlag(i,r,S){const K=this.getUriComparisonKey(i);this._editStacks.has(K)&&this._editStacks.get(K).setElementsValidFlag(r,S),Lo&&this._print("setElementsValidFlag")}createSnapshot(i){const r=this.getUriComparisonKey(i);return this._editStacks.has(r)?this._editStacks.get(r).createSnapshot(i):new Ws.YO(i,[])}restoreSnapshot(i){const r=this.getUriComparisonKey(i.resource);if(this._editStacks.has(r)){const S=this._editStacks.get(r);S.restoreSnapshot(i),!S.hasPastElements()&&!S.hasFutureElements()&&(S.dispose(),this._editStacks.delete(r))}Lo&&this._print("restoreSnapshot")}getElements(i){const r=this.getUriComparisonKey(i);return this._editStacks.has(r)?this._editStacks.get(r).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(i){if(!i)return[null,null];let r=null,S=null;for(const[K,te]of this._editStacks){const ge=te.getClosestPastElement();ge&&ge.sourceId===i&&(!r||ge.sourceOrder>r.sourceOrder)&&(r=ge,S=K)}return[r,S]}canUndo(i){if(i instanceof Ws.gJ){const[,S]=this._findClosestUndoElementWithSource(i.id);return!!S}const r=this.getUriComparisonKey(i);return this._editStacks.has(r)?this._editStacks.get(r).hasPastElements():!1}_onError(i,r){(0,hi.dL)(i);for(const S of r.strResources)this.removeElements(S);this._notificationService.error(i)}_acquireLocks(i){for(const r of i.editStacks)if(r.locked)throw new Error("Cannot acquire edit stack lock");for(const r of i.editStacks)r.locked=!0;return()=>{for(const r of i.editStacks)r.locked=!1}}_safeInvokeWithLocks(i,r,S,K,te){const ge=this._acquireLocks(S);let De;try{De=r()}catch(it){return ge(),K.dispose(),this._onError(it,i)}return De?De.then(()=>(ge(),K.dispose(),te()),it=>(ge(),K.dispose(),this._onError(it,i))):(ge(),K.dispose(),te())}_invokeWorkspacePrepare(i){return ur(this,void 0,void 0,function*(){if(typeof i.actual.prepareUndoRedo=="undefined")return ni.JT.None;const r=i.actual.prepareUndoRedo();return typeof r=="undefined"?ni.JT.None:r})}_invokeResourcePrepare(i,r){if(i.actual.type!==1||typeof i.actual.prepareUndoRedo=="undefined")return r(ni.JT.None);const S=i.actual.prepareUndoRedo();return S?(0,ni.Wf)(S)?r(S):S.then(K=>r(K)):r(ni.JT.None)}_getAffectedEditStacks(i){const r=[];for(const S of i.strResources)r.push(this._editStacks.get(S)||Qa);return new ra(r)}_tryToSplitAndUndo(i,r,S,K){if(r.canSplit())return this._splitPastWorkspaceElement(r,S),this._notificationService.warn(K),new mr(this._undo(i,0,!0));for(const te of r.strResources)this.removeElements(te);return this._notificationService.warn(K),new mr}_checkWorkspaceUndo(i,r,S,K){if(r.removedResources)return this._tryToSplitAndUndo(i,r,r.removedResources,Z.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",r.label,r.removedResources.createMessage()));if(K&&r.invalidatedResources)return this._tryToSplitAndUndo(i,r,r.invalidatedResources,Z.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",r.label,r.invalidatedResources.createMessage()));const te=[];for(const De of S.editStacks)De.getClosestPastElement()!==r&&te.push(De.resourceLabel);if(te.length>0)return this._tryToSplitAndUndo(i,r,null,Z.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",r.label,te.join(", ")));const ge=[];for(const De of S.editStacks)De.locked&&ge.push(De.resourceLabel);return ge.length>0?this._tryToSplitAndUndo(i,r,null,Z.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",r.label,ge.join(", "))):S.isValid()?null:this._tryToSplitAndUndo(i,r,null,Z.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",r.label))}_workspaceUndo(i,r,S){const K=this._getAffectedEditStacks(r),te=this._checkWorkspaceUndo(i,r,K,!1);return te?te.returnValue:this._confirmAndExecuteWorkspaceUndo(i,r,K,S)}_isPartOfUndoGroup(i){if(!i.groupId)return!1;for(const[,r]of this._editStacks){const S=r.getClosestPastElement();if(S){if(S===i){const K=r.getSecondClosestPastElement();if(K&&K.groupId===i.groupId)return!0}if(S.groupId===i.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(i,r,S,K){return ur(this,void 0,void 0,function*(){if(r.canSplit()&&!this._isPartOfUndoGroup(r)){const De=yield this._dialogService.show(os.Z.Info,Z.N("confirmWorkspace","Would you like to undo '{0}' across all files?",r.label),[Z.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",S.editStacks.length),Z.N("nok","Undo this File"),Z.N("cancel","Cancel")],{cancelId:2});if(De.choice===2)return;if(De.choice===1)return this._splitPastWorkspaceElement(r,null),this._undo(i,0,!0);const it=this._checkWorkspaceUndo(i,r,S,!1);if(it)return it.returnValue;K=!0}let te;try{te=yield this._invokeWorkspacePrepare(r)}catch(De){return this._onError(De,r)}const ge=this._checkWorkspaceUndo(i,r,S,!0);if(ge)return te.dispose(),ge.returnValue;for(const De of S.editStacks)De.moveBackward(r);return this._safeInvokeWithLocks(r,()=>r.actual.undo(),S,te,()=>this._continueUndoInGroup(r.groupId,K))})}_resourceUndo(i,r,S){if(!r.isValid){i.flushAllElements();return}if(i.locked){const K=Z.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",r.label);this._notificationService.warn(K);return}return this._invokeResourcePrepare(r,K=>(i.moveBackward(r),this._safeInvokeWithLocks(r,()=>r.actual.undo(),new ra([i]),K,()=>this._continueUndoInGroup(r.groupId,S))))}_findClosestUndoElementInGroup(i){if(!i)return[null,null];let r=null,S=null;for(const[K,te]of this._editStacks){const ge=te.getClosestPastElement();ge&&ge.groupId===i&&(!r||ge.groupOrder>r.groupOrder)&&(r=ge,S=K)}return[r,S]}_continueUndoInGroup(i,r){if(!i)return;const[,S]=this._findClosestUndoElementInGroup(i);if(S)return this._undo(S,0,r)}undo(i){if(i instanceof Ws.gJ){const[,r]=this._findClosestUndoElementWithSource(i.id);return r?this._undo(r,i.id,!1):void 0}return typeof i=="string"?this._undo(i,0,!1):this._undo(this.getUriComparisonKey(i),0,!1)}_undo(i,r=0,S){if(!this._editStacks.has(i))return;const K=this._editStacks.get(i),te=K.getClosestPastElement();if(!te)return;if(te.groupId){const[De,it]=this._findClosestUndoElementInGroup(te.groupId);if(te!==De&&it)return this._undo(it,r,S)}if((te.sourceId!==r||te.confirmBeforeUndo)&&!S)return this._confirmAndContinueUndo(i,r,te);try{return te.type===1?this._workspaceUndo(i,te,S):this._resourceUndo(K,te,S)}finally{Lo&&this._print("undo")}}_confirmAndContinueUndo(i,r,S){return ur(this,void 0,void 0,function*(){if((yield this._dialogService.show(os.Z.Info,Z.N("confirmDifferentSource","Would you like to undo '{0}'?",S.label),[Z.N("confirmDifferentSource.yes","Yes"),Z.N("cancel","Cancel")],{cancelId:1})).choice!==1)return this._undo(i,r,!0)})}_findClosestRedoElementWithSource(i){if(!i)return[null,null];let r=null,S=null;for(const[K,te]of this._editStacks){const ge=te.getClosestFutureElement();ge&&ge.sourceId===i&&(!r||ge.sourceOrder<r.sourceOrder)&&(r=ge,S=K)}return[r,S]}canRedo(i){if(i instanceof Ws.gJ){const[,S]=this._findClosestRedoElementWithSource(i.id);return!!S}const r=this.getUriComparisonKey(i);return this._editStacks.has(r)?this._editStacks.get(r).hasFutureElements():!1}_tryToSplitAndRedo(i,r,S,K){if(r.canSplit())return this._splitFutureWorkspaceElement(r,S),this._notificationService.warn(K),new mr(this._redo(i));for(const te of r.strResources)this.removeElements(te);return this._notificationService.warn(K),new mr}_checkWorkspaceRedo(i,r,S,K){if(r.removedResources)return this._tryToSplitAndRedo(i,r,r.removedResources,Z.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",r.label,r.removedResources.createMessage()));if(K&&r.invalidatedResources)return this._tryToSplitAndRedo(i,r,r.invalidatedResources,Z.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",r.label,r.invalidatedResources.createMessage()));const te=[];for(const De of S.editStacks)De.getClosestFutureElement()!==r&&te.push(De.resourceLabel);if(te.length>0)return this._tryToSplitAndRedo(i,r,null,Z.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",r.label,te.join(", ")));const ge=[];for(const De of S.editStacks)De.locked&&ge.push(De.resourceLabel);return ge.length>0?this._tryToSplitAndRedo(i,r,null,Z.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",r.label,ge.join(", "))):S.isValid()?null:this._tryToSplitAndRedo(i,r,null,Z.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",r.label))}_workspaceRedo(i,r){const S=this._getAffectedEditStacks(r),K=this._checkWorkspaceRedo(i,r,S,!1);return K?K.returnValue:this._executeWorkspaceRedo(i,r,S)}_executeWorkspaceRedo(i,r,S){return ur(this,void 0,void 0,function*(){let K;try{K=yield this._invokeWorkspacePrepare(r)}catch(ge){return this._onError(ge,r)}const te=this._checkWorkspaceRedo(i,r,S,!0);if(te)return K.dispose(),te.returnValue;for(const ge of S.editStacks)ge.moveForward(r);return this._safeInvokeWithLocks(r,()=>r.actual.redo(),S,K,()=>this._continueRedoInGroup(r.groupId))})}_resourceRedo(i,r){if(!r.isValid){i.flushAllElements();return}if(i.locked){const S=Z.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",r.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(r,S=>(i.moveForward(r),this._safeInvokeWithLocks(r,()=>r.actual.redo(),new ra([i]),S,()=>this._continueRedoInGroup(r.groupId))))}_findClosestRedoElementInGroup(i){if(!i)return[null,null];let r=null,S=null;for(const[K,te]of this._editStacks){const ge=te.getClosestFutureElement();ge&&ge.groupId===i&&(!r||ge.groupOrder<r.groupOrder)&&(r=ge,S=K)}return[r,S]}_continueRedoInGroup(i){if(!i)return;const[,r]=this._findClosestRedoElementInGroup(i);if(r)return this._redo(r)}redo(i){if(i instanceof Ws.gJ){const[,r]=this._findClosestRedoElementWithSource(i.id);return r?this._redo(r):void 0}return typeof i=="string"?this._redo(i):this._redo(this.getUriComparisonKey(i))}_redo(i){if(!this._editStacks.has(i))return;const r=this._editStacks.get(i),S=r.getClosestFutureElement();if(S){if(S.groupId){const[K,te]=this._findClosestRedoElementInGroup(S.groupId);if(S!==K&&te)return this._redo(te)}try{return S.type===1?this._workspaceRedo(i,S):this._resourceRedo(r,S)}finally{Lo&&this._print("redo")}}}};gr=od([Ka(0,ka.S),Ka(1,Ni.lT)],gr);class mr{constructor(i){this.returnValue=i}}(0,Ua.z)(Ws.tJ,gr);var ad=t(16830),Ya=t(56811);const ld={buttonBackground:Fs.Il.fromHex("#0E639C"),buttonHoverBackground:Fs.Il.fromHex("#006BB3"),buttonForeground:Fs.Il.white};class Xa extends ni.JT{constructor(i,r){super(),this._onDidClick=this._register(new k.Q5),this.options=r||Object.create(null),(0,vn.jB)(this.options,ld,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),i.appendChild(this._element),this._register(Yn.o.addTarget(this._element)),[ae.tw.CLICK,Yn.t.Tap].forEach(S=>{this._register((0,ae.nm)(this._element,S,K=>{if(!this.enabled){ae.zB.stop(K);return}this._onDidClick.fire(K)}))}),this._register((0,ae.nm)(this._element,ae.tw.KEY_DOWN,S=>{const K=new cs.y(S);let te=!1;this.enabled&&(K.equals(3)||K.equals(10))?(this._onDidClick.fire(S),te=!0):K.equals(9)&&(this._element.blur(),te=!0),te&&ae.zB.stop(K,!0)})),this._register((0,ae.nm)(this._element,ae.tw.MOUSE_OVER,S=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,ae.nm)(this._element,ae.tw.MOUSE_OUT,S=>{this.applyStyles()})),this.focusTracker=this._register((0,ae.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let i;this.options.secondary?i=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:i=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,i&&(this._element.style.backgroundColor=i)}style(i){this.buttonForeground=i.buttonForeground,this.buttonBackground=i.buttonBackground,this.buttonHoverBackground=i.buttonHoverBackground,this.buttonSecondaryForeground=i.buttonSecondaryForeground,this.buttonSecondaryBackground=i.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=i.buttonSecondaryHoverBackground,this.buttonBorder=i.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let i,r;this.options.secondary?(r=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",i=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(r=this.buttonForeground?this.buttonForeground.toString():"",i=this.buttonBackground?this.buttonBackground.toString():"");const S=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=r,this._element.style.backgroundColor=i,this._element.style.borderWidth=S?"1px":"",this._element.style.borderStyle=S?"solid":"",this._element.style.borderColor=S}}get element(){return this._element}set label(i){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,ae.mc)(this._element,...(0,Ya.T)(i)):this._element.textContent=i,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=i)}set enabled(i){i?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Ja=t(85207);const qa="done",el="active",aa="infinite",tl="discrete",dd={progressBarBackground:Fs.Il.fromHex("#0E70C0")};class cd extends ni.JT{constructor(i,r){super(),this.options=r||Object.create(null),(0,vn.jB)(this.options,dd,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new oi.pY(()=>(0,ae.$Z)(this.element),0)),this.create(i)}create(i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),i.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(el,aa,tl),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(i){return this.element.classList.add(qa),this.element.classList.contains(aa)?(this.bit.style.opacity="0",i?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",i?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(tl,qa),this.element.classList.add(el,aa),this}getContainer(){return this.element}style(i){this.progressBarBackground=i.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const i=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=i}}}var ud=t(44742);const la={},hd=new ud.R("quick-input-button-icon-");function da(D){if(!D)return;let i;const r=D.dark.toString();return la[r]?i=la[r]:(i=hd.nextId(),ae.fk(`.${i}`,`background-image: ${ae.wY(D.light||D.dark)}`),ae.fk(`.vs-dark .${i}, .hc-black .${i}`,`background-image: ${ae.wY(D.dark)}`),la[r]=i),i}var Ms=t(67746),fd=t(97862);const gd=ae.$;class md extends ni.JT{constructor(i){super(),this.parent=i,this.onKeyDown=r=>ae.nm(this.inputBox.inputElement,ae.tw.KEY_DOWN,S=>{r(new cs.y(S))}),this.onMouseDown=r=>ae.nm(this.inputBox.inputElement,ae.tw.MOUSE_DOWN,S=>{r(new $n.n(S))}),this.onDidChange=r=>this.inputBox.onDidChange(r),this.container=ae.R3(this.parent,gd(".quick-input-box")),this.inputBox=this._register(new fd.W(this.container,void 0))}get value(){return this.inputBox.value}set value(i){this.inputBox.value=i}select(i=null){this.inputBox.select(i)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(i){this.inputBox.setPlaceHolder(i)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(i){this.inputBox.setAriaLabel(i)}get password(){return this.inputBox.inputElement.type==="password"}set password(i){this.inputBox.inputElement.type=i?"password":"text"}setAttribute(i,r){this.inputBox.inputElement.setAttribute(i,r)}removeAttribute(i){this.inputBox.inputElement.removeAttribute(i)}showDecoration(i){i===os.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:i===os.Z.Info?1:i===os.Z.Warning?2:3,content:""})}stylesForType(i){return this.inputBox.stylesForType(i===os.Z.Info?1:i===os.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(i){this.inputBox.style(i)}}var pd=t(34650),_d=t(26974);const pr=ae.$;class ca{constructor(i,r,S){this.os=r,this.keyElements=new Set,this.options=S||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=ae.R3(i,pr(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,r){this.didEverRender&&this.keybinding===i&&ca.areSame(this.matches,r)||(this.keybinding=i,this.matches=r,this.render())}render(){if(this.clear(),this.keybinding){let[i,r]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),r&&(ae.R3(this.domNode,pr("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,r,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){ae.PO(this.domNode),this.keyElements.clear()}renderPart(i,r,S){const K=ci.xo.modifierLabels[this.os];r.ctrlKey&&this.renderKey(i,K.ctrlKey,!!(S!=null&&S.ctrlKey),K.separator),r.shiftKey&&this.renderKey(i,K.shiftKey,!!(S!=null&&S.shiftKey),K.separator),r.altKey&&this.renderKey(i,K.altKey,!!(S!=null&&S.altKey),K.separator),r.metaKey&&this.renderKey(i,K.metaKey,!!(S!=null&&S.metaKey),K.separator);const te=r.keyLabel;te&&this.renderKey(i,te,!!(S!=null&&S.keyCode),"")}renderKey(i,r,S,K){ae.R3(i,this.createKeyElement(r,S?".highlight":"")),K&&ae.R3(i,pr("span.monaco-keybinding-key-separator",void 0,K))}renderUnbound(i){ae.R3(i,this.createKeyElement((0,Z.N)("unbound","Unbound")))}createKeyElement(i,r=""){const S=pr("span.monaco-keybinding-key"+r,void 0,i);return this.keyElements.add(S),S}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const r of this.keyElements)this.labelBackground&&(r.style.backgroundColor=(i=this.labelBackground)===null||i===void 0?void 0:i.toString()),this.labelBorder&&(r.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(r.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(r.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,r){return i===r||!i&&!r?!0:!!i&&!!r&&(0,vn.fS)(i.firstPart,r.firstPart)&&(0,vn.fS)(i.chordPart,r.chordPart)}}const il=new oi.Ue(()=>{const D=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:D,collatorIsNumeric:D.resolvedOptions().numeric}});function vd(D,i,r=!1){const S=D||"",K=i||"",te=il.value.collator.compare(S,K);return il.value.collatorIsNumeric&&te===0&&S!==K?S<K?-1:1:te}function Cd(D,i,r){const S=D.toLowerCase(),K=i.toLowerCase(),te=bd(D,i,r);if(te)return te;const ge=S.endsWith(r),De=K.endsWith(r);if(ge!==De)return ge?-1:1;const it=vd(S,K);return it!==0?it:S.localeCompare(K)}function bd(D,i,r){const S=D.toLowerCase(),K=i.toLowerCase(),te=S.startsWith(r),ge=K.startsWith(r);if(te!==ge)return te?-1:1;if(te&&ge){if(S.length<K.length)return-1;if(S.length>K.length)return 1}return 0}var nl=t(49898),sl=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Sd=function(D,i,r,S){function K(te){return te instanceof r?te:new r(function(ge){ge(te)})}return new(r||(r=Promise))(function(te,ge){function De(St){try{gt(S.next(St))}catch(Vt){ge(Vt)}}function it(St){try{gt(S.throw(St))}catch(Vt){ge(Vt)}}function gt(St){St.done?te(St.value):K(St.value).then(De,it)}gt((S=S.apply(D,i||[])).next())})};const Vs=ae.$;class yd{constructor(i){this.hidden=!1,this._onChecked=new k.Q5,this.onChecked=this._onChecked.event,Object.assign(this,i)}get checked(){return!!this._checked}set checked(i){i!==this._checked&&(this._checked=i,this._onChecked.fire(i))}dispose(){this._onChecked.dispose()}}class Go{get templateId(){return Go.ID}renderTemplate(i){const r=Object.create(null);r.toDisposeElement=[],r.toDisposeTemplate=[],r.entry=ae.R3(i,Vs(".quick-input-list-entry"));const S=ae.R3(r.entry,Vs("label.quick-input-list-label"));r.toDisposeTemplate.push(ae.mu(S,ae.tw.CLICK,gt=>{r.checkbox.offsetParent||gt.preventDefault()})),r.checkbox=ae.R3(S,Vs("input.quick-input-list-checkbox")),r.checkbox.type="checkbox",r.toDisposeTemplate.push(ae.mu(r.checkbox,ae.tw.CHANGE,gt=>{r.element.checked=r.checkbox.checked}));const K=ae.R3(S,Vs(".quick-input-list-rows")),te=ae.R3(K,Vs(".quick-input-list-row")),ge=ae.R3(K,Vs(".quick-input-list-row"));r.label=new _d.g(te,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const De=ae.R3(te,Vs(".quick-input-list-entry-keybinding"));r.keybinding=new ca(De,Di.OS);const it=ae.R3(ge,Vs(".quick-input-list-label-meta"));return r.detail=new pd.q(it,!0),r.separator=ae.R3(r.entry,Vs(".quick-input-list-separator")),r.actionBar=new wn.o(r.entry),r.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),r.toDisposeTemplate.push(r.actionBar),r}renderElement(i,r,S){S.toDisposeElement=(0,ni.B9)(S.toDisposeElement),S.element=i,S.checkbox.checked=i.checked,S.toDisposeElement.push(i.onChecked(gt=>S.checkbox.checked=gt));const{labelHighlights:K,descriptionHighlights:te,detailHighlights:ge}=i,De=Object.create(null);De.matches=K||[],De.descriptionTitle=i.saneDescription,De.descriptionMatches=te||[],De.extraClasses=i.item.iconClasses,De.italic=i.item.italic,De.strikethrough=i.item.strikethrough,S.label.setLabel(i.saneLabel,i.saneDescription,De),S.keybinding.set(i.item.keybinding),S.detail.set(i.saneDetail,ge),i.separator&&i.separator.label?(S.separator.textContent=i.separator.label,S.separator.style.display=""):S.separator.style.display="none",S.entry.classList.toggle("quick-input-list-separator-border",!!i.separator),S.actionBar.clear();const it=i.item.buttons;it&&it.length?(S.actionBar.push(it.map((gt,St)=>{let Vt=gt.iconClass||(gt.iconPath?da(gt.iconPath):void 0);gt.alwaysVisible&&(Vt=Vt?`${Vt} always-visible`:"always-visible");const vi=new qs.aU(`id-${St}`,"",Vt,!0,()=>Sd(this,void 0,void 0,function*(){i.fireButtonTriggered({button:gt,item:i.item})}));return vi.tooltip=gt.tooltip||"",vi}),{icon:!0,label:!1}),S.entry.classList.add("has-actions")):S.entry.classList.remove("has-actions")}disposeElement(i,r,S){S.toDisposeElement=(0,ni.B9)(S.toDisposeElement)}disposeTemplate(i){i.toDisposeElement=(0,ni.B9)(i.toDisposeElement),i.toDisposeTemplate=(0,ni.B9)(i.toDisposeTemplate)}}Go.ID="listelement";class wd{getHeight(i){return i.saneDetail?44:22}getTemplateId(i){return Go.ID}}var Jn;(function(D){D[D.First=1]="First",D[D.Second=2]="Second",D[D.Last=3]="Last",D[D.Next=4]="Next",D[D.Previous=5]="Previous",D[D.NextPage=6]="NextPage",D[D.PreviousPage=7]="PreviousPage"})(Jn||(Jn={}));class ua{constructor(i,r,S){this.parent=i,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new k.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new k.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new k.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new k.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new k.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new k.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new k.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=r,this.container=ae.R3(this.parent,Vs(".quick-input-list"));const K=new wd,te=new Dd;this.list=S.createList("QuickInput",this.container,K,[new Go],{identityProvider:{getId:ge=>ge.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:te}),this.list.getHTMLElement().id=r,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(ge=>{const De=new cs.y(ge);switch(De.keyCode){case 10:this.toggleCheckbox();break;case 31:(Di.dz?ge.metaKey:ge.ctrlKey)&&this.list.setFocus((0,mn.w6)(this.list.length));break;case 16:const it=this.list.getFocus();it.length===1&&it[0]===0&&this._onLeave.fire();break;case 18:const gt=this.list.getFocus();gt.length===1&&gt[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(De)})),this.disposables.push(this.list.onMouseDown(ge=>{ge.browserEvent.button!==2&&ge.browserEvent.preventDefault()})),this.disposables.push(ae.nm(this.container,ae.tw.CLICK,ge=>{(ge.x||ge.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(ge=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(ge=>{typeof ge.index=="number"&&(ge.browserEvent.preventDefault(),this.list.setSelection([ge.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return k.ju.map(this.list.onDidChangeFocus,i=>i.elements.map(r=>r.item))}get onDidChangeSelection(){return k.ju.map(this.list.onDidChangeSelection,i=>({items:i.elements.map(r=>r.item),event:i.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(i){this.list.scrollTop=i}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(i,r=!0){for(let S=0,K=i.length;S<K;S++){const te=i[S];if(!te.hidden)if(te.checked)r=!0;else return!1}return r}getCheckedCount(){let i=0;const r=this.elements;for(let S=0,K=r.length;S<K;S++)r[S].checked&&i++;return i}getVisibleCount(){let i=0;const r=this.elements;for(let S=0,K=r.length;S<K;S++)r[S].hidden||i++;return i}setAllVisibleChecked(i){try{this._fireCheckedEvents=!1,this.elements.forEach(r=>{r.hidden||(r.checked=i)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(i){this.elementDisposables=(0,ni.B9)(this.elementDisposables);const r=S=>this.fireButtonTriggered(S);this.inputElements=i,this.elements=i.reduce((S,K,te)=>{var ge,De,it;if(K.type!=="separator"){const gt=te&&i[te-1],St=K.label&&K.label.replace(/\r?\n/g," "),Vt=K.meta&&K.meta.replace(/\r?\n/g," "),vi=K.description&&K.description.replace(/\r?\n/g," "),Yi=K.detail&&K.detail.replace(/\r?\n/g," "),$i=K.ariaLabel||[St,vi,Yi].map(cn=>(0,co.JL)(cn)).filter(cn=>!!cn).join(", ");S.push(new yd({index:te,item:K,saneLabel:St,saneMeta:Vt,saneAriaLabel:$i,saneDescription:vi,saneDetail:Yi,labelHighlights:(ge=K.highlights)===null||ge===void 0?void 0:ge.label,descriptionHighlights:(De=K.highlights)===null||De===void 0?void 0:De.description,detailHighlights:(it=K.highlights)===null||it===void 0?void 0:it.detail,checked:!1,separator:gt&&gt.type==="separator"?gt:void 0,fireButtonTriggered:r}))}return S},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(S=>S.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((S,K,te)=>(S.set(K.item,te),S),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(i=>i.item)}setFocusedElements(i){if(this.list.setFocus(i.filter(r=>this.elementsToIndexes.has(r)).map(r=>this.elementsToIndexes.get(r))),i.length>0){const r=this.list.getFocus()[0];typeof r=="number"&&this.list.reveal(r)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(i){this.list.setSelection(i.filter(r=>this.elementsToIndexes.has(r)).map(r=>this.elementsToIndexes.get(r)))}getCheckedElements(){return this.elements.filter(i=>i.checked).map(i=>i.item)}setCheckedElements(i){try{this._fireCheckedEvents=!1;const r=new Set;for(const S of i)r.add(S);for(const S of this.elements)S.checked=r.has(S.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(i){this.list.getHTMLElement().style.pointerEvents=i?"":"none"}focus(i){if(!this.list.length)return;switch(i===Jn.Next&&this.list.getFocus()[0]===this.list.length-1&&(i=Jn.First),i===Jn.Previous&&this.list.getFocus()[0]===0&&(i=Jn.Last),i===Jn.Second&&this.list.length<2&&(i=Jn.First),i){case Jn.First:this.list.focusFirst();break;case Jn.Second:this.list.focusNth(1);break;case Jn.Last:this.list.focusLast();break;case Jn.Next:this.list.focusNext();break;case Jn.Previous:this.list.focusPrevious();break;case Jn.NextPage:this.list.focusNextPage();break;case Jn.PreviousPage:this.list.focusPreviousPage();break}const r=this.list.getFocus()[0];typeof r=="number"&&this.list.reveal(r)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(i){this.list.getHTMLElement().style.maxHeight=i?`calc(${Math.floor(i/44)*44}px)`:"",this.list.layout()}filter(i){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(i=i.trim(),!i||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(S=>{S.labelHighlights=void 0,S.descriptionHighlights=void 0,S.detailHighlights=void 0,S.hidden=!1;const K=S.index&&this.inputElements[S.index-1];S.separator=K&&K.type==="separator"?K:void 0});else{let S;this.elements.forEach(K=>{const te=this.matchOnLabel?(0,Ti.f6)((0,$s.Gt)(i,(0,$s.Ho)(K.saneLabel))):void 0,ge=this.matchOnDescription?(0,Ti.f6)((0,$s.Gt)(i,(0,$s.Ho)(K.saneDescription||""))):void 0,De=this.matchOnDetail?(0,Ti.f6)((0,$s.Gt)(i,(0,$s.Ho)(K.saneDetail||""))):void 0,it=this.matchOnMeta?(0,Ti.f6)((0,$s.Gt)(i,(0,$s.Ho)(K.saneMeta||""))):void 0;if(te||ge||De||it?(K.labelHighlights=te,K.descriptionHighlights=ge,K.detailHighlights=De,K.hidden=!1):(K.labelHighlights=void 0,K.descriptionHighlights=void 0,K.detailHighlights=void 0,K.hidden=!K.item.alwaysShow),K.separator=void 0,!this.sortByLabel){const gt=K.index&&this.inputElements[K.index-1];S=gt&&gt.type==="separator"?gt:S,S&&!K.hidden&&(K.separator=S,S=void 0)}})}const r=this.elements.filter(S=>!S.hidden);if(this.sortByLabel&&i){const S=i.toLowerCase();r.sort((K,te)=>Ld(K,te,S))}return this.elementsToIndexes=r.reduce((S,K,te)=>(S.set(K.item,te),S),new Map),this.list.splice(0,this.list.length,r),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(r.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const i=this.list.getFocusedElements(),r=this.allVisibleChecked(i);for(const S of i)S.checked=!r}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(i){this.container.style.display=i?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,ni.B9)(this.elementDisposables),this.disposables=(0,ni.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(i){this._onButtonTriggered.fire(i)}style(i){this.list.style(i)}}sl([nl.H],ua.prototype,"onDidChangeFocus",null),sl([nl.H],ua.prototype,"onDidChangeSelection",null);function Ld(D,i,r){const S=D.labelHighlights||[],K=i.labelHighlights||[];return S.length&&!K.length?-1:!S.length&&K.length?1:S.length===0&&K.length===0?0:Cd(D.saneLabel,i.saneLabel,r)}class Dd{getWidgetAriaLabel(){return(0,Z.N)("quickInput","Quick Input")}getAriaLabel(i){return i.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var ol=function(D,i,r,S){function K(te){return te instanceof r?te:new r(function(ge){ge(te)})}return new(r||(r=Promise))(function(te,ge){function De(St){try{gt(S.next(St))}catch(Vt){ge(Vt)}}function it(St){try{gt(S.throw(St))}catch(Vt){ge(Vt)}}function gt(St){St.done?te(St.value):K(St.value).then(De,it)}gt((S=S.apply(D,i||[])).next())})};const Es=ae.$,ha={iconClass:(0,co.CM)("quick-input-back",co.lA.arrowLeft).classNames,tooltip:(0,Z.N)("quickInput.back","Back"),handle:-1};class _r extends ni.JT{constructor(i){super(),this.ui=i,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=_r.noPromptMessage,this._severity=os.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new k.Q5),this.onDidHideEmitter=this._register(new k.Q5),this.onDisposeEmitter=this._register(new k.Q5),this.visibleDisposables=this._register(new ni.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(i){this._title=i,this.update()}get description(){return this._description}set description(i){this._description=i,this.update()}get step(){return this._steps}set step(i){this._steps=i,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(i){this._totalSteps=i,this.update()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this.update()}get contextKey(){return this._contextKey}set contextKey(i){this._contextKey=i,this.update()}get busy(){return this._busy}set busy(i){this._busy=i,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(i){const r=this._ignoreFocusOut!==i&&!Di.gn;this._ignoreFocusOut=i&&!Di.gn,r&&this.update()}get buttons(){return this._buttons}set buttons(i){this._buttons=i,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(i){this._validationMessage=i,this.update()}get severity(){return this._severity}set severity(i){this._severity=i,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(i=>{this.buttons.indexOf(i)!==-1&&this.onDidTriggerButtonEmitter.fire(i)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(i=Ms.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:i})}update(){if(!this.visible)return;const i=this.getTitle();i&&this.ui.title.textContent!==i?this.ui.title.textContent=i:!i&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const r=this.getDescription();if(this.ui.description1.textContent!==r&&(this.ui.description1.textContent=r),this.ui.description2.textContent!==r&&(this.ui.description2.textContent=r),this.busy&&!this.busyDelay&&(this.busyDelay=new oi._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const K=this.buttons.filter(ge=>ge===ha);this.ui.leftActionBar.push(K.map((ge,De)=>{const it=new qs.aU(`id-${De}`,"",ge.iconClass||da(ge.iconPath),!0,()=>ol(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ge)}));return it.tooltip=ge.tooltip||"",it}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const te=this.buttons.filter(ge=>ge!==ha);this.ui.rightActionBar.push(te.map((ge,De)=>{const it=new qs.aU(`id-${De}`,"",ge.iconClass||da(ge.iconPath),!0,()=>ol(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ge)}));return it.tooltip=ge.tooltip||"",it}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const S=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==S&&(this._lastValidationMessage=S,ae.mc(this.ui.message,...(0,Ya.T)(S))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Z.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(i){if(this.ui.inputBox.showDecoration(i),i!==os.Z.Ignore){const r=this.ui.inputBox.stylesForType(i);this.ui.message.style.color=r.foreground?`${r.foreground}`:"",this.ui.message.style.backgroundColor=r.background?`${r.background}`:"",this.ui.message.style.border=r.border?`1px solid ${r.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_r.noPromptMessage=(0,Z.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Zo extends _r{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new k.Q5),this.onWillAcceptEmitter=this._register(new k.Q5),this.onDidAcceptEmitter=this._register(new k.Q5),this.onDidCustomEmitter=this._register(new k.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Ms.jG.NONE:Ms.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new k.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new k.Q5),this.onDidTriggerItemButtonEmitter=this._register(new k.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=i=>i,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(i){this._quickNavigate=i,this.update()}get value(){return this._value}set value(i){this._value!==i&&(this._value=i||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(i){this._ariaLabel=i,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(i){this.ui.list.scrollTop=i}set items(i){this._items=i,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(i){this._canSelectMany=i,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(i){this._canAcceptInBackground=i}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(i){this._matchOnDescription=i,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(i){this._matchOnDetail=i,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(i){this._matchOnLabel=i,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(i){this._sortByLabel=i,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(i){this._autoFocusOnList=i,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(i){this._keepScrollPosition=i}get itemActivation(){return this._itemActivation}set itemActivation(i){this._itemActivation=i}get activeItems(){return this._activeItems}set activeItems(i){this._activeItems=i,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(i){this._selectedItems=i,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Ms.X5:this.ui.keyMods}set valueSelection(i){this._valueSelection=i,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(i){this._customButton=i,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(i){this._customButtonLabel=i,this.update()}get customHover(){return this._customButtonHover}set customHover(i){this._customButtonHover=i,this.update()}get ok(){return this._ok}set ok(i){this._ok=i,this.update()}get hideInput(){return!!this._hideInput}set hideInput(i){this._hideInput=i,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Jn.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(i=>{if(i===this.value)return;this._value=i,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(i)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(i=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(i=>{switch(i.keyCode){case 18:this.ui.list.focus(Jn.Next),this.canSelectMany&&this.ui.list.domFocus(),ae.zB.stop(i,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Jn.Previous):this.ui.list.focus(Jn.Last),this.canSelectMany&&this.ui.list.domFocus(),ae.zB.stop(i,!0);break;case 12:this.ui.list.focus(Jn.NextPage),this.canSelectMany&&this.ui.list.domFocus(),ae.zB.stop(i,!0);break;case 11:this.ui.list.focus(Jn.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),ae.zB.stop(i,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(i.ctrlKey||i.metaKey)&&!i.shiftKey&&!i.altKey&&(this.ui.list.focus(Jn.First),ae.zB.stop(i,!0));break;case 13:(i.ctrlKey||i.metaKey)&&!i.shiftKey&&!i.altKey&&(this.ui.list.focus(Jn.Last),ae.zB.stop(i,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(i=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,mn.fS)(i,this._activeItems,(r,S)=>r===S)||(this._activeItems=i,this.onDidChangeActiveEmitter.fire(i))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:i,event:r})=>{if(this.canSelectMany){i.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,mn.fS)(i,this._selectedItems,(S,K)=>S===K)||(this._selectedItems=i,this.onDidChangeSelectionEmitter.fire(i),i.length&&this.handleAccept(r instanceof MouseEvent&&r.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(i=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,mn.fS)(i,this._selectedItems,(r,S)=>r===S)||(this._selectedItems=i,this.onDidChangeSelectionEmitter.fire(i)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(i=>this.onDidTriggerItemButtonEmitter.fire(i))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(i){let r=!1;this.onWillAcceptEmitter.fire({veto:()=>r=!0}),r||this.onDidAcceptEmitter.fire({inBackground:i})}registerQuickNavigation(){return ae.nm(this.ui.container,ae.tw.KEY_UP,i=>{if(this.canSelectMany||!this._quickNavigate)return;const r=new cs.y(i),S=r.keyCode;this._quickNavigate.keybindings.some(ge=>{const[De,it]=ge.getParts();return it?!1:De.shiftKey&&S===4?!(r.ctrlKey||r.altKey||r.metaKey):!!(De.altKey&&S===6||De.ctrlKey&&S===5||De.metaKey&&S===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const i=this.keepScrollPosition?this.scrollTop:0,r=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",r&&!this.description);const S={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!r,progressBar:!r,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(S),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const K=this.ariaLabel||this.placeholder||Zo.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==K&&(this.ui.inputBox.ariaLabel=K),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Ms.jG.NONE:this._itemActivation=Ms.jG.FIRST;break;case Ms.jG.SECOND:this.ui.list.focus(Jn.Second),this._itemActivation=Ms.jG.FIRST;break;case Ms.jG.LAST:this.ui.list.focus(Jn.Last),this._itemActivation=Ms.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),S.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Jn.First)),this.keepScrollPosition&&(this.scrollTop=i)}}Zo.DEFAULT_ARIA_LABEL=(0,Z.N)("quickInputBox.ariaLabel","Type to narrow down results.");class vr extends ni.JT{constructor(i){super(),this.options=i,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new k.Q5),this.onDidCustomEmitter=this._register(new k.Q5),this.onDidTriggerButtonEmitter=this._register(new k.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new k.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new k.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=i.idPrefix,this.parentElement=i.container,this.styles=i.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const i=r=>{this.keyMods.ctrlCmd=r.ctrlKey||r.metaKey,this.keyMods.alt=r.altKey};this._register(ae.nm(window,ae.tw.KEY_DOWN,i,!0)),this._register(ae.nm(window,ae.tw.KEY_UP,i,!0)),this._register(ae.nm(window,ae.tw.MOUSE_DOWN,i,!0))}getUI(){if(this.ui)return this.ui;const i=ae.R3(this.parentElement,Es(".quick-input-widget.show-file-icons"));i.tabIndex=-1,i.style.display="none";const r=ae.dS(i),S=ae.R3(i,Es(".quick-input-titlebar")),K=this._register(new wn.o(S));K.domNode.classList.add("quick-input-left-action-bar");const te=ae.R3(S,Es(".quick-input-title")),ge=this._register(new wn.o(S));ge.domNode.classList.add("quick-input-right-action-bar");const De=ae.R3(i,Es(".quick-input-description")),it=ae.R3(i,Es(".quick-input-header")),gt=ae.R3(it,Es("input.quick-input-check-all"));gt.type="checkbox",this._register(ae.mu(gt,ae.tw.CHANGE,gn=>{const gs=gt.checked;ts.setAllVisibleChecked(gs)})),this._register(ae.nm(gt,ae.tw.CLICK,gn=>{(gn.x||gn.y)&&Yi.setFocus()}));const St=ae.R3(it,Es(".quick-input-description")),Vt=ae.R3(it,Es(".quick-input-and-message")),vi=ae.R3(Vt,Es(".quick-input-filter")),Yi=this._register(new md(vi));Yi.setAttribute("aria-describedby",`${this.idPrefix}message`);const $i=ae.R3(vi,Es(".quick-input-visible-count"));$i.setAttribute("aria-live","polite"),$i.setAttribute("aria-atomic","true");const cn=new Ja.Z($i,{countFormat:(0,Z.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),un=ae.R3(vi,Es(".quick-input-count"));un.setAttribute("aria-live","polite");const Gn=new Ja.Z(un,{countFormat:(0,Z.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Nn=ae.R3(it,Es(".quick-input-action")),fn=new Xa(Nn);fn.label=(0,Z.N)("ok","OK"),this._register(fn.onDidClick(gn=>{this.onDidAcceptEmitter.fire()}));const En=ae.R3(it,Es(".quick-input-action")),Is=new Xa(En);Is.label=(0,Z.N)("custom","Custom"),this._register(Is.onDidClick(gn=>{this.onDidCustomEmitter.fire()}));const go=ae.R3(Vt,Es(`#${this.idPrefix}message.quick-input-message`)),ts=this._register(new ua(i,this.idPrefix+"list",this.options));this._register(ts.onChangedAllVisibleChecked(gn=>{gt.checked=gn})),this._register(ts.onChangedVisibleCount(gn=>{cn.setCount(gn)})),this._register(ts.onChangedCheckedCount(gn=>{Gn.setCount(gn)})),this._register(ts.onLeave(()=>{setTimeout(()=>{Yi.setFocus(),this.controller instanceof Zo&&this.controller.canSelectMany&&ts.clearFocus()},0)})),this._register(ts.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Xo=new cd(i);Xo.getContainer().classList.add("quick-input-progress");const Vn=ae.go(i);return this._register(Vn),this._register(ae.nm(i,ae.tw.FOCUS,gn=>{this.previousFocusElement=gn.relatedTarget instanceof HTMLElement?gn.relatedTarget:void 0},!0)),this._register(Vn.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Ms.Jq.Blur),this.previousFocusElement=void 0})),this._register(ae.nm(i,ae.tw.FOCUS,gn=>{Yi.setFocus()})),this._register(ae.nm(i,ae.tw.KEY_DOWN,gn=>{const gs=new cs.y(gn);switch(gs.keyCode){case 3:ae.zB.stop(gn,!0),this.onDidAcceptEmitter.fire();break;case 9:ae.zB.stop(gn,!0),this.hide(Ms.Jq.Gesture);break;case 2:if(!gs.altKey&&!gs.ctrlKey&&!gs.metaKey){const Eo=[".action-label.codicon"];i.classList.contains("show-checkboxes")?Eo.push("input"):Eo.push("input[type=text]"),this.getUI().list.isDisplayed()&&Eo.push(".monaco-list");const Io=i.querySelectorAll(Eo.join(", "));gs.shiftKey&&gs.target===Io[0]?(ae.zB.stop(gn,!0),Io[Io.length-1].focus()):!gs.shiftKey&&gs.target===Io[Io.length-1]&&(ae.zB.stop(gn,!0),Io[0].focus())}break}})),this.ui={container:i,styleSheet:r,leftActionBar:K,titleBar:S,title:te,description1:De,description2:St,rightActionBar:ge,checkAll:gt,filterContainer:vi,inputBox:Yi,visibleCountContainer:$i,visibleCount:cn,countContainer:un,count:Gn,okContainer:Nn,ok:fn,message:go,customButtonContainer:En,customButton:Is,list:ts,progressBar:Xo,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:gn=>this.show(gn),hide:()=>this.hide(),setVisibilities:gn=>this.setVisibilities(gn),setComboboxAccessibility:gn=>this.setComboboxAccessibility(gn),setEnabled:gn=>this.setEnabled(gn),setContextKey:gn=>this.options.setContextKey(gn)},this.updateStyles(),this.ui}pick(i,r={},S=W.T.None){return new Promise((K,te)=>{let ge=St=>{ge=K,r.onKeyMods&&r.onKeyMods(De.keyMods),K(St)};if(S.isCancellationRequested){ge(void 0);return}const De=this.createQuickPick();let it;const gt=[De,De.onDidAccept(()=>{if(De.canSelectMany)ge(De.selectedItems.slice()),De.hide();else{const St=De.activeItems[0];St&&(ge(St),De.hide())}}),De.onDidChangeActive(St=>{const Vt=St[0];Vt&&r.onDidFocus&&r.onDidFocus(Vt)}),De.onDidChangeSelection(St=>{if(!De.canSelectMany){const Vt=St[0];Vt&&(ge(Vt),De.hide())}}),De.onDidTriggerItemButton(St=>r.onDidTriggerItemButton&&r.onDidTriggerItemButton(Object.assign(Object.assign({},St),{removeItem:()=>{const Vt=De.items.indexOf(St.item);if(Vt!==-1){const vi=De.items.slice(),Yi=vi.splice(Vt,1),$i=De.activeItems.filter(un=>un!==Yi[0]),cn=De.keepScrollPosition;De.keepScrollPosition=!0,De.items=vi,$i&&(De.activeItems=$i),De.keepScrollPosition=cn}}}))),De.onDidChangeValue(St=>{it&&!St&&(De.activeItems.length!==1||De.activeItems[0]!==it)&&(De.activeItems=[it])}),S.onCancellationRequested(()=>{De.hide()}),De.onDidHide(()=>{(0,ni.B9)(gt),ge(void 0)})];De.title=r.title,De.canSelectMany=!!r.canPickMany,De.placeholder=r.placeHolder,De.ignoreFocusOut=!!r.ignoreFocusLost,De.matchOnDescription=!!r.matchOnDescription,De.matchOnDetail=!!r.matchOnDetail,De.matchOnLabel=r.matchOnLabel===void 0||r.matchOnLabel,De.autoFocusOnList=r.autoFocusOnList===void 0||r.autoFocusOnList,De.quickNavigate=r.quickNavigate,De.contextKey=r.contextKey,De.busy=!0,Promise.all([i,r.activeItem]).then(([St,Vt])=>{it=Vt,De.busy=!1,De.items=St,De.canSelectMany&&(De.selectedItems=St.filter(vi=>vi.type!=="separator"&&vi.picked)),it&&(De.activeItems=[it])}),De.show(),Promise.resolve(i).then(void 0,St=>{te(St),De.hide()})})}createQuickPick(){const i=this.getUI();return new Zo(i)}show(i){const r=this.getUI();this.onShowEmitter.fire();const S=this.controller;this.controller=i,S&&S.didHide(),this.setEnabled(!0),r.leftActionBar.clear(),r.title.textContent="",r.description1.textContent="",r.description2.textContent="",r.rightActionBar.clear(),r.checkAll.checked=!1,r.inputBox.placeholder="",r.inputBox.password=!1,r.inputBox.showDecoration(os.Z.Ignore),r.visibleCount.setCount(0),r.count.setCount(0),ae.mc(r.message),r.progressBar.stop(),r.list.setElements([]),r.list.matchOnDescription=!1,r.list.matchOnDetail=!1,r.list.matchOnLabel=!0,r.list.sortByLabel=!0,r.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),r.inputBox.ariaLabel="";const K=this.options.backKeybindingLabel();ha.tooltip=K?(0,Z.N)("quickInput.backWithKeybinding","Back ({0})",K):(0,Z.N)("quickInput.back","Back"),r.container.style.display="",this.updateLayout(),r.inputBox.setFocus()}setVisibilities(i){const r=this.getUI();r.title.style.display=i.title?"":"none",r.description1.style.display=i.description&&(i.inputBox||i.checkAll)?"":"none",r.description2.style.display=i.description&&!(i.inputBox||i.checkAll)?"":"none",r.checkAll.style.display=i.checkAll?"":"none",r.filterContainer.style.display=i.inputBox?"":"none",r.visibleCountContainer.style.display=i.visibleCount?"":"none",r.countContainer.style.display=i.count?"":"none",r.okContainer.style.display=i.ok?"":"none",r.customButtonContainer.style.display=i.customButton?"":"none",r.message.style.display=i.message?"":"none",r.progressBar.getContainer().style.display=i.progressBar?"":"none",r.list.display(!!i.list),r.container.classList[i.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(i){if(i!==this.comboboxAccessibility){const r=this.getUI();this.comboboxAccessibility=i,this.comboboxAccessibility?(r.inputBox.setAttribute("role","combobox"),r.inputBox.setAttribute("aria-haspopup","true"),r.inputBox.setAttribute("aria-autocomplete","list"),r.inputBox.setAttribute("aria-activedescendant",r.list.getActiveDescendant()||"")):(r.inputBox.removeAttribute("role"),r.inputBox.removeAttribute("aria-haspopup"),r.inputBox.removeAttribute("aria-autocomplete"),r.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(i){if(i!==this.enabled){this.enabled=i;for(const r of this.getUI().leftActionBar.viewItems)r.getAction().enabled=i;for(const r of this.getUI().rightActionBar.viewItems)r.getAction().enabled=i;this.getUI().checkAll.disabled=!i,this.getUI().ok.enabled=i,this.getUI().list.enabled=i}}hide(i){var r;const S=this.controller;if(S){const K=!(!((r=this.ui)===null||r===void 0)&&r.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",K||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),S.didHide(i)}}layout(i,r){this.dimension=i,this.titleBarOffset=r,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const i=this.ui.container.style,r=Math.min(this.dimension.width*.62,vr.MAX_WIDTH);i.width=r+"px",i.marginLeft="-"+r/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(i){this.styles=i,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:i,quickInputBackground:r,quickInputForeground:S,contrastBorder:K,widgetShadow:te}=this.styles.widget;this.ui.titleBar.style.backgroundColor=i?i.toString():"",this.ui.container.style.backgroundColor=r?r.toString():"",this.ui.container.style.color=S?S.toString():"",this.ui.container.style.border=K?`1px solid ${K}`:"",this.ui.container.style.boxShadow=te?`0 0 8px 2px ${te}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const ge=[];this.styles.list.pickerGroupBorder&&ge.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&ge.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(ge.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&ge.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&ge.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&ge.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&ge.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&ge.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),ge.push("}"));const De=ge.join(`
`);De!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=De)}}}vr.MAX_WIDTH=600;var fa=t(88289),rl=t(90725),ga=t(41157),Ed=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},al=function(D,i){return function(r,S){i(r,S,D)}};let ma=class extends ni.JT{constructor(i,r){super(),this.quickInputService=i,this.instantiationService=r,this.registry=Xs.B.as(rl.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(i="",r){this.doShowOrPick(i,!1,r)}doShowOrPick(i,r,S){var K;const[te,ge]=this.getOrInstantiateProvider(i),De=this.visibleQuickAccess,it=De==null?void 0:De.descriptor;if(De&&ge&&it===ge){i!==ge.prefix&&!(S!=null&&S.preserveValue)&&(De.picker.value=i),this.adjustValueSelection(De.picker,ge,S);return}if(ge&&!(S!=null&&S.preserveValue)){let $i;if(De&&it&&it!==ge){const cn=De.value.substr(it.prefix.length);cn&&($i=`${ge.prefix}${cn}`)}if(!$i){const cn=te==null?void 0:te.defaultFilterValue;cn===rl.Ry.LAST?$i=this.lastAcceptedPickerValues.get(ge):typeof cn=="string"&&($i=`${ge.prefix}${cn}`)}typeof $i=="string"&&(i=$i)}const gt=new ni.SL,St=gt.add(this.quickInputService.createQuickPick());St.value=i,this.adjustValueSelection(St,ge,S),St.placeholder=ge==null?void 0:ge.placeholder,St.quickNavigate=S==null?void 0:S.quickNavigateConfiguration,St.hideInput=!!St.quickNavigate&&!De,(typeof(S==null?void 0:S.itemActivation)=="number"||S!=null&&S.quickNavigateConfiguration)&&(St.itemActivation=(K=S==null?void 0:S.itemActivation)!==null&&K!==void 0?K:ga.jG.SECOND),St.contextKey=ge==null?void 0:ge.contextKey,St.filterValue=$i=>$i.substring(ge?ge.prefix.length:0),ge!=null&&ge.placeholder&&(St.ariaLabel=ge==null?void 0:ge.placeholder);let Vt,vi;r&&(Vt=new Promise($i=>vi=$i),gt.add((0,fa.I)(St.onWillAccept)($i=>{$i.veto(),St.hide()}))),gt.add(this.registerPickerListeners(St,te,ge,i));const Yi=gt.add(new W.A);if(te&&gt.add(te.provide(St,Yi.token)),(0,fa.I)(St.onDidHide)(()=>{St.selectedItems.length===0&&Yi.cancel(),gt.dispose(),vi==null||vi(St.selectedItems)}),St.show(),r)return Vt}adjustValueSelection(i,r,S){var K;let te;S!=null&&S.preserveValue?te=[i.value.length,i.value.length]:te=[(K=r==null?void 0:r.prefix.length)!==null&&K!==void 0?K:0,i.value.length],i.valueSelection=te}registerPickerListeners(i,r,S,K){const te=new ni.SL,ge=this.visibleQuickAccess={picker:i,descriptor:S,value:K};return te.add((0,ni.OF)(()=>{ge===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),te.add(i.onDidChangeValue(De=>{const[it]=this.getOrInstantiateProvider(De);it!==r?this.show(De,{preserveValue:!0}):ge.value=De})),S&&te.add(i.onDidAccept(()=>{this.lastAcceptedPickerValues.set(S,i.value)})),te}getOrInstantiateProvider(i){const r=this.registry.getQuickAccessProvider(i);if(!r)return[void 0,void 0];let S=this.mapProviderToDescriptor.get(r);return S||(S=this.instantiationService.createInstance(r.ctor),this.mapProviderToDescriptor.set(r,S)),[S,r]}};ma=Ed([al(0,ga.eJ),al(1,ps.TG)],ma);var Id=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},Qo=function(D,i){return function(r,S){i(r,S,D)}};let pa=class extends Cs.bB{constructor(i,r,S,K,te){super(S),this.instantiationService=i,this.contextKeyService=r,this.accessibilityService=K,this.layoutService=te,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(ma))),this._quickAccess}createController(i=this.layoutService,r){var S,K;const te={idPrefix:"quickInput_",container:i.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:De=>this.setContextKey(De),returnFocus:()=>i.focus(),createList:(De,it,gt,St,Vt)=>this.instantiationService.createInstance(ta.ev,De,it,gt,St,Vt),styles:this.computeStyles()},ge=this._register(new vr(Object.assign(Object.assign({},te),r)));return ge.layout(i.dimension,(K=(S=i.offset)===null||S===void 0?void 0:S.top)!==null&&K!==void 0?K:0),this._register(i.onDidLayout(De=>{var it,gt;return ge.layout(De,(gt=(it=i.offset)===null||it===void 0?void 0:it.top)!==null&&gt!==void 0?gt:0)})),this._register(ge.onShow(()=>this.resetContextKeys())),this._register(ge.onHide(()=>this.resetContextKeys())),ge}setContextKey(i){let r;i&&(r=this.contexts.get(i),r||(r=new vt.uy(i,!1).bindTo(this.contextKeyService),this.contexts.set(i,r))),!(r&&r.get())&&(this.resetContextKeys(),r&&r.set(!0))}resetContextKeys(){this.contexts.forEach(i=>{i.get()&&i.reset()})}pick(i,r={},S=W.T.None){return this.controller.pick(i,r,S)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,eo.o)(this.theme,{quickInputBackground:dn.zK,quickInputForeground:dn.tZ,quickInputTitleBackground:dn.lo,contrastBorder:dn.lR,widgetShadow:dn.rh})),inputBox:(0,eo.o)(this.theme,{inputForeground:dn.zJ,inputBackground:dn.sE,inputBorder:dn.dt,inputValidationInfoBackground:dn._l,inputValidationInfoForeground:dn.YI,inputValidationInfoBorder:dn.EP,inputValidationWarningBackground:dn.RV,inputValidationWarningForeground:dn.SU,inputValidationWarningBorder:dn.C3,inputValidationErrorBackground:dn.p,inputValidationErrorForeground:dn._t,inputValidationErrorBorder:dn.OZ}),countBadge:(0,eo.o)(this.theme,{badgeBackground:dn.g8,badgeForeground:dn.qe,badgeBorder:dn.lR}),button:(0,eo.o)(this.theme,{buttonForeground:dn.j5,buttonBackground:dn.b7,buttonHoverBackground:dn.GO,buttonBorder:dn.lR}),progressBar:(0,eo.o)(this.theme,{progressBarBackground:dn.zR}),keybindingLabel:(0,eo.o)(this.theme,{keybindingLabelBackground:dn.oQ,keybindingLabelForeground:dn.lW,keybindingLabelBorder:dn.AW,keybindingLabelBottomBorder:dn.K1,keybindingLabelShadow:dn.rh}),list:(0,eo.o)(this.theme,{listBackground:dn.zK,listInactiveFocusForeground:dn.NP,listInactiveSelectionIconForeground:dn.cb,listInactiveFocusBackground:dn.Vq,listFocusOutline:dn.xL,listInactiveFocusOutline:dn.xL,pickerGroupBorder:dn.op,pickerGroupForeground:dn.kJ})}}};pa=Id([Qo(0,ps.TG),Qo(1,vt.i6),Qo(2,Cs.XE),Qo(3,xs.F),Qo(4,ar)],pa);var ll=function(D,i,r,S){var K=arguments.length,te=K<3?i:S===null?S=Object.getOwnPropertyDescriptor(i,r):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(D,i,r,S);else for(var De=D.length-1;De>=0;De--)(ge=D[De])&&(te=(K<3?ge(te):K>3?ge(i,r,te):ge(i,r))||te);return K>3&&te&&Object.defineProperty(i,r,te),te},fo=function(D,i){return function(r,S){i(r,S,D)}};let _a=class extends pa{constructor(i,r,S,K,te,ge){super(r,S,K,te,ge),this.host=void 0;const De=Do.get(i);this.host={_serviceBrand:void 0,get container(){return De.widget.getDomNode()},get dimension(){return i.getLayoutInfo()},get onDidLayout(){return i.onDidLayoutChange},focus:()=>i.focus()}}createController(){return super.createController(this.host)}};_a=ll([fo(1,ps.TG),fo(2,vt.i6),fo(3,Cs.XE),fo(4,xs.F),fo(5,ar)],_a);let va=class{constructor(i,r){this.instantiationService=i,this.codeEditorService=r,this.mapEditorToService=new Map}get activeService(){const i=this.codeEditorService.getFocusedCodeEditor();if(!i)throw new Error("Quick input service needs a focused editor to work.");let r=this.mapEditorToService.get(i);if(!r){const S=r=this.instantiationService.createInstance(_a,i);this.mapEditorToService.set(i,r),(0,fa.I)(i.onDidDispose)(()=>{S.dispose(),this.mapEditorToService.delete(i)})}return r}get quickAccess(){return this.activeService.quickAccess}pick(i,r={},S=W.T.None){return this.activeService.pick(i,r,S)}createQuickPick(){return this.activeService.createQuickPick()}};va=ll([fo(0,ps.TG),fo(1,oe.$)],va);class Do{constructor(i){this.editor=i,this.widget=new Cr(this.editor)}static get(i){return i.getContribution(Do.ID)}dispose(){this.widget.dispose()}}Do.ID="editor.controller.quickInput";class Cr{constructor(i){this.codeEditor=i,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Cr.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Cr.ID="editor.contrib.quickInputWidget",(0,ad._K)(Do.ID,Do);var Tn;(function(D){const i=new ea.y;class r{constructor(it,gt){this._serviceId=it,this._factory=gt,this._value=null}get id(){return this._serviceId}get(it){if(!this._value){if(it&&(this._value=it[this._serviceId.toString()]),this._value||(this._value=this._factory(it)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");i.set(this._serviceId,this._value)}return this._value}}D.LazyStaticService=r;let S=[];function K(De,it){let gt=new r(De,it);return S.push(gt),gt}function te(De){let it=new ea.y;for(const[St,Vt]of(0,Ua.d)())it.set(St,Vt);for(let St in De)De.hasOwnProperty(St)&&it.set((0,ps.yh)(St),De[St]);S.forEach(St=>it.set(St.id,St.get(De)));let gt=new lr(it,!0);return it.set(ps.TG,gt),[it,gt]}D.init=te,D.instantiationService=K(ps.TG,()=>new lr(i,!0));const ge=new Gs;D.configurationService=K(Hi.Ui,()=>ge),D.resourceConfigurationService=K(is.V,()=>new io(ge)),D.resourcePropertiesService=K(is.y,()=>new Fn(ge)),D.contextService=K(Ui.ec,()=>new po),D.labelService=K(Xl.e,()=>new no),D.telemetryService=K(Ji.b,()=>new xr),D.dialogService=K(ka.S,()=>new bs),D.notificationService=K(Ni.lT,()=>new fs),D.markerService=K(Bs.lT,()=>new ho),D.modeService=K(It.h,De=>new lo),D.standaloneThemeService=K(oo.Z,()=>new ct),D.logService=K(Qn.VZ,()=>new Qn.$V(new Qn.kw)),D.undoRedoService=K(Ws.tJ,De=>new gr(D.dialogService.get(De),D.notificationService.get(De))),D.languageConfigurationService=K(de.c_,De=>new de.UU(D.configurationService.get(De),D.modeService.get(De))),D.modelService=K(Kn.q,De=>new Hr.BR(D.configurationService.get(De),D.resourcePropertiesService.get(De),D.standaloneThemeService.get(De),D.logService.get(De),D.undoRedoService.get(De),D.modeService.get(De),D.languageConfigurationService.get(De))),D.markerDecorationsService=K(ed.i,De=>new sa(D.modelService.get(De),D.markerService.get(De))),D.contextKeyService=K(vt.i6,De=>new Fi(D.configurationService.get(De))),D.codeEditorService=K(oe.$,De=>new Co(null,D.contextKeyService.get(De),D.standaloneThemeService.get(De))),D.editorProgressService=K(xo.e,()=>new as),D.storageService=K(Wa.Uy,()=>new Wa.vm),D.editorWorkerService=K(He.p,De=>new Lt(D.modelService.get(De),D.resourceConfigurationService.get(De),D.logService.get(De)))})(Tn||(Tn={}));class Nd extends ni.JT{constructor(i,r){super();const[S,K]=Tn.init(r);this._serviceCollection=S,this._instantiationService=K;const te=this.get(Hi.Ui),ge=this.get(Ni.lT),De=this.get(Ji.b),it=this.get(Cs.XE),gt=this.get(Qn.VZ),St=this.get(vt.i6);let Vt=(un,Gn)=>{let Nn=null;return r&&(Nn=r[un.toString()]),Nn||(Nn=Gn()),this._serviceCollection.set(un,Nn),Nn};Vt(xs.F,()=>new oa(St,te)),Vt(ta.Lw,()=>new ta.XN(it));let vi=Vt(xe.H,()=>new Ts(this._instantiationService)),Yi=Vt(Ps.d,()=>this._register(new Ns(St,vi,De,ge,gt,i))),$i=Vt(ar,()=>new Tr(Tn.codeEditorService.get(oe.$),i));Vt(ga.eJ,()=>new va(K,Tn.codeEditorService.get(oe.$)));let cn=Vt(Rs.u,()=>this._register(new qr($i)));Vt(Zs.p,()=>new sd),Vt(Rs.i,()=>{const un=new Jr(De,ge,cn,Yi,it);return un.configure({blockMouse:!1}),this._register(un)}),Vt(ws.co,()=>new ia(vi)),Vt(rn.vu,()=>new Mr(Tn.modelService.get(Kn.q)))}get(i){let r=this._serviceCollection.get(i);if(!r)throw new Error("Missing service "+i);return r}set(i,r){this._serviceCollection.set(i,r)}has(i){return this._serviceCollection.has(i)}}var xd=t(87917);function dl(D,i,r){let S=new Nd(D,i),K=null;S.has(Bt.S)||(K=new Mn(Tn.modelService.get()),S.set(Bt.S,K)),S.has(Le.v4)||S.set(Le.v4,new ht(S.get(oe.$),S.get(xe.H)));let te=r(S);return K&&K.setEditor(te),te}function Md(D,i,r){return dl(D,r||{},S=>new ao(D,i,S,S.get(ps.TG),S.get(oe.$),S.get(xe.H),S.get(vt.i6),S.get(Ps.d),S.get(Rs.u),S.get(oo.Z),S.get(Ni.lT),S.get(Hi.Ui),S.get(xs.F),S.get(Kn.q),S.get(It.h)))}function Td(D){return Tn.codeEditorService.get().onCodeEditorAdd(i=>{D(i)})}function Rd(D,i,r){return dl(D,r||{},S=>new Fo(D,i,S,S.get(ps.TG),S.get(vt.i6),S.get(Ps.d),S.get(Rs.u),S.get(He.p),S.get(oe.$),S.get(oo.Z),S.get(Ni.lT),S.get(Hi.Ui),S.get(Rs.i),S.get(xo.e),S.get(Zs.p)))}function Ad(D,i){return new kt.F(D,i)}function Od(D,i,r){return nr(Tn.modelService.get(),Tn.modeService.get(),D,i,r)}function Pd(D,i){Tn.modelService.get().setMode(D,Tn.modeService.get().create(i))}function kd(D,i,r){D&&Tn.markerService.get().changeOne(i,D.uri,r)}function Fd(D){return Tn.markerService.get().read(D)}function Bd(D){return Tn.markerService.get().onMarkerChanged(D)}function Wd(D){return Tn.modelService.get().getModel(D)}function Vd(){return Tn.modelService.get().getModels()}function Hd(D){return Tn.modelService.get().onModelAdded(D)}function Ud(D){return Tn.modelService.get().onModelRemoved(D)}function zd(D){return Tn.modelService.get().onModelModeChanged(i=>{D({model:i.model,oldLanguage:i.oldModeId})})}function Kd(D){return Rt(Tn.modelService.get(),D)}function jd(D,i){const r=Tn.standaloneThemeService.get();return r.registerEditorContainer(D),vs.colorizeElement(r,Tn.modeService.get(),D,i)}function $d(D,i,r){return Tn.standaloneThemeService.get().registerEditorContainer(document.body),vs.colorize(Tn.modeService.get(),D,i,r)}function Gd(D,i,r=4){return Tn.standaloneThemeService.get().registerEditorContainer(document.body),vs.colorizeModelLine(D,i,r)}function Zd(D){let i=Ze.RW.get(D);return i||{getInitialState:()=>Ae.nO,tokenize:(r,S,K,te)=>(0,Ae.Ri)(D,r,K,te)}}function Qd(D,i){Tn.modeService.get().triggerMode(i);let S=Zd(i),K=(0,Ii.uq)(D),te=[],ge=S.getInitialState();for(let De=0,it=K.length;De<it;De++){let gt=K[De],St=S.tokenize(gt,!0,ge,0);te[De]=St.tokens,ge=St.endState}return te}function Yd(D,i){Tn.standaloneThemeService.get().defineTheme(D,i)}function Xd(D){Tn.standaloneThemeService.get().setTheme(D)}function Jd(){(0,xd.P)()}function qd(D,i){return xe.P.registerCommand({id:D,handler:i})}function ec(){return{create:Md,onDidCreateEditor:Td,createDiffEditor:Rd,createDiffNavigator:Ad,createModel:Od,setModelLanguage:Pd,setModelMarkers:kd,getModelMarkers:Fd,onDidChangeMarkers:Bd,getModels:Vd,getModel:Wd,onDidCreateModel:Hd,onWillDisposeModel:Ud,onDidChangeModelLanguage:zd,createWebWorker:Kd,colorizeElement:jd,colorize:$d,colorizeModelLine:Gd,tokenize:Qd,defineTheme:Yd,setTheme:Xd,remeasureFonts:Jd,registerCommand:qd,AccessibilitySupport:C,ContentWidgetPositionPreference:p,CursorChangeReason:f,DefaultEndOfLine:v,EditorAutoIndentStrategy:a,EditorOption:u,EndOfLinePreference:c,EndOfLineSequence:b,MinimapPosition:ne,MouseTargetType:he,OverlayWidgetPositionPreference:$,OverviewRulerLane:V,RenderLineNumbersType:z,RenderMinimap:Q,ScrollbarVisibility:E,ScrollType:le,TextEditorCursorBlinkingStyle:X,TextEditorCursorStyle:re,TrackedRangeStickiness:fe,WrappingIndent:ue,ConfigurationChangedEvent:h.Bb,BareFontInfo:zt.E4,FontInfo:zt.pR,TextModelResolvedOptions:Je.dJ,FindMatch:Je.tk,EditorType:Ke.g,EditorOptions:h.BH}}function tc(D,i){if(!i||!Array.isArray(i))return!1;for(const r of i)if(!D(r))return!1;return!0}function br(D,i){return typeof D=="boolean"?D:i}function cl(D,i){return typeof D=="string"?D:i}function ic(D){const i={};for(const r of D)i[r]=!0;return i}function ul(D,i=!1){i&&(D=D.map(function(S){return S.toLowerCase()}));const r=ic(D);return i?function(S){return r[S.toLowerCase()]!==void 0&&r.hasOwnProperty(S.toLowerCase())}:function(S){return r[S]!==void 0&&r.hasOwnProperty(S)}}function Ca(D,i){i=i.replace(/@@/g,"");let r=0,S;do S=!1,i=i.replace(/@(\w+)/g,function(te,ge){S=!0;let De="";if(typeof D[ge]=="string")De=D[ge];else if(D[ge]&&D[ge]instanceof RegExp)De=D[ge].source;else throw D[ge]===void 0?ri(D,"language definition does not contain attribute '"+ge+"', used at: "+i):ri(D,"attribute reference '"+ge+"' must be a string, used at: "+i);return yt(De)?"":"(?:"+De+")"}),r++;while(S&&r<5);i=i.replace(/\x01/g,"@");let K=(D.ignoreCase?"i":"")+(D.unicode?"u":"");return new RegExp(i,K)}function nc(D,i,r,S){if(S<0)return D;if(S<i.length)return i[S];if(S>=100){S=S-100;let K=r.split(".");if(K.unshift(r),S<K.length)return K[S]}return null}function sc(D,i,r,S){let K=-1,te=r,ge=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);ge&&(ge[3]&&(K=parseInt(ge[3]),ge[2]&&(K=K+100)),te=ge[4]);let De="~",it=te;!te||te.length===0?(De="!=",it=""):/^\w*$/.test(it)?De="==":(ge=te.match(/^(@|!@|~|!~|==|!=)(.*)$/),ge&&(De=ge[1],it=ge[2]));let gt;if((De==="~"||De==="!~")&&/^(\w|\|)*$/.test(it)){let St=ul(it.split("|"),D.ignoreCase);gt=function(Vt){return De==="~"?St(Vt):!St(Vt)}}else if(De==="@"||De==="!@"){let St=D[it];if(!St)throw ri(D,"the @ match target '"+it+"' is not defined, in rule: "+i);if(!tc(function(vi){return typeof vi=="string"},St))throw ri(D,"the @ match target '"+it+"' must be an array of strings, in rule: "+i);let Vt=ul(St,D.ignoreCase);gt=function(vi){return De==="@"?Vt(vi):!Vt(vi)}}else if(De==="~"||De==="!~")if(it.indexOf("$")<0){let St=Ca(D,"^"+it+"$");gt=function(Vt){return De==="~"?St.test(Vt):!St.test(Vt)}}else gt=function(St,Vt,vi,Yi){return Ca(D,"^"+gi(D,it,Vt,vi,Yi)+"$").test(St)};else if(it.indexOf("$")<0){let St=Ht(D,it);gt=function(Vt){return De==="=="?Vt===St:Vt!==St}}else{let St=Ht(D,it);gt=function(Vt,vi,Yi,$i,cn){let un=gi(D,St,vi,Yi,$i);return De==="=="?Vt===un:Vt!==un}}return K===-1?{name:r,value:S,test:function(St,Vt,vi,Yi){return gt(St,St,Vt,vi,Yi)}}:{name:r,value:S,test:function(St,Vt,vi,Yi){let $i=nc(St,Vt,vi,K);return gt($i||"",St,Vt,vi,Yi)}}}function ba(D,i,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw ri(D,"a 'token' attribute must be of type string, in rule: "+i);{let S={token:r.token};if(r.token.indexOf("$")>=0&&(S.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")S.bracket=1;else if(r.bracket==="@close")S.bracket=-1;else throw ri(D,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+i);if(r.next){if(typeof r.next!="string")throw ri(D,"the next state must be a string value in rule: "+i);{let K=r.next;if(!/^(@pop|@push|@popall)$/.test(K)&&(K[0]==="@"&&(K=K.substr(1)),K.indexOf("$")<0&&!Ei(D,gi(D,K,"",[],""))))throw ri(D,"the next state '"+r.next+"' is not defined in rule: "+i);S.next=K}}return typeof r.goBack=="number"&&(S.goBack=r.goBack),typeof r.switchTo=="string"&&(S.switchTo=r.switchTo),typeof r.log=="string"&&(S.log=r.log),typeof r.nextEmbedded=="string"&&(S.nextEmbedded=r.nextEmbedded,D.usesEmbedded=!0),S}}else if(Array.isArray(r)){let S=[];for(let K=0,te=r.length;K<te;K++)S[K]=ba(D,i,r[K]);return{group:S}}else if(r.cases){let S=[];for(let te in r.cases)if(r.cases.hasOwnProperty(te)){const ge=ba(D,i,r.cases[te]);te==="@default"||te==="@"||te===""?S.push({test:void 0,value:ge,name:te}):te==="@eos"?S.push({test:function(De,it,gt,St){return St},value:ge,name:te}):S.push(sc(D,i,te,ge))}const K=D.defaultToken;return{test:function(te,ge,De,it){for(const gt of S)if(!gt.test||gt.test(te,ge,De,it))return gt.value;return K}}}else throw ri(D,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+i)}else return{token:""}}class oc{constructor(i){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=i}setRegex(i,r){let S;if(typeof r=="string")S=r;else if(r instanceof RegExp)S=r.source;else throw ri(i,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=S.length>0&&S[0]==="^",this.name=this.name+": "+S,this.regex=Ca(i,"^(?:"+(this.matchOnlyAtLineStart?S.substr(1):S)+")")}setAction(i,r){this.action=ba(i,this.name,r)}}function rc(D,i){if(!i||typeof i!="object")throw new Error("Monarch: expecting a language definition object");let r={};r.languageId=D,r.includeLF=br(i.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof i.start=="string"?i.start:null,r.ignoreCase=br(i.ignoreCase,!1),r.unicode=br(i.unicode,!1),r.tokenPostfix=cl(i.tokenPostfix,"."+r.languageId),r.defaultToken=cl(i.defaultToken,"source"),r.usesEmbedded=!1;let S=i;S.languageId=D,S.includeLF=r.includeLF,S.ignoreCase=r.ignoreCase,S.unicode=r.unicode,S.noThrow=r.noThrow,S.usesEmbedded=r.usesEmbedded,S.stateNames=i.tokenizer,S.defaultToken=r.defaultToken;function K(ge,De,it){for(const gt of it){let St=gt.include;if(St){if(typeof St!="string")throw ri(r,"an 'include' attribute must be a string at: "+ge);if(St[0]==="@"&&(St=St.substr(1)),!i.tokenizer[St])throw ri(r,"include target '"+St+"' is not defined at: "+ge);K(ge+"."+St,De,i.tokenizer[St])}else{const Vt=new oc(ge);if(Array.isArray(gt)&&gt.length>=1&&gt.length<=3)if(Vt.setRegex(S,gt[0]),gt.length>=3)if(typeof gt[1]=="string")Vt.setAction(S,{token:gt[1],next:gt[2]});else if(typeof gt[1]=="object"){const vi=gt[1];vi.next=gt[2],Vt.setAction(S,vi)}else throw ri(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+ge);else Vt.setAction(S,gt[1]);else{if(!gt.regex)throw ri(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+ge);gt.name&&typeof gt.name=="string"&&(Vt.name=gt.name),gt.matchOnlyAtStart&&(Vt.matchOnlyAtLineStart=br(gt.matchOnlyAtLineStart,!1)),Vt.setRegex(S,gt.regex),Vt.setAction(S,gt.action)}De.push(Vt)}}}if(!i.tokenizer||typeof i.tokenizer!="object")throw ri(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let ge in i.tokenizer)if(i.tokenizer.hasOwnProperty(ge)){r.start||(r.start=ge);const De=i.tokenizer[ge];r.tokenizer[ge]=new Array,K("tokenizer."+ge,r.tokenizer[ge],De)}if(r.usesEmbedded=S.usesEmbedded,i.brackets){if(!Array.isArray(i.brackets))throw ri(r,"the 'brackets' attribute must be defined as an array")}else i.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let te=[];for(let ge of i.brackets){let De=ge;if(De&&Array.isArray(De)&&De.length===3&&(De={token:De[2],open:De[0],close:De[1]}),De.open===De.close)throw ri(r,"open and close brackets in a 'brackets' attribute must be different: "+De.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof De.open=="string"&&typeof De.token=="string"&&typeof De.close=="string")te.push({token:De.token+r.tokenPostfix,open:Ht(r,De.open),close:Ht(r,De.close)});else throw ri(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=te,r.noThrow=!0,r}function ac(D){zs.dQ.registerLanguage(D)}function lc(){let D=[];return D=D.concat(zs.dQ.getLanguages()),D}function dc(D){return Tn.modeService.get().languageIdCodec.encodeLanguageId(D)}function cc(D,i){let r=Tn.modeService.get().onDidEncounterLanguage(S=>{S===D&&(r.dispose(),i())});return r}function uc(D,i){const r=Tn.modeService.get().validateLanguageId(D);if(!r)throw new Error(`Cannot set configuration for unknown language ${D}`);return de.zu.register(r,i,100)}class hc{constructor(i,r){this._languageId=i,this._actual=r}getInitialState(){return this._actual.getInitialState()}tokenize(i,r,S,K){if(typeof this._actual.tokenize=="function")return Yo.adaptTokenize(this._languageId,this._actual,i,S,K);throw new Error("Not supported!")}tokenize2(i,r,S){let K=this._actual.tokenizeEncoded(i,S);return new s.Hi(K.tokens,K.endState)}}class Yo{constructor(i,r,S,K){this._languageId=i,this._actual=r,this._modeService=S,this._standaloneThemeService=K}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(i,r,S){let K=[],te=0;for(let ge=0,De=i.length;ge<De;ge++){const it=i[ge];let gt=it.startIndex;ge===0?gt=0:gt<te&&(gt=te),K[ge]=new s.WU(gt+S,it.scopes,r),te=gt}return K}static adaptTokenize(i,r,S,K,te){let ge=r.tokenize(S,K),De=Yo._toClassicTokens(ge.tokens,i,te),it;return ge.endState.equals(K)?it=K:it=ge.endState,new s.hG(De,it)}tokenize(i,r,S,K){return Yo.adaptTokenize(this._languageId,this._actual,i,S,K)}_toBinaryTokens(i,r,S){const K=i.encodeLanguageId(this._languageId),te=this._standaloneThemeService.getColorTheme().tokenTheme;let ge=[],De=0,it=0;for(let St=0,Vt=r.length;St<Vt;St++){const vi=r[St],Yi=te.match(K,vi.scopes);if(De>0&&ge[De-1]===Yi)continue;let $i=vi.startIndex;St===0?$i=0:$i<it&&($i=it),ge[De++]=$i+S,ge[De++]=Yi,it=$i}let gt=new Uint32Array(De);for(let St=0;St<De;St++)gt[St]=ge[St];return gt}tokenize2(i,r,S,K){let te=this._actual.tokenize(i,S),ge=this._toBinaryTokens(this._modeService.languageIdCodec,te.tokens,K),De;return te.endState.equals(S)?De=S:De=te.endState,new s.Hi(ge,De)}}function fc(D){return"tokenizeEncoded"in D}function hl(D){return D&&typeof D.then=="function"}function gc(D){if(D){const i=[null];for(let r=1,S=D.length;r<S;r++)i[r]=Fs.Il.fromHex(D[r]);Tn.standaloneThemeService.get().setColorMapOverride(i)}else Tn.standaloneThemeService.get().setColorMapOverride(null)}function mc(D,i){const r=Tn.modeService.get().validateLanguageId(D);if(!r)throw new Error(`Cannot set tokens provider for unknown language ${D}`);const S=K=>fc(K)?new hc(r,K):new Yo(r,K,Tn.modeService.get(),Tn.standaloneThemeService.get());return hl(i)?Ze.RW.registerPromise(D,i.then(K=>S(K))):Ze.RW.register(D,S(i))}function pc(D,i){const r=S=>Qi(Tn.modeService.get(),Tn.standaloneThemeService.get(),D,rc(D,S));return hl(i)?Ze.RW.registerPromise(D,i.then(S=>r(S))):Ze.RW.register(D,r(i))}function _c(D,i){return Ze.FL.register(D,i)}function vc(D,i){return Ze.G0.register(D,i)}function Cc(D,i){return Ze.nD.register(D,i)}function bc(D,i){return Ze.xp.register(D,{provideHover:(r,S,K)=>{let te=r.getWordAtPosition(S);return Promise.resolve(i.provideHover(r,S,K)).then(ge=>{if(ge)return!ge.range&&te&&(ge.range=new x.e(S.lineNumber,te.startColumn,S.lineNumber,te.endColumn)),ge.range||(ge.range=new x.e(S.lineNumber,S.column,S.lineNumber,S.column)),ge})}})}function Sc(D,i){return Ze.vJ.register(D,i)}function yc(D,i){return Ze.vH.register(D,i)}function wc(D,i){return Ze.id.register(D,i)}function Lc(D,i){return Ze.Ct.register(D,i)}function Dc(D,i){return Ze.vI.register(D,i)}function Ec(D,i){return Ze.tA.register(D,i)}function Ic(D,i){return Ze.He.register(D,i)}function Nc(D,i,r){return Ze.H9.register(D,{providedCodeActionKinds:r==null?void 0:r.providedCodeActionKinds,provideCodeActions:(S,K,te,ge)=>{let De=Tn.markerService.get().read({resource:S.uri}).filter(it=>x.e.areIntersectingOrTouching(it,K));return i.provideCodeActions(S,K,{markers:De,only:te.only},ge)},resolveCodeAction:i.resolveCodeAction})}function xc(D,i){return Ze.Az.register(D,i)}function Mc(D,i){return Ze.vN.register(D,i)}function Tc(D,i){return Ze.ln.register(D,i)}function Rc(D,i){return Ze.pM.register(D,i)}function Ac(D,i){return Ze.KZ.register(D,i)}function Oc(D,i){return Ze.OH.register(D,i)}function Pc(D,i){return Ze.aC.register(D,i)}function kc(D,i){return Ze.RN.register(D,i)}function Fc(D,i){return Ze.AC.register(D,i)}function Bc(D,i){return Ze.wT.register(D,i)}function Wc(D,i){return Ze.K7.register(D,i)}function Vc(D,i){return Ze.zu.register(D,i)}function Hc(D,i){return Ze.mX.register(D,i)}function Uc(){return{register:ac,getLanguages:lc,onLanguage:cc,getEncodedLanguageId:dc,setLanguageConfiguration:uc,setColorMap:gc,setTokensProvider:mc,setMonarchTokensProvider:pc,registerReferenceProvider:_c,registerRenameProvider:vc,registerCompletionItemProvider:Ac,registerSignatureHelpProvider:Cc,registerHoverProvider:bc,registerDocumentSymbolProvider:Sc,registerDocumentHighlightProvider:yc,registerLinkedEditingRangeProvider:wc,registerDefinitionProvider:Lc,registerImplementationProvider:Dc,registerTypeDefinitionProvider:Ec,registerCodeLensProvider:Ic,registerCodeActionProvider:Nc,registerDocumentFormattingEditProvider:xc,registerDocumentRangeFormattingEditProvider:Mc,registerOnTypeFormattingEditProvider:Tc,registerLinkProvider:Rc,registerColorProvider:Oc,registerFoldingRangeProvider:Pc,registerDeclarationProvider:kc,registerSelectionRangeProvider:Fc,registerDocumentSemanticTokensProvider:Bc,registerDocumentRangeSemanticTokensProvider:Wc,registerInlineCompletionsProvider:Vc,registerInlayHintsProvider:Hc,DocumentHighlightKind:d,CompletionItemKind:m,CompletionItemTag:y,CompletionItemInsertTextRule:l,SymbolKind:H,SymbolTag:Y,IndentAction:L,CompletionTriggerKind:n,SignatureHelpTriggerKind:A,InlayHintKind:R,InlineCompletionTriggerKind:T,FoldingRangeKind:Ze.AD}}var zc=t(93761),Sa;h.BH.wrappingIndent.defaultValue=0,h.BH.glyphMargin.defaultValue=!1,h.BH.autoIndent.defaultValue=3,h.BH.overviewRulerLanes.defaultValue=2,zc.xC.setFormatterSelector((D,i,r)=>Promise.resolve(D[0]));const Ss=Ce();Ss.editor=ec(),Ss.languages=Uc();const Kc=Ss.CancellationTokenSource,jc=Ss.Emitter,$c=Ss.KeyCode,Gc=Ss.KeyMod,Zc=Ss.Position,Qc=Ss.Range,Yc=Ss.Selection,Xc=Ss.SelectionDirection,Jc=Ss.MarkerSeverity,qc=Ss.MarkerTag,eu=Ss.Uri,tu=Ss.Token,iu=Ss.editor,nu=Ss.languages;(!((Sa=Di.li.MonacoEnvironment)===null||Sa===void 0)&&Sa.globalAPI||typeof define=="function"&&t.amdO)&&(self.monaco=Ss),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},8720:function(Ct,we,t){"use strict";t.r(we),t.d(we,{CancellationTokenSource:function(){return w.CancellationTokenSource},Emitter:function(){return w.Emitter},KeyCode:function(){return w.KeyCode},KeyMod:function(){return w.KeyMod},MarkerSeverity:function(){return w.MarkerSeverity},MarkerTag:function(){return w.MarkerTag},Position:function(){return w.Position},Range:function(){return w.Range},Selection:function(){return w.Selection},SelectionDirection:function(){return w.SelectionDirection},Token:function(){return w.Token},Uri:function(){return w.Uri},__esModule:function(){return w.__esModule},editor:function(){return w.editor},languages:function(){return w.languages}});var h=t(15422),W=t(40605),k=t(72323),O=t(68423),w=t(50048),G=t(29126),x=t(89808),N=t(13598),s=t(52042),C=t(50497),l=t(11336),m=t(76334),y=t(30253),n=t(47940),p=t(18162),f=t(79556),v=t(56292),d=t(42429),a=t(24129),u=t(88765),c=t(43814),b=t(45067),L=t(97820),R=t(40927),T=t(26220),j=t(1526),q=t(64091),ie=t(40902),ne=t(17476),he=t(16745),$=t(43763),V=t(46595),z=t(36831),Q=t(66079),le=t(90158),E=t(82665),I=t(38698),A=t(51944),H=t(77365),Y=t(6595),X=t(75769),re=t(51714),fe=t(2521),ue=t(62893),Oe=t(27616),Ce=t(83335),oe=t(46266),ae=t(89723),Be=t(55788),Ve=t(48746),se=t(94992),ce=t(16563),Te=t(57296),xe=t(85098),Fe=t(83187),Le=t(12026),Me=t(76194),Se=t(5566),ze=t(26254),Ye=t(5734),qe=t(40191),ht=t(93127),kt=t(34483),zt=t(40840),Ke=t(37266),Je=t(2375),Ze=t(96461),Ae=t(76628),He=t(40185),It=t(27776),Bt=t(28118),oi=t(96337),ni=t(87530),hi=t(25929),Di=t(17918),Ti=t(6205),Ii=t(46837),ai=t(88307),Pt=t(58203),Gt=t(81905),ot=t(94199),mt=t(68770),ft=t(50124),Xe=t(92913),Ge=t(75623),Ie=t(9730),Pe=t(18870),je=t(9740),dt=t(77847),Nt=t(62015),$t=t(16159),Xt=t(49946),Ci=t(77956),Zt=t(51567),mi=t(16158),pt=t(42834),ut=t(87596),tt=t(40539),de=t(5697),be=t(23111),J=t(44818),pe=t(81372),ke=t(24822),at=t(2765),st=t(20926),_t=t(2268),Et=t(33184),Wt=t(42039),Mt=t(87586),Jt=t(96016),jt=t(88863),ui=t(80674),_i=t(23659),bi=t(38486),Ai=t(74395),Ri=t(16607),zi=t(5964),hn=t(93379),bn=t(74480),Xi=t(84013),xn=t(16830),Sn=t(63580);class en extends xn.R6{constructor(){super({id:"editor.action.forceRetokenize",label:Sn.N("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(me,Ee){if(!Ee.hasModel())return;const $e=Ee.getModel();$e.resetTokenization();const et=new Xi.G(!0);$e.forceTokenization($e.getLineCount()),et.stop(),console.log(`tokenization took ${et.elapsed()}`)}}(0,xn.Qr)(en);var Pn=t(19720),Ln=t(31725),Dn=t(70185),Xn=t(43497),an=t(99453),zn=t(60661),Kn=t(20913),is=t(15375),mn=t(46005),Qn=t(24719),Bn=t(59089),An=t(60669),On=t(60996),qn=t(69896),Hn=t(13679),sn=t(45048),Lt=t(15662)},46005:function(Ct,we,t){"use strict";t.r(we);var h=t(65321),W=t(38626),k=t(94079),O=t(35996),w=t(93794),G=t(9917),x=t(1432),N=t(97295),s=t(70666),C=t(16830),l=t(29102),m=t(19720),y=t(38819),n=t(72065),p=t(91847),f=t(50988),v=t(73910),d=t(97781),a=t(20913),u=function(ie,ne,he,$){var V=arguments.length,z=V<3?ne:$===null?$=Object.getOwnPropertyDescriptor(ne,he):$,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(ie,ne,he,$);else for(var le=ie.length-1;le>=0;le--)(Q=ie[le])&&(z=(V<3?Q(z):V>3?Q(ne,he,z):Q(ne,he))||z);return V>3&&z&&Object.defineProperty(ne,he,z),z},c=function(ie,ne){return function(he,$){ne(he,$,ie)}};const b=new y.uy("accessibilityHelpWidgetVisible",!1);let L=class Wl extends G.JT{constructor(ne,he){super(),this._editor=ne,this._widget=this._register(he.createInstance(T,this._editor))}static get(ne){return ne.getContribution(Wl.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};L.ID="editor.contrib.accessibilityHelpController",L=u([c(1,n.TG)],L);function R(ie,ne){return!ie||ie.length===0?a.Oe.noSelection:ie.length===1?ne?N.WU(a.Oe.singleSelectionRange,ie[0].positionLineNumber,ie[0].positionColumn,ne):N.WU(a.Oe.singleSelection,ie[0].positionLineNumber,ie[0].positionColumn):ne?N.WU(a.Oe.multiSelectionRange,ie.length,ne):ie.length>0?N.WU(a.Oe.multiSelection,ie.length):""}let T=class Er extends w.${constructor(ne,he,$,V){super(),this._contextKeyService=he,this._keybindingService=$,this._openerService=V,this._editor=ne,this._isVisibleKey=b.bindTo(this._contextKeyService),this._domNode=(0,W.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,W.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(h.mu(this._contentDomNode.domNode,"keydown",z=>{if(this._isVisible&&(z.equals(2083)&&((0,O.Z9)(a.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),h.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),z.preventDefault(),z.stopPropagation()),z.equals(2086))){(0,O.Z9)(a.Oe.openingDocs);let Q=this._editor.getRawOptions().accessibilityHelpUrl;typeof Q=="undefined"&&(Q="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(s.o.parse(Q)),z.preventDefault(),z.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Er.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(ne,he,$){let V=this._keybindingService.lookupKeybinding(ne);return V?N.WU(he,V.getAriaLabel()):N.WU($,ne)}_buildContent(){const ne=this._editor.getOptions(),he=this._editor.getSelections();let $=0;if(he){const le=this._editor.getModel();le&&he.forEach(E=>{$+=le.getValueLengthInRange(E)})}let V=R(he,$);ne.get(53)?ne.get(80)?V+=a.Oe.readonlyDiffEditor:V+=a.Oe.editableDiffEditor:ne.get(80)?V+=a.Oe.readonlyEditor:V+=a.Oe.editableEditor;const z=x.dz?a.Oe.changeConfigToOnMac:a.Oe.changeConfigToOnWinLinux;switch(ne.get(2)){case 0:V+=`

 - `+z;break;case 2:V+=`

 - `+a.Oe.auto_on;break;case 1:V+=`

 - `+a.Oe.auto_off,V+=" "+z;break}ne.get(128)?V+=`

 - `+this._descriptionForCommand(m.ToggleTabFocusModeAction.ID,a.Oe.tabFocusModeOnMsg,a.Oe.tabFocusModeOnMsgNoKb):V+=`

 - `+this._descriptionForCommand(m.ToggleTabFocusModeAction.ID,a.Oe.tabFocusModeOffMsg,a.Oe.tabFocusModeOffMsgNoKb);const Q=x.dz?a.Oe.openDocMac:a.Oe.openDocWinLinux;V+=`

 - `+Q,V+=`

`+a.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,k.BO)(V)),this._contentDomNode.domNode.setAttribute("aria-label",V)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,h.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){let ne=this._editor.getLayoutInfo(),he=Math.max(5,Math.min(Er.WIDTH,ne.width-40)),$=Math.max(5,Math.min(Er.HEIGHT,ne.height-40));this._domNode.setWidth(he),this._domNode.setHeight($);let V=Math.round((ne.height-$)/2);this._domNode.setTop(V);let z=Math.round((ne.width-he)/2);this._domNode.setLeft(z)}};T.ID="editor.contrib.accessibilityHelpWidget",T.WIDTH=500,T.HEIGHT=300,T=u([c(1,y.i6),c(2,p.d),c(3,f.v4)],T);class j extends C.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:a.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(ne,he){let $=L.get(he);$&&$.show()}}(0,C._K)(L.ID,L),(0,C.Qr)(j);const q=C._l.bindToContribution(L.get);(0,C.fK)(new q({id:"closeAccessibilityHelp",precondition:b,handler:ie=>ie.hide(),kbOpts:{weight:100+100,kbExpr:l.u.focus,primary:9,secondary:[1033]}})),(0,d.Ic)((ie,ne)=>{const he=ie.getColor(v.D0);he&&ne.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${he}; }`);const $=ie.getColor(v.Hf);$&&ne.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${$}; }`);const V=ie.getColor(v.rh);V&&ne.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${V}; }`);const z=ie.getColor(v.lR);z&&ne.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${z}; }`)})},24719:function(Ct,we,t){"use strict";t.r(we),t.d(we,{IPadShowKeyboard:function(){return w}});var h=t(65321),W=t(9917),k=t(16830),O=t(1432);class w extends W.JT{constructor(N){super(),this.editor=N,this.widget=null,O.gn&&(this._register(N.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const N=!this.editor.getOption(80);!this.widget&&N?this.widget=new G(this.editor):this.widget&&!N&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}w.ID="editor.contrib.iPadShowKeyboard";class G extends W.JT{constructor(N){super(),this.editor=N,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(h.nm(this._domNode,"touchstart",s=>{this.editor.focus()})),this._register(h.nm(this._domNode,"focus",s=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return G.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}G.ID="editor.contrib.ShowKeyboardWidget",(0,k._K)(w.ID,w)},59089:function(Ct,we,t){"use strict";t.r(we);var h=t(65321),W=t(41264),k=t(9917),O=t(16830),w=t(60303),G=t(28111),x=t(71531),N=t(12095),s=t(73910),C=t(97781),l=t(20913),m=t(92321),y=function(u,c,b,L){var R=arguments.length,T=R<3?c:L===null?L=Object.getOwnPropertyDescriptor(c,b):L,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(u,c,b,L);else for(var q=u.length-1;q>=0;q--)(j=u[q])&&(T=(R<3?j(T):R>3?j(c,b,T):j(c,b))||T);return R>3&&T&&Object.defineProperty(c,b,T),T},n=function(u,c){return function(b,L){c(b,L,u)}};let p=class Vl extends k.JT{constructor(c,b,L){super(),this._editor=c,this._modeService=L,this._widget=null,this._register(this._editor.onDidChangeModel(R=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(R=>this.stop())),this._register(w.RW.onDidChange(R=>this.stop())),this._register(this._editor.onKeyUp(R=>R.keyCode===9&&this.stop()))}static get(c){return c.getContribution(Vl.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new a(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};p.ID="editor.contrib.inspectTokens",p=y([n(1,N.Z),n(2,x.h)],p);class f extends O.R6{constructor(){super({id:"editor.action.inspectTokens",label:l.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(c,b){let L=p.get(b);L&&L.launch()}}function v(u){let c="";for(let b=0,L=u.length;b<L;b++){let R=u.charCodeAt(b);switch(R){case 9:c+="\u2192";break;case 32:c+="\xB7";break;default:c+=String.fromCharCode(R)}}return c}function d(u,c){const b=w.RW.get(c);if(b)return b;const L=u.encodeLanguageId(c);return{getInitialState:()=>G.nO,tokenize:(R,T,j,q)=>(0,G.Ri)(c,R,j,q),tokenize2:(R,T,j,q)=>(0,G.mh)(L,R,j,q)}}class a extends k.JT{constructor(c,b){super(),this.allowEditorOverflow=!0,this._editor=c,this._modeService=b,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=d(this._modeService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(L=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return a._ID}_compute(c){let b=this._getTokensAtLine(c.lineNumber),L=0;for(let ie=b.tokens1.length-1;ie>=0;ie--){let ne=b.tokens1[ie];if(c.column-1>=ne.offset){L=ie;break}}let R=0;for(let ie=b.tokens2.length>>>1;ie>=0;ie--)if(c.column-1>=b.tokens2[ie<<1]){R=ie;break}let T=this._model.getLineContent(c.lineNumber),j="";if(L<b.tokens1.length){let ie=b.tokens1[L].offset,ne=L+1<b.tokens1.length?b.tokens1[L+1].offset:T.length;j=T.substring(ie,ne)}(0,h.mc)(this._domNode,(0,h.$)("h2.tm-token",void 0,v(j),(0,h.$)("span.tm-token-length",void 0,`${j.length} ${j.length===1?"char":"chars"}`))),(0,h.R3)(this._domNode,(0,h.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const q=(R<<1)+1<b.tokens2.length?this._decodeMetadata(b.tokens2[(R<<1)+1]):null;(0,h.R3)(this._domNode,(0,h.$)("table.tm-metadata-table",void 0,(0,h.$)("tbody",void 0,(0,h.$)("tr",void 0,(0,h.$)("td.tm-metadata-key",void 0,"language"),(0,h.$)("td.tm-metadata-value",void 0,`${q?q.languageId:"-?-"}`)),(0,h.$)("tr",void 0,(0,h.$)("td.tm-metadata-key",void 0,"token type"),(0,h.$)("td.tm-metadata-value",void 0,`${q?this._tokenTypeToString(q.tokenType):"-?-"}`)),(0,h.$)("tr",void 0,(0,h.$)("td.tm-metadata-key",void 0,"font style"),(0,h.$)("td.tm-metadata-value",void 0,`${q?this._fontStyleToString(q.fontStyle):"-?-"}`)),(0,h.$)("tr",void 0,(0,h.$)("td.tm-metadata-key",void 0,"foreground"),(0,h.$)("td.tm-metadata-value",void 0,`${q?W.Il.Format.CSS.formatHex(q.foreground):"-?-"}`)),(0,h.$)("tr",void 0,(0,h.$)("td.tm-metadata-key",void 0,"background"),(0,h.$)("td.tm-metadata-value",void 0,`${q?W.Il.Format.CSS.formatHex(q.background):"-?-"}`))))),(0,h.R3)(this._domNode,(0,h.$)("hr.tokens-inspect-separator")),L<b.tokens1.length&&(0,h.R3)(this._domNode,(0,h.$)("span.tm-token-type",void 0,b.tokens1[L].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(c){let b=w.RW.getColorMap(),L=w.NX.getLanguageId(c),R=w.NX.getTokenType(c),T=w.NX.getFontStyle(c),j=w.NX.getForeground(c),q=w.NX.getBackground(c);return{languageId:this._modeService.languageIdCodec.decodeLanguageId(L),tokenType:R,fontStyle:T,foreground:b[j],background:b[q]}}_tokenTypeToString(c){switch(c){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(c){let b="";return c&1&&(b+="italic "),c&2&&(b+="bold "),c&4&&(b+="underline "),b.length===0&&(b="---"),b}_getTokensAtLine(c){let b=this._getStateBeforeLine(c),L=this._tokenizationSupport.tokenize(this._model.getLineContent(c),!0,b,0),R=this._tokenizationSupport.tokenize2(this._model.getLineContent(c),!0,b,0);return{startState:b,tokens1:L.tokens,tokens2:R.tokens,endState:L.endState}}_getStateBeforeLine(c){let b=this._tokenizationSupport.getInitialState();for(let L=1;L<c;L++)b=this._tokenizationSupport.tokenize(this._model.getLineContent(L),!0,b,0).endState;return b}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}a._ID="editor.contrib.inspectTokensWidget",(0,O._K)(p.ID,p),(0,O.Qr)(f),(0,C.Ic)((u,c)=>{const b=u.getColor(s.CN);if(b){let T=u.type===m.e.HIGH_CONTRAST?2:1;c.addRule(`.monaco-editor .tokens-inspect-widget { border: ${T}px solid ${b}; }`),c.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${b}; }`)}const L=u.getColor(s.yJ);L&&c.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${L}; }`);const R=u.getColor(s.Sb);R&&c.addRule(`.monaco-editor .tokens-inspect-widget { color: ${R}; }`)})},13679:function(Ct,we,t){"use strict";t.r(we),t.d(we,{GotoLineAction:function(){return Oe},StandaloneCommandsQuickAccessProvider:function(){return ue}});var h=t(89872),W=t(90725),k=t(20913),O=t(11640),w=t(21212),G=t(9488),x=t(98401),N=t(63580);function s(Ce,oe){return oe&&(Ce.stack||Ce.stacktrace)?N.N("stackTrace.format","{0}: {1}",l(Ce),C(Ce.stack)||C(Ce.stacktrace)):l(Ce)}function C(Ce){return Array.isArray(Ce)?Ce.join(`
`):Ce}function l(Ce){return typeof Ce.code=="string"&&typeof Ce.errno=="number"&&typeof Ce.syscall=="string"?N.N("nodeExceptionMessage","A system error occurred ({0})",Ce.message):Ce.message||N.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function m(Ce=null,oe=!1){if(!Ce)return N.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(Ce)){const ae=G.kX(Ce),Be=m(ae[0],oe);return ae.length>1?N.N("error.moreErrors","{0} ({1} errors in total)",Be,ae.length):Be}if(x.HD(Ce))return Ce;if(Ce.detail){const ae=Ce.detail;if(ae.error)return s(ae.error,oe);if(ae.exception)return s(ae.exception,oe)}return Ce.stack?s(Ce,oe):Ce.message?Ce.message:N.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var y=t(17301),n=t(75392),p=t(9917),f=t(43702),v=t(14603),d=t(94565),a=t(33108),u=t(28820),c=t(72065),b=t(91847),L=t(15393),R=t(71050),T=function(Ce,oe,ae,Be){function Ve(se){return se instanceof ae?se:new ae(function(ce){ce(se)})}return new(ae||(ae=Promise))(function(se,ce){function Te(Le){try{Fe(Be.next(Le))}catch(Me){ce(Me)}}function xe(Le){try{Fe(Be.throw(Le))}catch(Me){ce(Me)}}function Fe(Le){Le.done?se(Le.value):Ve(Le.value).then(Te,xe)}Fe((Be=Be.apply(Ce,oe||[])).next())})},j;(function(Ce){Ce[Ce.NO_ACTION=0]="NO_ACTION",Ce[Ce.CLOSE_PICKER=1]="CLOSE_PICKER",Ce[Ce.REFRESH_PICKER=2]="REFRESH_PICKER",Ce[Ce.REMOVE_ITEM=3]="REMOVE_ITEM"})(j||(j={}));function q(Ce){const oe=Ce;return Array.isArray(oe.items)}function ie(Ce){const oe=Ce;return!!oe.picks&&oe.additionalPicks instanceof Promise}class ne extends p.JT{constructor(oe,ae){super(),this.prefix=oe,this.options=ae}provide(oe,ae){var Be;const Ve=new p.SL;oe.canAcceptInBackground=!!(!((Be=this.options)===null||Be===void 0)&&Be.canAcceptInBackground),oe.matchOnLabel=oe.matchOnDescription=oe.matchOnDetail=oe.sortByLabel=!1;let se;const ce=Ve.add(new p.XK),Te=()=>T(this,void 0,void 0,function*(){const xe=ce.value=new p.SL;se==null||se.dispose(!0),oe.busy=!1,se=new R.A(ae);const Fe=se.token,Le=oe.value.substr(this.prefix.length).trim(),Me=this._getPicks(Le,xe,Fe),Se=(ze,Ye)=>{var qe;let ht,kt;if(q(ze)?(ht=ze.items,kt=ze.active):ht=ze,ht.length===0){if(Ye)return!1;Le.length>0&&(!((qe=this.options)===null||qe===void 0)&&qe.noResultsPick)&&(ht=[this.options.noResultsPick])}return oe.items=ht,kt&&(oe.activeItems=[kt]),!0};if(Me!==null)if(ie(Me)){let ze=!1,Ye=!1;yield Promise.all([(()=>T(this,void 0,void 0,function*(){yield(0,L.Vs)(ne.FAST_PICKS_RACE_DELAY),!Fe.isCancellationRequested&&(Ye||(ze=Se(Me.picks,!0)))}))(),(()=>T(this,void 0,void 0,function*(){oe.busy=!0;try{const qe=yield Me.additionalPicks;if(Fe.isCancellationRequested)return;let ht,kt;q(Me.picks)?(ht=Me.picks.items,kt=Me.picks.active):ht=Me.picks;let zt,Ke;if(q(qe)?(zt=qe.items,Ke=qe.active):zt=qe,zt.length>0||!ze){let Je;if(!kt&&!Ke){const Ze=oe.activeItems[0];Ze&&ht.indexOf(Ze)!==-1&&(Je=Ze)}Se({items:[...ht,...zt],active:kt||Ke||Je})}}finally{Fe.isCancellationRequested||(oe.busy=!1),Ye=!0}}))()])}else if(!(Me instanceof Promise))Se(Me);else{oe.busy=!0;try{const ze=yield Me;if(Fe.isCancellationRequested)return;Se(ze)}finally{Fe.isCancellationRequested||(oe.busy=!1)}}});return Ve.add(oe.onDidChangeValue(()=>Te())),Te(),Ve.add(oe.onDidAccept(xe=>{const[Fe]=oe.selectedItems;typeof(Fe==null?void 0:Fe.accept)=="function"&&(xe.inBackground||oe.hide(),Fe.accept(oe.keyMods,xe))})),Ve.add(oe.onDidTriggerItemButton(({button:xe,item:Fe})=>T(this,void 0,void 0,function*(){var Le,Me;if(typeof Fe.trigger=="function"){const Se=(Me=(Le=Fe.buttons)===null||Le===void 0?void 0:Le.indexOf(xe))!==null&&Me!==void 0?Me:-1;if(Se>=0){const ze=Fe.trigger(Se,oe.keyMods),Ye=typeof ze=="number"?ze:yield ze;if(ae.isCancellationRequested)return;switch(Ye){case j.NO_ACTION:break;case j.CLOSE_PICKER:oe.hide();break;case j.REFRESH_PICKER:Te();break;case j.REMOVE_ITEM:const qe=oe.items.indexOf(Fe);if(qe!==-1){const ht=oe.items.slice(),kt=ht.splice(qe,1),zt=oe.activeItems.filter(Je=>Je!==kt[0]),Ke=oe.keepScrollPosition;oe.keepScrollPosition=!0,oe.items=ht,zt&&(oe.activeItems=zt),oe.keepScrollPosition=Ke}break}}}}))),Ve}}ne.FAST_PICKS_RACE_DELAY=200;var he=t(87060),$=t(10829),V=function(Ce,oe,ae,Be){var Ve=arguments.length,se=Ve<3?oe:Be===null?Be=Object.getOwnPropertyDescriptor(oe,ae):Be,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Ce,oe,ae,Be);else for(var Te=Ce.length-1;Te>=0;Te--)(ce=Ce[Te])&&(se=(Ve<3?ce(se):Ve>3?ce(oe,ae,se):ce(oe,ae))||se);return Ve>3&&se&&Object.defineProperty(oe,ae,se),se},z=function(Ce,oe){return function(ae,Be){oe(ae,Be,Ce)}},Q=function(Ce,oe,ae,Be){function Ve(se){return se instanceof ae?se:new ae(function(ce){ce(se)})}return new(ae||(ae=Promise))(function(se,ce){function Te(Le){try{Fe(Be.next(Le))}catch(Me){ce(Me)}}function xe(Le){try{Fe(Be.throw(Le))}catch(Me){ce(Me)}}function Fe(Le){Le.done?se(Le.value):Ve(Le.value).then(Te,xe)}Fe((Be=Be.apply(Ce,oe||[])).next())})};let le=class Ir extends ne{constructor(oe,ae,Be,Ve,se,ce){super(Ir.PREFIX,oe),this.instantiationService=ae,this.keybindingService=Be,this.commandService=Ve,this.telemetryService=se,this.dialogService=ce,this.commandsHistory=this._register(this.instantiationService.createInstance(E)),this.options=oe}_getPicks(oe,ae,Be){return Q(this,void 0,void 0,function*(){const Ve=yield this.getCommandPicks(ae,Be);if(Be.isCancellationRequested)return[];const se=[];for(const Fe of Ve){const Le=(0,x.f6)(Ir.WORD_FILTER(oe,Fe.label)),Me=Fe.commandAlias?(0,x.f6)(Ir.WORD_FILTER(oe,Fe.commandAlias)):void 0;Le||Me?(Fe.highlights={label:Le,detail:this.options.showAlias?Me:void 0},se.push(Fe)):oe===Fe.commandId&&se.push(Fe)}const ce=new Map;for(const Fe of se){const Le=ce.get(Fe.label);Le?(Fe.description=Fe.commandId,Le.description=Le.commandId):ce.set(Fe.label,Fe)}se.sort((Fe,Le)=>{const Me=this.commandsHistory.peek(Fe.commandId),Se=this.commandsHistory.peek(Le.commandId);return Me&&Se?Me>Se?-1:1:Me?-1:Se?1:Fe.label.localeCompare(Le.label)});const Te=[];let xe=!1;for(let Fe=0;Fe<se.length;Fe++){const Le=se[Fe],Me=this.keybindingService.lookupKeybinding(Le.commandId),Se=Me?(0,N.N)("commandPickAriaLabelWithKeybinding","{0}, {1}",Le.label,Me.getAriaLabel()):Le.label;Fe===0&&this.commandsHistory.peek(Le.commandId)&&(Te.push({type:"separator",label:(0,N.N)("recentlyUsed","recently used")}),xe=!0),Fe!==0&&xe&&!this.commandsHistory.peek(Le.commandId)&&(Te.push({type:"separator",label:(0,N.N)("morecCommands","other commands")}),xe=!1),Te.push(Object.assign(Object.assign({},Le),{ariaLabel:Se,detail:this.options.showAlias&&Le.commandAlias!==Le.label?Le.commandAlias:void 0,keybinding:Me,accept:()=>Q(this,void 0,void 0,function*(){this.commandsHistory.push(Le.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Le.commandId,from:"quick open"});try{yield this.commandService.executeCommand(Le.commandId)}catch(ze){(0,y.VV)(ze)||this.dialogService.show(v.Z.Error,(0,N.N)("canNotRun","Command '{0}' resulted in an error ({1})",Le.label,m(ze)))}})}))}return Te})}};le.PREFIX=">",le.WORD_FILTER=(0,n.or)(n.Ji,n.KZ,n.ir),le=V([z(1,c.TG),z(2,b.d),z(3,d.H),z(4,$.b),z(5,u.S)],le);let E=class ls extends p.JT{constructor(oe,ae){super(),this.storageService=oe,this.configurationService=ae,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=ls.getConfiguredCommandHistoryLength(this.configurationService),ls.cache&&ls.cache.limit!==this.configuredCommandsHistoryLength&&(ls.cache.limit=this.configuredCommandsHistoryLength,ls.saveState(this.storageService))}load(){const oe=this.storageService.get(ls.PREF_KEY_CACHE,0);let ae;if(oe)try{ae=JSON.parse(oe)}catch(Ve){}const Be=ls.cache=new f.z6(this.configuredCommandsHistoryLength,1);if(ae){let Ve;ae.usesLRU?Ve=ae.entries:Ve=ae.entries.sort((se,ce)=>se.value-ce.value),Ve.forEach(se=>Be.set(se.key,se.value))}ls.counter=this.storageService.getNumber(ls.PREF_KEY_COUNTER,0,ls.counter)}push(oe){ls.cache&&(ls.cache.set(oe,ls.counter++),ls.saveState(this.storageService))}peek(oe){var ae;return(ae=ls.cache)===null||ae===void 0?void 0:ae.peek(oe)}static saveState(oe){if(!ls.cache)return;const ae={usesLRU:!0,entries:[]};ls.cache.forEach((Be,Ve)=>ae.entries.push({key:Ve,value:Be})),oe.store(ls.PREF_KEY_CACHE,JSON.stringify(ae),0,0),oe.store(ls.PREF_KEY_COUNTER,ls.counter,0,0)}static getConfiguredCommandHistoryLength(oe){var ae,Be;const se=(Be=(ae=oe.getValue().workbench)===null||ae===void 0?void 0:ae.commandPalette)===null||Be===void 0?void 0:Be.history;return typeof se=="number"?se:ls.DEFAULT_COMMANDS_HISTORY_LENGTH}};E.DEFAULT_COMMANDS_HISTORY_LENGTH=50,E.PREF_KEY_CACHE="commandPalette.mru.cache",E.PREF_KEY_COUNTER="commandPalette.mru.counter",E.counter=1,E=V([z(0,he.Uy),z(1,a.Ui)],E);class I extends le{constructor(oe,ae,Be,Ve,se,ce){super(oe,ae,Be,Ve,se,ce)}getCodeEditorCommandPicks(){const oe=this.activeTextEditorControl;if(!oe)return[];const ae=[];for(const Be of oe.getSupportedActions())ae.push({commandId:Be.id,commandAlias:Be.alias,label:(0,w.x$)(Be.label)||Be.id});return ae}}var A=t(16830),H=t(29102),Y=t(41157),X=function(Ce,oe,ae,Be){var Ve=arguments.length,se=Ve<3?oe:Be===null?Be=Object.getOwnPropertyDescriptor(oe,ae):Be,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Ce,oe,ae,Be);else for(var Te=Ce.length-1;Te>=0;Te--)(ce=Ce[Te])&&(se=(Ve<3?ce(se):Ve>3?ce(oe,ae,se):ce(oe,ae))||se);return Ve>3&&se&&Object.defineProperty(oe,ae,se),se},re=function(Ce,oe){return function(ae,Be){oe(ae,Be,Ce)}},fe=function(Ce,oe,ae,Be){function Ve(se){return se instanceof ae?se:new ae(function(ce){ce(se)})}return new(ae||(ae=Promise))(function(se,ce){function Te(Le){try{Fe(Be.next(Le))}catch(Me){ce(Me)}}function xe(Le){try{Fe(Be.throw(Le))}catch(Me){ce(Me)}}function Fe(Le){Le.done?se(Le.value):Ve(Le.value).then(Te,xe)}Fe((Be=Be.apply(Ce,oe||[])).next())})};let ue=class extends I{constructor(oe,ae,Be,Ve,se,ce){super({showAlias:!1},oe,Be,Ve,se,ce),this.codeEditorService=ae}get activeTextEditorControl(){return(0,x.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return fe(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};ue=X([re(0,c.TG),re(1,O.$),re(2,b.d),re(3,d.H),re(4,$.b),re(5,u.S)],ue),h.B.as(W.IP.Quickaccess).registerQuickAccessProvider({ctor:ue,prefix:ue.PREFIX,helpEntries:[{description:k.UX.quickCommandHelp,needsEditor:!0}]});class Oe extends A.R6{constructor(){super({id:"editor.action.quickCommand",label:k.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:H.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(oe){oe.get(Y.eJ).quickAccess.show(ue.PREFIX)}}(0,A.Qr)(Oe)},60996:function(Ct,we,t){"use strict";t.r(we),t.d(we,{GotoLineAction:function(){return d},StandaloneGotoLineQuickAccessProvider:function(){return v}});var h=t(9917),W=t(65520),k=t(98275),O=t(63580);class w extends k.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(u){const c=(0,O.N)("cannotRunGotoLine","Open a text editor first to go to a line.");return u.items=[{label:c}],u.ariaLabel=c,h.JT.None}provideWithTextEditor(u,c,b){const L=u.editor,R=new h.SL;R.add(c.onDidAccept(q=>{const[ie]=c.selectedItems;if(ie){if(!this.isValidLineNumber(L,ie.lineNumber))return;this.gotoLocation(u,{range:this.toRange(ie.lineNumber,ie.column),keyMods:c.keyMods,preserveFocus:q.inBackground}),q.inBackground||c.hide()}}));const T=()=>{const q=this.parsePosition(L,c.value.trim().substr(w.PREFIX.length)),ie=this.getPickLabel(L,q.lineNumber,q.column);if(c.items=[{lineNumber:q.lineNumber,column:q.column,label:ie}],c.ariaLabel=ie,!this.isValidLineNumber(L,q.lineNumber)){this.clearDecorations(L);return}const ne=this.toRange(q.lineNumber,q.column);L.revealRangeInCenter(ne,0),this.addDecorations(L,ne)};T(),R.add(c.onDidChangeValue(()=>T()));const j=(0,W.Pi)(L);return j&&j.getOptions().get(59).renderType===2&&(j.updateOptions({lineNumbers:"on"}),R.add((0,h.OF)(()=>j.updateOptions({lineNumbers:"relative"})))),R}toRange(u=1,c=1){return{startLineNumber:u,startColumn:c,endLineNumber:u,endColumn:c}}parsePosition(u,c){const b=c.split(/,|:|#/).map(R=>parseInt(R,10)).filter(R=>!isNaN(R)),L=this.lineCount(u)+1;return{lineNumber:b[0]>0?b[0]:L+b[0],column:b[1]}}getPickLabel(u,c,b){if(this.isValidLineNumber(u,c))return this.isValidColumn(u,c,b)?(0,O.N)("gotoLineColumnLabel","Go to line {0} and character {1}.",c,b):(0,O.N)("gotoLineLabel","Go to line {0}.",c);const L=u.getPosition()||{lineNumber:1,column:1},R=this.lineCount(u);return R>1?(0,O.N)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",L.lineNumber,L.column,R):(0,O.N)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",L.lineNumber,L.column)}isValidLineNumber(u,c){return!c||typeof c!="number"?!1:c>0&&c<=this.lineCount(u)}isValidColumn(u,c,b){if(!b||typeof b!="number")return!1;const L=this.getModel(u);if(!L)return!1;const R={lineNumber:c,column:b};return L.validatePosition(R).equals(R)}lineCount(u){var c,b;return(b=(c=this.getModel(u))===null||c===void 0?void 0:c.getLineCount())!==null&&b!==void 0?b:0}}w.PREFIX=":";var G=t(89872),x=t(90725),N=t(11640),s=t(98401),C=t(20913),l=t(4669),m=t(16830),y=t(29102),n=t(41157),p=function(a,u,c,b){var L=arguments.length,R=L<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,c):b,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,u,c,b);else for(var j=a.length-1;j>=0;j--)(T=a[j])&&(R=(L<3?T(R):L>3?T(u,c,R):T(u,c))||R);return L>3&&R&&Object.defineProperty(u,c,R),R},f=function(a,u){return function(c,b){u(c,b,a)}};let v=class extends w{constructor(u){super(),this.editorService=u,this.onDidActiveTextEditorControlChange=l.ju.None}get activeTextEditorControl(){return(0,s.f6)(this.editorService.getFocusedCodeEditor())}};v=p([f(0,N.$)],v),G.B.as(x.IP.Quickaccess).registerQuickAccessProvider({ctor:v,prefix:v.PREFIX,helpEntries:[{description:C.qq.gotoLineActionLabel,needsEditor:!0}]});class d extends m.R6{constructor(){super({id:"editor.action.gotoLine",label:C.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:y.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(u){u.get(n.eJ).quickAccess.show(v.PREFIX)}}(0,m.Qr)(d)},69896:function(Ct,we,t){"use strict";t.r(we),t.d(we,{GotoLineAction:function(){return re},StandaloneGotoSymbolQuickAccessProvider:function(){return X}});var h=t(15375),W=t(24954),k=t(71050),O=t(73046),w=t(75392),G=t(55336),x=t(1432),N=t(97295);const s=[void 0,[]];function C(fe,ue,Oe=0,Ce=0){const oe=ue;return oe.values&&oe.values.length>1?l(fe,oe.values,Oe,Ce):m(fe,ue,Oe,Ce)}function l(fe,ue,Oe,Ce){let oe=0;const ae=[];for(const Be of ue){const[Ve,se]=m(fe,Be,Oe,Ce);if(typeof Ve!="number")return s;oe+=Ve,ae.push(...se)}return[oe,y(ae)]}function m(fe,ue,Oe,Ce){const oe=(0,w.EW)(ue.original,ue.originalLowercase,Oe,fe,fe.toLowerCase(),Ce,!0);return oe?[oe[0],(0,w.mB)(oe)]:s}function y(fe){const ue=fe.sort((oe,ae)=>oe.start-ae.start),Oe=[];let Ce;for(const oe of ue)!Ce||!n(Ce,oe)?(Ce=oe,Oe.push(oe)):(Ce.start=Math.min(Ce.start,oe.start),Ce.end=Math.max(Ce.end,oe.end));return Oe}function n(fe,ue){return!(fe.end<ue.start||ue.end<fe.start)}function p(fe){return fe.startsWith('"')&&fe.endsWith('"')}const f=" ";function v(fe){typeof fe!="string"&&(fe="");const ue=fe.toLowerCase(),{pathNormalized:Oe,normalized:Ce,normalizedLowercase:oe}=d(fe),ae=Oe.indexOf(G.ir)>=0,Be=p(fe);let Ve;const se=fe.split(f);if(se.length>1)for(const ce of se){const Te=p(ce),{pathNormalized:xe,normalized:Fe,normalizedLowercase:Le}=d(ce);Fe&&(Ve||(Ve=[]),Ve.push({original:ce,originalLowercase:ce.toLowerCase(),pathNormalized:xe,normalized:Fe,normalizedLowercase:Le,expectContiguousMatch:Te}))}return{original:fe,originalLowercase:ue,pathNormalized:Oe,normalized:Ce,normalizedLowercase:oe,values:Ve,containsPathSeparator:ae,expectContiguousMatch:Be}}function d(fe){let ue;x.ED?ue=fe.replace(/\//g,G.ir):ue=fe.replace(/\\/g,G.ir);const Oe=(0,N.R1)(ue).replace(/\s|"/g,"");return{pathNormalized:ue,normalized:Oe,normalizedLowercase:Oe.toLowerCase()}}function a(fe){return Array.isArray(fe)?v(fe.map(ue=>ue.original).join(f)):v(fe.original)}var u=t(9917),c=t(24314),b=t(60303),L=t(86895),R=t(98275),T=t(63580),j=function(fe,ue,Oe,Ce){function oe(ae){return ae instanceof Oe?ae:new Oe(function(Be){Be(ae)})}return new(Oe||(Oe=Promise))(function(ae,Be){function Ve(Te){try{ce(Ce.next(Te))}catch(xe){Be(xe)}}function se(Te){try{ce(Ce.throw(Te))}catch(xe){Be(xe)}}function ce(Te){Te.done?ae(Te.value):oe(Te.value).then(Ve,se)}ce((Ce=Ce.apply(fe,ue||[])).next())})};class q extends R.X{constructor(ue=Object.create(null)){super(ue),this.options=ue,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(ue){return this.provideLabelPick(ue,(0,T.N)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),u.JT.None}provideWithTextEditor(ue,Oe,Ce){const oe=ue.editor,ae=this.getModel(oe);return ae?b.vJ.has(ae)?this.doProvideWithEditorSymbols(ue,ae,Oe,Ce):this.doProvideWithoutEditorSymbols(ue,ae,Oe,Ce):u.JT.None}doProvideWithoutEditorSymbols(ue,Oe,Ce,oe){const ae=new u.SL;return this.provideLabelPick(Ce,(0,T.N)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),j(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(Oe,ae))||oe.isCancellationRequested||ae.add(this.doProvideWithEditorSymbols(ue,Oe,Ce,oe))}),ae}provideLabelPick(ue,Oe){ue.items=[{label:Oe,index:0,kind:14}],ue.ariaLabel=Oe}waitForLanguageSymbolRegistry(ue,Oe){return j(this,void 0,void 0,function*(){if(b.vJ.has(ue))return!0;let Ce;const oe=new Promise(Be=>Ce=Be),ae=Oe.add(b.vJ.onDidChange(()=>{b.vJ.has(ue)&&(ae.dispose(),Ce(!0))}));return Oe.add((0,u.OF)(()=>Ce(!1))),oe})}doProvideWithEditorSymbols(ue,Oe,Ce,oe){const ae=ue.editor,Be=new u.SL;Be.add(Ce.onDidAccept(xe=>{const[Fe]=Ce.selectedItems;Fe&&Fe.range&&(this.gotoLocation(ue,{range:Fe.range.selection,keyMods:Ce.keyMods,preserveFocus:xe.inBackground}),xe.inBackground||Ce.hide())})),Be.add(Ce.onDidTriggerItemButton(({item:xe})=>{xe&&xe.range&&(this.gotoLocation(ue,{range:xe.range.selection,keyMods:Ce.keyMods,forceSideBySide:!0}),Ce.hide())}));const Ve=this.getDocumentSymbols(Oe,oe);let se;const ce=()=>j(this,void 0,void 0,function*(){se==null||se.dispose(!0),Ce.busy=!1,se=new k.A(oe),Ce.busy=!0;try{const xe=v(Ce.value.substr(q.PREFIX.length).trim()),Fe=yield this.doGetSymbolPicks(Ve,xe,void 0,se.token);if(oe.isCancellationRequested)return;Fe.length>0?Ce.items=Fe:xe.original.length>0?this.provideLabelPick(Ce,(0,T.N)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(Ce,(0,T.N)("noSymbolResults","No editor symbols"))}finally{oe.isCancellationRequested||(Ce.busy=!1)}});Be.add(Ce.onDidChangeValue(()=>ce())),ce();let Te=!0;return Be.add(Ce.onDidChangeActive(()=>{const[xe]=Ce.activeItems;if(xe&&xe.range){if(Te){Te=!1;return}ae.revealRangeInCenter(xe.range.selection,0),this.addDecorations(ae,xe.range.decoration)}})),Be}doGetSymbolPicks(ue,Oe,Ce,oe){return j(this,void 0,void 0,function*(){const ae=yield ue;if(oe.isCancellationRequested)return[];const Be=Oe.original.indexOf(q.SCOPE_PREFIX)===0,Ve=Be?1:0;let se,ce;Oe.values&&Oe.values.length>1?(se=a(Oe.values[0]),ce=a(Oe.values.slice(1))):se=Oe;const Te=[];for(let Le=0;Le<ae.length;Le++){const Me=ae[Le],Se=(0,N.fy)(Me.name),ze=`$(symbol-${b.uZ.toString(Me.kind)||"property"}) ${Se}`,Ye=ze.length-Se.length;let qe=Me.containerName;Ce!=null&&Ce.extraContainerLabel&&(qe?qe=`${Ce.extraContainerLabel} \u2022 ${qe}`:qe=Ce.extraContainerLabel);let ht,kt,zt,Ke;if(Oe.original.length>Ve){let Ze=!1;if(se!==Oe&&([ht,kt]=C(ze,Object.assign(Object.assign({},Oe),{values:void 0}),Ve,Ye),typeof ht=="number"&&(Ze=!0)),typeof ht!="number"&&([ht,kt]=C(ze,se,Ve,Ye),typeof ht!="number"))continue;if(!Ze&&ce){if(qe&&ce.original.length>0&&([zt,Ke]=C(qe,ce)),typeof zt!="number")continue;typeof ht=="number"&&(ht+=zt)}}const Je=Me.tags&&Me.tags.indexOf(1)>=0;Te.push({index:Le,kind:Me.kind,score:ht,label:ze,ariaLabel:Se,description:qe,highlights:Je?void 0:{label:kt,description:Ke},range:{selection:c.e.collapseToStart(Me.selectionRange),decoration:Me.range},strikethrough:Je,buttons:(()=>{var Ze,Ae;const He=!((Ze=this.options)===null||Ze===void 0)&&Ze.openSideBySideDirection?(Ae=this.options)===null||Ae===void 0?void 0:Ae.openSideBySideDirection():void 0;if(He)return[{iconClass:He==="right"?O.lA.splitHorizontal.classNames:O.lA.splitVertical.classNames,tooltip:He==="right"?(0,T.N)("openToSide","Open to the Side"):(0,T.N)("openToBottom","Open to the Bottom")}]})()})}const xe=Te.sort((Le,Me)=>Be?this.compareByKindAndScore(Le,Me):this.compareByScore(Le,Me));let Fe=[];if(Be){let ze=function(){Me&&typeof Le=="number"&&Se>0&&(Me.label=(0,N.WU)(ne[Le]||ie,Se))},Le,Me,Se=0;for(const Ye of xe)Le!==Ye.kind?(ze(),Le=Ye.kind,Se=1,Me={type:"separator"},Fe.push(Me)):Se++,Fe.push(Ye);ze()}else xe.length>0&&(Fe=[{label:(0,T.N)("symbols","symbols ({0})",Te.length),type:"separator"},...xe]);return Fe})}compareByScore(ue,Oe){if(typeof ue.score!="number"&&typeof Oe.score=="number")return 1;if(typeof ue.score=="number"&&typeof Oe.score!="number")return-1;if(typeof ue.score=="number"&&typeof Oe.score=="number"){if(ue.score>Oe.score)return-1;if(ue.score<Oe.score)return 1}return ue.index<Oe.index?-1:ue.index>Oe.index?1:0}compareByKindAndScore(ue,Oe){const Ce=ne[ue.kind]||ie,oe=ne[Oe.kind]||ie,ae=Ce.localeCompare(oe);return ae===0?this.compareByScore(ue,Oe):ae}getDocumentSymbols(ue,Oe){return j(this,void 0,void 0,function*(){const Ce=yield L.C3.create(ue,Oe);return Oe.isCancellationRequested?[]:Ce.asListOfDocumentSymbols()})}}q.PREFIX="@",q.SCOPE_PREFIX=":",q.PREFIX_BY_CATEGORY=`${q.PREFIX}${q.SCOPE_PREFIX}`;const ie=(0,T.N)("property","properties ({0})"),ne={[5]:(0,T.N)("method","methods ({0})"),[11]:(0,T.N)("function","functions ({0})"),[8]:(0,T.N)("_constructor","constructors ({0})"),[12]:(0,T.N)("variable","variables ({0})"),[4]:(0,T.N)("class","classes ({0})"),[22]:(0,T.N)("struct","structs ({0})"),[23]:(0,T.N)("event","events ({0})"),[24]:(0,T.N)("operator","operators ({0})"),[10]:(0,T.N)("interface","interfaces ({0})"),[2]:(0,T.N)("namespace","namespaces ({0})"),[3]:(0,T.N)("package","packages ({0})"),[25]:(0,T.N)("typeParameter","type parameters ({0})"),[1]:(0,T.N)("modules","modules ({0})"),[6]:(0,T.N)("property","properties ({0})"),[9]:(0,T.N)("enum","enumerations ({0})"),[21]:(0,T.N)("enumMember","enumeration members ({0})"),[14]:(0,T.N)("string","strings ({0})"),[0]:(0,T.N)("file","files ({0})"),[17]:(0,T.N)("array","arrays ({0})"),[15]:(0,T.N)("number","numbers ({0})"),[16]:(0,T.N)("boolean","booleans ({0})"),[18]:(0,T.N)("object","objects ({0})"),[19]:(0,T.N)("key","keys ({0})"),[7]:(0,T.N)("field","fields ({0})"),[13]:(0,T.N)("constant","constants ({0})")};var he=t(89872),$=t(90725),V=t(11640),z=t(98401),Q=t(20913),le=t(4669),E=t(16830),I=t(29102),A=t(41157),H=function(fe,ue,Oe,Ce){var oe=arguments.length,ae=oe<3?ue:Ce===null?Ce=Object.getOwnPropertyDescriptor(ue,Oe):Ce,Be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ae=Reflect.decorate(fe,ue,Oe,Ce);else for(var Ve=fe.length-1;Ve>=0;Ve--)(Be=fe[Ve])&&(ae=(oe<3?Be(ae):oe>3?Be(ue,Oe,ae):Be(ue,Oe))||ae);return oe>3&&ae&&Object.defineProperty(ue,Oe,ae),ae},Y=function(fe,ue){return function(Oe,Ce){ue(Oe,Ce,fe)}};let X=class extends q{constructor(ue){super(),this.editorService=ue,this.onDidActiveTextEditorControlChange=le.ju.None}get activeTextEditorControl(){return(0,z.f6)(this.editorService.getFocusedCodeEditor())}};X=H([Y(0,V.$)],X),he.B.as($.IP.Quickaccess).registerQuickAccessProvider({ctor:X,prefix:q.PREFIX,helpEntries:[{description:Q.aq.quickOutlineActionLabel,prefix:q.PREFIX,needsEditor:!0},{description:Q.aq.quickOutlineByCategoryActionLabel,prefix:q.PREFIX_BY_CATEGORY,needsEditor:!0}]});class re extends E.R6{constructor(){super({id:"editor.action.quickOutline",label:Q.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:I.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:I.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(ue){ue.get(A.eJ).quickAccess.show(q.PREFIX)}}(0,E.Qr)(re)},60669:function(Ct,we,t){"use strict";t.r(we);var h=t(89872),W=t(90725),k=t(20913),O=t(9917),w=t(63580),G=t(41157),x=function(C,l,m,y){var n=arguments.length,p=n<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,m):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(C,l,m,y);else for(var v=C.length-1;v>=0;v--)(f=C[v])&&(p=(n<3?f(p):n>3?f(l,m,p):f(l,m))||p);return n>3&&p&&Object.defineProperty(l,m,p),p},N=function(C,l){return function(m,y){l(m,y,C)}};let s=class Nr{constructor(l){this.quickInputService=l,this.registry=h.B.as(W.IP.Quickaccess)}provide(l){const m=new O.SL;m.add(l.onDidAccept(()=>{const[p]=l.selectedItems;p&&this.quickInputService.quickAccess.show(p.prefix,{preserveValue:!0})})),m.add(l.onDidChangeValue(p=>{const f=this.registry.getQuickAccessProvider(p.substr(Nr.PREFIX.length));f&&f.prefix&&f.prefix!==Nr.PREFIX&&this.quickInputService.quickAccess.show(f.prefix,{preserveValue:!0})}));const{editorProviders:y,globalProviders:n}=this.getQuickAccessProviders();return l.items=y.length===0||n.length===0?[...y.length===0?n:y]:[{label:(0,w.N)("globalCommands","global commands"),type:"separator"},...n,{label:(0,w.N)("editorCommands","editor commands"),type:"separator"},...y],m}getQuickAccessProviders(){const l=[],m=[];for(const y of this.registry.getQuickAccessProviders().sort((n,p)=>n.prefix.localeCompare(p.prefix)))if(y.prefix!==Nr.PREFIX)for(const n of y.helpEntries){const p=n.prefix||y.prefix,f=p||"\u2026";(n.needsEditor?m:l).push({prefix:p,label:f,ariaLabel:(0,w.N)("helpPickAriaLabel","{0}, {1}",f,n.description),description:n.description})}return{editorProviders:m,globalProviders:l}}};s.PREFIX="?",s=x([N(0,G.eJ)],s),h.B.as(W.IP.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:"",helpEntries:[{description:k.ld.helpQuickAccessActionLabel,needsEditor:!0}]})},45048:function(Ct,we,t){"use strict";t.r(we),t.d(we,{StandaloneReferencesController:function(){return l}});var h=t(16830),W=t(11640),k=t(86511),O=t(33108),w=t(38819),G=t(72065),x=t(59422),N=t(87060),s=function(m,y,n,p){var f=arguments.length,v=f<3?y:p===null?p=Object.getOwnPropertyDescriptor(y,n):p,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(m,y,n,p);else for(var a=m.length-1;a>=0;a--)(d=m[a])&&(v=(f<3?d(v):f>3?d(y,n,v):d(y,n))||v);return f>3&&v&&Object.defineProperty(y,n,v),v},C=function(m,y){return function(n,p){y(n,p,m)}};let l=class extends k.J{constructor(y,n,p,f,v,d,a){super(!0,y,n,p,f,v,d,a)}};l=s([C(1,w.i6),C(2,W.$),C(3,x.lT),C(4,G.TG),C(5,N.Uy),C(6,O.Ui)],l),(0,h._K)(k.J.ID,l)},15662:function(Ct,we,t){"use strict";t.r(we);var h=t(16830),W=t(12095),k=t(20913);class O extends h.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:k.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(G,x){const N=G.get(W.Z);this._originalThemeName?(N.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=N.getColorTheme().themeName,N.setTheme("hc-black"))}}(0,h.Qr)(O)},12095:function(Ct,we,t){"use strict";t.d(we,{Z:function(){return W}});var h=t(72065);const W=(0,h.yh)("themeService")},61460:function(Ct,we,t){"use strict";t.d(we,{Mj:function(){return h.languages},Q5:function(){return h.Emitter},Sf:function(){return h.Uri},ZL:function(){return h.MarkerSeverity},e6:function(){return h.Range},j6:function(){return h.editor}});var h=t(50048)},40605:function(Ct,we,t){"use strict";t.r(we),t.d(we,{cssDefaults:function(){return G},lessDefaults:function(){return N},scssDefaults:function(){return x}});var h=t(50048),W=t(61460),k=function(){function C(l,m,y){this._onDidChange=new W.Q5,this._languageId=l,this.setOptions(m),this.setModeConfiguration(y)}return Object.defineProperty(C.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),C.prototype.setOptions=function(l){this._options=l||Object.create(null),this._onDidChange.fire(this)},C.prototype.setDiagnosticsOptions=function(l){this.setOptions(l)},C.prototype.setModeConfiguration=function(l){this._modeConfiguration=l||Object.create(null),this._onDidChange.fire(this)},C}(),O={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},w={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},G=new k("css",O,w),x=new k("scss",O,w),N=new k("less",O,w);W.Mj.css={cssDefaults:G,lessDefaults:N,scssDefaults:x};function s(){return t.e(4990).then(t.bind(t,44990))}W.Mj.onLanguage("less",function(){s().then(function(C){return C.setupMode(N)})}),W.Mj.onLanguage("scss",function(){s().then(function(C){return C.setupMode(x)})}),W.Mj.onLanguage("css",function(){s().then(function(C){return C.setupMode(G)})})},47650:function(Ct,we,t){"use strict";t.d(we,{Mj:function(){return h.languages},Q5:function(){return h.Emitter},Sf:function(){return h.Uri},e6:function(){return h.Range},j6:function(){return h.editor}});var h=t(50048)},68423:function(Ct,we,t){"use strict";t.r(we),t.d(we,{handlebarDefaults:function(){return p},handlebarLanguageService:function(){return n},htmlDefaults:function(){return y},htmlLanguageService:function(){return m},razorDefaults:function(){return v},razorLanguageService:function(){return f},registerHTMLLanguageService:function(){return a}});var h=t(50048),W=t(47650),k=function(u,c,b,L){function R(T){return T instanceof b?T:new b(function(j){j(T)})}return new(b||(b=Promise))(function(T,j){function q(he){try{ne(L.next(he))}catch($){j($)}}function ie(he){try{ne(L.throw(he))}catch($){j($)}}function ne(he){he.done?T(he.value):R(he.value).then(q,ie)}ne((L=L.apply(u,c||[])).next())})},O=function(u,c){var b={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},L,R,T,j;return j={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function q(ne){return function(he){return ie([ne,he])}}function ie(ne){if(L)throw new TypeError("Generator is already executing.");for(;b;)try{if(L=1,R&&(T=ne[0]&2?R.return:ne[0]?R.throw||((T=R.return)&&T.call(R),0):R.next)&&!(T=T.call(R,ne[1])).done)return T;switch(R=0,T&&(ne=[ne[0]&2,T.value]),ne[0]){case 0:case 1:T=ne;break;case 4:return b.label++,{value:ne[1],done:!1};case 5:b.label++,R=ne[1],ne=[0];continue;case 7:ne=b.ops.pop(),b.trys.pop();continue;default:if(T=b.trys,!(T=T.length>0&&T[T.length-1])&&(ne[0]===6||ne[0]===2)){b=0;continue}if(ne[0]===3&&(!T||ne[1]>T[0]&&ne[1]<T[3])){b.label=ne[1];break}if(ne[0]===6&&b.label<T[1]){b.label=T[1],T=ne;break}if(T&&b.label<T[2]){b.label=T[2],b.ops.push(ne);break}T[2]&&b.ops.pop(),b.trys.pop();continue}ne=c.call(u,b)}catch(he){ne=[6,he],R=0}finally{L=T=0}if(ne[0]&5)throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}},w=function(){function u(c,b,L){this._onDidChange=new W.Q5,this._languageId=c,this.setOptions(b),this.setModeConfiguration(L)}return Object.defineProperty(u.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),u.prototype.setOptions=function(c){this._options=c||Object.create(null),this._onDidChange.fire(this)},u.prototype.setModeConfiguration=function(c){this._modeConfiguration=c||Object.create(null),this._onDidChange.fire(this)},u}(),G={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},x={format:G,suggest:{},data:{useDefaultDataProvider:!0}};function N(u){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:u===s,documentFormattingEdits:u===s,documentRangeFormattingEdits:u===s}}var s="html",C="handlebars",l="razor",m=a(s,x,N(s)),y=m.defaults,n=a(C,x,N(C)),p=n.defaults,f=a(l,x,N(l)),v=f.defaults;W.Mj.html={htmlDefaults:y,razorDefaults:v,handlebarDefaults:p,htmlLanguageService:m,handlebarLanguageService:n,razorLanguageService:f,registerHTMLLanguageService:a};function d(){return t.e(7570).then(t.bind(t,47570))}function a(u,c,b){var L=this;c===void 0&&(c=x),b===void 0&&(b=N(u));var R=new w(u,c,b),T,j=W.Mj.onLanguage(u,function(){return k(L,void 0,void 0,function(){return O(this,function(q){switch(q.label){case 0:return[4,d()];case 1:return T=q.sent().setupMode(R),[2]}})})});return{defaults:R,dispose:function(){j.dispose(),T==null||T.dispose(),T=void 0}}}},61174:function(Ct,we,t){"use strict";t.d(we,{Mj:function(){return h.languages},Q5:function(){return h.Emitter},ZL:function(){return h.MarkerSeverity},e6:function(){return h.Range},j6:function(){return h.editor}});var h=t(50048)},72323:function(Ct,we,t){"use strict";t.r(we),t.d(we,{jsonDefaults:function(){return G}});var h=t(50048),W=t(61174),k=function(){function N(s,C,l){this._onDidChange=new W.Q5,this._languageId=s,this.setDiagnosticsOptions(C),this.setModeConfiguration(l)}return Object.defineProperty(N.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),N.prototype.setDiagnosticsOptions=function(s){this._diagnosticsOptions=s||Object.create(null),this._onDidChange.fire(this)},N.prototype.setModeConfiguration=function(s){this._modeConfiguration=s||Object.create(null),this._onDidChange.fire(this)},N}(),O={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},w={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},G=new k("json",O,w);W.Mj.json={jsonDefaults:G};function x(){return t.e(6603).then(t.bind(t,36603))}W.Mj.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),W.Mj.onLanguage("json",function(){x().then(function(N){return N.setupMode(G)})})},91429:function(Ct,we,t){"use strict";t.d(we,{Mj:function(){return h.languages},Q5:function(){return h.Emitter},Sf:function(){return h.Uri},ZL:function(){return h.MarkerSeverity},e6:function(){return h.Range},eB:function(){return h.MarkerTag},j6:function(){return h.editor}});var h=t(50048)},15422:function(Ct,we,t){"use strict";t.r(we),t.d(we,{JsxEmit:function(){return w},ModuleKind:function(){return O},ModuleResolutionKind:function(){return N},NewLineKind:function(){return G},ScriptTarget:function(){return x},getJavaScriptWorker:function(){return n},getTypeScriptWorker:function(){return y},javascriptDefaults:function(){return m},typescriptDefaults:function(){return l},typescriptVersion:function(){return C}});var h=t(50048),W="4.4.4",k=t(91429),O;(function(f){f[f.None=0]="None",f[f.CommonJS=1]="CommonJS",f[f.AMD=2]="AMD",f[f.UMD=3]="UMD",f[f.System=4]="System",f[f.ES2015=5]="ES2015",f[f.ESNext=99]="ESNext"})(O||(O={}));var w;(function(f){f[f.None=0]="None",f[f.Preserve=1]="Preserve",f[f.React=2]="React",f[f.ReactNative=3]="ReactNative",f[f.ReactJSX=4]="ReactJSX",f[f.ReactJSXDev=5]="ReactJSXDev"})(w||(w={}));var G;(function(f){f[f.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",f[f.LineFeed=1]="LineFeed"})(G||(G={}));var x;(function(f){f[f.ES3=0]="ES3",f[f.ES5=1]="ES5",f[f.ES2015=2]="ES2015",f[f.ES2016=3]="ES2016",f[f.ES2017=4]="ES2017",f[f.ES2018=5]="ES2018",f[f.ES2019=6]="ES2019",f[f.ES2020=7]="ES2020",f[f.ESNext=99]="ESNext",f[f.JSON=100]="JSON",f[f.Latest=99]="Latest"})(x||(x={}));var N;(function(f){f[f.Classic=1]="Classic",f[f.NodeJs=2]="NodeJs"})(N||(N={}));var s=function(){function f(v,d,a,u){this._onDidChange=new k.Q5,this._onDidExtraLibsChange=new k.Q5,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(v),this.setDiagnosticsOptions(d),this.setWorkerOptions(a),this.setInlayHintsOptions(u),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(f.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"inlayHintsOptions",{get:function(){return this._inlayHintsOptions},enumerable:!1,configurable:!0}),f.prototype.getExtraLibs=function(){return this._extraLibs},f.prototype.addExtraLib=function(v,d){var a=this,u;if(typeof d=="undefined"?u="ts:extralib-"+Math.random().toString(36).substring(2,15):u=d,this._extraLibs[u]&&this._extraLibs[u].content===v)return{dispose:function(){}};var c=1;return this._removedExtraLibs[u]&&(c=this._removedExtraLibs[u]+1),this._extraLibs[u]&&(c=this._extraLibs[u].version+1),this._extraLibs[u]={content:v,version:c},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var b=a._extraLibs[u];b&&b.version===c&&(delete a._extraLibs[u],a._removedExtraLibs[u]=c,a._fireOnDidExtraLibsChangeSoon())}}},f.prototype.setExtraLibs=function(v){for(var d in this._extraLibs)this._removedExtraLibs[d]=this._extraLibs[d].version;if(this._extraLibs=Object.create(null),v&&v.length>0)for(var a=0,u=v;a<u.length;a++){var c=u[a],d=c.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),b=c.content,L=1;this._removedExtraLibs[d]&&(L=this._removedExtraLibs[d]+1),this._extraLibs[d]={content:b,version:L}}this._fireOnDidExtraLibsChangeSoon()},f.prototype._fireOnDidExtraLibsChangeSoon=function(){var v=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(function(){v._onDidExtraLibsChangeTimeout=-1,v._onDidExtraLibsChange.fire(void 0)},0))},f.prototype.getCompilerOptions=function(){return this._compilerOptions},f.prototype.setCompilerOptions=function(v){this._compilerOptions=v||Object.create(null),this._onDidChange.fire(void 0)},f.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},f.prototype.setDiagnosticsOptions=function(v){this._diagnosticsOptions=v||Object.create(null),this._onDidChange.fire(void 0)},f.prototype.setWorkerOptions=function(v){this._workerOptions=v||Object.create(null),this._onDidChange.fire(void 0)},f.prototype.setInlayHintsOptions=function(v){this._inlayHintsOptions=v||Object.create(null),this._onDidChange.fire(void 0)},f.prototype.setMaximumWorkerIdleTime=function(v){},f.prototype.setEagerModelSync=function(v){this._eagerModelSync=v},f.prototype.getEagerModelSync=function(){return this._eagerModelSync},f}(),C=W,l=new s({allowNonTsExtensions:!0,target:x.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),m=new s({allowNonTsExtensions:!0,allowJs:!0,target:x.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),y=function(){return p().then(function(f){return f.getTypeScriptWorker()})},n=function(){return p().then(function(f){return f.getJavaScriptWorker()})};k.Mj.typescript={ModuleKind:O,JsxEmit:w,NewLineKind:G,ScriptTarget:x,ModuleResolutionKind:N,typescriptVersion:C,typescriptDefaults:l,javascriptDefaults:m,getTypeScriptWorker:y,getJavaScriptWorker:n};function p(){return t.e(1597).then(t.bind(t,81597))}k.Mj.onLanguage("typescript",function(){return p().then(function(f){return f.setupTypeScript(l)})}),k.Mj.onLanguage("javascript",function(){return p().then(function(f){return f.setupJavaScript(m)})})},63580:function(Ct,we,t){"use strict";t.d(we,{N:function(){return W}});function h(k,O){let w;return O.length===0?w=k:w=k.replace(/\{(\d+)\}/g,function(G,x){const N=x[0];return typeof O[N]!="undefined"?O[N]:G}),w}function W(k,O,...w){return h(O,w)}},31106:function(Ct,we,t){"use strict";t.d(we,{F:function(){return k},U:function(){return O}});var h=t(38819),W=t(72065);const k=(0,W.yh)("accessibilityService"),O=new h.uy("accessibilityModeEnabled",!1)},42499:function(Ct,we,t){"use strict";t.d(we,{Mm:function(){return ie},Id:function(){return $},vr:function(){return T}});var h=t(65321),W=t(59069),k=t(76033),O=t(10553),w=t(74741),G=t(4669);class x extends w.Wi{constructor(z,Q){super(),this._onDidChangeVisibility=this._register(new G.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,h.R3)(z,(0,h.$)(".monaco-dropdown")),this._label=(0,h.R3)(this._element,(0,h.$)(".dropdown-label"));let le=Q.labelRenderer;le||(le=I=>(I.textContent=Q.label||"",null));for(const I of[h.tw.CLICK,h.tw.MOUSE_DOWN,O.t.Tap])this._register((0,h.nm)(this.element,I,A=>h.zB.stop(A,!0)));for(const I of[h.tw.MOUSE_DOWN,O.t.Tap])this._register((0,h.nm)(this._label,I,A=>{A instanceof MouseEvent&&A.detail>1||(this.visible?this.hide():this.show())}));this._register((0,h.nm)(this._label,h.tw.KEY_UP,I=>{const A=new W.y(I);(A.equals(3)||A.equals(10))&&(h.zB.stop(I,!0),this.visible?this.hide():this.show())}));const E=le(this._label);E&&this._register(E),this._register(O.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class N extends x{constructor(z,Q){super(z,Q),this._actions=[],this._contextMenuProvider=Q.contextMenuProvider,this.actions=Q.actions||[],this.actionProvider=Q.actionProvider,this.menuClassName=Q.menuClassName||"",this.menuAsChild=!!Q.menuAsChild}set menuOptions(z){this._menuOptions=z}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(z){this._actions=z}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:z=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(z):void 0,getKeyBinding:z=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(z):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class s extends k.Y{constructor(z,Q,le,E=Object.create(null)){super(null,z,E),this.actionItem=null,this._onDidChangeVisibility=this._register(new G.Q5),this.menuActionsOrProvider=Q,this.contextMenuProvider=le,this.options=E,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(z){this.actionItem=z;const Q=I=>{this.element=(0,h.R3)(I,(0,h.$)("a.action-label"));let A=[];return typeof this.options.classNames=="string"?A=this.options.classNames.split(/\s+/g).filter(H=>!!H):this.options.classNames&&(A=this.options.classNames),A.find(H=>H==="icon")||A.push("codicon"),this.element.classList.add(...A),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},le=Array.isArray(this.menuActionsOrProvider),E={contextMenuProvider:this.contextMenuProvider,labelRenderer:Q,menuAsChild:this.options.menuAsChild,actions:le?this.menuActionsOrProvider:void 0,actionProvider:le?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new N(z,E)),this._register(this.dropdownMenu.onDidChangeVisibility(I=>{var A;(A=this.element)===null||A===void 0||A.setAttribute("aria-expanded",`${I}`),this._onDidChangeVisibility.fire(I)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const I=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return I.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(z){super.setActionContext(z),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=z:this.dropdownMenu.menuOptions={context:z})}updateEnabled(){var z,Q;const le=!this.getAction().enabled;(z=this.actionItem)===null||z===void 0||z.classList.toggle("disabled",le),(Q=this.element)===null||Q===void 0||Q.classList.toggle("disabled",le)}}var C=t(8030),l=t(9917),m=t(1432),y=t(63580),n=t(84144),p=t(38819),f=t(5606),v=t(72065),d=t(91847),a=t(59422),u=t(87060),c=t(97781),b=function(V,z,Q,le){var E=arguments.length,I=E<3?z:le===null?le=Object.getOwnPropertyDescriptor(z,Q):le,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(V,z,Q,le);else for(var H=V.length-1;H>=0;H--)(A=V[H])&&(I=(E<3?A(I):E>3?A(z,Q,I):A(z,Q))||I);return E>3&&I&&Object.defineProperty(z,Q,I),I},L=function(V,z){return function(Q,le){z(Q,le,V)}},R=function(V,z,Q,le){function E(I){return I instanceof Q?I:new Q(function(A){A(I)})}return new(Q||(Q=Promise))(function(I,A){function H(re){try{X(le.next(re))}catch(fe){A(fe)}}function Y(re){try{X(le.throw(re))}catch(fe){A(fe)}}function X(re){re.done?I(re.value):E(re.value).then(H,Y)}X((le=le.apply(V,z||[])).next())})};function T(V,z,Q,le,E,I,A){const H=V.getActions(z);return q(H,Q,!1,typeof le=="string"?X=>X===le:le,E,I,A),j(H)}function j(V){const z=new l.SL;for(const[,Q]of V)for(const le of Q)z.add(le);return z}function q(V,z,Q,le=H=>H==="navigation",E=Number.MAX_SAFE_INTEGER,I=()=>!1,A=!1){let H,Y;Array.isArray(z)?(H=z,Y=z):(H=z.primary,Y=z.secondary);const X=new Set;for(const[re,fe]of V){let ue;le(re)?(ue=H,ue.length>0&&A&&ue.push(new w.Z0)):(ue=Y,ue.length>0&&ue.push(new w.Z0));for(let Oe of fe){Q&&(Oe=Oe instanceof n.U8&&Oe.alt?Oe.alt:Oe);const Ce=ue.push(Oe);Oe instanceof w.wY&&X.add({group:re,action:Oe,index:Ce-1})}}for(const{group:re,action:fe,index:ue}of X){const Oe=le(re)?H:Y,Ce=fe.actions;(Ce.length<=1||Oe.length+Ce.length-2<=E)&&I(fe,re,Oe.length)&&Oe.splice(ue,1,...Ce)}if(H!==Y&&H.length>E){const re=H.splice(E,H.length-E);Y.unshift(...re,new w.Z0)}}let ie=class extends k.g{constructor(z,Q,le,E,I){super(void 0,z,{icon:!!(z.class||z.item.icon),label:!z.class&&!z.item.icon,draggable:Q==null?void 0:Q.draggable}),this._keybindingService=le,this._notificationService=E,this._contextKeyService=I,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new l.XK),this._altKey=h._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(z){return R(this,void 0,void 0,function*(){z.preventDefault(),z.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Q){this._notificationService.error(Q)}})}render(z){super.render(z),z.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let Q=!1,le=this._altKey.keyStatus.altKey||(m.ED||m.IJ)&&this._altKey.keyStatus.shiftKey;const E=()=>{const I=Q&&le;I!==this._wantsAltCommand&&(this._wantsAltCommand=I,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(I=>{le=I.altKey||(m.ED||m.IJ)&&I.shiftKey,E()})),this._register((0,h.nm)(z,"mouseleave",I=>{Q=!1,E()})),this._register((0,h.nm)(z,"mouseenter",I=>{Q=!0,E()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const z=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Q=z&&z.getLabel(),le=this._commandAction.tooltip||this._commandAction.label;let E=Q?(0,y.N)("titleAndKb","{0} ({1})",le,Q):le;if(!this._wantsAltCommand&&this._menuItemAction.alt){const I=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,A=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),H=A&&A.getLabel(),Y=H?(0,y.N)("titleAndKb","{0} ({1})",I,H):I;E+=`
[${C.xo.modifierLabels[m.OS].altKey}] ${Y}`}this.label.title=E}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(z){var Q;this._itemClassDispose.value=void 0;const{element:le,label:E}=this;if(!le||!E)return;const I=this._commandAction.checked&&(!((Q=z.toggled)===null||Q===void 0)&&Q.icon)?z.toggled.icon:z.icon;if(I)if(c.kS.isThemeIcon(I)){const A=c.kS.asClassNameArray(I);E.classList.add(...A),this._itemClassDispose.value=(0,l.OF)(()=>{E.classList.remove(...A)})}else I.light&&E.style.setProperty("--menu-entry-icon-light",(0,h.wY)(I.light)),I.dark&&E.style.setProperty("--menu-entry-icon-dark",(0,h.wY)(I.dark)),E.classList.add("icon"),this._itemClassDispose.value=(0,l.OF)(()=>{E.classList.remove("icon"),E.style.removeProperty("--menu-entry-icon-light"),E.style.removeProperty("--menu-entry-icon-dark")})}};ie=b([L(2,d.d),L(3,a.lT),L(4,p.i6)],ie);let ne=class extends s{constructor(z,Q,le){var E,I;const A=Object.assign({},Q!=null?Q:Object.create(null),{menuAsChild:(E=Q==null?void 0:Q.menuAsChild)!==null&&E!==void 0?E:!1,classNames:(I=Q==null?void 0:Q.classNames)!==null&&I!==void 0?I:c.kS.isThemeIcon(z.item.icon)?c.kS.asClassName(z.item.icon):void 0});super(z,{getActions:()=>z.actions},le,A)}render(z){if(super.render(z),this.element){z.classList.add("menu-entry");const{icon:Q}=this._action.item;Q&&!c.kS.isThemeIcon(Q)&&(this.element.classList.add("icon"),Q.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,h.wY)(Q.light)),Q.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,h.wY)(Q.dark)))}}};ne=b([L(2,f.i)],ne);let he=class extends k.Y{constructor(z,Q,le,E,I,A,H,Y){var X,re,fe;super(null,z),this._keybindingService=le,this._notificationService=E,this._contextMenuService=I,this._menuService=A,this._instaService=H,this._storageService=Y,this._container=null,this._storageKey=`${z.item.submenu._debugName}_lastActionId`;let ue,Oe=Y.get(this._storageKey,1);Oe&&(ue=z.actions.find(oe=>Oe===oe.id)),ue||(ue=z.actions[0]),this._defaultAction=this._instaService.createInstance(ie,ue,void 0);const Ce=Object.assign({},Q!=null?Q:Object.create(null),{menuAsChild:(X=Q==null?void 0:Q.menuAsChild)!==null&&X!==void 0?X:!0,classNames:(re=Q==null?void 0:Q.classNames)!==null&&re!==void 0?re:["codicon","codicon-chevron-down"],actionRunner:(fe=Q==null?void 0:Q.actionRunner)!==null&&fe!==void 0?fe:new w.Wi});this._dropdown=new s(z,z.actions,this._contextMenuService,Ce),this._dropdown.actionRunner.onDidRun(oe=>{oe.action instanceof n.U8&&this.update(oe.action)})}update(z){this._storageService.store(this._storageKey,z.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(ie,z,void 0),this._defaultAction.actionRunner=new class extends w.Wi{runAction(Q,le){return R(this,void 0,void 0,function*(){yield Q.run(void 0)})}},this._container&&this._defaultAction.render((0,h.Ce)(this._container,(0,h.$)(".action-container")))}setActionContext(z){super.setActionContext(z),this._defaultAction.setActionContext(z),this._dropdown.setActionContext(z)}render(z){this._container=z,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Q=(0,h.$)(".action-container");this._defaultAction.render((0,h.R3)(this._container,Q)),this._register((0,h.nm)(Q,h.tw.KEY_DOWN,E=>{const I=new W.y(E);I.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),I.stopPropagation())}));const le=(0,h.$)(".dropdown-action-container");this._dropdown.render((0,h.R3)(this._container,le)),this._register((0,h.nm)(le,h.tw.KEY_DOWN,E=>{var I;const A=new W.y(E);A.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(I=this._defaultAction.element)===null||I===void 0||I.focus(),A.stopPropagation())}))}focus(z){z?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(z){z?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};he=b([L(2,d.d),L(3,a.lT),L(4,f.i),L(5,n.co),L(6,v.TG),L(7,u.Uy)],he);function $(V,z,Q){return z instanceof n.U8?V.createInstance(ie,z,void 0):z instanceof n.NZ?z.item.rememberDefaultAction?V.createInstance(he,z,Q):V.createInstance(ne,z,Q):void 0}},84144:function(Ct,we,t){"use strict";t.d(we,{BH:function(){return f},NZ:function(){return v},U8:function(){return d},co:function(){return p},eH:function(){return n},vr:function(){return y}});var h=t(74741),W=t(73046),k=t(4669),O=t(56899),w=t(9917),G=t(91741),x=t(94565),N=t(38819),s=t(72065),C=t(97781),l=function(a,u,c,b){var L=arguments.length,R=L<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,c):b,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,u,c,b);else for(var j=a.length-1;j>=0;j--)(T=a[j])&&(R=(L<3?T(R):L>3?T(u,c,R):T(u,c))||R);return L>3&&R&&Object.defineProperty(u,c,R),R},m=function(a,u){return function(c,b){u(c,b,a)}};function y(a){return a.command!==void 0}class n{constructor(u){this.id=n._idPool++,this._debugName=u}}n._idPool=0,n.CommandPalette=new n("CommandPalette"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.InlineCompletionsActions=new n("InlineCompletionsActions");const p=(0,s.yh)("menuService"),f=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new k.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:a=>a===n.CommandPalette}}addCommand(a){return this.addCommands(O.$.single(a))}addCommands(a){for(const u of a)this._commands.set(u.id,u);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,w.OF)(()=>{let u=!1;for(const c of a)u=this._commands.delete(c.id)||u;u&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(a){return this._commands.get(a)}getCommands(){const a=new Map;return this._commands.forEach((u,c)=>a.set(c,u)),a}appendMenuItem(a,u){return this.appendMenuItems(O.$.single({id:a,item:u}))}appendMenuItems(a){const u=new Set,c=new G.S;for(const{id:b,item:L}of a){let R=this._menuItems.get(b);R||(R=new G.S,this._menuItems.set(b,R)),c.push(R.push(L)),u.add(b)}return this._onDidChangeMenu.fire(u),(0,w.OF)(()=>{if(c.size>0){for(let b of c)b();this._onDidChangeMenu.fire(u),c.clear()}})}getMenuItems(a){let u;return this._menuItems.has(a)?u=[...this._menuItems.get(a)]:u=[],a===n.CommandPalette&&this._appendImplicitItems(u),u}_appendImplicitItems(a){const u=new Set;for(const c of a)y(c)&&(u.add(c.command.id),c.alt&&u.add(c.alt.id));this._commands.forEach((c,b)=>{u.has(b)||a.push({command:c})})}};class v extends h.wY{constructor(u,c,b,L){super(`submenuitem.${u.submenu.id}`,typeof u.title=="string"?u.title:u.title.value,[],"submenu"),this.item=u,this._menuService=c,this._contextKeyService=b,this._options=L}get actions(){const u=[],c=this._menuService.createMenu(this.item.submenu,this._contextKeyService),b=c.getActions(this._options);c.dispose();for(const[,L]of b)L.length>0&&(u.push(...L),u.push(new h.Z0));return u.length&&u.pop(),u}}let d=class Hl{constructor(u,c,b,L,R){var T,j;if(this._commandService=R,this.id=u.id,this.label=b!=null&&b.renderShortTitle&&u.shortTitle?typeof u.shortTitle=="string"?u.shortTitle:u.shortTitle.value:typeof u.title=="string"?u.title:u.title.value,this.tooltip=(j=typeof u.tooltip=="string"?u.tooltip:(T=u.tooltip)===null||T===void 0?void 0:T.value)!==null&&j!==void 0?j:"",this.enabled=!u.precondition||L.contextMatchesRules(u.precondition),this.checked=void 0,u.toggled){const q=u.toggled.condition?u.toggled:{condition:u.toggled};this.checked=L.contextMatchesRules(q.condition),this.checked&&q.tooltip&&(this.tooltip=typeof q.tooltip=="string"?q.tooltip:q.tooltip.value),q.title&&(this.label=typeof q.title=="string"?q.title:q.title.value)}this.item=u,this.alt=c?new Hl(c,void 0,b,L,R):void 0,this._options=b,C.kS.isThemeIcon(u.icon)&&(this.class=W.dT.asClassName(u.icon))}dispose(){}run(...u){var c,b;let L=[];return!((c=this._options)===null||c===void 0)&&c.arg&&(L=[...L,this._options.arg]),!((b=this._options)===null||b===void 0)&&b.shouldForwardArgs&&(L=[...L,...u]),this._commandService.executeCommand(this.id,...L)}};d=l([m(3,N.i6),m(4,x.H)],d)},84972:function(Ct,we,t){"use strict";t.d(we,{p:function(){return W}});var h=t(72065);const W=(0,h.yh)("clipboardService")},94565:function(Ct,we,t){"use strict";t.d(we,{H:function(){return x},P:function(){return N}});var h=t(4669),W=t(56899),k=t(9917),O=t(91741),w=t(98401),G=t(72065);const x=(0,G.yh)("commandService"),N=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new h.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(s,C){if(!s)throw new Error("invalid command");if(typeof s=="string"){if(!C)throw new Error("invalid command");return this.registerCommand({id:s,handler:C})}if(s.description){const p=[];for(let v of s.description.args)p.push(v.constraint);const f=s.handler;s.handler=function(v,...d){return(0,w.D8)(d,p),f(v,...d)}}const{id:l}=s;let m=this._commands.get(l);m||(m=new O.S,this._commands.set(l,m));let y=m.unshift(s),n=(0,k.OF)(()=>{y();const p=this._commands.get(l);p!=null&&p.isEmpty()&&this._commands.delete(l)});return this._onDidRegisterCommand.fire(l),n}registerCommandAlias(s,C){return N.registerCommand(s,(l,...m)=>l.get(x).executeCommand(C,...m))}getCommand(s){const C=this._commands.get(s);if(!(!C||C.isEmpty()))return W.$.first(C)}getCommands(){const s=new Map;for(const C of this._commands.keys()){const l=this.getCommand(C);l&&s.set(C,l)}return s}};N.registerCommand("noop",()=>{})},33108:function(Ct,we,t){"use strict";t.d(we,{KV:function(){return G},MR:function(){return C},Mt:function(){return s},O4:function(){return l},Od:function(){return w},Ui:function(){return O},xL:function(){return x}});var h=t(23193),W=t(72065),k=t(89872);const O=(0,W.yh)("configurationService");function w(m,y){const n=Object.create(null);for(let p in m)G(n,p,m[p],y);return n}function G(m,y,n,p){const f=y.split("."),v=f.pop();let d=m;for(let a=0;a<f.length;a++){let u=f[a],c=d[u];switch(typeof c){case"undefined":c=d[u]=Object.create(null);break;case"object":break;default:p(`Ignoring ${y} as ${f.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}d=c}if(typeof d=="object"&&d!==null)try{d[v]=n}catch(a){p(`Ignoring ${y} as ${f.join(".")} is ${JSON.stringify(d)}`)}else p(`Ignoring ${y} as ${f.join(".")} is ${JSON.stringify(d)}`)}function x(m,y){const n=y.split(".");N(m,n)}function N(m,y){const n=y.shift();if(y.length===0){delete m[n];return}if(Object.keys(m).indexOf(n)!==-1){const p=m[n];typeof p=="object"&&!Array.isArray(p)&&(N(p,y),Object.keys(p).length===0&&delete m[n])}}function s(m,y,n){function p(d,a){let u=d;for(const c of a){if(typeof u!="object"||u===null)return;u=u[c]}return u}const f=y.split("."),v=p(m,f);return typeof v=="undefined"?n:v}function C(){const m=k.B.as(h.IP.Configuration).getConfigurationProperties();return Object.keys(m)}function l(){const m=Object.create(null),y=k.B.as(h.IP.Configuration).getConfigurationProperties();for(let n in y){let p=y[n].default;G(m,n,p,f=>console.error(`Conflict in default settings: ${f}`))}return m}},23193:function(Ct,we,t){"use strict";t.d(we,{G1:function(){return v},IP:function(){return G},Uh:function(){return d}});var h=t(4669),W=t(98401),k=t(63580),O=t(81294),w=t(89872);const G={Configuration:"base.contributions.configuration"},x={properties:{},patternProperties:{}},N={properties:{},patternProperties:{}},s={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},l={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},y="vscode://schemas/settings/resourceLanguage",n=w.B.as(O.I.JSONContribution);class p{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new h.Q5,this._onDidUpdateConfiguration=new h.Q5,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:k.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},n.registerSchema(y,this.resourceLanguageSettingsSchema)}registerConfiguration(L,R=!0){this.registerConfigurations([L],R)}registerConfigurations(L,R=!0){const T=this.doRegisterConfigurations(L,R);n.registerSchema(y,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(T)}registerOverrideIdentifiers(L){for(const R of L)this.overrideIdentifiers.add(R);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(L,R){const T=[];return L.forEach(j=>{T.push(...this.validateAndRegisterProperties(j,R,j.extensionInfo)),this.configurationContributors.push(j),this.registerJSONConfiguration(j)}),T}validateAndRegisterProperties(L,R=!0,T,j=3){var q;j=W.Jp(L.scope)?j:L.scope;let ie=[],ne=L.properties;if(ne)for(let $ in ne){if(R&&c($)){delete ne[$];continue}const V=ne[$];if(this.updatePropertyDefaultValue($,V),v.test($)?V.scope=void 0:(V.scope=W.Jp(V.scope)?j:V.scope,V.restricted=W.Jp(V.restricted)?!!(!((q=T==null?void 0:T.restrictedConfigurations)===null||q===void 0)&&q.includes($)):V.restricted),ne[$].hasOwnProperty("included")&&!ne[$].included){this.excludedConfigurationProperties[$]=ne[$],delete ne[$];continue}else this.configurationProperties[$]=ne[$];!ne[$].deprecationMessage&&ne[$].markdownDeprecationMessage&&(ne[$].deprecationMessage=ne[$].markdownDeprecationMessage),ie.push($)}let he=L.allOf;if(he)for(let $ of he)ie.push(...this.validateAndRegisterProperties($,R,T,j));return ie}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(L){const R=T=>{let j=T.properties;if(j)for(const ie in j)this.updateSchema(ie,j[ie]);let q=T.allOf;q&&q.forEach(R)};R(L)}updateSchema(L,R){switch(x.properties[L]=R,R.scope){case 1:N.properties[L]=R;break;case 2:s.properties[L]=R;break;case 6:C.properties[L]=R;break;case 3:l.properties[L]=R;break;case 4:m.properties[L]=R;break;case 5:m.properties[L]=R,this.resourceLanguageSettingsSchema.properties[L]=R;break}}updateOverridePropertyPatternKey(){for(const L of this.overrideIdentifiers.values()){const R=`[${L}]`,T={type:"object",description:k.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:k.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:y};this.updatePropertyDefaultValue(R,T),x.properties[R]=T,N.properties[R]=T,s.properties[R]=T,C.properties[R]=T,l.properties[R]=T,m.properties[R]=T}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(L,R){let T=this.defaultValues[L];W.o8(T)&&(T=R.default),W.o8(T)&&(T=a(R.type)),R.default=T}}const f="\\[.*\\]$",v=new RegExp(f);function d(b){return b.substring(1,b.length-1)}function a(b){switch(Array.isArray(b)?b[0]:b){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const u=new p;w.B.add(G.Configuration,u);function c(b){return b.trim()?v.test(b)?k.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",b):u.getConfigurationProperties()[b]!==void 0?k.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",b):null:k.N("config.property.empty","Cannot register an empty property")}},38819:function(Ct,we,t){"use strict";t.d(we,{Ao:function(){return x},Eq:function(){return he},Fb:function(){return N},K8:function(){return z},i6:function(){return ne},uy:function(){return ie}});var h=t(1432),W=t(97295),k=t(72065);let O=h.WE||"";const w=new Map;w.set("false",!1),w.set("true",!0),w.set("isMac",h.dz),w.set("isLinux",h.IJ),w.set("isWindows",h.ED),w.set("isWeb",h.$L),w.set("isMacNative",h.dz&&!h.$L),w.set("isEdge",O.indexOf("Edg/")>=0),w.set("isFirefox",O.indexOf("Firefox")>=0),w.set("isChrome",O.indexOf("Chrome")>=0),w.set("isSafari",O.indexOf("Safari")>=0);const G=Object.prototype.hasOwnProperty;class x{static has(E){return m.create(E)}static equals(E,I){return y.create(E,I)}static regex(E,I){return L.create(E,I)}static not(E){return v.create(E)}static and(...E){return j.create(E,null)}static or(...E){return q.create(E,null,!0)}static deserialize(E,I=!1){if(E)return this._deserializeOrExpression(E,I)}static _deserializeOrExpression(E,I){let A=E.split("||");return q.create(A.map(H=>this._deserializeAndExpression(H,I)),null,!0)}static _deserializeAndExpression(E,I){let A=E.split("&&");return j.create(A.map(H=>this._deserializeOne(H,I)),null)}static _deserializeOne(E,I){if(E=E.trim(),E.indexOf("!=")>=0){let A=E.split("!=");return f.create(A[0].trim(),this._deserializeValue(A[1],I))}if(E.indexOf("==")>=0){let A=E.split("==");return y.create(A[0].trim(),this._deserializeValue(A[1],I))}if(E.indexOf("=~")>=0){let A=E.split("=~");return L.create(A[0].trim(),this._deserializeRegexValue(A[1],I))}if(E.indexOf(" in ")>=0){let A=E.split(" in ");return n.create(A[0].trim(),A[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(E)){const A=E.split(">=");return u.create(A[0].trim(),A[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(E)){const A=E.split(">");return a.create(A[0].trim(),A[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(E)){const A=E.split("<=");return b.create(A[0].trim(),A[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(E)){const A=E.split("<");return c.create(A[0].trim(),A[1].trim())}return/^\!\s*/.test(E)?v.create(E.substr(1).trim()):m.create(E)}static _deserializeValue(E,I){if(E=E.trim(),E==="true")return!0;if(E==="false")return!1;let A=/^'([^']*)'$/.exec(E);return A?A[1].trim():E}static _deserializeRegexValue(E,I){if((0,W.m5)(E)){if(I)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let A=E.indexOf("/"),H=E.lastIndexOf("/");if(A===H||A<0){if(I)throw new Error(`bad regexp-value '${E}', missing /-enclosure`);return console.warn(`bad regexp-value '${E}', missing /-enclosure`),null}let Y=E.slice(A+1,H),X=E[H+1]==="i"?"i":"";try{return new RegExp(Y,X)}catch(re){if(I)throw new Error(`bad regexp-value '${E}', parse error: ${re}`);return console.warn(`bad regexp-value '${E}', parse error: ${re}`),null}}}function N(le,E){const I=le?le.substituteConstants():void 0,A=E?E.substituteConstants():void 0;return!I&&!A?!0:!I||!A?!1:I.equals(A)}function s(le,E){return le.cmp(E)}class C{constructor(){this.type=0}cmp(E){return this.type-E.type}equals(E){return E.type===this.type}substituteConstants(){return this}evaluate(E){return!1}serialize(){return"false"}keys(){return[]}negate(){return l.INSTANCE}}C.INSTANCE=new C;class l{constructor(){this.type=1}cmp(E){return this.type-E.type}equals(E){return E.type===this.type}substituteConstants(){return this}evaluate(E){return!0}serialize(){return"true"}keys(){return[]}negate(){return C.INSTANCE}}l.INSTANCE=new l;class m{constructor(E,I){this.key=E,this.negated=I,this.type=2}static create(E,I=null){const A=w.get(E);return typeof A=="boolean"?A?l.INSTANCE:C.INSTANCE:new m(E,I)}cmp(E){return E.type!==this.type?this.type-E.type:$(this.key,E.key)}equals(E){return E.type===this.type?this.key===E.key:!1}substituteConstants(){const E=w.get(this.key);return typeof E=="boolean"?E?l.INSTANCE:C.INSTANCE:this}evaluate(E){return!!E.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this)),this.negated}}class y{constructor(E,I,A){this.key=E,this.value=I,this.negated=A,this.type=4}static create(E,I,A=null){if(typeof I=="boolean")return I?m.create(E,A):v.create(E,A);const H=w.get(E);return typeof H=="boolean"?I===(H?"true":"false")?l.INSTANCE:C.INSTANCE:new y(E,I,A)}cmp(E){return E.type!==this.type?this.type-E.type:V(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type?this.key===E.key&&this.value===E.value:!1}substituteConstants(){const E=w.get(this.key);if(typeof E=="boolean"){const I=E?"true":"false";return this.value===I?l.INSTANCE:C.INSTANCE}return this}evaluate(E){return E.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}class n{constructor(E,I){this.key=E,this.valueKey=I,this.type=10,this.negated=null}static create(E,I){return new n(E,I)}cmp(E){return E.type!==this.type?this.type-E.type:V(this.key,this.valueKey,E.key,E.valueKey)}equals(E){return E.type===this.type?this.key===E.key&&this.valueKey===E.valueKey:!1}substituteConstants(){return this}evaluate(E){const I=E.getValue(this.valueKey),A=E.getValue(this.key);return Array.isArray(I)?I.indexOf(A)>=0:typeof A=="string"&&typeof I=="object"&&I!==null?G.call(I,A):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=p.create(this)),this.negated}}class p{constructor(E){this._actual=E,this.type=11}static create(E){return new p(E)}cmp(E){return E.type!==this.type?this.type-E.type:this._actual.cmp(E._actual)}equals(E){return E.type===this.type?this._actual.equals(E._actual):!1}substituteConstants(){return this}evaluate(E){return!this._actual.evaluate(E)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class f{constructor(E,I,A){this.key=E,this.value=I,this.negated=A,this.type=5}static create(E,I,A=null){if(typeof I=="boolean")return I?v.create(E,A):m.create(E,A);const H=w.get(E);return typeof H=="boolean"?I===(H?"true":"false")?C.INSTANCE:l.INSTANCE:new f(E,I,A)}cmp(E){return E.type!==this.type?this.type-E.type:V(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type?this.key===E.key&&this.value===E.value:!1}substituteConstants(){const E=w.get(this.key);if(typeof E=="boolean"){const I=E?"true":"false";return this.value===I?C.INSTANCE:l.INSTANCE}return this}evaluate(E){return E.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class v{constructor(E,I){this.key=E,this.negated=I,this.type=3}static create(E,I=null){const A=w.get(E);return typeof A=="boolean"?A?C.INSTANCE:l.INSTANCE:new v(E,I)}cmp(E){return E.type!==this.type?this.type-E.type:$(this.key,E.key)}equals(E){return E.type===this.type?this.key===E.key:!1}substituteConstants(){const E=w.get(this.key);return typeof E=="boolean"?E?C.INSTANCE:l.INSTANCE:this}evaluate(E){return!E.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this)),this.negated}}function d(le,E){if(typeof le=="string"){const I=parseFloat(le);isNaN(I)||(le=I)}return typeof le=="string"||typeof le=="number"?E(le):C.INSTANCE}class a{constructor(E,I,A){this.key=E,this.value=I,this.negated=A,this.type=12}static create(E,I,A=null){return d(I,H=>new a(E,H,A))}cmp(E){return E.type!==this.type?this.type-E.type:V(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type?this.key===E.key&&this.value===E.value:!1}substituteConstants(){return this}evaluate(E){return typeof this.value=="string"?!1:parseFloat(E.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class u{constructor(E,I,A){this.key=E,this.value=I,this.negated=A,this.type=13}static create(E,I,A=null){return d(I,H=>new u(E,H,A))}cmp(E){return E.type!==this.type?this.type-E.type:V(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type?this.key===E.key&&this.value===E.value:!1}substituteConstants(){return this}evaluate(E){return typeof this.value=="string"?!1:parseFloat(E.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}class c{constructor(E,I,A){this.key=E,this.value=I,this.negated=A,this.type=14}static create(E,I,A=null){return d(I,H=>new c(E,H,A))}cmp(E){return E.type!==this.type?this.type-E.type:V(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type?this.key===E.key&&this.value===E.value:!1}substituteConstants(){return this}evaluate(E){return typeof this.value=="string"?!1:parseFloat(E.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}class b{constructor(E,I,A){this.key=E,this.value=I,this.negated=A,this.type=15}static create(E,I,A=null){return d(I,H=>new b(E,H,A))}cmp(E){return E.type!==this.type?this.type-E.type:V(this.key,this.value,E.key,E.value)}equals(E){return E.type===this.type?this.key===E.key&&this.value===E.value:!1}substituteConstants(){return this}evaluate(E){return typeof this.value=="string"?!1:parseFloat(E.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}class L{constructor(E,I){this.key=E,this.regexp=I,this.type=7,this.negated=null}static create(E,I){return new L(E,I)}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.key<E.key)return-1;if(this.key>E.key)return 1;const I=this.regexp?this.regexp.source:"",A=E.regexp?E.regexp.source:"";return I<A?-1:I>A?1:0}equals(E){if(E.type===this.type){const I=this.regexp?this.regexp.source:"",A=E.regexp?E.regexp.source:"";return this.key===E.key&&I===A}return!1}substituteConstants(){return this}evaluate(E){let I=E.getValue(this.key);return this.regexp?this.regexp.test(I):!1}serialize(){const E=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${E}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this)),this.negated}}class R{constructor(E){this._actual=E,this.type=8}static create(E){return new R(E)}cmp(E){return E.type!==this.type?this.type-E.type:this._actual.cmp(E._actual)}equals(E){return E.type===this.type?this._actual.equals(E._actual):!1}substituteConstants(){return this}evaluate(E){return!this._actual.evaluate(E)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function T(le){let E=null;for(let I=0,A=le.length;I<A;I++){const H=le[I].substituteConstants();if(le[I]!==H&&E===null){E=[];for(let Y=0;Y<I;Y++)E[Y]=le[Y]}E!==null&&(E[I]=H)}return E===null?le:E}class j{constructor(E,I){this.expr=E,this.negated=I,this.type=6}static create(E,I){return j._normalizeArr(E,I)}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.expr.length<E.expr.length)return-1;if(this.expr.length>E.expr.length)return 1;for(let I=0,A=this.expr.length;I<A;I++){const H=s(this.expr[I],E.expr[I]);if(H!==0)return H}return 0}equals(E){if(E.type===this.type){if(this.expr.length!==E.expr.length)return!1;for(let I=0,A=this.expr.length;I<A;I++)if(!this.expr[I].equals(E.expr[I]))return!1;return!0}return!1}substituteConstants(){const E=T(this.expr);return E===this.expr?this:j.create(E,this.negated)}evaluate(E){for(let I=0,A=this.expr.length;I<A;I++)if(!this.expr[I].evaluate(E))return!1;return!0}static _normalizeArr(E,I){const A=[];let H=!1;for(const Y of E)if(Y){if(Y.type===1){H=!0;continue}if(Y.type===0)return C.INSTANCE;if(Y.type===6){A.push(...Y.expr);continue}A.push(Y)}if(A.length===0&&H)return l.INSTANCE;if(A.length!==0){if(A.length===1)return A[0];A.sort(s);for(let Y=1;Y<A.length;Y++)A[Y-1].equals(A[Y])&&(A.splice(Y,1),Y--);if(A.length===1)return A[0];for(;A.length>1;){const Y=A[A.length-1];if(Y.type!==9)break;A.pop();const X=A.pop(),re=A.length===0,fe=q.create(Y.expr.map(ue=>j.create([ue,X],null)),null,re);fe&&(A.push(fe),A.sort(s))}return A.length===1?A[0]:new j(A,I)}}serialize(){return this.expr.map(E=>E.serialize()).join(" && ")}keys(){const E=[];for(let I of this.expr)E.push(...I.keys());return E}negate(){if(!this.negated){const E=[];for(let I of this.expr)E.push(I.negate());this.negated=q.create(E,this,!0)}return this.negated}}class q{constructor(E,I){this.expr=E,this.negated=I,this.type=9}static create(E,I,A){return q._normalizeArr(E,I,A)}cmp(E){if(E.type!==this.type)return this.type-E.type;if(this.expr.length<E.expr.length)return-1;if(this.expr.length>E.expr.length)return 1;for(let I=0,A=this.expr.length;I<A;I++){const H=s(this.expr[I],E.expr[I]);if(H!==0)return H}return 0}equals(E){if(E.type===this.type){if(this.expr.length!==E.expr.length)return!1;for(let I=0,A=this.expr.length;I<A;I++)if(!this.expr[I].equals(E.expr[I]))return!1;return!0}return!1}substituteConstants(){const E=T(this.expr);return E===this.expr?this:q.create(E,this.negated,!1)}evaluate(E){for(let I=0,A=this.expr.length;I<A;I++)if(this.expr[I].evaluate(E))return!0;return!1}static _normalizeArr(E,I,A){let H=[],Y=!1;if(E){for(let X=0,re=E.length;X<re;X++){const fe=E[X];if(fe){if(fe.type===0){Y=!0;continue}if(fe.type===1)return l.INSTANCE;if(fe.type===9){H=H.concat(fe.expr);continue}H.push(fe)}}if(H.length===0&&Y)return C.INSTANCE;H.sort(s)}if(H.length!==0){if(H.length===1)return H[0];for(let X=1;X<H.length;X++)H[X-1].equals(H[X])&&(H.splice(X,1),X--);if(H.length===1)return H[0];if(A){for(let X=0;X<H.length;X++)for(let re=X+1;re<H.length;re++)z(H[X],H[re])&&(H.splice(re,1),re--);if(H.length===1)return H[0]}return new q(H,I)}}serialize(){return this.expr.map(E=>E.serialize()).join(" || ")}keys(){const E=[];for(let I of this.expr)E.push(...I.keys());return E}negate(){if(!this.negated){let E=[];for(let I of this.expr)E.push(I.negate());for(;E.length>1;){const I=E.shift(),A=E.shift(),H=[];for(const X of Q(I))for(const re of Q(A))H.push(j.create([X,re],null));const Y=E.length===0;E.unshift(q.create(H,null,Y))}this.negated=E[0]}return this.negated}}class ie extends m{constructor(E,I,A){super(E,null),this._defaultValue=I,typeof A=="object"?ie._info.push(Object.assign(Object.assign({},A),{key:E})):A!==!0&&ie._info.push({key:E,description:A,type:I!=null?typeof I:void 0})}static all(){return ie._info.values()}bindTo(E){return E.createKey(this.key,this._defaultValue)}getValue(E){return E.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(E){return y.create(this.key,E)}}ie._info=[];const ne=(0,k.yh)("contextKeyService"),he="setContext";function $(le,E){return le<E?-1:le>E?1:0}function V(le,E,I,A){return le<I?-1:le>I?1:E<A?-1:E>A?1:0}function z(le,E){if(E.type===6&&le.type!==9&&le.type!==6){for(const H of E.expr)if(le.equals(H))return!0}const I=le.negate(),A=Q(I).concat(Q(E));A.sort(s);for(let H=0;H<A.length;H++){const X=A[H].negate();for(let re=H+1;re<A.length;re++){const fe=A[re];if(X.equals(fe))return!0}}return!1}function Q(le){return le.type===9?le.expr:[le]}},39282:function(Ct,we,t){"use strict";t.d(we,{c:function(){return O},d:function(){return w}});var h=t(1432),W=t(63580),k=t(38819);const O=new k.uy("isWindows",h.ED,(0,W.N)("isWindows","Whether the operating system is Windows")),w="inputFocus"},5606:function(Ct,we,t){"use strict";t.d(we,{i:function(){return k},u:function(){return W}});var h=t(72065);const W=(0,h.yh)("contextViewService"),k=(0,h.yh)("contextMenuService")},28820:function(Ct,we,t){"use strict";t.d(we,{S:function(){return W}});var h=t(72065);const W=(0,h.yh)("dialogService")},97108:function(Ct,we,t){"use strict";t.d(we,{M:function(){return h}});class h{constructor(k,O=[],w=!1){this.ctor=k,this.staticArguments=O,this.supportsDelayedInstantiation=w}}},65026:function(Ct,we,t){"use strict";t.d(we,{d:function(){return O},z:function(){return k}});var h=t(97108);const W=[];function k(w,G,x){G instanceof h.M||(G=new h.M(G,[],x)),W.push([w,G])}function O(){return W}},72065:function(Ct,we,t){"use strict";t.d(we,{I8:function(){return h},TG:function(){return W},jt:function(){return w},yh:function(){return O}});var h;(function(G){G.serviceIds=new Map,G.DI_TARGET="$di$target",G.DI_DEPENDENCIES="$di$dependencies";function x(N){return N[G.DI_DEPENDENCIES]||[]}G.getServiceDependencies=x})(h||(h={}));const W=O("instantiationService");function k(G,x,N,s){x[h.DI_TARGET]===x?x[h.DI_DEPENDENCIES].push({id:G,index:N,optional:s}):(x[h.DI_DEPENDENCIES]=[{id:G,index:N,optional:s}],x[h.DI_TARGET]=x)}function O(G){if(h.serviceIds.has(G))return h.serviceIds.get(G);const x=function(N,s,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(x,N,C,!1)};return x.toString=()=>G,h.serviceIds.set(G,x),x}function w(G){return function(x,N,s){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");k(G,x,s,!0)}}},60972:function(Ct,we,t){"use strict";t.d(we,{y:function(){return h}});class h{constructor(...k){this._entries=new Map;for(let[O,w]of k)this.set(O,w)}set(k,O){const w=this._entries.get(k);return this._entries.set(k,O),w}has(k){return this._entries.has(k)}get(k){return this._entries.get(k)}}},81294:function(Ct,we,t){"use strict";t.d(we,{I:function(){return k}});var h=t(4669),W=t(89872);const k={JSONContribution:"base.contributions.json"};function O(x){return x.length>0&&x.charAt(x.length-1)==="#"?x.substring(0,x.length-1):x}class w{constructor(){this._onDidChangeSchema=new h.Q5,this.schemasById={}}registerSchema(N,s){this.schemasById[O(N)]=s,this._onDidChangeSchema.fire(N)}notifySchemaChanged(N){this._onDidChangeSchema.fire(N)}}const G=new w;W.B.add(k.JSONContribution,G)},91847:function(Ct,we,t){"use strict";t.d(we,{d:function(){return W}});var h=t(72065);const W=(0,h.yh)("keybindingService")},49989:function(Ct,we,t){"use strict";t.d(we,{W:function(){return G}});var h=t(8313),W=t(1432),k=t(94565),O=t(89872);class w{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(C){if(W.OS===1){if(C&&C.win)return C.win}else if(W.OS===2){if(C&&C.mac)return C.mac}else if(C&&C.linux)return C.linux;return C}registerKeybindingRule(C){const l=w.bindToCurrentPlatform(C);if(l&&l.primary){const m=(0,h.gm)(l.primary,W.OS);m&&this._registerDefaultKeybinding(m,C.id,C.args,C.weight,0,C.when)}if(l&&Array.isArray(l.secondary))for(let m=0,y=l.secondary.length;m<y;m++){const n=l.secondary[m],p=(0,h.gm)(n,W.OS);p&&this._registerDefaultKeybinding(p,C.id,C.args,C.weight,-m-1,C.when)}}registerCommandAndKeybindingRule(C){this.registerKeybindingRule(C),k.P.registerCommand(C)}static _mightProduceChar(C){return C>=21&&C<=30||C>=31&&C<=56?!0:C===80||C===81||C===82||C===83||C===84||C===85||C===86||C===110||C===111||C===87||C===88||C===89||C===90||C===91||C===92}_assertNoCtrlAlt(C,l){C.ctrlKey&&C.altKey&&!C.metaKey&&w._mightProduceChar(C.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",C," for ",l)}_registerDefaultKeybinding(C,l,m,y,n,p){W.OS===1&&this._assertNoCtrlAlt(C.parts[0],l),this._coreKeybindings.push({keybinding:C.parts,command:l,commandArgs:m,when:p,weight1:y,weight2:n,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(N)),this._cachedMergedKeybindings.slice(0)}}const G=new w,x={EditorModes:"platform.keybindingsRegistry"};O.B.add(x.EditorModes,G);function N(s,C){return s.weight1!==C.weight1?s.weight1-C.weight1:s.command<C.command?-1:s.command>C.command?1:s.weight2-C.weight2}},44349:function(Ct,we,t){"use strict";t.d(we,{e:function(){return W}});var h=t(72065);const W=(0,h.yh)("labelService")},2520:function(Ct,we,t){"use strict";t.d(we,{Lw:function(){return Jt},XN:function(){return jt},ls:function(){return wt},ev:function(){return An},CQ:function(){return bi}});var h=t(65321),W=t(9488),k=t(71050),O=t(4669),w=t(9917),G=t(5520),x=t(69047);class N{constructor(B,_e){this.renderer=B,this.modelProvider=_e}get templateId(){return this.renderer.templateId}renderTemplate(B){return{data:this.renderer.renderTemplate(B),disposable:w.JT.None}}renderElement(B,_e,We,rt){if(We.disposable&&We.disposable.dispose(),!We.data)return;const yt=this.modelProvider();if(yt.isResolved(B))return this.renderer.renderElement(yt.get(B),B,We.data,rt);const Ht=new k.A,Qt=yt.resolve(B,Ht.token);We.disposable={dispose:()=>Ht.cancel()},this.renderer.renderPlaceholder(B,We.data),Qt.then(ei=>this.renderer.renderElement(ei,B,We.data,rt))}disposeTemplate(B){B.disposable&&(B.disposable.dispose(),B.disposable=void 0),B.data&&(this.renderer.disposeTemplate(B.data),B.data=void 0)}}class s{constructor(B,_e){this.modelProvider=B,this.accessibilityProvider=_e}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(B){const _e=this.modelProvider();return _e.isResolved(B)?this.accessibilityProvider.getAriaLabel(_e.get(B)):null}}function C(bt,B){return Object.assign(Object.assign({},B),{accessibilityProvider:B.accessibilityProvider&&new s(bt,B.accessibilityProvider)})}class l{constructor(B,_e,We,rt,yt={}){const Ht=()=>this.model,Qt=rt.map(ei=>new N(ei,Ht));this.list=new x.aV(B,_e,We,Qt,C(Ht,yt))}updateOptions(B){this.list.updateOptions(B)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return O.ju.map(this.list.onMouseDblClick,({element:B,index:_e,browserEvent:We})=>({element:B===void 0?void 0:this._model.get(B),index:_e,browserEvent:We}))}get onPointer(){return O.ju.map(this.list.onPointer,({element:B,index:_e,browserEvent:We})=>({element:B===void 0?void 0:this._model.get(B),index:_e,browserEvent:We}))}get onDidChangeSelection(){return O.ju.map(this.list.onDidChangeSelection,({elements:B,indexes:_e,browserEvent:We})=>({elements:B.map(rt=>this._model.get(rt)),indexes:_e,browserEvent:We}))}get model(){return this._model}set model(B){this._model=B,this.list.splice(0,this.list.length,(0,W.w6)(B.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(B=>this.model.get(B))}style(B){this.list.style(B)}dispose(){this.list.dispose()}}var m=t(33225);class y{constructor(B,_e,We){this.columns=B,this.getColumnSize=We,this.templateId=y.TemplateId,this.renderedTemplates=new Set;const rt=new Map(_e.map(yt=>[yt.templateId,yt]));this.renderers=[];for(const yt of B){const Ht=rt.get(yt.templateId);if(!Ht)throw new Error(`Table cell renderer for template id ${yt.templateId} not found.`);this.renderers.push(Ht)}}renderTemplate(B){const _e=(0,h.R3)(B,(0,h.$)(".monaco-table-tr")),We=[],rt=[];for(let Ht=0;Ht<this.columns.length;Ht++){const Qt=this.renderers[Ht],ei=(0,h.R3)(_e,(0,h.$)(".monaco-table-td",{"data-col-index":Ht}));ei.style.width=`${this.getColumnSize(Ht)}px`,We.push(ei),rt.push(Qt.renderTemplate(ei))}const yt={container:B,cellContainers:We,cellTemplateData:rt};return this.renderedTemplates.add(yt),yt}renderElement(B,_e,We,rt){for(let yt=0;yt<this.columns.length;yt++){const Qt=this.columns[yt].project(B);this.renderers[yt].renderElement(Qt,_e,We.cellTemplateData[yt],rt)}}disposeElement(B,_e,We,rt){for(let yt=0;yt<this.columns.length;yt++){const Ht=this.renderers[yt];if(Ht.disposeElement){const ei=this.columns[yt].project(B);Ht.disposeElement(ei,_e,We.cellTemplateData[yt],rt)}}}disposeTemplate(B){for(let _e=0;_e<this.columns.length;_e++)this.renderers[_e].disposeTemplate(B.cellTemplateData[_e]);(0,h.PO)(B.container),this.renderedTemplates.delete(B)}layoutColumn(B,_e){for(const{cellContainers:We}of this.renderedTemplates)We[B].style.width=`${_e}px`}}y.TemplateId="row";function n(bt){return{getHeight(B){return bt.getHeight(B)},getTemplateId(){return y.TemplateId}}}class p{constructor(B,_e){this.column=B,this.index=_e,this._onDidLayout=new O.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,h.$)(".monaco-table-th",{"data-col-index":_e,title:B.tooltip},B.label)}get minimumSize(){var B;return(B=this.column.minimumWidth)!==null&&B!==void 0?B:120}get maximumSize(){var B;return(B=this.column.maximumWidth)!==null&&B!==void 0?B:Number.POSITIVE_INFINITY}get onDidChange(){var B;return(B=this.column.onDidChangeWidthConstraints)!==null&&B!==void 0?B:O.ju.None}layout(B){this._onDidLayout.fire([this.index,B])}}class f{constructor(B,_e,We,rt,yt,Ht){this.virtualDelegate=We,this.domId=`table_id_${++f.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,h.R3)(_e,(0,h.$)(`.monaco-table.${this.domId}`));const Qt=rt.map((gi,Mi)=>new p(gi,Mi)),ei={size:Qt.reduce((gi,Mi)=>gi+Mi.column.weight,0),views:Qt.map(gi=>({size:gi.column.weight,view:gi}))};this.splitview=new m.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:ei}),this.splitview.el.style.height=`${We.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${We.headerRowHeight}px`;const ri=new y(rt,yt,gi=>this.splitview.getViewSize(gi));this.list=new x.aV(B,this.domNode,n(We),[ri],Ht),this.columnLayoutDisposable=O.ju.any(...Qt.map(gi=>gi.onDidLayout))(([gi,Mi])=>ri.layoutColumn(gi,Mi)),this.styleElement=(0,h.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(B){this.list.updateOptions(B)}splice(B,_e,We=[]){this.list.splice(B,_e,We)}getHTMLElement(){return this.domNode}style(B){const _e=[];_e.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=_e.join(`
`),this.list.style(B)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}f.InstanceCount=0;var v=t(72010),d=t(23547),a=t(4850),u=t(59069),c;(function(bt){bt[bt.Unknown=0]="Unknown",bt[bt.Twistie=1]="Twistie",bt[bt.Element=2]="Element"})(c||(c={}));class b extends Error{constructor(B,_e){super(`TreeError [${B}] ${_e}`)}}class L{constructor(B){this.fn=B,this._map=new WeakMap}map(B){let _e=this._map.get(B);return _e||(_e=this.fn(B),this._map.set(B,_e)),_e}}var R=t(22571),T=t(56899);function j(bt){return typeof bt=="object"&&"visibility"in bt&&"data"in bt}function q(bt){switch(bt){case!0:return 1;case!1:return 0;default:return bt}}function ie(bt){return typeof bt.collapsible=="boolean"}class ne{constructor(B,_e,We,rt={}){this.user=B,this.list=_e,this.rootRef=[],this.eventBufferer=new O.E7,this._onDidChangeCollapseState=new O.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new O.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new O.Q5,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof rt.collapseByDefault=="undefined"?!1:rt.collapseByDefault,this.filter=rt.filter,this.autoExpandSingleChildren=typeof rt.autoExpandSingleChildren=="undefined"?!1:rt.autoExpandSingleChildren,this.root={parent:void 0,element:We,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(B,_e,We=T.$.empty(),rt={}){if(B.length===0)throw new b(this.user,"Invalid tree location");rt.diffIdentityProvider?this.spliceSmart(rt.diffIdentityProvider,B,_e,We,rt):this.spliceSimple(B,_e,We,rt)}spliceSmart(B,_e,We,rt,yt,Ht){var Qt;rt===void 0&&(rt=T.$.empty()),Ht===void 0&&(Ht=(Qt=yt.diffDepth)!==null&&Qt!==void 0?Qt:0);const{parentNode:ei}=this.getParentNodeWithListIndex(_e);if(!ei.lastDiffIds)return this.spliceSimple(_e,We,rt,yt);const ri=[...rt],gi=_e[_e.length-1],Mi=new R.Hs({getElements:()=>ei.lastDiffIds},{getElements:()=>[...ei.children.slice(0,gi),...ri,...ei.children.slice(gi+We)].map(Bi=>B.getId(Bi.element).toString())}).ComputeDiff(!1);if(Mi.quitEarly)return ei.lastDiffIds=void 0,this.spliceSimple(_e,We,ri,yt);const Ei=_e.slice(0,-1),xi=(Bi,on,jn)=>{if(Ht>0)for(let hs=0;hs<jn;hs++)Bi--,on--,this.spliceSmart(B,[...Ei,Bi,0],Number.MAX_SAFE_INTEGER,ri[on].children,yt,Ht-1)};let Pi=Math.min(ei.children.length,gi+We),ki=ri.length;for(const Bi of Mi.changes.sort((on,jn)=>jn.originalStart-on.originalStart))xi(Pi,ki,Pi-(Bi.originalStart+Bi.originalLength)),Pi=Bi.originalStart,ki=Bi.modifiedStart-gi,this.spliceSimple([...Ei,Pi],Bi.originalLength,T.$.slice(ri,ki,ki+Bi.modifiedLength),yt);xi(Pi,ki,Pi)}spliceSimple(B,_e,We=T.$.empty(),{onDidCreateNode:rt,onDidDeleteNode:yt,diffIdentityProvider:Ht}){const{parentNode:Qt,listIndex:ei,revealed:ri,visible:gi}=this.getParentNodeWithListIndex(B),Mi=[],Ei=T.$.map(We,Qi=>this.createTreeNode(Qi,Qt,Qt.visible?1:0,ri,Mi,rt)),xi=B[B.length-1],Pi=Qt.children.length>0;let ki=0;for(let Qi=xi;Qi>=0&&Qi<Qt.children.length;Qi--){const nn=Qt.children[Qi];if(nn.visible){ki=nn.visibleChildIndex;break}}const Bi=[];let on=0,jn=0;for(const Qi of Ei)Bi.push(Qi),jn+=Qi.renderNodeCount,Qi.visible&&(Qi.visibleChildIndex=ki+on++);const hs=(0,W.db)(Qt.children,xi,_e,Bi);Ht?Qt.lastDiffIds?(0,W.db)(Qt.lastDiffIds,xi,_e,Bi.map(Qi=>Ht.getId(Qi.element).toString())):Qt.lastDiffIds=Qt.children.map(Qi=>Ht.getId(Qi.element).toString()):Qt.lastDiffIds=void 0;let tn=0;for(const Qi of hs)Qi.visible&&tn++;if(tn!==0)for(let Qi=xi+Bi.length;Qi<Qt.children.length;Qi++){const nn=Qt.children[Qi];nn.visible&&(nn.visibleChildIndex-=tn)}if(Qt.visibleChildrenCount+=on-tn,ri&&gi){const Qi=hs.reduce((nn,Wn)=>nn+(Wn.visible?Wn.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Qt,jn-Qi),this.list.splice(ei,Qi,Mi)}if(hs.length>0&&yt){const Qi=nn=>{yt(nn),nn.children.forEach(Qi)};hs.forEach(Qi)}const pn=Qt.children.length>0;Pi!==pn&&this.setCollapsible(B.slice(0,-1),pn),this._onDidSplice.fire({insertedNodes:Bi,deletedNodes:hs});let kn=Qt;for(;kn;){if(kn.visibility===2){this.refilter();break}kn=kn.parent}}rerender(B){if(B.length===0)throw new b(this.user,"Invalid tree location");const{node:_e,listIndex:We,revealed:rt}=this.getTreeNodeWithListIndex(B);_e.visible&&rt&&this.list.splice(We,1,[_e])}has(B){return this.hasTreeNode(B)}getListIndex(B){const{listIndex:_e,visible:We,revealed:rt}=this.getTreeNodeWithListIndex(B);return We&&rt?_e:-1}getListRenderCount(B){return this.getTreeNode(B).renderNodeCount}isCollapsible(B){return this.getTreeNode(B).collapsible}setCollapsible(B,_e){const We=this.getTreeNode(B);typeof _e=="undefined"&&(_e=!We.collapsible);const rt={collapsible:_e};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(B,rt))}isCollapsed(B){return this.getTreeNode(B).collapsed}setCollapsed(B,_e,We){const rt=this.getTreeNode(B);typeof _e=="undefined"&&(_e=!rt.collapsed);const yt={collapsed:_e,recursive:We||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(B,yt))}_setCollapseState(B,_e){const{node:We,listIndex:rt,revealed:yt}=this.getTreeNodeWithListIndex(B),Ht=this._setListNodeCollapseState(We,rt,yt,_e);if(We!==this.root&&this.autoExpandSingleChildren&&Ht&&!ie(_e)&&We.collapsible&&!We.collapsed&&!_e.recursive){let Qt=-1;for(let ei=0;ei<We.children.length;ei++)if(We.children[ei].visible)if(Qt>-1){Qt=-1;break}else Qt=ei;Qt>-1&&this._setCollapseState([...B,Qt],_e)}return Ht}_setListNodeCollapseState(B,_e,We,rt){const yt=this._setNodeCollapseState(B,rt,!1);if(!We||!B.visible||!yt)return yt;const Ht=B.renderNodeCount,Qt=this.updateNodeAfterCollapseChange(B),ei=Ht-(_e===-1?0:1);return this.list.splice(_e+1,ei,Qt.slice(1)),yt}_setNodeCollapseState(B,_e,We){let rt;if(B===this.root?rt=!1:(ie(_e)?(rt=B.collapsible!==_e.collapsible,B.collapsible=_e.collapsible):B.collapsible?(rt=B.collapsed!==_e.collapsed,B.collapsed=_e.collapsed):rt=!1,rt&&this._onDidChangeCollapseState.fire({node:B,deep:We})),!ie(_e)&&_e.recursive)for(const yt of B.children)rt=this._setNodeCollapseState(yt,_e,!0)||rt;return rt}expandTo(B){this.eventBufferer.bufferEvents(()=>{let _e=this.getTreeNode(B);for(;_e.parent;)_e=_e.parent,B=B.slice(0,B.length-1),_e.collapsed&&this._setCollapseState(B,{collapsed:!1,recursive:!1})})}refilter(){const B=this.root.renderNodeCount,_e=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,B,_e)}createTreeNode(B,_e,We,rt,yt,Ht){const Qt={parent:_e,element:B.element,children:[],depth:_e.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof B.collapsible=="boolean"?B.collapsible:typeof B.collapsed!="undefined",collapsed:typeof B.collapsed=="undefined"?this.collapseByDefault:B.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},ei=this._filterNode(Qt,We);Qt.visibility=ei,rt&&yt.push(Qt);const ri=B.children||T.$.empty(),gi=rt&&ei!==0&&!Qt.collapsed,Mi=T.$.map(ri,Pi=>this.createTreeNode(Pi,Qt,ei,gi,yt,Ht));let Ei=0,xi=1;for(const Pi of Mi)Qt.children.push(Pi),xi+=Pi.renderNodeCount,Pi.visible&&(Pi.visibleChildIndex=Ei++);return Qt.collapsible=Qt.collapsible||Qt.children.length>0,Qt.visibleChildrenCount=Ei,Qt.visible=ei===2?Ei>0:ei===1,Qt.visible?Qt.collapsed||(Qt.renderNodeCount=xi):(Qt.renderNodeCount=0,rt&&yt.pop()),Ht&&Ht(Qt),Qt}updateNodeAfterCollapseChange(B){const _e=B.renderNodeCount,We=[];return this._updateNodeAfterCollapseChange(B,We),this._updateAncestorsRenderNodeCount(B.parent,We.length-_e),We}_updateNodeAfterCollapseChange(B,_e){if(B.visible===!1)return 0;if(_e.push(B),B.renderNodeCount=1,!B.collapsed)for(const We of B.children)B.renderNodeCount+=this._updateNodeAfterCollapseChange(We,_e);return this._onDidChangeRenderNodeCount.fire(B),B.renderNodeCount}updateNodeAfterFilterChange(B){const _e=B.renderNodeCount,We=[];return this._updateNodeAfterFilterChange(B,B.visible?1:0,We),this._updateAncestorsRenderNodeCount(B.parent,We.length-_e),We}_updateNodeAfterFilterChange(B,_e,We,rt=!0){let yt;if(B!==this.root){if(yt=this._filterNode(B,_e),yt===0)return B.visible=!1,B.renderNodeCount=0,!1;rt&&We.push(B)}const Ht=We.length;B.renderNodeCount=B===this.root?0:1;let Qt=!1;if(!B.collapsed||yt!==0){let ei=0;for(const ri of B.children)Qt=this._updateNodeAfterFilterChange(ri,yt,We,rt&&!B.collapsed)||Qt,ri.visible&&(ri.visibleChildIndex=ei++);B.visibleChildrenCount=ei}else B.visibleChildrenCount=0;return B!==this.root&&(B.visible=yt===2?Qt:yt===1,B.visibility=yt),B.visible?B.collapsed||(B.renderNodeCount+=We.length-Ht):(B.renderNodeCount=0,rt&&We.pop()),this._onDidChangeRenderNodeCount.fire(B),B.visible}_updateAncestorsRenderNodeCount(B,_e){if(_e!==0)for(;B;)B.renderNodeCount+=_e,this._onDidChangeRenderNodeCount.fire(B),B=B.parent}_filterNode(B,_e){const We=this.filter?this.filter.filter(B.element,_e):1;return typeof We=="boolean"?(B.filterData=void 0,We?1:0):j(We)?(B.filterData=We.data,q(We.visibility)):(B.filterData=void 0,q(We))}hasTreeNode(B,_e=this.root){if(!B||B.length===0)return!0;const[We,...rt]=B;return We<0||We>_e.children.length?!1:this.hasTreeNode(rt,_e.children[We])}getTreeNode(B,_e=this.root){if(!B||B.length===0)return _e;const[We,...rt]=B;if(We<0||We>_e.children.length)throw new b(this.user,"Invalid tree location");return this.getTreeNode(rt,_e.children[We])}getTreeNodeWithListIndex(B){if(B.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:_e,listIndex:We,revealed:rt,visible:yt}=this.getParentNodeWithListIndex(B),Ht=B[B.length-1];if(Ht<0||Ht>_e.children.length)throw new b(this.user,"Invalid tree location");const Qt=_e.children[Ht];return{node:Qt,listIndex:We,revealed:rt,visible:yt&&Qt.visible}}getParentNodeWithListIndex(B,_e=this.root,We=0,rt=!0,yt=!0){const[Ht,...Qt]=B;if(Ht<0||Ht>_e.children.length)throw new b(this.user,"Invalid tree location");for(let ei=0;ei<Ht;ei++)We+=_e.children[ei].renderNodeCount;return rt=rt&&!_e.collapsed,yt=yt&&_e.visible,Qt.length===0?{parentNode:_e,listIndex:We,revealed:rt,visible:yt}:this.getParentNodeWithListIndex(Qt,_e.children[Ht],We+1,rt,yt)}getNode(B=[]){return this.getTreeNode(B)}getNodeLocation(B){const _e=[];let We=B;for(;We.parent;)_e.push(We.parent.children.indexOf(We)),We=We.parent;return _e.reverse()}getParentNodeLocation(B){if(B.length!==0)return B.length===1?[]:(0,W.JH)(B)[0]}}var he=t(73046);const $=(0,he.CM)("tree-item-expanded",he.lA.chevronDown),V=(0,he.CM)("tree-filter-on-type-on",he.lA.listFilter),z=(0,he.CM)("tree-filter-on-type-off",he.lA.listSelection),Q=(0,he.CM)("tree-filter-clear",he.lA.close),le=(0,he.CM)("tree-item-loading",he.lA.loading);var E=t(15393),I=t(6626),A=t(75392),H=t(59870),Y=t(1432),X=t(63580);class re extends v.kX{constructor(B){super(B.elements.map(_e=>_e.element)),this.data=B}}function fe(bt){return bt instanceof v.kX?new re(bt):bt}class ue{constructor(B,_e){this.modelProvider=B,this.dnd=_e,this.autoExpandDisposable=w.JT.None}getDragURI(B){return this.dnd.getDragURI(B.element)}getDragLabel(B,_e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B.map(We=>We.element),_e)}onDragStart(B,_e){this.dnd.onDragStart&&this.dnd.onDragStart(fe(B),_e)}onDragOver(B,_e,We,rt,yt=!0){const Ht=this.dnd.onDragOver(fe(B),_e&&_e.element,We,rt),Qt=this.autoExpandNode!==_e;if(Qt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=_e),typeof _e=="undefined")return Ht;if(Qt&&typeof Ht!="boolean"&&Ht.autoExpand&&(this.autoExpandDisposable=(0,E.Vg)(()=>{const Ei=this.modelProvider(),xi=Ei.getNodeLocation(_e);Ei.isCollapsed(xi)&&Ei.setCollapsed(xi,!1),this.autoExpandNode=void 0},500)),typeof Ht=="boolean"||!Ht.accept||typeof Ht.bubble=="undefined"||Ht.feedback){if(!yt){const Ei=typeof Ht=="boolean"?Ht:Ht.accept,xi=typeof Ht=="boolean"?void 0:Ht.effect;return{accept:Ei,effect:xi,feedback:[We]}}return Ht}if(Ht.bubble===1){const Ei=this.modelProvider(),xi=Ei.getNodeLocation(_e),Pi=Ei.getParentNodeLocation(xi),ki=Ei.getNode(Pi),Bi=Pi&&Ei.getListIndex(Pi);return this.onDragOver(B,ki,Bi,rt,!1)}const ei=this.modelProvider(),ri=ei.getNodeLocation(_e),gi=ei.getListIndex(ri),Mi=ei.getListRenderCount(ri);return Object.assign(Object.assign({},Ht),{feedback:(0,W.w6)(gi,gi+Mi)})}drop(B,_e,We,rt){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(fe(B),_e&&_e.element,We,rt)}onDragEnd(B){this.dnd.onDragEnd&&this.dnd.onDragEnd(B)}}function Oe(bt,B){return B&&Object.assign(Object.assign({},B),{identityProvider:B.identityProvider&&{getId(_e){return B.identityProvider.getId(_e.element)}},dnd:B.dnd&&new ue(bt,B.dnd),multipleSelectionController:B.multipleSelectionController&&{isSelectionSingleChangeEvent(_e){return B.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},_e),{element:_e.element}))},isSelectionRangeChangeEvent(_e){return B.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},_e),{element:_e.element}))}},accessibilityProvider:B.accessibilityProvider&&Object.assign(Object.assign({},B.accessibilityProvider),{getSetSize(_e){const We=bt(),rt=We.getNodeLocation(_e),yt=We.getParentNodeLocation(rt);return We.getNode(yt).visibleChildrenCount},getPosInSet(_e){return _e.visibleChildIndex+1},isChecked:B.accessibilityProvider&&B.accessibilityProvider.isChecked?_e=>B.accessibilityProvider.isChecked(_e.element):void 0,getRole:B.accessibilityProvider&&B.accessibilityProvider.getRole?_e=>B.accessibilityProvider.getRole(_e.element):()=>"treeitem",getAriaLabel(_e){return B.accessibilityProvider.getAriaLabel(_e.element)},getWidgetAriaLabel(){return B.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:B.accessibilityProvider&&B.accessibilityProvider.getWidgetRole?()=>B.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:B.accessibilityProvider&&B.accessibilityProvider.getAriaLevel?_e=>B.accessibilityProvider.getAriaLevel(_e.element):_e=>_e.depth,getActiveDescendantId:B.accessibilityProvider.getActiveDescendantId&&(_e=>B.accessibilityProvider.getActiveDescendantId(_e.element))}),keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},B.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(_e){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(_e.element)}}),enableKeyboardNavigation:B.simpleKeyboardNavigation})}class Ce{constructor(B){this.delegate=B}getHeight(B){return this.delegate.getHeight(B.element)}getTemplateId(B){return this.delegate.getTemplateId(B.element)}hasDynamicHeight(B){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(B.element)}setDynamicHeight(B,_e){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(B.element,_e)}}var oe;(function(bt){bt.None="none",bt.OnHover="onHover",bt.Always="always"})(oe||(oe={}));class ae{constructor(B,_e=[]){this._elements=_e,this.onDidChange=O.ju.forEach(B,We=>this._elements=We)}get elements(){return this._elements}}class Be{constructor(B,_e,We,rt,yt={}){this.renderer=B,this.modelProvider=_e,this.activeNodes=rt,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Be.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new I.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=w.JT.None,this.disposables=new w.SL,this.templateId=B.templateId,this.updateOptions(yt),O.ju.map(We,Ht=>Ht.node)(this.onDidChangeNodeTwistieState,this,this.disposables),B.onDidChangeTwistieState&&B.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(B={}){if(typeof B.indent!="undefined"&&(this.indent=(0,H.u)(B.indent,0,40)),typeof B.renderIndentGuides!="undefined"){const _e=B.renderIndentGuides!==oe.None;if(_e!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=_e,this.indentGuidesDisposable.dispose(),_e)){const We=new w.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,We),this.indentGuidesDisposable=We,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof B.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=B.hideTwistiesOfChildlessElements)}renderTemplate(B){const _e=(0,h.R3)(B,(0,h.$)(".monaco-tl-row")),We=(0,h.R3)(_e,(0,h.$)(".monaco-tl-indent")),rt=(0,h.R3)(_e,(0,h.$)(".monaco-tl-twistie")),yt=(0,h.R3)(_e,(0,h.$)(".monaco-tl-contents")),Ht=this.renderer.renderTemplate(yt);return{container:B,indent:We,twistie:rt,indentGuidesDisposable:w.JT.None,templateData:Ht}}renderElement(B,_e,We,rt){typeof rt=="number"&&(this.renderedNodes.set(B,{templateData:We,height:rt}),this.renderedElements.set(B.element,B));const yt=Be.DefaultIndent+(B.depth-1)*this.indent;We.twistie.style.paddingLeft=`${yt}px`,We.indent.style.width=`${yt+this.indent-16}px`,this.renderTwistie(B,We),typeof rt=="number"&&this.renderIndentGuides(B,We),this.renderer.renderElement(B,_e,We.templateData,rt)}disposeElement(B,_e,We,rt){We.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(B,_e,We.templateData,rt),typeof rt=="number"&&(this.renderedNodes.delete(B),this.renderedElements.delete(B.element))}disposeTemplate(B){this.renderer.disposeTemplate(B.templateData)}onDidChangeTwistieState(B){const _e=this.renderedElements.get(B);_e&&this.onDidChangeNodeTwistieState(_e)}onDidChangeNodeTwistieState(B){const _e=this.renderedNodes.get(B);_e&&(this.renderTwistie(B,_e.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(B,_e.templateData))}renderTwistie(B,_e){_e.twistie.classList.remove(...$.classNamesArray);let We=!1;this.renderer.renderTwistie&&(We=this.renderer.renderTwistie(B.element,_e.twistie)),B.collapsible&&(!this.hideTwistiesOfChildlessElements||B.visibleChildrenCount>0)?(We||_e.twistie.classList.add(...$.classNamesArray),_e.twistie.classList.add("collapsible"),_e.twistie.classList.toggle("collapsed",B.collapsed)):_e.twistie.classList.remove("collapsible","collapsed"),B.collapsible?_e.container.setAttribute("aria-expanded",String(!B.collapsed)):_e.container.removeAttribute("aria-expanded")}renderIndentGuides(B,_e){if((0,h.PO)(_e.indent),_e.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const We=new w.SL,rt=this.modelProvider();let yt=B;for(;;){const Ht=rt.getNodeLocation(yt),Qt=rt.getParentNodeLocation(Ht);if(!Qt)break;const ei=rt.getNode(Qt),ri=(0,h.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ei)&&ri.classList.add("active"),_e.indent.childElementCount===0?_e.indent.appendChild(ri):_e.indent.insertBefore(ri,_e.indent.firstElementChild),this.renderedIndentGuides.add(ei,ri),We.add((0,w.OF)(()=>this.renderedIndentGuides.delete(ei,ri))),yt=ei}_e.indentGuidesDisposable=We}_onDidChangeActiveNodes(B){if(!this.shouldRenderIndentGuides)return;const _e=new Set,We=this.modelProvider();B.forEach(rt=>{const yt=We.getNodeLocation(rt);try{const Ht=We.getParentNodeLocation(yt);rt.collapsible&&rt.children.length>0&&!rt.collapsed?_e.add(rt):Ht&&_e.add(We.getNode(Ht))}catch(Ht){}}),this.activeIndentNodes.forEach(rt=>{_e.has(rt)||this.renderedIndentGuides.forEach(rt,yt=>yt.classList.remove("active"))}),_e.forEach(rt=>{this.activeIndentNodes.has(rt)||this.renderedIndentGuides.forEach(rt,yt=>yt.classList.add("active"))}),this.activeIndentNodes=_e}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,w.B9)(this.disposables)}}Be.DefaultIndent=8;class Ve{constructor(B,_e,We){this.tree=B,this.keyboardNavigationLabelProvider=_e,this._filter=We,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new w.SL,B.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(B){this._pattern=B,this._lowercasePattern=B.toLowerCase()}filter(B,_e){if(this._filter){const yt=this._filter.filter(B,_e);if(this.tree.options.simpleKeyboardNavigation)return yt;let Ht;if(typeof yt=="boolean"?Ht=yt?1:0:j(yt)?Ht=q(yt.visibility):Ht=yt,Ht===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:A.CL.Default,visibility:!0};const We=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B),rt=Array.isArray(We)?We:[We];for(const yt of rt){const Ht=yt&&yt.toString();if(typeof Ht=="undefined")return{data:A.CL.Default,visibility:!0};const Qt=(0,A.EW)(this._pattern,this._lowercasePattern,0,Ht,Ht.toLowerCase(),0,!0);if(Qt)return this._matchCount++,rt.length===1?{data:Qt,visibility:!0}:{data:{label:Ht,score:Qt},visibility:!0}}return this.tree.options.filterOnType?2:{data:A.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,w.B9)(this.disposables)}}class se{constructor(B,_e,We,rt,yt){this.tree=B,this.view=We,this.filter=rt,this.keyboardNavigationDelegate=yt,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new O.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new O.Q5,this.enabledDisposables=new w.SL,this.disposables=new w.SL,this.domNode=(0,h.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,h.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,h.R3)(We.getHTMLElement(),(0,h.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,h.R3)(this.domNode,(0,h.$)("span.label"));const Ht=(0,h.R3)(this.domNode,(0,h.$)(".controls"));this._filterOnType=!!B.options.filterOnType,this.filterOnTypeDomNode=(0,h.R3)(Ht,(0,h.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,h.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,h.R3)(Ht,(0,h.$)("button.clear"+Q.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,X.N)("clear","Clear"),this.keyboardNavigationEventFilter=B.options.keyboardNavigationEventFilter,_e.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(B.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(B){B.simpleKeyboardNavigation?this.disable():this.enable(),typeof B.filterOnType!="undefined"&&(this._filterOnType=!!B.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof B.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=B.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const B=this.enabledDisposables.add(new a.Y(this.view.getHTMLElement(),"keydown")),_e=O.ju.chain(B.event).filter(rt=>!(0,x.cK)(rt.target)||rt.target===this.filterOnTypeDomNode).filter(rt=>rt.key!=="Dead"&&!/^Media/.test(rt.key)).map(rt=>new u.y(rt)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(rt=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(rt)&&!(rt.keyCode===18||rt.keyCode===16||rt.keyCode===15||rt.keyCode===17)||(this.pattern.length>0||this.triggered)&&(rt.keyCode===9||rt.keyCode===1)&&!rt.altKey&&!rt.ctrlKey&&!rt.metaKey||rt.keyCode===1&&(Y.dz?rt.altKey&&!rt.metaKey:rt.ctrlKey)&&!rt.shiftKey).forEach(rt=>{rt.stopPropagation(),rt.preventDefault()}).event,We=this.enabledDisposables.add(new a.Y(this.clearDomNode,"click"));O.ju.chain(O.ju.any(_e,We.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(B){typeof B=="string"?this.onInput(B):B instanceof MouseEvent||B.keyCode===9||B.keyCode===1&&(Y.dz?B.altKey:B.ctrlKey)?this.onInput(""):B.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+B.browserEvent.key)}onInput(B){const _e=this.view.getHTMLElement();B&&!this.domNode.parentElement?_e.append(this.domNode):!B&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=B,this._onDidChangePattern.fire(B),this.filter.pattern=B,this.tree.refilter(),B&&this.tree.focusNext(0,!0,void 0,rt=>!A.CL.isDefault(rt.filterData));const We=this.tree.getFocus();if(We.length>0){const rt=We[0];this.tree.getRelativeTop(rt)===null&&this.tree.reveal(rt,.5)}this.render(),B||(this.triggered=!1)}onDragStart(){const B=this.view.getHTMLElement(),{left:_e}=(0,h.i)(B),We=B.clientWidth,rt=We/2,yt=this.domNode.clientWidth,Ht=new w.SL;let Qt=this.positionClassName;const ei=()=>{switch(Qt){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${We-yt-6}px`;break}},ri=Mi=>{Mi.preventDefault();const Ei=Mi.clientX-_e;Mi.dataTransfer&&(Mi.dataTransfer.dropEffect="none"),Ei<rt?Qt="nw":Qt="ne",ei()},gi=()=>{this.positionClassName=Qt,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,w.B9)(Ht)};ei(),this.domNode.classList.remove(Qt),this.domNode.classList.add("dragging"),Ht.add((0,w.OF)(()=>this.domNode.classList.remove("dragging"))),Ht.add((0,h.nm)(document,"dragover",Mi=>ri(Mi))),Ht.add((0,h.nm)(this.domNode,"dragend",()=>gi())),d.P$.CurrentDragAndDropData=new d.TN("vscode-ui"),Ht.add((0,w.OF)(()=>d.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...z.classNamesArray),this.filterOnTypeDomNode.classList.add(...V.classNamesArray),this.filterOnTypeDomNode.title=(0,X.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...V.classNamesArray),this.filterOnTypeDomNode.classList.add(...z.classNamesArray),this.filterOnTypeDomNode.title=(0,X.N)("enable filter on type","Enable Filter on Type"))}render(){const B=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&B?(this.messageDomNode.textContent=(0,X.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",B),this.domNode.title=(0,X.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(B){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!A.CL.isDefault(B.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,w.B9)(this.disposables)}}function ce(bt){let B=c.Unknown;return(0,h.uU)(bt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?B=c.Twistie:(0,h.uU)(bt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(B=c.Element),{browserEvent:bt.browserEvent,element:bt.element?bt.element.element:null,target:B}}function Te(bt,B){B(bt),bt.children.forEach(_e=>Te(_e,B))}class xe{constructor(B,_e){this.getFirstViewElementWithTrait=B,this.identityProvider=_e,this.nodes=[],this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(B,_e){var We;!(!((We=_e)===null||We===void 0)&&We.__forceEvent)&&(0,W.fS)(this.nodes,B)||this._set(B,!1,_e)}_set(B,_e,We){if(this.nodes=[...B],this.elements=void 0,this._nodeSet=void 0,!_e){const rt=this;this._onDidChange.fire({get elements(){return rt.get()},browserEvent:We})}}get(){return this.elements||(this.elements=this.nodes.map(B=>B.element)),[...this.elements]}getNodes(){return this.nodes}has(B){return this.nodeSet.has(B)}onDidModelSplice({insertedNodes:B,deletedNodes:_e}){if(!this.identityProvider){const ei=this.createNodeSet(),ri=gi=>ei.delete(gi);_e.forEach(gi=>Te(gi,ri)),this.set([...ei.values()]);return}const We=new Set,rt=ei=>We.add(this.identityProvider.getId(ei.element).toString());_e.forEach(ei=>Te(ei,rt));const yt=new Map,Ht=ei=>yt.set(this.identityProvider.getId(ei.element).toString(),ei);B.forEach(ei=>Te(ei,Ht));const Qt=[];for(const ei of this.nodes){const ri=this.identityProvider.getId(ei.element).toString();if(!We.has(ri))Qt.push(ei);else{const Mi=yt.get(ri);Mi&&Qt.push(Mi)}}if(this.nodes.length>0&&Qt.length===0){const ei=this.getFirstViewElementWithTrait();ei&&Qt.push(ei)}this._set(Qt,!0)}createNodeSet(){const B=new Set;for(const _e of this.nodes)B.add(_e);return B}}class Fe extends x.sx{constructor(B,_e){super(B),this.tree=_e}onViewPointer(B){if((0,x.cK)(B.browserEvent.target)||(0,x.hD)(B.browserEvent.target))return;const _e=B.element;if(!_e)return super.onViewPointer(B);if(this.isSelectionRangeChangeEvent(B)||this.isSelectionSingleChangeEvent(B))return super.onViewPointer(B);const We=B.browserEvent.target,rt=We.classList.contains("monaco-tl-twistie")||We.classList.contains("monaco-icon-label")&&We.classList.contains("folder-icon")&&B.browserEvent.offsetX<16;let yt=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?yt=this.tree.expandOnlyOnTwistieClick(_e.element):yt=!!this.tree.expandOnlyOnTwistieClick,yt&&!rt&&B.browserEvent.detail!==2)return super.onViewPointer(B);if(!this.tree.expandOnDoubleClick&&B.browserEvent.detail===2)return super.onViewPointer(B);if(_e.collapsible){const Ht=this.tree.model,Qt=Ht.getNodeLocation(_e),ei=B.browserEvent.altKey;if(this.tree.setFocus([Qt]),Ht.setCollapsed(Qt,void 0,ei),yt&&rt)return}super.onViewPointer(B)}onDoubleClick(B){B.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(B)}}class Le extends x.aV{constructor(B,_e,We,rt,yt,Ht,Qt,ei){super(B,_e,We,rt,ei),this.focusTrait=yt,this.selectionTrait=Ht,this.anchorTrait=Qt}createMouseController(B){return new Fe(this,B.tree)}splice(B,_e,We=[]){if(super.splice(B,_e,We),We.length===0)return;const rt=[],yt=[];let Ht;We.forEach((Qt,ei)=>{this.focusTrait.has(Qt)&&rt.push(B+ei),this.selectionTrait.has(Qt)&&yt.push(B+ei),this.anchorTrait.has(Qt)&&(Ht=B+ei)}),rt.length>0&&super.setFocus((0,W.EB)([...super.getFocus(),...rt])),yt.length>0&&super.setSelection((0,W.EB)([...super.getSelection(),...yt])),typeof Ht=="number"&&super.setAnchor(Ht)}setFocus(B,_e,We=!1){super.setFocus(B,_e),We||this.focusTrait.set(B.map(rt=>this.element(rt)),_e)}setSelection(B,_e,We=!1){super.setSelection(B,_e),We||this.selectionTrait.set(B.map(rt=>this.element(rt)),_e)}setAnchor(B,_e=!1){super.setAnchor(B),_e||(typeof B=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(B)]))}}class Me{constructor(B,_e,We,rt,yt={}){this._options=yt,this.eventBufferer=new O.E7,this.disposables=new w.SL,this._onWillRefilter=new O.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new O.Q5;const Ht=new Ce(We),Qt=new O.ZD,ei=new O.ZD,ri=new ae(ei.event);this.renderers=rt.map(Ei=>new Be(Ei,()=>this.model,Qt.event,ri,yt));for(let Ei of this.renderers)this.disposables.add(Ei);let gi;yt.keyboardNavigationLabelProvider&&(gi=new Ve(this,yt.keyboardNavigationLabelProvider,yt.filter),yt=Object.assign(Object.assign({},yt),{filter:gi}),this.disposables.add(gi)),this.focus=new xe(()=>this.view.getFocusedElements()[0],yt.identityProvider),this.selection=new xe(()=>this.view.getSelectedElements()[0],yt.identityProvider),this.anchor=new xe(()=>this.view.getAnchorElement(),yt.identityProvider),this.view=new Le(B,_e,Ht,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Oe(()=>this.model,yt)),{tree:this})),this.model=this.createModel(B,this.view,yt),Qt.input=this.model.onDidChangeCollapseState;const Mi=O.ju.forEach(this.model.onDidSplice,Ei=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Ei),this.selection.onDidModelSplice(Ei)})});if(Mi(()=>null,null,this.disposables),ei.input=O.ju.chain(O.ju.any(Mi,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Ei=new Set;for(const xi of this.focus.getNodes())Ei.add(xi);for(const xi of this.selection.getNodes())Ei.add(xi);return[...Ei.values()]}).event,yt.keyboardSupport!==!1){const Ei=O.ju.chain(this.view.onKeyDown).filter(xi=>!(0,x.cK)(xi.target)).map(xi=>new u.y(xi));Ei.filter(xi=>xi.keyCode===15).on(this.onLeftArrow,this,this.disposables),Ei.filter(xi=>xi.keyCode===17).on(this.onRightArrow,this,this.disposables),Ei.filter(xi=>xi.keyCode===10).on(this.onSpace,this,this.disposables)}if(yt.keyboardNavigationLabelProvider){const Ei=yt.keyboardNavigationDelegate||x.WK;this.typeFilterController=new se(this,this.model,this.view,gi,Ei),this.focusNavigationFilter=xi=>this.typeFilterController.shouldAllowFocus(xi),this.disposables.add(this.typeFilterController)}this.styleElement=(0,h.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===oe.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return O.ju.map(this.view.onMouseDblClick,ce)}get onPointer(){return O.ju.map(this.view.onPointer,ce)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(B={}){this._options=Object.assign(Object.assign({},this._options),B);for(const _e of this.renderers)_e.updateOptions(B);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===oe.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(B){this.view.scrollTop=B}domFocus(){this.view.domFocus()}layout(B,_e){this.view.layout(B,_e)}style(B){const _e=`.${this.view.domId}`,We=[];B.treeIndentGuidesStroke&&(We.push(`.monaco-list${_e}:hover .monaco-tl-indent > .indent-guide, .monaco-list${_e}.always .monaco-tl-indent > .indent-guide  { border-color: ${B.treeIndentGuidesStroke.transparent(.4)}; }`),We.push(`.monaco-list${_e} .monaco-tl-indent > .indent-guide.active { border-color: ${B.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=We.join(`
`),this.view.style(B)}collapse(B,_e=!1){return this.model.setCollapsed(B,!0,_e)}expand(B,_e=!1){return this.model.setCollapsed(B,!1,_e)}isCollapsible(B){return this.model.isCollapsible(B)}setCollapsible(B,_e){return this.model.setCollapsible(B,_e)}isCollapsed(B){return this.model.isCollapsed(B)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(B,_e){const We=B.map(yt=>this.model.getNode(yt));this.selection.set(We,_e);const rt=B.map(yt=>this.model.getListIndex(yt)).filter(yt=>yt>-1);this.view.setSelection(rt,_e,!0)}getSelection(){return this.selection.get()}setFocus(B,_e){const We=B.map(yt=>this.model.getNode(yt));this.focus.set(We,_e);const rt=B.map(yt=>this.model.getListIndex(yt)).filter(yt=>yt>-1);this.view.setFocus(rt,_e,!0)}focusNext(B=1,_e=!1,We,rt=this.focusNavigationFilter){this.view.focusNext(B,_e,We,rt)}getFocus(){return this.focus.get()}reveal(B,_e){this.model.expandTo(B);const We=this.model.getListIndex(B);We!==-1&&this.view.reveal(We,_e)}getRelativeTop(B){const _e=this.model.getListIndex(B);return _e===-1?null:this.view.getRelativeTop(_e)}onLeftArrow(B){B.preventDefault(),B.stopPropagation();const _e=this.view.getFocusedElements();if(_e.length===0)return;const We=_e[0],rt=this.model.getNodeLocation(We);if(!this.model.setCollapsed(rt,!0)){const Ht=this.model.getParentNodeLocation(rt);if(!Ht)return;const Qt=this.model.getListIndex(Ht);this.view.reveal(Qt),this.view.setFocus([Qt])}}onRightArrow(B){B.preventDefault(),B.stopPropagation();const _e=this.view.getFocusedElements();if(_e.length===0)return;const We=_e[0],rt=this.model.getNodeLocation(We);if(!this.model.setCollapsed(rt,!1)){if(!We.children.some(ei=>ei.visible))return;const[Ht]=this.view.getFocus(),Qt=Ht+1;this.view.reveal(Qt),this.view.setFocus([Qt])}}onSpace(B){B.preventDefault(),B.stopPropagation();const _e=this.view.getFocusedElements();if(_e.length===0)return;const We=_e[0],rt=this.model.getNodeLocation(We),yt=B.browserEvent.altKey;this.model.setCollapsed(rt,void 0,yt)}dispose(){(0,w.B9)(this.disposables),this.view.dispose()}}class Se{constructor(B,_e,We={}){this.user=B,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new ne(B,_e,null,We),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,We.sorter&&(this.sorter={compare(rt,yt){return We.sorter.compare(rt.element,yt.element)}}),this.identityProvider=We.identityProvider}setChildren(B,_e=T.$.empty(),We={}){const rt=this.getElementLocation(B);this._setChildren(rt,this.preserveCollapseState(_e),We)}_setChildren(B,_e=T.$.empty(),We){const rt=new Set,yt=new Set,Ht=ei=>{var ri;if(ei.element===null)return;const gi=ei;if(rt.add(gi.element),this.nodes.set(gi.element,gi),this.identityProvider){const Mi=this.identityProvider.getId(gi.element).toString();yt.add(Mi),this.nodesByIdentity.set(Mi,gi)}(ri=We.onDidCreateNode)===null||ri===void 0||ri.call(We,gi)},Qt=ei=>{var ri;if(ei.element===null)return;const gi=ei;if(rt.has(gi.element)||this.nodes.delete(gi.element),this.identityProvider){const Mi=this.identityProvider.getId(gi.element).toString();yt.has(Mi)||this.nodesByIdentity.delete(Mi)}(ri=We.onDidDeleteNode)===null||ri===void 0||ri.call(We,gi)};this.model.splice([...B,0],Number.MAX_VALUE,_e,Object.assign(Object.assign({},We),{onDidCreateNode:Ht,onDidDeleteNode:Qt}))}preserveCollapseState(B=T.$.empty()){return this.sorter&&(B=[...B].sort(this.sorter.compare.bind(this.sorter))),T.$.map(B,_e=>{let We=this.nodes.get(_e.element);if(!We&&this.identityProvider){const Ht=this.identityProvider.getId(_e.element).toString();We=this.nodesByIdentity.get(Ht)}if(!We)return Object.assign(Object.assign({},_e),{children:this.preserveCollapseState(_e.children)});const rt=typeof _e.collapsible=="boolean"?_e.collapsible:We.collapsible,yt=typeof _e.collapsed!="undefined"?_e.collapsed:We.collapsed;return Object.assign(Object.assign({},_e),{collapsible:rt,collapsed:yt,children:this.preserveCollapseState(_e.children)})})}rerender(B){const _e=this.getElementLocation(B);this.model.rerender(_e)}has(B){return this.nodes.has(B)}getListIndex(B){const _e=this.getElementLocation(B);return this.model.getListIndex(_e)}getListRenderCount(B){const _e=this.getElementLocation(B);return this.model.getListRenderCount(_e)}isCollapsible(B){const _e=this.getElementLocation(B);return this.model.isCollapsible(_e)}setCollapsible(B,_e){const We=this.getElementLocation(B);return this.model.setCollapsible(We,_e)}isCollapsed(B){const _e=this.getElementLocation(B);return this.model.isCollapsed(_e)}setCollapsed(B,_e,We){const rt=this.getElementLocation(B);return this.model.setCollapsed(rt,_e,We)}expandTo(B){const _e=this.getElementLocation(B);this.model.expandTo(_e)}refilter(){this.model.refilter()}getNode(B=null){if(B===null)return this.model.getNode(this.model.rootRef);const _e=this.nodes.get(B);if(!_e)throw new b(this.user,`Tree element not found: ${B}`);return _e}getNodeLocation(B){return B.element}getParentNodeLocation(B){if(B===null)throw new b(this.user,"Invalid getParentNodeLocation call");const _e=this.nodes.get(B);if(!_e)throw new b(this.user,`Tree element not found: ${B}`);const We=this.model.getNodeLocation(_e),rt=this.model.getParentNodeLocation(We);return this.model.getNode(rt).element}getElementLocation(B){if(B===null)return[];const _e=this.nodes.get(B);if(!_e)throw new b(this.user,`Tree element not found: ${B}`);return this.model.getNodeLocation(_e)}}function ze(bt){const B=[bt.element],_e=bt.incompressible||!1;return{element:{elements:B,incompressible:_e},children:T.$.map(T.$.from(bt.children),ze),collapsible:bt.collapsible,collapsed:bt.collapsed}}function Ye(bt){const B=[bt.element],_e=bt.incompressible||!1;let We,rt;for(;[rt,We]=T.$.consume(T.$.from(bt.children),2),!(rt.length!==1||rt[0].incompressible);)bt=rt[0],B.push(bt.element);return{element:{elements:B,incompressible:_e},children:T.$.map(T.$.concat(rt,We),Ye),collapsible:bt.collapsible,collapsed:bt.collapsed}}function qe(bt,B=0){let _e;return B<bt.element.elements.length-1?_e=[qe(bt,B+1)]:_e=T.$.map(T.$.from(bt.children),We=>qe(We,0)),B===0&&bt.element.incompressible?{element:bt.element.elements[B],children:_e,incompressible:!0,collapsible:bt.collapsible,collapsed:bt.collapsed}:{element:bt.element.elements[B],children:_e,collapsible:bt.collapsible,collapsed:bt.collapsed}}function ht(bt){return qe(bt,0)}function kt(bt,B,_e){return bt.element===B?Object.assign(Object.assign({},bt),{children:_e}):Object.assign(Object.assign({},bt),{children:T.$.map(T.$.from(bt.children),We=>kt(We,B,_e))})}const zt=bt=>({getId(B){return B.elements.map(_e=>bt.getId(_e).toString()).join("\0")}});class Ke{constructor(B,_e,We={}){this.user=B,this.rootRef=null,this.nodes=new Map,this.model=new Se(B,_e,We),this.enabled=typeof We.compressionEnabled=="undefined"?!0:We.compressionEnabled,this.identityProvider=We.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(B,_e=T.$.empty(),We){const rt=We.diffIdentityProvider&&zt(We.diffIdentityProvider);if(B===null){const xi=T.$.map(_e,this.enabled?Ye:ze);this._setChildren(null,xi,{diffIdentityProvider:rt,diffDepth:1/0});return}const yt=this.nodes.get(B);if(!yt)throw new Error("Unknown compressed tree node");const Ht=this.model.getNode(yt),Qt=this.model.getParentNodeLocation(yt),ei=this.model.getNode(Qt),ri=ht(Ht),gi=kt(ri,B,_e),Mi=(this.enabled?Ye:ze)(gi),Ei=ei.children.map(xi=>xi===Ht?Mi:xi);this._setChildren(ei.element,Ei,{diffIdentityProvider:rt,diffDepth:Ht.depth-ei.depth})}setCompressionEnabled(B){if(B===this.enabled)return;this.enabled=B;const We=this.model.getNode().children,rt=T.$.map(We,ht),yt=T.$.map(rt,B?Ye:ze);this._setChildren(null,yt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(B,_e,We){const rt=new Set,yt=Qt=>{for(const ei of Qt.element.elements)rt.add(ei),this.nodes.set(ei,Qt.element)},Ht=Qt=>{for(const ei of Qt.element.elements)rt.has(ei)||this.nodes.delete(ei)};this.model.setChildren(B,_e,Object.assign(Object.assign({},We),{onDidCreateNode:yt,onDidDeleteNode:Ht}))}has(B){return this.nodes.has(B)}getListIndex(B){const _e=this.getCompressedNode(B);return this.model.getListIndex(_e)}getListRenderCount(B){const _e=this.getCompressedNode(B);return this.model.getListRenderCount(_e)}getNode(B){if(typeof B=="undefined")return this.model.getNode();const _e=this.getCompressedNode(B);return this.model.getNode(_e)}getNodeLocation(B){const _e=this.model.getNodeLocation(B);return _e===null?null:_e.elements[_e.elements.length-1]}getParentNodeLocation(B){const _e=this.getCompressedNode(B),We=this.model.getParentNodeLocation(_e);return We===null?null:We.elements[We.elements.length-1]}isCollapsible(B){const _e=this.getCompressedNode(B);return this.model.isCollapsible(_e)}setCollapsible(B,_e){const We=this.getCompressedNode(B);return this.model.setCollapsible(We,_e)}isCollapsed(B){const _e=this.getCompressedNode(B);return this.model.isCollapsed(_e)}setCollapsed(B,_e,We){const rt=this.getCompressedNode(B);return this.model.setCollapsed(rt,_e,We)}expandTo(B){const _e=this.getCompressedNode(B);this.model.expandTo(_e)}rerender(B){const _e=this.getCompressedNode(B);this.model.rerender(_e)}refilter(){this.model.refilter()}getCompressedNode(B){if(B===null)return null;const _e=this.nodes.get(B);if(!_e)throw new b(this.user,`Tree element not found: ${B}`);return _e}}const Je=bt=>bt[bt.length-1];class Ze{constructor(B,_e){this.unwrapper=B,this.node=_e}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(B=>new Ze(this.unwrapper,B))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function Ae(bt,B){return{splice(_e,We,rt){B.splice(_e,We,rt.map(yt=>bt.map(yt)))},updateElementHeight(_e,We){B.updateElementHeight(_e,We)}}}function He(bt,B){return Object.assign(Object.assign({},B),{identityProvider:B.identityProvider&&{getId(_e){return B.identityProvider.getId(bt(_e))}},sorter:B.sorter&&{compare(_e,We){return B.sorter.compare(_e.elements[0],We.elements[0])}},filter:B.filter&&{filter(_e,We){return B.filter.filter(bt(_e),We)}}})}class It{constructor(B,_e,We={}){this.rootRef=null,this.elementMapper=We.elementMapper||Je;const rt=yt=>this.elementMapper(yt.elements);this.nodeMapper=new L(yt=>new Ze(rt,yt)),this.model=new Ke(B,Ae(this.nodeMapper,_e),He(rt,We))}get onDidSplice(){return O.ju.map(this.model.onDidSplice,({insertedNodes:B,deletedNodes:_e})=>({insertedNodes:B.map(We=>this.nodeMapper.map(We)),deletedNodes:_e.map(We=>this.nodeMapper.map(We))}))}get onDidChangeCollapseState(){return O.ju.map(this.model.onDidChangeCollapseState,({node:B,deep:_e})=>({node:this.nodeMapper.map(B),deep:_e}))}get onDidChangeRenderNodeCount(){return O.ju.map(this.model.onDidChangeRenderNodeCount,B=>this.nodeMapper.map(B))}setChildren(B,_e=T.$.empty(),We={}){this.model.setChildren(B,_e,We)}setCompressionEnabled(B){this.model.setCompressionEnabled(B)}has(B){return this.model.has(B)}getListIndex(B){return this.model.getListIndex(B)}getListRenderCount(B){return this.model.getListRenderCount(B)}getNode(B){return this.nodeMapper.map(this.model.getNode(B))}getNodeLocation(B){return B.element}getParentNodeLocation(B){return this.model.getParentNodeLocation(B)}isCollapsible(B){return this.model.isCollapsible(B)}setCollapsible(B,_e){return this.model.setCollapsible(B,_e)}isCollapsed(B){return this.model.isCollapsed(B)}setCollapsed(B,_e,We){return this.model.setCollapsed(B,_e,We)}expandTo(B){return this.model.expandTo(B)}rerender(B){return this.model.rerender(B)}refilter(){return this.model.refilter()}getCompressedTreeNode(B=null){return this.model.getNode(B)}}var Bt=t(49898),oi=function(bt,B,_e,We){var rt=arguments.length,yt=rt<3?B:We===null?We=Object.getOwnPropertyDescriptor(B,_e):We,Ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(bt,B,_e,We);else for(var Qt=bt.length-1;Qt>=0;Qt--)(Ht=bt[Qt])&&(yt=(rt<3?Ht(yt):rt>3?Ht(B,_e,yt):Ht(B,_e))||yt);return rt>3&&yt&&Object.defineProperty(B,_e,yt),yt};class ni extends Me{constructor(B,_e,We,rt,yt={}){super(B,_e,We,rt,yt)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(B,_e=T.$.empty(),We){this.model.setChildren(B,_e,We)}rerender(B){if(B===void 0){this.view.rerender();return}this.model.rerender(B)}hasElement(B){return this.model.has(B)}createModel(B,_e,We){return new Se(B,_e,We)}}class hi{constructor(B,_e){this._compressedTreeNodeProvider=B,this.renderer=_e,this.templateId=_e.templateId,_e.onDidChangeTwistieState&&(this.onDidChangeTwistieState=_e.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(B){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(B)}}renderElement(B,_e,We,rt){const yt=this.compressedTreeNodeProvider.getCompressedTreeNode(B.element);yt.element.elements.length===1?(We.compressedTreeNode=void 0,this.renderer.renderElement(B,_e,We.data,rt)):(We.compressedTreeNode=yt,this.renderer.renderCompressedElements(yt,_e,We.data,rt))}disposeElement(B,_e,We,rt){We.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(We.compressedTreeNode,_e,We.data,rt):this.renderer.disposeElement&&this.renderer.disposeElement(B,_e,We.data,rt)}disposeTemplate(B){this.renderer.disposeTemplate(B.data)}renderTwistie(B,_e){return this.renderer.renderTwistie?this.renderer.renderTwistie(B,_e):!1}}oi([Bt.H],hi.prototype,"compressedTreeNodeProvider",null);function Di(bt,B){return B&&Object.assign(Object.assign({},B),{keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(_e){let We;try{We=bt().getCompressedTreeNode(_e)}catch(rt){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(_e)}return We.element.elements.length===1?B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(_e):B.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(We.element.elements)}}})}class Ti extends ni{constructor(B,_e,We,rt,yt={}){const Ht=()=>this,Qt=rt.map(ei=>new hi(Ht,ei));super(B,_e,We,Qt,Di(Ht,yt))}setChildren(B,_e=T.$.empty(),We){this.model.setChildren(B,_e,We)}createModel(B,_e,We){return new It(B,_e,We)}updateOptions(B={}){super.updateOptions(B),typeof B.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(B.compressionEnabled)}getCompressedTreeNode(B=null){return this.model.getCompressedTreeNode(B)}}var Ii=t(17301),ai=function(bt,B,_e,We){function rt(yt){return yt instanceof _e?yt:new _e(function(Ht){Ht(yt)})}return new(_e||(_e=Promise))(function(yt,Ht){function Qt(gi){try{ri(We.next(gi))}catch(Mi){Ht(Mi)}}function ei(gi){try{ri(We.throw(gi))}catch(Mi){Ht(Mi)}}function ri(gi){gi.done?yt(gi.value):rt(gi.value).then(Qt,ei)}ri((We=We.apply(bt,B||[])).next())})};function Pt(bt){return Object.assign(Object.assign({},bt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function Gt(bt,B){return B.parent?B.parent===bt?!0:Gt(bt,B.parent):!1}function ot(bt,B){return bt===B||Gt(bt,B)||Gt(B,bt)}class mt{constructor(B){this.node=B}get element(){return this.node.element.element}get children(){return this.node.children.map(B=>new mt(B))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class ft{constructor(B,_e,We){this.renderer=B,this.nodeMapper=_e,this.onDidChangeTwistieState=We,this.renderedNodes=new Map,this.templateId=B.templateId}renderTemplate(B){return{templateData:this.renderer.renderTemplate(B)}}renderElement(B,_e,We,rt){this.renderer.renderElement(this.nodeMapper.map(B),_e,We.templateData,rt)}renderTwistie(B,_e){return B.slow?(_e.classList.add(...le.classNamesArray),!0):(_e.classList.remove(...le.classNamesArray),!1)}disposeElement(B,_e,We,rt){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(B),_e,We.templateData,rt)}disposeTemplate(B){this.renderer.disposeTemplate(B.templateData)}dispose(){this.renderedNodes.clear()}}function Xe(bt){return{browserEvent:bt.browserEvent,elements:bt.elements.map(B=>B.element)}}function Ge(bt){return{browserEvent:bt.browserEvent,element:bt.element&&bt.element.element,target:bt.target}}class Ie extends v.kX{constructor(B){super(B.elements.map(_e=>_e.element)),this.data=B}}function Pe(bt){return bt instanceof v.kX?new Ie(bt):bt}class je{constructor(B){this.dnd=B}getDragURI(B){return this.dnd.getDragURI(B.element)}getDragLabel(B,_e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B.map(We=>We.element),_e)}onDragStart(B,_e){this.dnd.onDragStart&&this.dnd.onDragStart(Pe(B),_e)}onDragOver(B,_e,We,rt,yt=!0){return this.dnd.onDragOver(Pe(B),_e&&_e.element,We,rt)}drop(B,_e,We,rt){this.dnd.drop(Pe(B),_e&&_e.element,We,rt)}onDragEnd(B){this.dnd.onDragEnd&&this.dnd.onDragEnd(B)}}function dt(bt){return bt&&Object.assign(Object.assign({},bt),{collapseByDefault:!0,identityProvider:bt.identityProvider&&{getId(B){return bt.identityProvider.getId(B.element)}},dnd:bt.dnd&&new je(bt.dnd),multipleSelectionController:bt.multipleSelectionController&&{isSelectionSingleChangeEvent(B){return bt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))},isSelectionRangeChangeEvent(B){return bt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))}},accessibilityProvider:bt.accessibilityProvider&&Object.assign(Object.assign({},bt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:bt.accessibilityProvider.getRole?B=>bt.accessibilityProvider.getRole(B.element):()=>"treeitem",isChecked:bt.accessibilityProvider.isChecked?B=>{var _e;return!!(!((_e=bt.accessibilityProvider)===null||_e===void 0)&&_e.isChecked(B.element))}:void 0,getAriaLabel(B){return bt.accessibilityProvider.getAriaLabel(B.element)},getWidgetAriaLabel(){return bt.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:bt.accessibilityProvider.getWidgetRole?()=>bt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:bt.accessibilityProvider.getAriaLevel&&(B=>bt.accessibilityProvider.getAriaLevel(B.element)),getActiveDescendantId:bt.accessibilityProvider.getActiveDescendantId&&(B=>bt.accessibilityProvider.getActiveDescendantId(B.element))}),filter:bt.filter&&{filter(B,_e){return bt.filter.filter(B.element,_e)}},keyboardNavigationLabelProvider:bt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},bt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(B){return bt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof bt.expandOnlyOnTwistieClick=="undefined"?void 0:typeof bt.expandOnlyOnTwistieClick!="function"?bt.expandOnlyOnTwistieClick:B=>bt.expandOnlyOnTwistieClick(B.element),additionalScrollHeight:bt.additionalScrollHeight})}function Nt(bt,B){B(bt),bt.children.forEach(_e=>Nt(_e,B))}class $t{constructor(B,_e,We,rt,yt,Ht={}){this.user=B,this.dataSource=yt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new O.Q5,this._onDidChangeNodeSlowState=new O.Q5,this.nodeMapper=new L(Qt=>new mt(Qt)),this.disposables=new w.SL,this.identityProvider=Ht.identityProvider,this.autoExpandSingleChildren=typeof Ht.autoExpandSingleChildren=="undefined"?!1:Ht.autoExpandSingleChildren,this.sorter=Ht.sorter,this.collapseByDefault=Ht.collapseByDefault,this.tree=this.createTree(B,_e,We,rt,Ht),this.root=Pt({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return O.ju.map(this.tree.onDidChangeFocus,Xe)}get onDidChangeSelection(){return O.ju.map(this.tree.onDidChangeSelection,Xe)}get onMouseDblClick(){return O.ju.map(this.tree.onMouseDblClick,Ge)}get onPointer(){return O.ju.map(this.tree.onPointer,Ge)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(B,_e,We,rt,yt){const Ht=new Ce(We),Qt=rt.map(ri=>new ft(ri,this.nodeMapper,this._onDidChangeNodeSlowState.event)),ei=dt(yt)||{};return new ni(B,_e,Ht,Qt,ei)}updateOptions(B={}){this.tree.updateOptions(B)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(B){this.tree.scrollTop=B}domFocus(){this.tree.domFocus()}layout(B,_e){this.tree.layout(B,_e)}style(B){this.tree.style(B)}getInput(){return this.root.element}setInput(B,_e){return ai(this,void 0,void 0,function*(){this.refreshPromises.forEach(rt=>rt.cancel()),this.refreshPromises.clear(),this.root.element=B;const We=_e&&{viewState:_e,focus:[],selection:[]};yield this._updateChildren(B,!0,!1,We),We&&(this.tree.setFocus(We.focus),this.tree.setSelection(We.selection)),_e&&typeof _e.scrollTop=="number"&&(this.scrollTop=_e.scrollTop)})}_updateChildren(B=this.root.element,_e=!0,We=!1,rt,yt){return ai(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new b(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event));const Ht=this.getDataNode(B);if(yield this.refreshAndRenderNode(Ht,_e,rt,yt),We)try{this.tree.rerender(Ht)}catch(Qt){}})}rerender(B){if(B===void 0||B===this.root.element){this.tree.rerender();return}const _e=this.getDataNode(B);this.tree.rerender(_e)}collapse(B,_e=!1){const We=this.getDataNode(B);return this.tree.collapse(We===this.root?null:We,_e)}expand(B,_e=!1){return ai(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new b(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event));const We=this.getDataNode(B);if(this.tree.hasElement(We)&&!this.tree.isCollapsible(We)||(We.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event)),We!==this.root&&!We.refreshPromise&&!this.tree.isCollapsed(We)))return!1;const rt=this.tree.expand(We===this.root?null:We,_e);return We.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event)),rt})}setSelection(B,_e){const We=B.map(rt=>this.getDataNode(rt));this.tree.setSelection(We,_e)}getSelection(){return this.tree.getSelection().map(_e=>_e.element)}setFocus(B,_e){const We=B.map(rt=>this.getDataNode(rt));this.tree.setFocus(We,_e)}getFocus(){return this.tree.getFocus().map(_e=>_e.element)}reveal(B,_e){this.tree.reveal(this.getDataNode(B),_e)}getDataNode(B){const _e=this.nodes.get(B===this.root.element?null:B);if(!_e)throw new b(this.user,`Data tree node not found: ${B}`);return _e}refreshAndRenderNode(B,_e,We,rt){return ai(this,void 0,void 0,function*(){yield this.refreshNode(B,_e,We),this.render(B,We,rt)})}refreshNode(B,_e,We){return ai(this,void 0,void 0,function*(){let rt;return this.subTreeRefreshPromises.forEach((yt,Ht)=>{!rt&&ot(Ht,B)&&(rt=yt.then(()=>this.refreshNode(B,_e,We)))}),rt||this.doRefreshSubTree(B,_e,We)})}doRefreshSubTree(B,_e,We){return ai(this,void 0,void 0,function*(){let rt;B.refreshPromise=new Promise(yt=>rt=yt),this.subTreeRefreshPromises.set(B,B.refreshPromise),B.refreshPromise.finally(()=>{B.refreshPromise=void 0,this.subTreeRefreshPromises.delete(B)});try{const yt=yield this.doRefreshNode(B,_e,We);B.stale=!1,yield E.jT.settled(yt.map(Ht=>this.doRefreshSubTree(Ht,_e,We)))}finally{rt()}})}doRefreshNode(B,_e,We){return ai(this,void 0,void 0,function*(){B.hasChildren=!!this.dataSource.hasChildren(B.element);let rt;if(!B.hasChildren)rt=Promise.resolve(T.$.empty());else{const yt=(0,E.Vs)(800);yt.then(()=>{B.slow=!0,this._onDidChangeNodeSlowState.fire(B)},Ht=>null),rt=this.doGetChildren(B).finally(()=>yt.cancel())}try{const yt=yield rt;return this.setChildren(B,yt,_e,We)}catch(yt){if(B!==this.root&&this.tree.hasElement(B)&&this.tree.collapse(B),(0,Ii.VV)(yt))return[];throw yt}finally{B.slow&&(B.slow=!1,this._onDidChangeNodeSlowState.fire(B))}})}doGetChildren(B){let _e=this.refreshPromises.get(B);return _e||(_e=(0,E.PG)(()=>ai(this,void 0,void 0,function*(){const We=yield this.dataSource.getChildren(B.element);return this.processChildren(We)})),this.refreshPromises.set(B,_e),_e.finally(()=>{this.refreshPromises.delete(B)}))}_onDidChangeCollapseState({node:B,deep:_e}){B.element!==null&&!B.collapsed&&B.element.stale&&(_e?this.collapse(B.element.element):this.refreshAndRenderNode(B.element,!1).catch(Ii.dL))}setChildren(B,_e,We,rt){const yt=[..._e];if(B.children.length===0&&yt.length===0)return[];const Ht=new Map,Qt=new Map;for(const gi of B.children)if(Ht.set(gi.element,gi),this.identityProvider){const Mi=this.tree.isCollapsed(gi);Qt.set(gi.id,{node:gi,collapsed:Mi})}const ei=[],ri=yt.map(gi=>{const Mi=!!this.dataSource.hasChildren(gi);if(!this.identityProvider){const ki=Pt({element:gi,parent:B,hasChildren:Mi});return Mi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&(ki.collapsedByDefault=!1,ei.push(ki)),ki}const Ei=this.identityProvider.getId(gi).toString(),xi=Qt.get(Ei);if(xi){const ki=xi.node;return Ht.delete(ki.element),this.nodes.delete(ki.element),this.nodes.set(gi,ki),ki.element=gi,ki.hasChildren=Mi,We?xi.collapsed?(ki.children.forEach(Bi=>Nt(Bi,on=>this.nodes.delete(on.element))),ki.children.splice(0,ki.children.length),ki.stale=!0):ei.push(ki):Mi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&(ki.collapsedByDefault=!1,ei.push(ki)),ki}const Pi=Pt({element:gi,parent:B,id:Ei,hasChildren:Mi});return rt&&rt.viewState.focus&&rt.viewState.focus.indexOf(Ei)>-1&&rt.focus.push(Pi),rt&&rt.viewState.selection&&rt.viewState.selection.indexOf(Ei)>-1&&rt.selection.push(Pi),rt&&rt.viewState.expanded&&rt.viewState.expanded.indexOf(Ei)>-1?ei.push(Pi):Mi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&(Pi.collapsedByDefault=!1,ei.push(Pi)),Pi});for(const gi of Ht.values())Nt(gi,Mi=>this.nodes.delete(Mi.element));for(const gi of ri)this.nodes.set(gi.element,gi);return B.children.splice(0,B.children.length,...ri),B!==this.root&&this.autoExpandSingleChildren&&ri.length===1&&ei.length===0&&(ri[0].collapsedByDefault=!1,ei.push(ri[0])),ei}render(B,_e,We){const rt=B.children.map(Ht=>this.asTreeElement(Ht,_e)),yt=We&&Object.assign(Object.assign({},We),{diffIdentityProvider:We.diffIdentityProvider&&{getId(Ht){return We.diffIdentityProvider.getId(Ht.element)}}});this.tree.setChildren(B===this.root?null:B,rt,yt),B!==this.root&&this.tree.setCollapsible(B,B.hasChildren),this._onDidRender.fire()}asTreeElement(B,_e){if(B.stale)return{element:B,collapsible:B.hasChildren,collapsed:!0};let We;return _e&&_e.viewState.expanded&&B.id&&_e.viewState.expanded.indexOf(B.id)>-1?We=!1:We=B.collapsedByDefault,B.collapsedByDefault=void 0,{element:B,children:B.hasChildren?T.$.map(B.children,rt=>this.asTreeElement(rt,_e)):[],collapsible:B.hasChildren,collapsed:We}}processChildren(B){return this.sorter&&(B=[...B].sort(this.sorter.compare.bind(this.sorter))),B}dispose(){this.disposables.dispose()}}class Xt{constructor(B){this.node=B}get element(){return{elements:this.node.element.elements.map(B=>B.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(B=>new Xt(B))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Ci{constructor(B,_e,We,rt){this.renderer=B,this.nodeMapper=_e,this.compressibleNodeMapperProvider=We,this.onDidChangeTwistieState=rt,this.renderedNodes=new Map,this.disposables=[],this.templateId=B.templateId}renderTemplate(B){return{templateData:this.renderer.renderTemplate(B)}}renderElement(B,_e,We,rt){this.renderer.renderElement(this.nodeMapper.map(B),_e,We.templateData,rt)}renderCompressedElements(B,_e,We,rt){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(B),_e,We.templateData,rt)}renderTwistie(B,_e){return B.slow?(_e.classList.add(...le.classNamesArray),!0):(_e.classList.remove(...le.classNamesArray),!1)}disposeElement(B,_e,We,rt){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(B),_e,We.templateData,rt)}disposeCompressedElements(B,_e,We,rt){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(B),_e,We.templateData,rt)}disposeTemplate(B){this.renderer.disposeTemplate(B.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,w.B9)(this.disposables)}}function Zt(bt){const B=bt&&dt(bt);return B&&Object.assign(Object.assign({},B),{keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},B.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(_e){return bt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(_e.map(We=>We.element))}})})}class mi extends $t{constructor(B,_e,We,rt,yt,Ht,Qt={}){super(B,_e,We,yt,Ht,Qt),this.compressionDelegate=rt,this.compressibleNodeMapper=new L(ei=>new Xt(ei)),this.filter=Qt.filter}createTree(B,_e,We,rt,yt){const Ht=new Ce(We),Qt=rt.map(ri=>new Ci(ri,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),ei=Zt(yt)||{};return new Ti(B,_e,Ht,Qt,ei)}asTreeElement(B,_e){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(B.element)},super.asTreeElement(B,_e))}updateOptions(B={}){this.tree.updateOptions(B)}render(B,_e){if(!this.identityProvider)return super.render(B,_e);const We=Ei=>this.identityProvider.getId(Ei).toString(),rt=Ei=>{const xi=new Set;for(const Pi of Ei){const ki=this.tree.getCompressedTreeNode(Pi===this.root?null:Pi);if(ki.element)for(const Bi of ki.element.elements)xi.add(We(Bi.element))}return xi},yt=rt(this.tree.getSelection()),Ht=rt(this.tree.getFocus());super.render(B,_e);const Qt=this.getSelection();let ei=!1;const ri=this.getFocus();let gi=!1;const Mi=Ei=>{const xi=Ei.element;if(xi)for(let Pi=0;Pi<xi.elements.length;Pi++){const ki=We(xi.elements[Pi].element),Bi=xi.elements[xi.elements.length-1].element;yt.has(ki)&&Qt.indexOf(Bi)===-1&&(Qt.push(Bi),ei=!0),Ht.has(ki)&&ri.indexOf(Bi)===-1&&(ri.push(Bi),gi=!0)}Ei.children.forEach(Mi)};Mi(this.tree.getCompressedTreeNode(B===this.root?null:B)),ei&&this.setSelection(Qt),gi&&this.setFocus(ri)}processChildren(B){return this.filter&&(B=T.$.filter(B,_e=>{const We=this.filter.filter(_e,1),rt=pt(We);if(rt===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return rt===1})),super.processChildren(B)}}function pt(bt){return typeof bt=="boolean"?bt?1:0:j(bt)?q(bt.visibility):q(bt)}class ut extends Me{constructor(B,_e,We,rt,yt,Ht={}){super(B,_e,We,rt,Ht),this.user=B,this.dataSource=yt,this.identityProvider=Ht.identityProvider}createModel(B,_e,We){return new Se(B,_e,We)}}var tt=t(31106),de=t(33108),be=t(23193),J=t(38819),pe=t(39282),ke=t(72065),at=t(91847),st=t(89872),_t=t(88810),Et=t(97781),Wt=function(bt,B,_e,We){var rt=arguments.length,yt=rt<3?B:We===null?We=Object.getOwnPropertyDescriptor(B,_e):We,Ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")yt=Reflect.decorate(bt,B,_e,We);else for(var Qt=bt.length-1;Qt>=0;Qt--)(Ht=bt[Qt])&&(yt=(rt<3?Ht(yt):rt>3?Ht(B,_e,yt):Ht(B,_e))||yt);return rt>3&&yt&&Object.defineProperty(B,_e,yt),yt},Mt=function(bt,B){return function(_e,We){B(_e,We,bt)}};const Jt=(0,ke.yh)("listService");let jt=class{constructor(B){this._themeService=B,this.disposables=new w.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(B,_e){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const rt=new x.wD((0,h.dS)(),"");this.disposables.add((0,_t.Jl)(rt,this._themeService))}if(this.lists.some(rt=>rt.widget===B))throw new Error("Cannot register the same widget multiple times");const We={widget:B,extraContextKeys:_e};return this.lists.push(We),B.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=B),(0,w.F8)(B.onDidFocus(()=>this._lastFocusedWidget=B),(0,w.OF)(()=>this.lists.splice(this.lists.indexOf(We),1)),B.onDidDispose(()=>{this.lists=this.lists.filter(rt=>rt!==We),this._lastFocusedWidget===B&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};jt=Wt([Mt(0,Et.XE)],jt);const ui=new J.uy("listFocus",!0),_i=new J.uy("listSupportsMultiselect",!0),bi=J.Ao.and(ui,J.Ao.not(pe.d)),Ai=new J.uy("listHasSelectionOrFocus",!1),Ri=new J.uy("listDoubleSelection",!1),zi=new J.uy("listMultiSelection",!1),hn=new J.uy("listSelectionNavigation",!1),bn="listAutomaticKeyboardNavigation";function Xi(bt,B){const _e=bt.createScoped(B.getHTMLElement());return ui.bindTo(_e),_e}const xn="workbench.list.multiSelectModifier",Sn="workbench.list.openMode",en="workbench.list.horizontalScrolling",Pn="workbench.list.keyboardNavigation",Ln="workbench.list.automaticKeyboardNavigation",Dn="workbench.tree.indent",Xn="workbench.tree.renderIndentGuides",an="workbench.list.smoothScrolling",zn="workbench.list.mouseWheelScrollSensitivity",Kn="workbench.list.fastScrollSensitivity",is="workbench.tree.expandMode";function mn(bt){return bt.getValue(xn)==="alt"}class Qn extends w.JT{constructor(B){super(),this.configurationService=B,this.useAltAsMultipleSelectionModifier=mn(B),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(B=>{B.affectsConfiguration(xn)&&(this.useAltAsMultipleSelectionModifier=mn(this.configurationService))}))}isSelectionSingleChangeEvent(B){return this.useAltAsMultipleSelectionModifier?B.browserEvent.altKey:(0,x.Zo)(B)}isSelectionRangeChangeEvent(B){return(0,x.wn)(B)}}function Bn(bt,B,_e){var We;const rt=new w.SL;return[Object.assign(Object.assign({},bt),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Ht){return _e.mightProducePrintableCharacter(Ht)}},smoothScrolling:!!B.getValue(an),mouseWheelScrollSensitivity:B.getValue(zn),fastScrollSensitivity:B.getValue(Kn),multipleSelectionController:(We=bt.multipleSelectionController)!==null&&We!==void 0?We:rt.add(new Qn(B))}),rt]}let An=class extends x.aV{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri,gi){const Mi=typeof yt.horizontalScrolling!="undefined"?yt.horizontalScrolling:!!ri.getValue(en),[Ei,xi]=Bn(yt,ri,gi);super(B,_e,We,rt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,_t.o)(ei.getColorTheme(),_t.O2)),Ei),{horizontalScrolling:Mi})),this.disposables.add(xi),this.contextKeyService=Xi(Ht,this),this.themeService=ei,this.listSupportsMultiSelect=_i.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(yt.multipleSelectionSupport!==!1),hn.bindTo(this.contextKeyService).set(!!yt.selectionNavigation),this.listHasSelectionOrFocus=Ai.bindTo(this.contextKeyService),this.listDoubleSelection=Ri.bindTo(this.contextKeyService),this.listMultiSelection=zi.bindTo(this.contextKeyService),this.horizontalScrolling=yt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=mn(ri),this.disposables.add(this.contextKeyService),this.disposables.add(Qt.register(this)),yt.overrideStyles&&this.updateStyles(yt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ki=this.getSelection(),Bi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ki.length>0||Bi.length>0),this.listMultiSelection.set(ki.length>1),this.listDoubleSelection.set(ki.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ki=this.getSelection(),Bi=this.getFocus();this.listHasSelectionOrFocus.set(ki.length>0||Bi.length>0)})),this.disposables.add(ri.onDidChangeConfiguration(ki=>{ki.affectsConfiguration(xn)&&(this._useAltAsMultipleSelectionModifier=mn(ri));let Bi={};if(ki.affectsConfiguration(en)&&this.horizontalScrolling===void 0){const on=!!ri.getValue(en);Bi=Object.assign(Object.assign({},Bi),{horizontalScrolling:on})}if(ki.affectsConfiguration(an)){const on=!!ri.getValue(an);Bi=Object.assign(Object.assign({},Bi),{smoothScrolling:on})}if(ki.affectsConfiguration(zn)){const on=ri.getValue(zn);Bi=Object.assign(Object.assign({},Bi),{mouseWheelScrollSensitivity:on})}if(ki.affectsConfiguration(Kn)){const on=ri.getValue(Kn);Bi=Object.assign(Object.assign({},Bi),{fastScrollSensitivity:on})}Object.keys(Bi).length>0&&this.updateOptions(Bi)})),this.navigator=new sn(this,Object.assign({configurationService:ri},yt)),this.disposables.add(this.navigator)}updateOptions(B){super.updateOptions(B),B.overrideStyles&&this.updateStyles(B.overrideStyles),B.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!B.multipleSelectionSupport)}updateStyles(B){var _e;(_e=this._styler)===null||_e===void 0||_e.dispose(),this._styler=(0,_t.Jl)(this,this.themeService,B)}dispose(){var B;(B=this._styler)===null||B===void 0||B.dispose(),super.dispose()}};An=Wt([Mt(5,J.i6),Mt(6,Jt),Mt(7,Et.XE),Mt(8,de.Ui),Mt(9,at.d)],An);let On=class extends l{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri,gi){const Mi=typeof yt.horizontalScrolling!="undefined"?yt.horizontalScrolling:!!ri.getValue(en),[Ei,xi]=Bn(yt,ri,gi);super(B,_e,We,rt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,_t.o)(ei.getColorTheme(),_t.O2)),Ei),{horizontalScrolling:Mi})),this.disposables=new w.SL,this.disposables.add(xi),this.contextKeyService=Xi(Ht,this),this.themeService=ei,this.horizontalScrolling=yt.horizontalScrolling,this.listSupportsMultiSelect=_i.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(yt.multipleSelectionSupport!==!1),hn.bindTo(this.contextKeyService).set(!!yt.selectionNavigation),this._useAltAsMultipleSelectionModifier=mn(ri),this.disposables.add(this.contextKeyService),this.disposables.add(Qt.register(this)),yt.overrideStyles&&this.updateStyles(yt.overrideStyles),yt.overrideStyles&&this.disposables.add((0,_t.Jl)(this,ei,yt.overrideStyles)),this.disposables.add(ri.onDidChangeConfiguration(ki=>{ki.affectsConfiguration(xn)&&(this._useAltAsMultipleSelectionModifier=mn(ri));let Bi={};if(ki.affectsConfiguration(en)&&this.horizontalScrolling===void 0){const on=!!ri.getValue(en);Bi=Object.assign(Object.assign({},Bi),{horizontalScrolling:on})}if(ki.affectsConfiguration(an)){const on=!!ri.getValue(an);Bi=Object.assign(Object.assign({},Bi),{smoothScrolling:on})}if(ki.affectsConfiguration(zn)){const on=ri.getValue(zn);Bi=Object.assign(Object.assign({},Bi),{mouseWheelScrollSensitivity:on})}if(ki.affectsConfiguration(Kn)){const on=ri.getValue(Kn);Bi=Object.assign(Object.assign({},Bi),{fastScrollSensitivity:on})}Object.keys(Bi).length>0&&this.updateOptions(Bi)})),this.navigator=new sn(this,Object.assign({configurationService:ri},yt)),this.disposables.add(this.navigator)}updateOptions(B){super.updateOptions(B),B.overrideStyles&&this.updateStyles(B.overrideStyles),B.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!B.multipleSelectionSupport)}updateStyles(B){var _e;(_e=this._styler)===null||_e===void 0||_e.dispose(),this._styler=(0,_t.Jl)(this,this.themeService,B)}dispose(){var B;(B=this._styler)===null||B===void 0||B.dispose(),this.disposables.dispose(),super.dispose()}};On=Wt([Mt(5,J.i6),Mt(6,Jt),Mt(7,Et.XE),Mt(8,de.Ui),Mt(9,at.d)],On);let qn=class extends f{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri,gi,Mi){const Ei=typeof Ht.horizontalScrolling!="undefined"?Ht.horizontalScrolling:!!gi.getValue(en),[xi,Pi]=Bn(Ht,gi,Mi);super(B,_e,We,rt,yt,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,_t.o)(ri.getColorTheme(),_t.O2)),xi),{horizontalScrolling:Ei})),this.disposables=new w.SL,this.disposables.add(Pi),this.contextKeyService=Xi(Qt,this),this.themeService=ri,this.listSupportsMultiSelect=_i.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ht.multipleSelectionSupport!==!1),hn.bindTo(this.contextKeyService).set(!!Ht.selectionNavigation),this.listHasSelectionOrFocus=Ai.bindTo(this.contextKeyService),this.listDoubleSelection=Ri.bindTo(this.contextKeyService),this.listMultiSelection=zi.bindTo(this.contextKeyService),this.horizontalScrolling=Ht.horizontalScrolling,this._useAltAsMultipleSelectionModifier=mn(gi),this.disposables.add(this.contextKeyService),this.disposables.add(ei.register(this)),Ht.overrideStyles&&this.updateStyles(Ht.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Bi=this.getSelection(),on=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Bi.length>0||on.length>0),this.listMultiSelection.set(Bi.length>1),this.listDoubleSelection.set(Bi.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Bi=this.getSelection(),on=this.getFocus();this.listHasSelectionOrFocus.set(Bi.length>0||on.length>0)})),this.disposables.add(gi.onDidChangeConfiguration(Bi=>{Bi.affectsConfiguration(xn)&&(this._useAltAsMultipleSelectionModifier=mn(gi));let on={};if(Bi.affectsConfiguration(en)&&this.horizontalScrolling===void 0){const jn=!!gi.getValue(en);on=Object.assign(Object.assign({},on),{horizontalScrolling:jn})}if(Bi.affectsConfiguration(an)){const jn=!!gi.getValue(an);on=Object.assign(Object.assign({},on),{smoothScrolling:jn})}if(Bi.affectsConfiguration(zn)){const jn=gi.getValue(zn);on=Object.assign(Object.assign({},on),{mouseWheelScrollSensitivity:jn})}if(Bi.affectsConfiguration(Kn)){const jn=gi.getValue(Kn);on=Object.assign(Object.assign({},on),{fastScrollSensitivity:jn})}Object.keys(on).length>0&&this.updateOptions(on)})),this.navigator=new Lt(this,Object.assign({configurationService:gi},Ht)),this.disposables.add(this.navigator)}updateOptions(B){super.updateOptions(B),B.overrideStyles&&this.updateStyles(B.overrideStyles),B.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!B.multipleSelectionSupport)}updateStyles(B){var _e;(_e=this._styler)===null||_e===void 0||_e.dispose(),this._styler=(0,_t.Jl)(this,this.themeService,B)}dispose(){var B;(B=this._styler)===null||B===void 0||B.dispose(),this.disposables.dispose(),super.dispose()}};qn=Wt([Mt(6,J.i6),Mt(7,Jt),Mt(8,Et.XE),Mt(9,de.Ui),Mt(10,at.d)],qn);class Hn extends w.JT{constructor(B,_e){var We;super(),this.widget=B,this._onDidOpen=this._register(new O.Q5),this.onDidOpen=this._onDidOpen.event,this._register(O.ju.filter(this.widget.onDidChangeSelection,rt=>rt.browserEvent instanceof KeyboardEvent)(rt=>this.onSelectionFromKeyboard(rt))),this._register(this.widget.onPointer(rt=>this.onPointer(rt.element,rt.browserEvent))),this._register(this.widget.onMouseDblClick(rt=>this.onMouseDblClick(rt.element,rt.browserEvent))),typeof(_e==null?void 0:_e.openOnSingleClick)!="boolean"&&(_e!=null&&_e.configurationService)?(this.openOnSingleClick=(_e==null?void 0:_e.configurationService.getValue(Sn))!=="doubleClick",this._register(_e==null?void 0:_e.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(_e==null?void 0:_e.configurationService.getValue(Sn))!=="doubleClick"}))):this.openOnSingleClick=(We=_e==null?void 0:_e.openOnSingleClick)!==null&&We!==void 0?We:!0}onSelectionFromKeyboard(B){if(B.elements.length!==1)return;const _e=B.browserEvent,We=typeof _e.preserveFocus=="boolean"?_e.preserveFocus:!0,rt=typeof _e.pinned=="boolean"?_e.pinned:!We,yt=!1;this._open(this.getSelectedElement(),We,rt,yt,B.browserEvent)}onPointer(B,_e){if(!this.openOnSingleClick||_e.detail===2)return;const rt=_e.button===1,yt=!0,Ht=rt,Qt=_e.ctrlKey||_e.metaKey||_e.altKey;this._open(B,yt,Ht,Qt,_e)}onMouseDblClick(B,_e){if(!_e)return;const We=_e.target;if(We.classList.contains("monaco-tl-twistie")||We.classList.contains("monaco-icon-label")&&We.classList.contains("folder-icon")&&_e.offsetX<16)return;const yt=!1,Ht=!0,Qt=_e.ctrlKey||_e.metaKey||_e.altKey;this._open(B,yt,Ht,Qt,_e)}_open(B,_e,We,rt,yt){B&&this._onDidOpen.fire({editorOptions:{preserveFocus:_e,pinned:We,revealIfVisible:!0},sideBySide:rt,element:B,browserEvent:yt})}}class sn extends Hn{constructor(B,_e){super(B,_e),this.widget=B}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Lt extends Hn{constructor(B,_e){super(B,_e)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class U extends Hn{constructor(B,_e){super(B,_e)}getSelectedElement(){var B;return(B=this.widget.getSelection()[0])!==null&&B!==void 0?B:void 0}}function me(bt,B){let _e=!1;return We=>{if(_e)return _e=!1,!1;const rt=B.softDispatch(We,bt);return rt&&rt.enterChord?(_e=!0,!1):(_e=!1,!0)}}let Ee=class extends ni{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri,gi,Mi){const{options:Ei,getAutomaticKeyboardNavigation:xi,disposable:Pi}=ti(_e,yt,Ht,ri,gi,Mi);super(B,_e,We,rt,Ei),this.disposables.add(Pi),this.internals=new fi(this,yt,xi,yt.overrideStyles,Ht,Qt,ei,ri,Mi),this.disposables.add(this.internals)}updateOptions(B){super.updateOptions(B),this.internals.updateOptions(B)}};Ee=Wt([Mt(5,J.i6),Mt(6,Jt),Mt(7,Et.XE),Mt(8,de.Ui),Mt(9,at.d),Mt(10,tt.F)],Ee);let $e=class extends Ti{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri,gi,Mi){const{options:Ei,getAutomaticKeyboardNavigation:xi,disposable:Pi}=ti(_e,yt,Ht,ri,gi,Mi);super(B,_e,We,rt,Ei),this.disposables.add(Pi),this.internals=new fi(this,yt,xi,yt.overrideStyles,Ht,Qt,ei,ri,Mi),this.disposables.add(this.internals)}updateOptions(B={}){super.updateOptions(B),B.overrideStyles&&this.internals.updateStyleOverrides(B.overrideStyles),this.internals.updateOptions(B)}};$e=Wt([Mt(5,J.i6),Mt(6,Jt),Mt(7,Et.XE),Mt(8,de.Ui),Mt(9,at.d),Mt(10,tt.F)],$e);let et=class extends ut{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri,gi,Mi,Ei){const{options:xi,getAutomaticKeyboardNavigation:Pi,disposable:ki}=ti(_e,Ht,Qt,gi,Mi,Ei);super(B,_e,We,rt,yt,xi),this.disposables.add(ki),this.internals=new fi(this,Ht,Pi,Ht.overrideStyles,Qt,ei,ri,gi,Ei),this.disposables.add(this.internals)}updateOptions(B={}){super.updateOptions(B),B.overrideStyles&&this.internals.updateStyleOverrides(B.overrideStyles),this.internals.updateOptions(B)}};et=Wt([Mt(6,J.i6),Mt(7,Jt),Mt(8,Et.XE),Mt(9,de.Ui),Mt(10,at.d),Mt(11,tt.F)],et);let wt=class extends $t{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri,gi,Mi,Ei){const{options:xi,getAutomaticKeyboardNavigation:Pi,disposable:ki}=ti(_e,Ht,Qt,gi,Mi,Ei);super(B,_e,We,rt,yt,xi),this.disposables.add(ki),this.internals=new fi(this,Ht,Pi,Ht.overrideStyles,Qt,ei,ri,gi,Ei),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(B={}){super.updateOptions(B),B.overrideStyles&&this.internals.updateStyleOverrides(B.overrideStyles),this.internals.updateOptions(B)}};wt=Wt([Mt(6,J.i6),Mt(7,Jt),Mt(8,Et.XE),Mt(9,de.Ui),Mt(10,at.d),Mt(11,tt.F)],wt);let Rt=class extends mi{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri,gi,Mi,Ei,xi){const{options:Pi,getAutomaticKeyboardNavigation:ki,disposable:Bi}=ti(_e,Qt,ei,Mi,Ei,xi);super(B,_e,We,rt,yt,Ht,Pi),this.disposables.add(Bi),this.internals=new fi(this,Qt,ki,Qt.overrideStyles,ei,ri,gi,Mi,xi),this.disposables.add(this.internals)}updateOptions(B){super.updateOptions(B),this.internals.updateOptions(B)}};Rt=Wt([Mt(7,J.i6),Mt(8,Jt),Mt(9,Et.XE),Mt(10,de.Ui),Mt(11,at.d),Mt(12,tt.F)],Rt);function ti(bt,B,_e,We,rt,yt){var Ht;const Qt=()=>{let Pi=!!_e.getContextKeyValue(bn);return Pi&&(Pi=!!We.getValue(Ln)),Pi},ei=yt.isScreenReaderOptimized(),ri=B.simpleKeyboardNavigation||ei?"simple":We.getValue(Pn),gi=B.horizontalScrolling!==void 0?B.horizontalScrolling:!!We.getValue(en),[Mi,Ei]=Bn(B,We,rt),xi=B.additionalScrollHeight;return{getAutomaticKeyboardNavigation:Qt,disposable:Ei,options:Object.assign(Object.assign({keyboardSupport:!1},Mi),{indent:typeof We.getValue(Dn)=="number"?We.getValue(Dn):void 0,renderIndentGuides:We.getValue(Xn),smoothScrolling:!!We.getValue(an),automaticKeyboardNavigation:Qt(),simpleKeyboardNavigation:ri==="simple",filterOnType:ri==="filter",horizontalScrolling:gi,keyboardNavigationEventFilter:me(bt,rt),additionalScrollHeight:xi,hideTwistiesOfChildlessElements:B.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(Ht=B.expandOnlyOnTwistieClick)!==null&&Ht!==void 0?Ht:We.getValue(is)==="doubleClick"})}}let fi=class{constructor(B,_e,We,rt,yt,Ht,Qt,ei,ri){this.tree=B,this.themeService=Qt,this.disposables=[],this.contextKeyService=Xi(yt,B),this.listSupportsMultiSelect=_i.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(_e.multipleSelectionSupport!==!1),hn.bindTo(this.contextKeyService).set(!!_e.selectionNavigation),this.hasSelectionOrFocus=Ai.bindTo(this.contextKeyService),this.hasDoubleSelection=Ri.bindTo(this.contextKeyService),this.hasMultiSelection=zi.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=mn(ei);const Mi=new Set;Mi.add(bn);const Ei=()=>{const Pi=ri.isScreenReaderOptimized()?"simple":ei.getValue(Pn);B.updateOptions({simpleKeyboardNavigation:Pi==="simple",filterOnType:Pi==="filter"})};this.updateStyleOverrides(rt),this.disposables.push(this.contextKeyService,Ht.register(B),B.onDidChangeSelection(()=>{const xi=B.getSelection(),Pi=B.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(xi.length>0||Pi.length>0),this.hasMultiSelection.set(xi.length>1),this.hasDoubleSelection.set(xi.length===2)})}),B.onDidChangeFocus(()=>{const xi=B.getSelection(),Pi=B.getFocus();this.hasSelectionOrFocus.set(xi.length>0||Pi.length>0)}),ei.onDidChangeConfiguration(xi=>{let Pi={};if(xi.affectsConfiguration(xn)&&(this._useAltAsMultipleSelectionModifier=mn(ei)),xi.affectsConfiguration(Dn)){const ki=ei.getValue(Dn);Pi=Object.assign(Object.assign({},Pi),{indent:ki})}if(xi.affectsConfiguration(Xn)){const ki=ei.getValue(Xn);Pi=Object.assign(Object.assign({},Pi),{renderIndentGuides:ki})}if(xi.affectsConfiguration(an)){const ki=!!ei.getValue(an);Pi=Object.assign(Object.assign({},Pi),{smoothScrolling:ki})}if(xi.affectsConfiguration(Pn)&&Ei(),xi.affectsConfiguration(Ln)&&(Pi=Object.assign(Object.assign({},Pi),{automaticKeyboardNavigation:We()})),xi.affectsConfiguration(en)&&_e.horizontalScrolling===void 0){const ki=!!ei.getValue(en);Pi=Object.assign(Object.assign({},Pi),{horizontalScrolling:ki})}if(xi.affectsConfiguration(is)&&_e.expandOnlyOnTwistieClick===void 0&&(Pi=Object.assign(Object.assign({},Pi),{expandOnlyOnTwistieClick:ei.getValue(is)==="doubleClick"})),xi.affectsConfiguration(zn)){const ki=ei.getValue(zn);Pi=Object.assign(Object.assign({},Pi),{mouseWheelScrollSensitivity:ki})}if(xi.affectsConfiguration(Kn)){const ki=ei.getValue(Kn);Pi=Object.assign(Object.assign({},Pi),{fastScrollSensitivity:ki})}Object.keys(Pi).length>0&&B.updateOptions(Pi)}),this.contextKeyService.onDidChangeContext(xi=>{xi.affectsSome(Mi)&&B.updateOptions({automaticKeyboardNavigation:We()})}),ri.onDidChangeScreenReaderOptimized(()=>Ei())),this.navigator=new U(B,Object.assign({configurationService:ei},_e)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(B){B.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!B.multipleSelectionSupport)}updateStyleOverrides(B){(0,w.B9)(this.styler),this.styler=B?(0,_t.Jl)(this.tree,this.themeService,B):w.JT.None}dispose(){this.disposables=(0,w.B9)(this.disposables),(0,w.B9)(this.styler),this.styler=void 0}};fi=Wt([Mt(4,J.i6),Mt(5,Jt),Mt(6,Et.XE),Mt(7,de.Ui),Mt(8,tt.F)],fi),st.B.as(be.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,X.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[xn]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,X.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,X.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,X.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Sn]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,X.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[en]:{type:"boolean",default:!1,description:(0,X.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Dn]:{type:"number",default:8,minimum:0,maximum:40,description:(0,X.N)("tree indent setting","Controls tree indentation in pixels.")},[Xn]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,X.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[an]:{type:"boolean",default:!1,description:(0,X.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[zn]:{type:"number",default:1,description:(0,X.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Kn]:{type:"number",default:5,description:(0,X.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Pn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,X.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,X.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,X.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,X.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[Ln]:{type:"boolean",default:!0,markdownDescription:(0,X.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[is]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,X.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},43557:function(Ct,we,t){"use strict";t.d(we,{$V:function(){return s},VZ:function(){return O},in:function(){return w},kw:function(){return N}});var h=t(4669),W=t(9917),k=t(72065);const O=(0,k.yh)("logService");var w;(function(C){C[C.Trace=0]="Trace",C[C.Debug=1]="Debug",C[C.Info=2]="Info",C[C.Warning=3]="Warning",C[C.Error=4]="Error",C[C.Critical=5]="Critical",C[C.Off=6]="Off"})(w||(w={}));const G=w.Info;class x extends W.JT{constructor(){super(...arguments),this.level=G,this._onDidChangeLogLevel=this._register(new h.Q5)}setLevel(l){this.level!==l&&(this.level=l,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class N extends x{constructor(l=G){super(),this.setLevel(l)}trace(l,...m){this.getLevel()<=w.Trace&&console.log("%cTRACE","color: #888",l,...m)}debug(l,...m){this.getLevel()<=w.Debug&&console.log("%cDEBUG","background: #eee; color: #888",l,...m)}info(l,...m){this.getLevel()<=w.Info&&console.log("%c INFO","color: #33f",l,...m)}error(l,...m){this.getLevel()<=w.Error&&console.log("%c  ERR","color: #f33",l,...m)}dispose(){}}class s extends W.JT{constructor(l){super(),this.logger=l,this._register(l)}getLevel(){return this.logger.getLevel()}trace(l,...m){this.logger.trace(l,...m)}debug(l,...m){this.logger.debug(l,...m)}info(l,...m){this.logger.info(l,...m)}error(l,...m){this.logger.error(l,...m)}}},98674:function(Ct,we,t){"use strict";t.d(we,{H0:function(){return w},ZL:function(){return O},lT:function(){return G}});var h=t(14603),W=t(63580),k=t(72065),O;(function(x){x[x.Hint=1]="Hint",x[x.Info=2]="Info",x[x.Warning=4]="Warning",x[x.Error=8]="Error"})(O||(O={})),function(x){function N(y,n){return n-y}x.compare=N;const s=Object.create(null);s[x.Error]=(0,W.N)("sev.error","Error"),s[x.Warning]=(0,W.N)("sev.warning","Warning"),s[x.Info]=(0,W.N)("sev.info","Info");function C(y){return s[y]||""}x.toString=C;function l(y){switch(y){case h.Z.Error:return x.Error;case h.Z.Warning:return x.Warning;case h.Z.Info:return x.Info;case h.Z.Ignore:return x.Hint}}x.fromSeverity=l;function m(y){switch(y){case x.Error:return h.Z.Error;case x.Warning:return h.Z.Warning;case x.Info:return h.Z.Info;case x.Hint:return h.Z.Ignore}}x.toSeverity=m}(O||(O={}));var w;(function(x){const N="";function s(l){return C(l,!0)}x.makeKey=s;function C(l,m){let y=[N];return l.source?y.push(l.source.replace("\xA6","\\\xA6")):y.push(N),l.code?typeof l.code=="string"?y.push(l.code.replace("\xA6","\\\xA6")):y.push(l.code.value.replace("\xA6","\\\xA6")):y.push(N),l.severity!==void 0&&l.severity!==null?y.push(O.toString(l.severity)):y.push(N),l.message&&m?y.push(l.message.replace("\xA6","\\\xA6")):y.push(N),l.startLineNumber!==void 0&&l.startLineNumber!==null?y.push(l.startLineNumber.toString()):y.push(N),l.startColumn!==void 0&&l.startColumn!==null?y.push(l.startColumn.toString()):y.push(N),l.endLineNumber!==void 0&&l.endLineNumber!==null?y.push(l.endLineNumber.toString()):y.push(N),l.endColumn!==void 0&&l.endColumn!==null?y.push(l.endColumn.toString()):y.push(N),y.push(N),y.join("\xA6")}x.makeKeyOptionalMessage=C})(w||(w={}));const G=(0,k.yh)("markerService")},59422:function(Ct,we,t){"use strict";t.d(we,{EO:function(){return w},lT:function(){return O}});var h=t(14603),W=t(72065),k=null;const O=(0,W.yh)("notificationService");class w{}},50988:function(Ct,we,t){"use strict";t.d(we,{SW:function(){return x},v4:function(){return G},xn:function(){return N}});var h=t(9917),W=t(97295),k=t(70666),O=t(72065),w=function(s,C,l,m){function y(n){return n instanceof l?n:new l(function(p){p(n)})}return new(l||(l=Promise))(function(n,p){function f(a){try{d(m.next(a))}catch(u){p(u)}}function v(a){try{d(m.throw(a))}catch(u){p(u)}}function d(a){a.done?n(a.value):y(a.value).then(f,v)}d((m=m.apply(s,C||[])).next())})};const G=(0,O.yh)("openerService"),x=Object.freeze({_serviceBrand:void 0,registerOpener(){return h.JT.None},registerValidator(){return h.JT.None},registerExternalUriResolver(){return h.JT.None},setDefaultExternalOpener(){},registerExternalOpener(){return h.JT.None},open(){return w(this,void 0,void 0,function*(){return!1})},resolveExternalUri(s){return w(this,void 0,void 0,function*(){return{resolved:s,dispose(){}}})}});function N(s,C){return k.o.isUri(s)?(0,W.qq)(s.scheme,C):(0,W.ok)(s,C+":")}},90535:function(Ct,we,t){"use strict";t.d(we,{E:function(){return W},e:function(){return k}});var h=t(72065);class W{constructor(w){this.callback=w}report(w){this._value=w,this.callback(this._value)}}W.None=Object.freeze({report(){}});const k=(0,h.yh)("editorProgressService")},90725:function(Ct,we,t){"use strict";t.d(we,{IP:function(){return w},Ry:function(){return O}});var h=t(9488),W=t(9917),k=t(89872),O;(function(x){x[x.PRESERVE=0]="PRESERVE",x[x.LAST=1]="LAST"})(O||(O={}));const w={Quickaccess:"workbench.contributions.quickaccess"};class G{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(N){return N.prefix.length===0?this.defaultProvider=N:this.providers.push(N),this.providers.sort((s,C)=>C.prefix.length-s.prefix.length),(0,W.OF)(()=>{this.providers.splice(this.providers.indexOf(N),1),this.defaultProvider===N&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,h.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(N){return N&&this.providers.find(C=>N.startsWith(C.prefix))||void 0||this.defaultProvider}}k.B.add(w.Quickaccess,new G)},41157:function(Ct,we,t){"use strict";t.d(we,{eJ:function(){return k},jG:function(){return W.jG}});var h=t(72065),W=t(67746);const k=(0,h.yh)("quickInputService")},89872:function(Ct,we,t){"use strict";t.d(we,{B:function(){return O}});var h=t(35146),W=t(98401);class k{constructor(){this.data=new Map}add(G,x){h.ok(W.HD(G)),h.ok(W.Kn(x)),h.ok(!this.data.has(G),"There is already an extension with this id"),this.data.set(G,x)}as(G){return this.data.get(G)||null}}const O=new k},87060:function(Ct,we,t){"use strict";t.d(we,{Uy:function(){return l},vm:function(){return n},fk:function(){return m}});var h=t(4669),W=t(9917),k=t(98401),O=t(15393),w=function(p,f,v,d){function a(u){return u instanceof v?u:new v(function(c){c(u)})}return new(v||(v=Promise))(function(u,c){function b(T){try{R(d.next(T))}catch(j){c(j)}}function L(T){try{R(d.throw(T))}catch(j){c(j)}}function R(T){T.done?u(T.value):a(T.value).then(b,L)}R((d=d.apply(p,f||[])).next())})},G;(function(p){p[p.None=0]="None",p[p.Initialized=1]="Initialized",p[p.Closed=2]="Closed"})(G||(G={}));class x extends W.JT{constructor(f,v=Object.create(null)){super(),this.database=f,this.options=v,this._onDidChangeStorage=this._register(new h.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=G.None,this.cache=new Map,this.flushDelayer=new O.rH(x.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(f=>this.onDidChangeItemsExternal(f)))}onDidChangeItemsExternal(f){var v,d;(v=f.changed)===null||v===void 0||v.forEach((a,u)=>this.accept(u,a)),(d=f.deleted)===null||d===void 0||d.forEach(a=>this.accept(a,void 0))}accept(f,v){if(this.state===G.Closed)return;let d=!1;(0,k.Jp)(v)?d=this.cache.delete(f):this.cache.get(f)!==v&&(this.cache.set(f,v),d=!0),d&&this._onDidChangeStorage.fire(f)}get(f,v){const d=this.cache.get(f);return(0,k.Jp)(d)?v:d}getBoolean(f,v){const d=this.get(f);return(0,k.Jp)(d)?v:d==="true"}getNumber(f,v){const d=this.get(f);return(0,k.Jp)(d)?v:parseInt(d,10)}set(f,v){return w(this,void 0,void 0,function*(){if(this.state===G.Closed)return;if((0,k.Jp)(v))return this.delete(f);const d=String(v);if(this.cache.get(f)!==d)return this.cache.set(f,d),this.pendingInserts.set(f,d),this.pendingDeletes.delete(f),this._onDidChangeStorage.fire(f),this.flushDelayer.trigger(()=>this.flushPending())})}delete(f){return w(this,void 0,void 0,function*(){if(!(this.state===G.Closed||!this.cache.delete(f)))return this.pendingDeletes.has(f)||this.pendingDeletes.add(f),this.pendingInserts.delete(f),this._onDidChangeStorage.fire(f),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return w(this,void 0,void 0,function*(){if(!this.hasPending)return;const f={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(f).finally(()=>{var v;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(v=this.whenFlushedCallbacks.pop())===null||v===void 0||v()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}x.DEFAULT_FLUSH_DELAY=100;class N{constructor(){this.onDidChangeItemsExternal=h.ju.None,this.items=new Map}updateItems(f){return w(this,void 0,void 0,function*(){f.insert&&f.insert.forEach((v,d)=>this.items.set(d,v)),f.delete&&f.delete.forEach(v=>this.items.delete(v))})}}var s=t(72065);const C="__$__targetStorageMarker",l=(0,s.yh)("storageService");var m;(function(p){p[p.NONE=0]="NONE",p[p.SHUTDOWN=1]="SHUTDOWN"})(m||(m={}));class y extends W.JT{constructor(f={flushInterval:y.DEFAULT_FLUSH_INTERVAL}){super(),this.options=f,this._onDidChangeValue=this._register(new h.K3),this._onDidChangeTarget=this._register(new h.K3),this._onWillSaveState=this._register(new h.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(f,v){v===C?(f===0?this._globalKeyTargets=void 0:f===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:f})):this._onDidChangeValue.fire({scope:f,key:v,target:this.getKeyTargets(f)[v]})}get(f,v,d){var a;return(a=this.getStorage(v))===null||a===void 0?void 0:a.get(f,d)}getBoolean(f,v,d){var a;return(a=this.getStorage(v))===null||a===void 0?void 0:a.getBoolean(f,d)}getNumber(f,v,d){var a;return(a=this.getStorage(v))===null||a===void 0?void 0:a.getNumber(f,d)}store(f,v,d,a){if((0,k.Jp)(v)){this.remove(f,d);return}this.withPausedEmitters(()=>{var u;this.updateKeyTarget(f,d,a),(u=this.getStorage(d))===null||u===void 0||u.set(f,v)})}remove(f,v){this.withPausedEmitters(()=>{var d;this.updateKeyTarget(f,v,void 0),(d=this.getStorage(v))===null||d===void 0||d.delete(f)})}withPausedEmitters(f){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{f()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(f,v,d){var a,u;const c=this.getKeyTargets(v);typeof d=="number"?c[f]!==d&&(c[f]=d,(a=this.getStorage(v))===null||a===void 0||a.set(C,JSON.stringify(c))):typeof c[f]=="number"&&(delete c[f],(u=this.getStorage(v))===null||u===void 0||u.set(C,JSON.stringify(c)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(f){return f===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(f){const v=this.get(C,f);if(v)try{return JSON.parse(v)}catch(d){}return Object.create(null)}}y.DEFAULT_FLUSH_INTERVAL=60*1e3;class n extends y{constructor(){super(),this.globalStorage=this._register(new x(new N)),this.workspaceStorage=this._register(new x(new N)),this._register(this.workspaceStorage.onDidChangeStorage(f=>this.emitDidChangeValue(1,f))),this._register(this.globalStorage.onDidChangeStorage(f=>this.emitDidChangeValue(0,f)))}getStorage(f){return f===0?this.globalStorage:this.workspaceStorage}}},10829:function(Ct,we,t){"use strict";t.d(we,{b:function(){return W}});var h=t(72065);const W=(0,h.yh)("telemetryService")},73910:function(Ct,we,t){"use strict";t.d(we,{$D:function(){return qn},$d:function(){return Xi},A2:function(){return Be},AB:function(){return Ce},AS:function(){return xn},AW:function(){return ni},BO:function(){return Qt},C3:function(){return z},CA:function(){return We},CN:function(){return dt},Cd:function(){return Qn},Cz:function(){return be},D0:function(){return ht},D1:function(){return zt},DE:function(){return Bn},Du:function(){return Se},E3:function(){return Hn},EP:function(){return he},ES:function(){return Ii},Ei:function(){return Xe},F3:function(){return hn},Fm:function(){return et},Fu:function(){return tt},GO:function(){return X},Gj:function(){return ii},Gw:function(){return Sn},HC:function(){return pt},Hf:function(){return kt},Hz:function(){return An},I1:function(){return Ee},IP:function(){return N},IY:function(){return ti},Id:function(){return y},It:function(){return _e},Iv:function(){return bt},Jp:function(){return Ht},K1:function(){return hi},KT:function(){return Rt},LL:function(){return _t},L_:function(){return Et},Lo:function(){return Nt},M6:function(){return ui},MU:function(){return ot},NO:function(){return qe},NP:function(){return Kn},Ng:function(){return Ke},OL:function(){return ei},OZ:function(){return E},Oo:function(){return Jt},P4:function(){return ke},P6:function(){return l},PR:function(){return T},PX:function(){return en},Pk:function(){return me},Pp:function(){return Ci},Pv:function(){return q},R8:function(){return p},RV:function(){return $},Rz:function(){return ai},S:function(){return Dn},SP:function(){return wt},SU:function(){return V},Sb:function(){return je},Sn:function(){return Bi},Sw:function(){return u},T8:function(){return Me},Tn:function(){return _i},U6:function(){return $e},Un:function(){return Xn},VV:function(){return Xt},Vq:function(){return mn},XE:function(){return j},XL:function(){return at},XZ:function(){return n},Xy:function(){return rt},YI:function(){return ne},ZG:function(){return sn},Zn:function(){return Ei},_2:function(){return Mt},_Y:function(){return $t},_b:function(){return Wt},_l:function(){return ie},_t:function(){return le},_w:function(){return ue},b6:function(){return se},b7:function(){return Y},bK:function(){return mi},br:function(){return yt},c6:function(){return Le},cb:function(){return is},cv:function(){return Ye},dC:function(){return jt},dR:function(){return m},dt:function(){return R},et:function(){return Oe},fE:function(){return ze},fe:function(){return Fe},g8:function(){return re},g_:function(){return Pt},gk:function(){return Ge},gp:function(){return ce},hE:function(){return Di},hX:function(){return Zt},j5:function(){return H},jU:function(){return mt},jb:function(){return On},kJ:function(){return He},kV:function(){return B},ke:function(){return J},kv:function(){return Ri},kw:function(){return xi},lR:function(){return f},lU:function(){return Lt},lW:function(){return oi},lX:function(){return Ve},lo:function(){return Ae},mH:function(){return st},mV:function(){return bn},ny:function(){return Gt},oQ:function(){return Bt},oS:function(){return Ln},op:function(){return It},ov:function(){return fi},p:function(){return Q},pW:function(){return xe},ph:function(){return ut},pn:function(){return ft},pt:function(){return Ie},qe:function(){return fe},rg:function(){return bi},rh:function(){return c},s$:function(){return zi},sE:function(){return b},sK:function(){return de},sg:function(){return a},tZ:function(){return Ze},u2:function(){return U},uo:function(){return Te},ur:function(){return d},ux:function(){return an},vG:function(){return Pn},xL:function(){return v},yJ:function(){return Pe},yb:function(){return Ti},yn:function(){return oe},yp:function(){return pe},yt:function(){return Ai},zJ:function(){return L},zK:function(){return Je},zR:function(){return ae}});var h=t(15393),W=t(41264),k=t(4669),O=t(98401),w=t(63580),G=t(81294),x=t(89872);const N={ColorContribution:"base.contributions.colors"};class s{constructor(){this._onDidChangeSchema=new k.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(pn,kn,Qi,nn=!1,Wn){let vs={id:pn,description:Qi,defaults:kn,needsTransparency:nn,deprecationMessage:Wn};this.colorsById[pn]=vs;let ys={type:"string",description:Qi,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Wn&&(ys.deprecationMessage=Wn),this.colorSchema.properties[pn]=ys,this.colorReferenceSchema.enum.push(pn),this.colorReferenceSchema.enumDescriptions.push(Qi),this._onDidChangeSchema.fire(),pn}resolveDefaultColor(pn,kn){const Qi=this.colorsById[pn];if(Qi&&Qi.defaults){const nn=Qi.defaults[kn.type];return Bi(nn,kn)}}getColorSchema(){return this.colorSchema}toString(){let pn=(kn,Qi)=>{let nn=kn.indexOf(".")===-1?0:1,Wn=Qi.indexOf(".")===-1?0:1;return nn!==Wn?nn-Wn:kn.localeCompare(Qi)};return Object.keys(this.colorsById).sort(pn).map(kn=>`- \`${kn}\`: ${this.colorsById[kn].description}`).join(`
`)}}const C=new s;x.B.add(N.ColorContribution,C);function l(tn,pn,kn,Qi,nn){return C.registerColor(tn,pn,kn,Qi,nn)}const m=l("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},w.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),y=l("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},w.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),n=l("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},w.N("iconForeground","The default color for icons in the workbench.")),p=l("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},w.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),f=l("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},w.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),v=l("contrastActiveBorder",{light:null,dark:null,hc:p},w.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),d=l("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},w.N("textLinkForeground","Foreground color for links in text.")),a=l("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},w.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),u=l("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:W.Il.black},w.N("textCodeBlockBackground","Background color for code blocks in text.")),c=l("widget.shadow",{dark:Ei(W.Il.black,.36),light:Ei(W.Il.black,.16),hc:null},w.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),b=l("input.background",{dark:"#3C3C3C",light:W.Il.white,hc:W.Il.black},w.N("inputBoxBackground","Input box background.")),L=l("input.foreground",{dark:m,light:m,hc:m},w.N("inputBoxForeground","Input box foreground.")),R=l("input.border",{dark:null,light:null,hc:f},w.N("inputBoxBorder","Input box border.")),T=l("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:f},w.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),j=l("inputOption.activeBackground",{dark:Ei(p,.4),light:Ei(p,.2),hc:W.Il.transparent},w.N("inputOption.activeBackground","Background color of activated options in input fields.")),q=l("inputOption.activeForeground",{dark:W.Il.white,light:W.Il.black,hc:null},w.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),ie=l("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:W.Il.black},w.N("inputValidationInfoBackground","Input validation background color for information severity.")),ne=l("inputValidation.infoForeground",{dark:null,light:null,hc:null},w.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),he=l("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:f},w.N("inputValidationInfoBorder","Input validation border color for information severity.")),$=l("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:W.Il.black},w.N("inputValidationWarningBackground","Input validation background color for warning severity.")),V=l("inputValidation.warningForeground",{dark:null,light:null,hc:null},w.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),z=l("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:f},w.N("inputValidationWarningBorder","Input validation border color for warning severity.")),Q=l("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:W.Il.black},w.N("inputValidationErrorBackground","Input validation background color for error severity.")),le=l("inputValidation.errorForeground",{dark:null,light:null,hc:null},w.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),E=l("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:f},w.N("inputValidationErrorBorder","Input validation border color for error severity.")),I=l("dropdown.background",{dark:"#3C3C3C",light:W.Il.white,hc:W.Il.black},w.N("dropdownBackground","Dropdown background.")),A=l("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:W.Il.white},w.N("dropdownForeground","Dropdown foreground.")),H=l("button.foreground",{dark:W.Il.white,light:W.Il.white,hc:W.Il.white},w.N("buttonForeground","Button foreground color.")),Y=l("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},w.N("buttonBackground","Button background color.")),X=l("button.hoverBackground",{dark:Mi(Y,.2),light:gi(Y,.2),hc:null},w.N("buttonHoverBackground","Button background color when hovering.")),re=l("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:W.Il.black},w.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),fe=l("badge.foreground",{dark:W.Il.white,light:"#333",hc:W.Il.white},w.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),ue=l("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},w.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Oe=l("scrollbarSlider.background",{dark:W.Il.fromHex("#797979").transparent(.4),light:W.Il.fromHex("#646464").transparent(.4),hc:Ei(f,.6)},w.N("scrollbarSliderBackground","Scrollbar slider background color.")),Ce=l("scrollbarSlider.hoverBackground",{dark:W.Il.fromHex("#646464").transparent(.7),light:W.Il.fromHex("#646464").transparent(.7),hc:Ei(f,.8)},w.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),oe=l("scrollbarSlider.activeBackground",{dark:W.Il.fromHex("#BFBFBF").transparent(.4),light:W.Il.fromHex("#000000").transparent(.6),hc:f},w.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),ae=l("progressBar.background",{dark:W.Il.fromHex("#0E70C0"),light:W.Il.fromHex("#0E70C0"),hc:f},w.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Be=l("editorError.background",{dark:null,light:null,hc:null},w.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ve=l("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},w.N("editorError.foreground","Foreground color of error squigglies in the editor.")),se=l("editorError.border",{dark:null,light:null,hc:W.Il.fromHex("#E47777").transparent(.8)},w.N("errorBorder","Border color of error boxes in the editor.")),ce=l("editorWarning.background",{dark:null,light:null,hc:null},w.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Te=l("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},w.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),xe=l("editorWarning.border",{dark:null,light:null,hc:W.Il.fromHex("#FFCC00").transparent(.8)},w.N("warningBorder","Border color of warning boxes in the editor.")),Fe=l("editorInfo.background",{dark:null,light:null,hc:null},w.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Le=l("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},w.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Me=l("editorInfo.border",{dark:null,light:null,hc:W.Il.fromHex("#3794FF").transparent(.8)},w.N("infoBorder","Border color of info boxes in the editor.")),Se=l("editorHint.foreground",{dark:W.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},w.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),ze=l("editorHint.border",{dark:null,light:null,hc:W.Il.fromHex("#eeeeee").transparent(.8)},w.N("hintBorder","Border color of hint boxes in the editor.")),Ye=l("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:W.Il.black},w.N("editorBackground","Editor background color.")),qe=l("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:W.Il.white},w.N("editorForeground","Editor default foreground color.")),ht=l("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},w.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),kt=l("editorWidget.foreground",{dark:m,light:m,hc:m},w.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),zt=l("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:f},w.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Ke=l("editorWidget.resizeBorder",{light:null,dark:null,hc:null},w.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Je=l("quickInput.background",{dark:ht,light:ht,hc:ht},w.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Ze=l("quickInput.foreground",{dark:kt,light:kt,hc:kt},w.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ae=l("quickInputTitle.background",{dark:new W.Il(new W.VS(255,255,255,.105)),light:new W.Il(new W.VS(0,0,0,.06)),hc:"#000000"},w.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),He=l("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:W.Il.white},w.N("pickerGroupForeground","Quick picker color for grouping labels.")),It=l("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:W.Il.white},w.N("pickerGroupBorder","Quick picker color for grouping borders.")),Bt=l("keybindingLabel.background",{dark:new W.Il(new W.VS(128,128,128,.17)),light:new W.Il(new W.VS(221,221,221,.4)),hc:W.Il.transparent},w.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),oi=l("keybindingLabel.foreground",{dark:W.Il.fromHex("#CCCCCC"),light:W.Il.fromHex("#555555"),hc:W.Il.white},w.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),ni=l("keybindingLabel.border",{dark:new W.Il(new W.VS(51,51,51,.6)),light:new W.Il(new W.VS(204,204,204,.4)),hc:new W.Il(new W.VS(111,195,223))},w.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),hi=l("keybindingLabel.bottomBorder",{dark:new W.Il(new W.VS(68,68,68,.6)),light:new W.Il(new W.VS(187,187,187,.4)),hc:new W.Il(new W.VS(111,195,223))},w.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Di=l("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},w.N("editorSelectionBackground","Color of the editor selection.")),Ti=l("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},w.N("editorSelectionForeground","Color of the selected text for high contrast.")),Ii=l("editor.inactiveSelectionBackground",{light:Ei(Di,.5),dark:Ei(Di,.5),hc:Ei(Di,.5)},w.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),ai=l("editor.selectionHighlightBackground",{light:ki(Di,Ye,.3,.6),dark:ki(Di,Ye,.3,.6),hc:null},w.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Pt=l("editor.selectionHighlightBorder",{light:null,dark:null,hc:v},w.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Gt=l("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},w.N("editorFindMatch","Color of the current search match.")),ot=l("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},w.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),mt=l("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},w.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),ft=l("editor.findMatchBorder",{light:null,dark:null,hc:v},w.N("editorFindMatchBorder","Border color of the current search match.")),Xe=l("editor.findMatchHighlightBorder",{light:null,dark:null,hc:v},w.N("findMatchHighlightBorder","Border color of the other search matches.")),Ge=l("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Ei(v,.4)},w.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Ie=l("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},w.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Pe=l("editorHoverWidget.background",{light:ht,dark:ht,hc:ht},w.N("hoverBackground","Background color of the editor hover.")),je=l("editorHoverWidget.foreground",{light:kt,dark:kt,hc:kt},w.N("hoverForeground","Foreground color of the editor hover.")),dt=l("editorHoverWidget.border",{light:zt,dark:zt,hc:zt},w.N("hoverBorder","Border color of the editor hover.")),Nt=l("editorHoverWidget.statusBarBackground",{dark:Mi(Pe,.2),light:gi(Pe,.05),hc:ht},w.N("statusBarBackground","Background color of the editor hover status bar.")),$t=l("editorLink.activeForeground",{dark:"#4E94CE",light:W.Il.blue,hc:W.Il.cyan},w.N("activeLinkForeground","Color of active links.")),Xt=l("editorInlayHint.foreground",{dark:Ei(fe,.8),light:Ei(fe,.8),hc:fe},w.N("editorInlayHintForeground","Foreground color of inline hints")),Ci=l("editorInlayHint.background",{dark:Ei(re,.6),light:Ei(re,.3),hc:re},w.N("editorInlayHintBackground","Background color of inline hints")),Zt=l("editorInlayHint.typeForeground",{dark:Xt,light:Xt,hc:Xt},w.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),mi=l("editorInlayHint.typeBackground",{dark:Ci,light:Ci,hc:Ci},w.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),pt=l("editorInlayHint.parameterForeground",{dark:Xt,light:Xt,hc:Xt},w.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),ut=l("editorInlayHint.parameterBackground",{dark:Ci,light:Ci,hc:Ci},w.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),tt=l("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},w.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),de=l("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},w.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),be=new W.Il(new W.VS(155,185,85,.2)),J=new W.Il(new W.VS(255,0,0,.2)),pe=l("diffEditor.insertedTextBackground",{dark:be,light:be,hc:null},w.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ke=l("diffEditor.removedTextBackground",{dark:J,light:J,hc:null},w.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),at=l("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},w.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),st=l("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},w.N("diffEditorRemovedOutline","Outline color for text that got removed.")),_t=l("diffEditor.border",{dark:null,light:null,hc:f},w.N("diffEditorBorder","Border color between the two text editors.")),Et=l("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},w.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Wt=l("list.focusBackground",{dark:null,light:null,hc:null},w.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Mt=l("list.focusForeground",{dark:null,light:null,hc:null},w.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Jt=l("list.focusOutline",{dark:p,light:p,hc:v},w.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),jt=l("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},w.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ui=l("list.activeSelectionForeground",{dark:W.Il.white,light:W.Il.white,hc:null},w.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),_i=l("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},w.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),bi=l("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},w.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ai=l("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},w.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ri=l("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},w.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),zi=l("list.inactiveFocusBackground",{dark:null,light:null,hc:null},w.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),hn=l("list.inactiveFocusOutline",{dark:null,light:null,hc:null},w.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),bn=l("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},w.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Xi=l("list.hoverForeground",{dark:null,light:null,hc:null},w.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),xn=l("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},w.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Sn=l("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:p},w.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),en=l("list.focusHighlightForeground",{dark:Sn,light:Pi(jt,Sn,"#9DDDFF"),hc:Sn},w.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Pn=l("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:W.Il.black},w.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Ln=l("listFilterWidget.outline",{dark:W.Il.transparent,light:W.Il.transparent,hc:"#f38518"},w.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Dn=l("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:f},w.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Xn=l("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},w.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),an=l("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},w.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),zn=l("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,w.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Kn=l("quickInputList.focusForeground",{dark:ui,light:ui,hc:ui},w.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),is=l("quickInputList.focusIconForeground",{dark:_i,light:_i,hc:_i},w.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),mn=l("quickInputList.focusBackground",{dark:xi(zn,jt),light:xi(zn,jt),hc:null},w.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Qn=l("menu.border",{dark:null,light:null,hc:f},w.N("menuBorder","Border color of menus.")),Bn=l("menu.foreground",{dark:A,light:m,hc:A},w.N("menuForeground","Foreground color of menu items.")),An=l("menu.background",{dark:I,light:I,hc:I},w.N("menuBackground","Background color of menu items.")),On=l("menu.selectionForeground",{dark:ui,light:ui,hc:ui},w.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),qn=l("menu.selectionBackground",{dark:jt,light:jt,hc:jt},w.N("menuSelectionBackground","Background color of the selected menu item in menus.")),Hn=l("menu.selectionBorder",{dark:null,light:null,hc:v},w.N("menuSelectionBorder","Border color of the selected menu item in menus.")),sn=l("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:f},w.N("menuSeparatorBackground","Color of a separator menu item in menus.")),Lt=l("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},w.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),U=l("editor.snippetTabstopHighlightBackground",{dark:new W.Il(new W.VS(124,124,124,.3)),light:new W.Il(new W.VS(10,50,100,.2)),hc:new W.Il(new W.VS(124,124,124,.3))},w.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),me=l("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},w.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Ee=l("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},w.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),$e=l("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new W.Il(new W.VS(10,50,100,.5)),hc:"#525252"},w.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),et=l("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},w.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),wt=l("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},w.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Rt=l("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},w.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),ti=l("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},w.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),fi=l("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},w.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),ii=l("minimap.errorHighlight",{dark:new W.Il(new W.VS(255,18,18,.7)),light:new W.Il(new W.VS(255,18,18,.7)),hc:new W.Il(new W.VS(255,50,50,1))},w.N("minimapError","Minimap marker color for errors.")),bt=l("minimap.warningHighlight",{dark:Te,light:Te,hc:xe},w.N("overviewRuleWarning","Minimap marker color for warnings.")),B=l("minimap.background",{dark:null,light:null,hc:null},w.N("minimapBackground","Minimap background color.")),_e=l("minimap.foregroundOpacity",{dark:W.Il.fromHex("#000f"),light:W.Il.fromHex("#000f"),hc:W.Il.fromHex("#000f")},w.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),We=l("minimapSlider.background",{light:Ei(Oe,.5),dark:Ei(Oe,.5),hc:Ei(Oe,.5)},w.N("minimapSliderBackground","Minimap slider background color.")),rt=l("minimapSlider.hoverBackground",{light:Ei(Ce,.5),dark:Ei(Ce,.5),hc:Ei(Ce,.5)},w.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),yt=l("minimapSlider.activeBackground",{light:Ei(oe,.5),dark:Ei(oe,.5),hc:Ei(oe,.5)},w.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Ht=l("problemsErrorIcon.foreground",{dark:Ve,light:Ve,hc:Ve},w.N("problemsErrorIconForeground","The color used for the problems error icon.")),Qt=l("problemsWarningIcon.foreground",{dark:Te,light:Te,hc:Te},w.N("problemsWarningIconForeground","The color used for the problems warning icon.")),ei=l("problemsInfoIcon.foreground",{dark:Le,light:Le,hc:Le},w.N("problemsInfoIconForeground","The color used for the problems info icon."));function ri(tn,pn){var kn,Qi,nn;switch(tn.op){case 0:return(kn=Bi(tn.value,pn))===null||kn===void 0?void 0:kn.darken(tn.factor);case 1:return(Qi=Bi(tn.value,pn))===null||Qi===void 0?void 0:Qi.lighten(tn.factor);case 2:return(nn=Bi(tn.value,pn))===null||nn===void 0?void 0:nn.transparent(tn.factor);case 3:for(const ys of tn.values){const ds=Bi(ys,pn);if(ds)return ds}return;case 5:return Bi(pn.defines(tn.if)?tn.then:tn.else,pn);case 4:const Wn=Bi(tn.value,pn);if(!Wn)return;const vs=Bi(tn.background,pn);return vs?Wn.isDarkerThan(vs)?W.Il.getLighterColor(Wn,vs,tn.factor).transparent(tn.transparency):W.Il.getDarkerColor(Wn,vs,tn.factor).transparent(tn.transparency):Wn.transparent(tn.factor*tn.transparency);default:throw(0,O.vE)(tn)}}function gi(tn,pn){return{op:0,value:tn,factor:pn}}function Mi(tn,pn){return{op:1,value:tn,factor:pn}}function Ei(tn,pn){return{op:2,value:tn,factor:pn}}function xi(...tn){return{op:3,values:tn}}function Pi(tn,pn,kn){return{op:5,if:tn,then:pn,else:kn}}function ki(tn,pn,kn,Qi){return{op:4,value:tn,background:pn,factor:kn,transparency:Qi}}function Bi(tn,pn){if(tn!==null){if(typeof tn=="string")return tn[0]==="#"?W.Il.fromHex(tn):pn.getColor(tn);if(tn instanceof W.Il)return tn;if(typeof tn=="object")return ri(tn,pn)}}const on="vscode://schemas/workbench-colors";let jn=x.B.as(G.I.JSONContribution);jn.registerSchema(on,C.getColorSchema());const hs=new h.pY(()=>jn.notifySchemaChanged(on),200);C.onDidChangeSchema(()=>{hs.isScheduled()||hs.schedule()})},59554:function(Ct,we,t){"use strict";t.d(we,{Ks:function(){return m},q5:function(){return l},s_:function(){return v}});var h=t(15393),W=t(73046),k=t(4669),O=t(63580),w=t(81294),G=t(89872),x=t(97781);const N={IconContribution:"base.contributions.icons"};class s{constructor(){this._onDidChange=new k.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,O.N)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,O.N)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${W.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(a,u,c,b){const L=this.iconsById[a];if(L){if(c&&!L.description){L.description=c,this.iconSchema.properties[a].markdownDescription=`${c} $(${a})`;const j=this.iconReferenceSchema.enum.indexOf(a);j!==-1&&(this.iconReferenceSchema.enumDescriptions[j]=c),this._onDidChange.fire()}return L}let R={id:a,description:c,defaults:u,deprecationMessage:b};this.iconsById[a]=R;let T={$ref:"#/definitions/icons"};return b&&(T.deprecationMessage=b),c&&(T.markdownDescription=`${c}: $(${a})`),this.iconSchema.properties[a]=T,this.iconReferenceSchema.enum.push(a),this.iconReferenceSchema.enumDescriptions.push(c||""),this._onDidChange.fire(),{id:a}}getIcons(){return Object.keys(this.iconsById).map(a=>this.iconsById[a])}getIcon(a){return this.iconsById[a]}getIconSchema(){return this.iconSchema}getIconFont(a){return this.iconFontsById[a]}toString(){const a=(L,R)=>L.id.localeCompare(R.id),u=L=>{for(;x.kS.isThemeIcon(L.defaults);)L=this.iconsById[L.defaults.id];return`codicon codicon-${L?L.id:""}`};let c=[];c.push("| preview     | identifier                        | default codicon ID                | description"),c.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const b=Object.keys(this.iconsById).map(L=>this.iconsById[L]);for(const L of b.filter(R=>!!R.description).sort(a))c.push(`|<i class="${u(L)}"></i>|${L.id}|${x.kS.isThemeIcon(L.defaults)?L.defaults.id:L.id}|${L.description||""}|`);c.push("| preview     | identifier                        "),c.push("| ----------- | --------------------------------- |");for(const L of b.filter(R=>!x.kS.isThemeIcon(R.defaults)).sort(a))c.push(`|<i class="${u(L)}"></i>|${L.id}|`);return c.join(`
`)}}const C=new s;G.B.add(N.IconContribution,C);function l(d,a,u,c){return C.registerIcon(d,a,u,c)}function m(){return C}function y(){for(const d of W.fK.all)C.registerIcon(d.id,d.definition,d.description);W.fK.onDidRegister(d=>C.registerIcon(d.id,d.definition,d.description))}y();const n="vscode://schemas/icons";let p=G.B.as(w.I.JSONContribution);p.registerSchema(n,C.getIconSchema());const f=new h.pY(()=>p.notifySchemaChanged(n),200);C.onDidChange(()=>{f.isScheduled()||f.schedule()});const v=l("widget-close",W.lA.close,(0,O.N)("widgetClose","Icon for the close action in widgets."))},88810:function(Ct,we,t){"use strict";t.d(we,{Jl:function(){return w},O2:function(){return G},WZ:function(){return O},o:function(){return W},tj:function(){return N}});var h=t(73910);function W(s,C){const l=Object.create(null);for(let m in C){const y=C[m];y&&(l[m]=(0,h.Sn)(y,s))}return l}function k(s,C,l){function m(){const y=W(s.getColorTheme(),C);typeof l=="function"?l(y):l.style(y)}return m(),s.onDidColorThemeChange(m)}function O(s,C,l){return k(C,{badgeBackground:(l==null?void 0:l.badgeBackground)||h.g8,badgeForeground:(l==null?void 0:l.badgeForeground)||h.qe,badgeBorder:h.lR},s)}function w(s,C,l){return k(C,Object.assign(Object.assign({},G),l||{}),s)}const G={listFocusBackground:h._b,listFocusForeground:h._2,listFocusOutline:h.Oo,listActiveSelectionBackground:h.dC,listActiveSelectionForeground:h.M6,listActiveSelectionIconForeground:h.Tn,listFocusAndSelectionBackground:h.dC,listFocusAndSelectionForeground:h.M6,listInactiveSelectionBackground:h.rg,listInactiveSelectionIconForeground:h.kv,listInactiveSelectionForeground:h.yt,listInactiveFocusBackground:h.s$,listInactiveFocusOutline:h.F3,listHoverBackground:h.mV,listHoverForeground:h.$d,listDropBackground:h.AS,listSelectionOutline:h.xL,listHoverOutline:h.xL,listFilterWidgetBackground:h.vG,listFilterWidgetOutline:h.oS,listFilterWidgetNoMatchesOutline:h.S,listMatchesShadow:h.rh,treeIndentGuidesStroke:h.Un,tableColumnsBorder:h.ux},x={shadowColor:h.rh,borderColor:h.Cd,foregroundColor:h.DE,backgroundColor:h.Hz,selectionForegroundColor:h.jb,selectionBackgroundColor:h.$D,selectionBorderColor:h.E3,separatorColor:h.ZG};function N(s,C,l){return k(C,Object.assign(Object.assign({},x),l),s)}},92321:function(Ct,we,t){"use strict";t.d(we,{e:function(){return h}});var h;(function(W){W.DARK="dark",W.LIGHT="light",W.HIGH_CONTRAST="hc"})(h||(h={}))},97781:function(Ct,we,t){"use strict";t.d(we,{EN:function(){return s},IP:function(){return m},Ic:function(){return p},XE:function(){return x},bB:function(){return f},kS:function(){return C},m6:function(){return l}});var h=t(73046),W=t(4669),k=t(9917),O=t(72065),w=t(89872),G=t(92321);const x=(0,O.yh)("themeService");var N;(function(v){function d(a){return a&&typeof a=="object"&&typeof a.id=="string"}v.isThemeColor=d})(N||(N={}));function s(v){return{id:v}}var C;(function(v){function d(R){return R&&typeof R=="object"&&typeof R.id=="string"&&(typeof R.color=="undefined"||N.isThemeColor(R.color))}v.isThemeIcon=d;const a=new RegExp(`^\\$\\((${h.dT.iconNameExpression}(?:${h.dT.iconModifierExpression})?)\\)$`);function u(R){const T=a.exec(R);if(!T)return;let[,j]=T;return{id:j}}v.fromString=u;function c(R,T){let j=R.id;const q=j.lastIndexOf("~");return q!==-1&&(j=j.substring(0,q)),T&&(j=`${j}~${T}`),{id:j}}v.modify=c;function b(R,T){var j,q;return R.id===T.id&&((j=R.color)===null||j===void 0?void 0:j.id)===((q=T.color)===null||q===void 0?void 0:q.id)}v.isEqual=b;function L(R,T){return{id:R.id,color:T?s(T):void 0}}v.asThemeIcon=L,v.asClassNameArray=h.dT.asClassNameArray,v.asClassName=h.dT.asClassName,v.asCSSSelector=h.dT.asCSSSelector})(C||(C={}));function l(v){switch(v){case G.e.DARK:return"vs-dark";case G.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const m={ThemingContribution:"base.contributions.theming"};class y{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new W.Q5}onColorThemeChange(d){return this.themingParticipants.push(d),this.onThemingParticipantAddedEmitter.fire(d),(0,k.OF)(()=>{const a=this.themingParticipants.indexOf(d);this.themingParticipants.splice(a,1)})}getThemingParticipants(){return this.themingParticipants}}let n=new y;w.B.add(m.ThemingContribution,n);function p(v){return n.onColorThemeChange(v)}class f extends k.JT{constructor(d){super(),this.themeService=d,this.theme=d.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(a=>this.onThemeChange(a)))}onThemeChange(d){this.theme=d,this.updateStyles()}updateStyles(){}}},64862:function(Ct,we,t){"use strict";t.d(we,{Xt:function(){return O},YO:function(){return k},gJ:function(){return w},tJ:function(){return W}});var h=t(72065);const W=(0,h.yh)("undoRedoService");class k{constructor(x,N){this.resource=x,this.elements=N}}class O{constructor(){this.id=O._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}O._ID=0,O.None=new O;class w{constructor(){this.id=w._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}w._ID=0,w.None=new w},40382:function(Ct,we,t){"use strict";t.d(we,{ec:function(){return k},md:function(){return w}});var h=t(43702),W=t(72065);const k=(0,W.yh)("contextService");class O{constructor(x,N,s,C,l){this._id=x,this._transient=s,this._configuration=C,this._ignorePathCasing=l,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing),this.folders=N}get folders(){return this._folders}set folders(x){this._folders=x,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(x){this._configuration=x}getFolder(x){return x&&this._foldersMap.findSubstr(x.with({scheme:x.scheme,authority:x.authority,path:x.path}))||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing);for(const x of this.folders)this._foldersMap.set(x.uri,x)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class w{constructor(x,N){this.raw=N,this.uri=x.uri,this.index=x.index,this.name=x.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}}}]);
