"use strict";(self.webpackChunkquick_admin=self.webpackChunkquick_admin||[]).push([[5545],{50722:function(qe,yi,w){w.r(yi),w.d(yi,{default:function(){return sE}});var Kl=w(97857),mi=w.n(Kl),Jl=w(12444),Ql=w.n(Jl),$l=w(72004),ql=w.n($l),eu=w(25098),tu=w.n(eu),nu=w(31996),ru=w.n(nu),iu=w(26037),ou=w.n(iu),au=w(9783),su=w.n(au),lu=w(67294),m=w(59782),Xe=w.n(m),uu=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,function(n){var r=Math.random()*16|0,i=n==="x"?r:r&3|8;return i.toString(16)});return t},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),du=(globalThis==null?void 0:globalThis._ids)||new uu;function Ue(){return du.next()}var xi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(e){xi(t,e);function t(n,r){var i=this;return n.id||(n.id="Event_"+Ue()),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),i=e.call(this,n,r)||this,i}return t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var n=e.prototype.getConnectedTargetRules.call(this),r={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return n.push(r),n},t.extendKey="StartEventModel",t}(m.CircleNodeModel),hu=function(e){xi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.extendKey="StartEventNode",t}(m.CircleNode),cu={type:"bpmn:startEvent",view:hu,model:fu},pu=cu,wi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tn=function(){return tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tn.apply(this,arguments)},vu=function(e){wi(t,e);function t(n,r){var i=this;return n.id||(n.id="Event_"+Ue()),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),i=e.call(this,n,r)||this,i}return t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var n=e.prototype.getConnectedSourceRules.call(this),r={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return n.push(r),n},t.extendKey="EndEventModel",t}(m.CircleNodeModel),gu=function(e){wi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle(),i=n.x,o=n.y,a=n.r,s=e.prototype.getShape.call(this);return(0,m.h)("g",{},s,(0,m.h)("circle",tn(tn({},r),{cx:i,cy:o,r:a-5})))},t.extendKey="EndEventView",t}(m.CircleNode),_u={type:"bpmn:endEvent",view:gu,model:vu},yu=_u,bi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=function(){return Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pt.apply(this,arguments)},mu=function(e){bi(t,e);function t(n,r){var i=this;return n.id||(n.id="Gateway_"+Ue()),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),i=e.call(this,n,r)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return t.extendKey="ExclusiveGatewayModel",t}(m.PolygonNodeModel),xu=function(e){bi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.points,l=n.getNodeStyle();return(0,m.h)("g",{transform:"matrix(1 0 0 1 "+(r-o/2)+" "+(i-a/2)+")"},(0,m.h)("polygon",Pt(Pt({},l),{x:r,y:i,points:s})),(0,m.h)("path",Pt({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},l)))},t.extendKey="ExclusiveGatewayNode",t}(m.PolygonNode),wu={type:"bpmn:exclusiveGateway",view:xu,model:mu},bu=wu,Ei=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nn=function(){return nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nn.apply(this,arguments)},Eu=function(e){Ei(t,e);function t(n,r){var i=this;return n.id||(n.id="Activity_"+Ue()),i=e.call(this,n,r)||this,i}return t.extendKey="UserTaskModel",t}(m.RectNodeModel),Mu=function(e){Ei(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.getNodeStyle();return(0,m.h)("svg",{x:r-o/2+5,y:i-a/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,m.h)("path",{fill:s.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.radius,l=n.getNodeStyle();return(0,m.h)("g",{},[(0,m.h)("rect",nn(nn({},l),{x:r-o/2,y:i-a/2,rx:s,ry:s,width:o,height:a})),this.getLabelShape()])},t.extendKey="UserTaskNode",t}(m.RectNode),Au={type:"bpmn:userTask",view:Mu,model:Eu},Su=Au,Mi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn=function(){return Qn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qn.apply(this,arguments)},Tu=function(e){Mi(t,e);function t(n,r){var i=this;return n.id||(n.id="Activity_"+Ue()),i=e.call(this,n,r)||this,i}return t.extendKey="ServiceTaskModel",t}(m.RectNodeModel),Nu=function(e){Mi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.getNodeStyle();return(0,m.h)("svg",{x:r-o/2+5,y:i-a/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,m.h)("path",{fill:s.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.radius,l=n.getNodeStyle();return(0,m.h)("g",{},[(0,m.h)("rect",Qn({x:r-o/2,y:i-a/2,rx:s,ry:s,width:o,height:a},l)),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t}(m.RectNode),Pu={type:"bpmn:serviceTask",view:Nu,model:Tu},Ou=Pu,Ai=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cu=function(e){Ai(t,e);function t(n,r){var i=this;return n.id||(n.id="Flow_"+Ue()),i=e.call(this,n,r)||this,i}return t.extendKey="SequenceFlowModel",t}(m.PolylineEdgeModel),Ru=function(e){Ai(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.extendKey="SequenceFlowEdge",t}(m.PolylineEdge),Zu={type:"bpmn:sequenceFlow",view:Ru,model:Cu},Iu=Zu,Si={width:40,height:40},Ti={width:40,height:40},Ni={width:40,height:40},Pi={width:100,height:80},Oi={width:100,height:80},Lu={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Du=function(){function e(t){var n=t.lf;n.setTheme(Lu),n.register(pu),n.register(yu),n.register(bu),n.register(Su),n.register(Ou),n.options.customBpmnEdge||(n.register(Iu),n.setDefaultEdgeType("bpmn:sequenceFlow"))}return e.pluginName="bpmnElement",e}(),Bu=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,function(n){var r=Math.random()*16|0,i=n==="x"?r:r&3|8;return i.toString(16)});return t},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),Fu=(globalThis==null?void 0:globalThis._ids)||new Bu;function Ci(){return Fu.next()}function Ri(e){return Object.prototype.toString.call(e)}function Wu(e){return"  ".repeat(e)}function rn(e){var t=e;return Ri(e)==="[object Object]"?(t={},Object.keys(e).forEach(function(n){var r=n;n.charAt(0)==="-"&&(r=n.substring(1)),t[r]=rn(e[n])})):Array.isArray(e)&&(t=[],e.forEach(function(n,r){t[r]=rn(n)})),t}function ju(e){var t=e;try{typeof t!="string"&&(t=JSON.parse(e))}catch(n){t=JSON.stringify(rn(e)).replace(/"/g,"'")}return t}var et=`	
`;function on(e,t,n){var r=Wu(n),i="";if(t==="#text")return et+r+e;if(t==="#cdata-section")return et+r+"<![CDATA["+e+"]]>";if(t==="#comment")return et+r+"<!--"+e+"-->";if((""+t).charAt(0)==="-")return" "+t.substring(1)+'="'+ju(e)+'"';if(Array.isArray(e))e.forEach(function(l){i+=on(l,t,n+1)});else if(Ri(e)==="[object Object]"){var o=Object.keys(e),a="",s="";i+=(n===0?"":et+r)+"<"+t,o.forEach(function(l){l.charAt(0)==="-"?a+=on(e[l],l,n+1):s+=on(e[l],l,n+1)}),i+=a+(s!==""?">"+s+(et+r)+"</"+t+">":" />")}else i+=et+r+("<"+t+">"+e.toString()+"</"+t+">");return i}function Gu(e){var t="";for(var n in e)t+=on(e[n],n,0);return t}var J=function(){};J.ObjTree=function(){return this},J.ObjTree.VERSION="0.23",J.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,J.ObjTree.prototype.attr_prefix="-",J.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)},J.ObjTree.prototype.parseHTTP=function(e,t,n){var r={};for(var i in t)r[i]=t[i];if(r.method||(typeof r.postBody=="undefined"&&typeof r.postbody=="undefined"&&typeof r.parameters=="undefined"?r.method="get":r.method="post"),n){r.asynchronous=!0;var o=this,a=n,s=r.onComplete;r.onComplete=function(f){var d;f&&f.responseXML&&f.responseXML.documentElement&&(d=o.parseDOM(f.responseXML.documentElement)),a(d,f),s&&s(f)}}else r.asynchronous=!1;var l;if(typeof HTTP!="undefined"&&HTTP.Request){r.uri=e;var u=new HTTP.Request(r);u&&(l=u.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var u=new Ajax.Request(e,r);u&&(l=u.transport)}if(n)return l;if(l&&l.responseXML&&l.responseXML.documentElement)return this.parseDOM(l.responseXML.documentElement)},J.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),e.nodeType!=11){var r={};r[e.nodeName]=n,n=r}return n}},J.ObjTree.prototype.parseElement=function(e){if(e.nodeType!=7){if(e.nodeType==3||e.nodeType==4||e.nodeType==8){var t=e.nodeValue.match(/[^\x00-\x20]/);return t==null?void 0:e.nodeValue}var n=null,r={};if(e.attributes&&e.attributes.length){n={};for(var i=0;i<e.attributes.length;i++){var o=e.attributes[i].nodeName;if(typeof o=="string"){var a=e.attributes[i].nodeValue;try{a=JSON.parse(e.attributes[i].nodeValue.replace(/'/g,'"'))}catch(u){a=e.attributes[i].nodeValue}a&&(o=this.attr_prefix+o,typeof r[o]=="undefined"&&(r[o]=0),r[o]++,this.addNode(n,o,r[o],a))}}}if(e.childNodes&&e.childNodes.length){var s=!0;n&&(s=!1);for(var i=0;i<e.childNodes.length&&s;i++){var l=e.childNodes[i].nodeType;l==3||l==4||l==8||(s=!1)}if(s){n||(n="");for(var i=0;i<e.childNodes.length;i++)n+=e.childNodes[i].nodeValue}else{n||(n={});for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i].nodeName;if(typeof o=="string"){var a=this.parseElement(e.childNodes[i]);a&&(typeof r[o]=="undefined"&&(r[o]=0),r[o]++,this.addNode(n,o,r[o],a))}}}}else n===null&&(n={});return n}},J.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(n==1&&(e[t]=[]),e[t][e[t].length]=r):n==1?e[t]=r:n==2?e[t]=[e[t],r]:e[t][e[t].length]=r},J.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},J.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];i.charAt(0)!=this.attr_prefix?typeof o=="undefined"||o==null?n[n.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?n[n.length]=this.array_to_xml(i,o):typeof o=="object"?n[n.length]=this.hash_to_xml(i,o):n[n.length]=this.scalar_to_xml(i,o):r[r.length]=" "+i.substring(1)+'="'+this.xml_escape(o)+'"'}var a=r.join(""),s=n.join("");return typeof e=="undefined"||e==null||(n.length>0?s.match(/\n/)?s="<"+e+a+`>
`+s+"</"+e+`>
`:s="<"+e+a+">"+s+"</"+e+`>
`:s="<"+e+a+` />
`),s},J.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];typeof i=="undefined"||i==null?n[n.length]="<"+e+" />":typeof i=="object"&&i.constructor==Array?n[n.length]=this.array_to_xml(e,i):typeof i=="object"?n[n.length]=this.hash_to_xml(e,i):n[n.length]=this.scalar_to_xml(e,i)}return n.join("")},J.ObjTree.prototype.scalar_to_xml=function(e,t){return e=="#text"?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+`>
`},J.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ku=function(e){return new J.ObjTree().parseXML(e)},zu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$n=function(){return $n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$n.apply(this,arguments)},an=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},ge;(function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"})(ge||(ge={}));var Zi=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],Ii=["properties","startPoint","endPoint","pointsList"];function Li(e){var t=e?Ii.concat(e):Ii;return function(n){function r(i){var o={};return typeof i=="string"?i:Array.isArray(i)?i.map(function(a){return r(a)}):(Object.entries(i).forEach(function(a){var s=an(a,2),l=s[0],u=s[1];typeof u!="object"?l.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(l)?o[l]=u:o["-"+l]=u:t.includes(l)?o["-"+l]=r(u):o[l]=r(u)}),o)}return r(n)}}function sn(e){var t={};return Object.entries(e).forEach(function(n){var r=an(n,2),i=r[0],o=r[1];i.indexOf("-")===0?t[i.substring(1)]=rn(o):typeof o=="string"?t[i]=o:Object.prototype.toString.call(o)==="[object Object]"?t[i]=sn(o):Array.isArray(o)?t[i]=o.map(function(a){return sn(a)}):t[i]=o}),t}function Xu(e,t,n){var r=new Map;t.nodes.forEach(function(o){var a,s={"-id":o.id};if(!((a=o.text)===null||a===void 0)&&a.value&&(s["-name"]=o.text.value),o.properties){var l=Li(n)(o.properties);Object.assign(s,l)}r.set(o.id,s),e[o.type]?Array.isArray(e[o.type])?e[o.type].push(s):e[o.type]=[e[o.type],s]:e[o.type]=s});var i=t.edges.map(function(o){var a,s,l=r.get(o.targetNodeId);l["bpmn:incoming"]?Array.isArray(l["bpmn:incoming"])?l["bpmn:incoming"].push(o.id):l["bpmn:incoming"]=[l["bpmn:incoming"],o.id]:l["bpmn:incoming"]=o.id;var u={"-id":o.id,"-sourceRef":o.sourceNodeId,"-targetRef":o.targetNodeId};if(!((a=o.text)===null||a===void 0)&&a.value&&(u["-name"]=(s=o.text)===null||s===void 0?void 0:s.value),o.properties){var f=Li(n)(o.properties);Object.assign(u,f)}return u});t.edges.forEach(function(o){var a=r.get(o.sourceNodeId);a["bpmn:outgoing"]?Array.isArray(a["bpmn:outgoing"])?a["bpmn:outgoing"].push(o.id):a["bpmn:outgoing"]=[a["bpmn:outgoing"],o.id]:a["bpmn:outgoing"]=o.id}),e[ge.FLOW]=i}function Uu(e,t){e["bpmndi:BPMNEdge"]=t.edges.map(function(n){var r,i=n.id,o=n.pointsList.map(function(s){var l=s.x,u=s.y;return{"-x":l,"-y":u}}),a={"-id":i+"_di","-bpmnElement":i,"di:waypoint":o};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),e["bpmndi:BPMNShape"]=t.nodes.map(function(n){var r,i=n.id,o=100,a=80,s=n.x,l=n.y,u=Re.shapeConfigMap.get(n.type);u&&(o=u.width,a=u.height),s-=o/2,l-=a/2;var f={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":s,"-y":l,"-width":o,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),f})}function Hu(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var i=r["bpmn:process"];Object.keys(i).forEach(function(o){if(o.indexOf("bpmn:")===0){var a=i[o];if(o===ge.FLOW){var s=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=Vu(a,s)}else{var l=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(Yu(a,l,o))}}})}return{nodes:t,edges:n}}function Yu(e,t,n){var r=[];if(Array.isArray(e))e.forEach(function(a){var s;Array.isArray(t)?s=t.find(function(u){return u["-bpmnElement"]===a["-id"]}):s=t;var l=Di(s,n,a);r.push(l)});else{var i=void 0;Array.isArray(t)?i=t.find(function(a){return a["-bpmnElement"]===e["-id"]}):i=t;var o=Di(i,n,e);r.push(o)}return r}function Di(e,t,n){var r=Number(e["dc:Bounds"]["-x"]),i=Number(e["dc:Bounds"]["-y"]),o=n["-name"],a=Re.shapeConfigMap.get(t);a&&(r+=a.width/2,i+=a.height/2);var s;Object.entries(n).forEach(function(d){var h=an(d,2),p=h[0],g=h[1];Zi.indexOf(p)===-1&&(s||(s={}),s[p]=g)}),s&&(s=sn(s));var l;if(o&&(l={x:r,y:i,value:o},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var u=e["bpmndi:BPMNLabel"]["dc:Bounds"];l.x=Number(u["-x"])+Number(u["-width"])/2,l.y=Number(u["-y"])+Number(u["-height"])/2}var f={id:e["-bpmnElement"],type:t,x:r,y:i,properties:s};return l&&(f.text=l),f}function Vu(e,t){var n=[];if(Array.isArray(e))e.forEach(function(i){var o;Array.isArray(t)?o=t.find(function(a){return a["-bpmnElement"]===i["-id"]}):o=t,n.push(Bi(o,i))});else{var r=void 0;Array.isArray(t)?r=t.find(function(i){return i["-bpmnElement"]===e["-id"]}):r=t,n.push(Bi(r,e))}return n}function Bi(e,t){var n,r=t["-name"];if(r){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],o=0;r.split(`
`).forEach(function(l){o<l.length&&(o=l.length)}),n={value:r,x:Number(i["-x"])+o*10/2,y:Number(i["-y"])+7}}var a;Object.entries(t).forEach(function(l){var u=an(l,2),f=u[0],d=u[1];Zi.indexOf(f)===-1&&(a||(a={}),a[f]=d)}),a&&(a=sn(a));var s={id:t["-id"],type:ge.FLOW,pointsList:e["di:waypoint"].map(function(l){return{x:Number(l["-x"]),y:Number(l["-y"])}}),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:a};return n&&(s.text=n),s}var Re=function(){function e(t){var n=this,r=t.lf;this.adapterOut=function(i,o){var a=$n({},n.processAttributes);Xu(a,i,o);var s={"-id":"BPMNPlane_1","-bpmnElement":a["-id"]};Uu(s,i);var l=n.definitionAttributes;l["bpmn:process"]=a,l["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s};var u={"bpmn:definitions":l};return u},this.adapterIn=function(i){if(i)return Hu(i)},r.adapterIn=function(i){return n.adapterIn(i)},r.adapterOut=function(i,o){return n.adapterOut(i,o)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+Ci()},this.definitionAttributes={"-id":"Definitions_"+Ci(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return e.prototype.setCustomShape=function(t,n){e.shapeConfigMap.set(t,n)},e.pluginName="bpmn-adapter",e.shapeConfigMap=new Map,e}();Re.shapeConfigMap.set(ge.START,{width:Si.width,height:Si.height}),Re.shapeConfigMap.set(ge.END,{width:Ti.width,height:Ti.height}),Re.shapeConfigMap.set(ge.GATEWAY,{width:Ni.width,height:Ni.height}),Re.shapeConfigMap.set(ge.SYSTEM,{width:Pi.width,height:Pi.height}),Re.shapeConfigMap.set(ge.USER,{width:Oi.width,height:Oi.height});var Ku=function(e){zu(t,e);function t(n){var r=e.call(this,n)||this;r.adapterXmlIn=function(o){var a=ku(o);return r.adapterIn(a)},r.adapterXmlOut=function(o,a){var s=r.adapterOut(o,a);return Gu(s)};var i=n.lf;return i.adapterIn=r.adapterXmlIn,i.adapterOut=r.adapterXmlOut,r}return t.pluginName="bpmnXmlAdapter",t}(Re),dE=null;function tt(){var e={message:"\u5206\u7EC4\u5916\u7684\u8282\u70B9\u4E0D\u5141\u8BB8\u8FDE\u63A5\u5206\u7EC4\u5185\u7684",validate:function(t,n,r,i){var o=!!t.properties.parent,a=!!n.properties.parent;return!(!o&&a)}};this.targetRules.push(e)}var Ju=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,function(n){var r=Math.random()*16|0,i=n==="x"?r:r&3|8;return i.toString(16)});return t},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),Qu=(globalThis==null?void 0:globalThis._ids)||new Ju;function re(){return Qu.next()}var Fi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nt.apply(this,arguments)},Wi=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},$u=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wi(arguments[t]));return e};function qu(e){var t=Wi(e.useDefinition(),1),n=t[0],r=function(o){Fi(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var s,l=this.props.model,u=l.getNodeStyle(),f=l.x,d=l.y,h=l.r,p=l.width,g=l.height,v=l.properties,_=o.prototype.getShape.call(this),y=v.definitionType,x=(((s=n.endEvent)===null||s===void 0?void 0:s.get(y))||{}).icon,b=Array.isArray(x)?m.h.apply(void 0,$u(["g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")"}],x)):(0,m.h)("path",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")",d:x,style:"fill: black; stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;"});return(0,m.h)("g",{},_,(0,m.h)("circle",nt(nt({},u),{strokeWidth:2,cx:f,cy:d,r:h-2})),b)},a}(m.CircleNode),i=function(o){Fi(a,o);function a(s,l){var u,f,d,h=this;s.id||(s.id="Event_"+re()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40});var p=(((u=n.endEvent)===null||u===void 0?void 0:u.get((f=s.properties)===null||f===void 0?void 0:f.definitionType))||{}).properties,g=p===void 0?{}:p;return s.properties=nt(nt({},g),s.properties),!((d=s.properties)===null||d===void 0)&&d.definitionType&&(s.properties.definitionId="Definition_"+re()),h=o.call(this,s,l)||this,tt.call(h),h}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedSourceRules=function(){var s=this,l=o.prototype.getConnectedSourceRules.call(this),u={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(f,d){return f!==s}};return l.push(u),l},a}(m.CircleNodeModel);return{type:"bpmn:endEvent",view:r,model:i}}var ji=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ze.apply(this,arguments)},Gi=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},ed=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gi(arguments[t]));return e};function td(e){var t=Gi(e.useDefinition(),1),n=t[0],r=function(o){ji(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var s,l=this.props.model,u=l.getNodeStyle(),f=l.x,d=l.y,h=l.r,p=l.width,g=l.height,v=l.properties,_=v.definitionType,y=(((s=n.intermediateCatchEvent)===null||s===void 0?void 0:s.get(_))||{}).icon,x=Array.isArray(y)?m.h.apply(void 0,ed(["g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")"}],y)):(0,m.h)("path",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")",d:y});return(0,m.h)("g",{},(0,m.h)("circle",Ze(Ze({},u),{cx:f,cy:d,r:h,strokeWidth:1.5})),(0,m.h)("circle",Ze(Ze({},u),{cx:f,cy:d,r:h-3,strokeWidth:1.5})),x)},a}(m.CircleNode),i=function(o){ji(a,o);function a(s,l){var u,f,d,h=this;s.id||(s.id="Event_"+re()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40});var p=(((u=n.intermediateCatchEvent)===null||u===void 0?void 0:u.get((f=s.properties)===null||f===void 0?void 0:f.definitionType))||{}).properties,g=p===void 0?{}:p;return s.properties=Ze(Ze({},g),s.properties),!((d=s.properties)===null||d===void 0)&&d.definitionType&&(s.properties.definitionId="Definition_"+re()),h=o.call(this,s,l)||this,tt.call(h),h}return a.prototype.setAttributes=function(){this.r=18},a}(m.CircleNodeModel);return{type:"bpmn:intermediateCatchEvent",view:r,model:i}}var ki=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(){return rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},rt.apply(this,arguments)},zi=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},nd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zi(arguments[t]));return e};function rd(e){var t=zi(e.useDefinition(),1),n=t[0],r=function(o){ki(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var s,l=this.props.model,u=l.getNodeStyle(),f=l.x,d=l.y,h=l.r,p=l.width,g=l.height,v=l.properties,_=v.definitionType,y=v.isInterrupting,x=(((s=n.startEvent)===null||s===void 0?void 0:s.get(_))||{}).icon,b=Array.isArray(x)?m.h.apply(void 0,nd(["g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")"}],x)):(0,m.h)("path",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")",d:x,style:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});return(0,m.h)("g",{},(0,m.h)("circle",rt(rt({},u),{cx:f,cy:d,r:h,strokeDasharray:y?"5,5":"",strokeWidth:2})),b)},a}(m.CircleNode),i=function(o){ki(a,o);function a(s,l){var u,f,d,h=this;s.id||(s.id="Event_"+re()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40});var p=(((u=n.startEvent)===null||u===void 0?void 0:u.get((f=s.properties)===null||f===void 0?void 0:f.definitionType))||{}).properties,g=p===void 0?{}:p;return s.properties=rt(rt({},g),s.properties),!((d=s.properties)===null||d===void 0)&&d.definitionType&&(s.properties.definitionId="Definition_"+re()),h=o.call(this,s,l)||this,h}return a.prototype.setAttributes=function(){this.r=18},a.prototype.getConnectedTargetRules=function(){var s=this,l=o.prototype.getConnectedTargetRules.call(this),u={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(f,d){return d!==s}};return l.push(u),l},a}(m.CircleNodeModel);return{type:"bpmn:startEvent",view:r,model:i}}var Xi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ie.apply(this,arguments)},Ui=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},id=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ui(arguments[t]));return e};function od(e){var t=Ui(e.useDefinition(),1),n=t[0],r=function(o){Xi(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var s,l=this.props.model,u=l.getNodeStyle(),f=l.x,d=l.y,h=l.r,p=l.width,g=l.height,v=l.properties,_=v.definitionType,y=v.cancelActivity,x=(((s=n.boundaryEvent)===null||s===void 0?void 0:s.get(_))||{}).icon,b=Array.isArray(x)?m.h.apply(void 0,id(["g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")"}],x)):(0,m.h)("path",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")",d:x});return(0,m.h)("g",{},(0,m.h)("circle",Ie(Ie({},u),{cx:f,cy:d,r:h,strokeDasharray:y?"":"5,5",strokeWidth:1.5})),(0,m.h)("circle",Ie(Ie({},u),{cx:f,cy:d,r:h-3,strokeDasharray:y?"":"5,5",strokeWidth:1.5})),b)},a}(m.CircleNode),i=function(o){Xi(a,o);function a(s,l){var u,f,d,h=this;s.id||(s.id="Event_"+re()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40});var p=(((u=n.boundaryEvent)===null||u===void 0?void 0:u.get((f=s.properties)===null||f===void 0?void 0:f.definitionType))||{}).properties,g=p===void 0?{}:p;return s.properties=Ie(Ie({attachedToRef:"",cancelActivity:!0},g),s.properties),!((d=s.properties)===null||d===void 0)&&d.definitionType&&(s.properties.definitionId="Definition_"+re()),h=o.call(this,s,l)||this,tt.call(h),h}return a.prototype.initNodeData=function(s){o.prototype.initNodeData.call(this,s),this.r=20,this.autoToFront=!1,this.zIndex=99999},a.prototype.setAttributes=function(){this.r=18},a}(m.CircleNodeModel);return{type:"bpmn:boundaryEvent",view:r,model:i}}var Hi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(){return Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Le.apply(this,arguments)},Yi=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},ad=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Yi(arguments[t]));return e};function sd(e){var t=Yi(e.useDefinition(),1),n=t[0],r=function(o){Hi(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},a.prototype.getShape=function(){var s,l=this.props.model,u=l.getNodeStyle(),f=l.x,d=l.y,h=l.r,p=l.width,g=l.height,v=l.properties,_=v.definitionType,y=(((s=n.intermediateThrowEvent)===null||s===void 0?void 0:s.get(_))||{}).icon,x=Array.isArray(y)?m.h.apply(void 0,ad(["g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")"}],y)):(0,m.h)("path",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(d-g/2)+")",d:y,style:"fill: black"});return(0,m.h)("g",{},(0,m.h)("circle",Le(Le({},u),{cx:f,cy:d,r:h,strokeWidth:1.5})),(0,m.h)("circle",Le(Le({},u),{cx:f,cy:d,r:h-3,strokeWidth:1.5})),x)},a}(m.CircleNode),i=function(o){Hi(a,o);function a(s,l){var u,f,d,h=this;s.id||(s.id="Event_"+re()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40});var p=(((u=n.intermediateThrowEvent)===null||u===void 0?void 0:u.get((f=s.properties)===null||f===void 0?void 0:f.definitionType))||{}).properties,g=p===void 0?{}:p;return s.properties=Le(Le({},g),s.properties),!((d=s.properties)===null||d===void 0)&&d.definitionType&&(s.properties.definitionId="Definition_"+re()),h=o.call(this,s,l)||this,tt.call(h),h}return a.prototype.setAttributes=function(){this.r=18},a}(m.CircleNodeModel);return{type:"bpmn:intermediateThrowEvent",view:r,model:i}}function ld(e){e.register(rd(e)),e.register(qu(e)),e.register(td(e)),e.register(sd(e)),e.register(od(e))}var fE="m 8.459999999999999,11.34 l 0,12.6 l 18.900000000000002,0 l 0,-12.6 z l 9.450000000000001,5.4 l 9.450000000000001,-5.4",ud=[(0,m.h)("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),(0,m.h)("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),(0,m.h)("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"})],hE="m 7.2,25.991999999999997 0.09350000000000001,-0.025300000000000003 7.3392,-9.610700000000001 7.667000000000001,8.9661 4.7003,-18.2204 -5.8707,11.6501 -7.299600000000001,-9.585400000000002 z",cE="M 18,7.2 l 8,20 l -8,-7 l -8,7 Z",pE="m 7.92,18 9,-6.5 0,13 z m 9.3,-0.4 8.7,-6.1 0,13 -8.7,-6.1 z",vE="M 10.5,8.5 l 14.5,0 l 0,18 l -14.5,0 Z M 12.5,11.5 l 10.5,0 M 12.5,14.5 l 10.5,0 M 12.5,17.5 l 10.5,0 M 12.5,20.5 l 10.5,0 M 12.5,23.5 l 10.5,0 M 12.5,26.5 l 10.5,0 ",gE="m 20.52,9.468 0,4.4375 -13.5,0 0,6.75 13.5,0 0,4.4375 9.84375,-7.8125 -9.84375,-7.8125 z",_E="M 18,7.2 l 9,16.2 l -18,0 Z",yE=[(0,m.h)("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"})],dd="m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z",fd="m 23,10 0,12.5 -12.5,0 0,5 12.5,0 0,12.5 5,0 0,-12.5 12.5,0 0,-5 -12.5,0 0,-12.5 -5,0 z",hd=(0,m.h)("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"}),cd="M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z",pd="M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z",mE="M6.402,0.5H20.902C20.902,0.5,15.069,3.333,15.069,6.083S19.486,12.083,19.486,15.25S15.319,20.333,15.319,20.333H0.235C0.235,20.333,5.235,17.665999999999997,5.235,15.332999999999998S0.6520000000000001,8.582999999999998,0.6520000000000001,6.082999999999998S6.402,0.5,6.402,0.5ZM3.5,4.5L13.5,4.5M3.8,8.5L13.8,8.5M6.3,12.5L16.3,12.5M6.5,16.5L16.5,16.5",xE="M0.5,3.751L4.583,0.5009999999999999C4.583,0.5009999999999999,15.749,0.5839999999999999,16.666,0.5839999999999999S14.249,3.5009999999999994,15.166,3.5009999999999994S26.833,3.5009999999999994,27.75,3.5009999999999994C28.916,5.209,27.582,6.667999999999999,26.916,7.167999999999999S27.791,9.084999999999999,25.916,11.584999999999999C25.166,11.834999999999999,26.666,13.459999999999999,24.583000000000002,14.918C23.416,15.501,25.166,16.46,23.333000000000002,17.750999999999998C22.166,17.750999999999998,2.5000000000000036,17.833999999999996,2.5000000000000036,17.833999999999996L0.5000000000000036,16.500999999999998V3.751ZM13.5,7L27,7M13.5,11L26,11M14,14.5L25,14.5M8.2,3.1L15,3.1",wE={throw:"fill: rgb(34, 36, 42); stroke-linecap: round; stroke-linejoin: round; stroke: white; stroke-width: 1px;",catch:"fill: white; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;",nonIntermediate:"stroke-width: 1.5; stroke-dash-array: 6",intermediate:"stroke-width: 1.5"},vd="m44,60 m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",gd="m47,61 m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",_d="m 50,73 c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",Vi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),De=function(){return De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},De.apply(this,arguments)},bE={exclusive:0,inclusive:1,parallel:2},EE=null;function qn(e,t,n){var r=function(o){Vi(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getShape=function(){var s=this.props.model,l=s.x,u=s.y,f=s.width,d=s.height,h=s.points,p=s.getNodeStyle();return(0,m.h)("g",{transform:"matrix(1 0 0 1 "+(l-f/2)+" "+(u-d/2)+")"},(0,m.h)("polygon",De(De({},p),{x:l,y:u,points:h})),typeof t=="string"?(0,m.h)("path",De(De({d:t},p),{fill:"rgb(34, 36, 42)",strokeWidth:1})):t)},a}(m.PolygonNode),i=function(o){Vi(a,o);function a(s,l){var u=this;return s.id||(s.id="Gateway_"+re()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),s.properties=De(De({},n||{}),s.properties),u=o.call(this,s,l)||this,u.points=[[25,0],[50,25],[25,50],[0,25]],tt.call(u),u}return a}(m.PolygonNodeModel);return{type:e,view:r,model:i}}function yd(e){var t=qn("bpmn:exclusiveGateway",dd),n=qn("bpmn:parallelGateway",fd),r=qn("bpmn:inclusiveGateway",hd);e.register(t),e.register(r),e.register(n)}var Ki=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(){return it=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},it.apply(this,arguments)},md=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},xd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(md(arguments[t]));return e},wd={parallel:vd,sequential:gd,loop:_d};function Ji(e,t,n){var r=function(o){Ki(a,o);function a(){return o!==null&&o.apply(this,arguments)||this}return a.prototype.getLabelShape=function(){var s=this.props.model,l=s.x,u=s.y,f=s.width,d=s.height,h=s.getNodeStyle(),p=Array.isArray(t)?m.h.apply(void 0,xd(["g",{transform:"matrix(1 0 0 1 "+(l-f/2)+" "+(u-d/2)+")"}],t)):(0,m.h)("path",{fill:h.stroke,d:t});return(0,m.h)("svg",{x:l-f/2+5,y:u-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},p)},a.prototype.getShape=function(){var s=this.props.model,l=s.x,u=s.y,f=s.width,d=s.height,h=s.radius,p=s.properties,g=s.getNodeStyle();return(0,m.h)("g",{},[(0,m.h)("rect",it(it({},g),{x:l-f/2,y:u-d/2,rx:h,ry:h,width:f,height:d,opacity:.95})),this.getLabelShape(),(0,m.h)("g",{transform:"matrix(1 0 0 1 "+(l-f/2)+" "+(u-d/2)+")"},(0,m.h)("path",{fill:"white",strokeLinecap:"round",strokeLinejoin:"round",stroke:"rgb(34, 36, 42)",strokeWidth:"2",d:wd[p.multiInstanceType]||""}))])},a}(m.RectNode),i=function(o){Ki(a,o);function a(s,l){var u,f=this;s.id||(s.id="Activity_"+re());var d=it(it({},n||{}),s.properties);return s.properties=d,f=o.call(this,s,l)||this,(u=d==null?void 0:d.boundaryEvents)===null||u===void 0||u.forEach(function(h){f.addBoundaryEvent(h)}),f.deleteProperty("boundaryEvents"),tt.call(f),f}return a.prototype.initNodeData=function(s){o.prototype.initNodeData.call(this,s),this.isTaskNode=!0,this.boundaryEvents=[]},a.prototype.getNodeStyle=function(){var s=o.prototype.getNodeStyle.call(this),l=this.properties.isBoundaryEventTouchingTask;return l&&(s.stroke="#00acff",s.strokeWidth=2),s},a.prototype.getOutlineStyle=function(){var s=o.prototype.getOutlineStyle.call(this);return s.stroke="transparent",!s.hover&&(s.hover={}),s.hover.stroke="transparent",s},a.prototype.setTouching=function(s){this.setProperty("isBoundaryEventTouchingTask",s)},a.prototype.addBoundaryEvent=function(s){if(this.setTouching(!1),this.boundaryEvents.find(function(u){return u===s}))return!1;var l=this.graphModel.getNodeModelById(s);return l==null||l.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(s),!0},a.prototype.deleteBoundaryEvent=function(s){this.boundaryEvents=this.boundaryEvents.filter(function(l){return l!==s})},a}(m.RectNodeModel);return{type:e,view:r,model:i}}var Ot,z,Qi,bd,He,$i,qi,er,eo,Ct={},to=[],Ed=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ln=Array.isArray;function we(e,t){for(var n in t)e[n]=t[n];return e}function no(e){var t=e.parentNode;t&&t.removeChild(e)}function ot(e,t,n){var r,i,o,a={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Ot.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return Rt(e,a,r,i,null)}function Rt(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i==null?++Qi:i,__i:-1,__u:0};return i==null&&z.vnode!=null&&z.vnode(o),o}function ME(){return{current:null}}function un(e){return e.children}function at(e,t){this.props=e,this.context=t}function Ye(e,t){if(t==null)return e.__?Ye(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ye(e):null}function ro(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ro(e)}}function tr(e){(!e.__d&&(e.__d=!0)&&He.push(e)&&!dn.__r++||$i!==z.debounceRendering)&&(($i=z.debounceRendering)||qi)(dn)}function dn(){var e,t,n,r,i,o,a,s,l;for(He.sort(er);e=He.shift();)e.__d&&(t=He.length,r=void 0,o=(i=(n=e).__v).__e,s=[],l=[],(a=n.__P)&&((r=we({},i)).__v=i.__v+1,z.vnode&&z.vnode(r),nr(a,r,i,n.__n,a.ownerSVGElement!==void 0,32&i.__u?[o]:null,s,o==null?Ye(i):o,!!(32&i.__u),l),r.__v=i.__v,r.__.__k[r.__i]=r,uo(s,r,l),r.__e!=o&&ro(r)),He.length>t&&He.sort(er));dn.__r=0}function io(e,t,n,r,i,o,a,s,l,u,f){var d,h,p,g,v,_=r&&r.__k||to,y=t.length;for(n.__d=l,Md(n,t,_),l=n.__d,d=0;d<y;d++)(p=n.__k[d])!=null&&typeof p!="boolean"&&typeof p!="function"&&(h=p.__i===-1?Ct:_[p.__i]||Ct,p.__i=d,nr(e,p,h,i,o,a,s,l,u,f),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&rr(h.ref,null,p),f.push(p.ref,p.__c||g,p)),v==null&&g!=null&&(v=g),65536&p.__u||h.__k===p.__k?(g||h.__e!=l||(l=Ye(h)),l=oo(p,l,e)):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:g&&(l=g.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=v}function Md(e,t,n){var r,i,o,a,s,l=t.length,u=n.length,f=u,d=0;for(e.__k=[],r=0;r<l;r++)a=r+d,(i=e.__k[r]=(i=t[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Rt(null,i,null,null,null):ln(i)?Rt(un,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Rt(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,s=Sd(i,n,a,f),i.__i=s,o=null,s!==-1&&(f--,(o=n[s])&&(o.__u|=131072)),o==null||o.__v===null?(s==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):s!==a&&(s===a+1?d++:s>a?f>l-a?d+=s-a:d--:s<a?s==a-1&&(d=s-a):d=0,s!==r+d&&(i.__u|=65536))):(o=n[a])&&o.key==null&&o.__e&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=Ye(o)),ir(o,o,!1),n[a]=null,f--);if(f)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=Ye(o)),ir(o,o))}function oo(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=oo(r[i],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Ad(e,t){return t=t||[],e==null||typeof e=="boolean"||(ln(e)?e.some(function(n){Ad(n,t)}):t.push(e)),t}function Sd(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,l=t[n];if(l===null||l&&i==l.key&&o===l.type&&!(131072&l.__u))return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||s<t.length;){if(a>=0){if((l=t[a])&&!(131072&l.__u)&&i==l.key&&o===l.type)return a;a--}if(s<t.length){if((l=t[s])&&!(131072&l.__u)&&i==l.key&&o===l.type)return s;s++}}return-1}function ao(e,t,n){t[0]==="-"?e.setProperty(t,n==null?"":n):e[t]=n==null?"":typeof n!="number"||Ed.test(t)?n:n+"px"}function fn(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ao(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ao(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?lo:so,o)):e.removeEventListener(t,o?lo:so,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n==null?"":n;break e}catch(a){}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function so(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(z.event?z.event(e):e)}}function lo(e){if(this.l)return this.l[e.type+!0](z.event?z.event(e):e)}function nr(e,t,n,r,i,o,a,s,l,u){var f,d,h,p,g,v,_,y,x,b,A,O,Y,j,L,G=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),o=[s=t.__e=n.__e]),(f=z.__b)&&f(t);e:if(typeof G=="function")try{if(y=t.props,x=(f=G.contextType)&&r[f.__c],b=f?x?x.props.value:f.__:r,n.__c?_=(d=t.__c=n.__c).__=d.__E:("prototype"in G&&G.prototype.render?t.__c=d=new G(y,b):(t.__c=d=new at(y,b),d.constructor=G,d.render=Nd),x&&x.sub(d),d.props=y,d.state||(d.state={}),d.context=b,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),G.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=we({},d.__s)),we(d.__s,G.getDerivedStateFromProps(y,d.__s))),p=d.props,g=d.state,d.__v=t,h)G.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(G.getDerivedStateFromProps==null&&y!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(y,b),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(y,d.__s,b)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(B){B&&(B.__=t)}),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(y,d.__s,b),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,g,v)})}if(d.context=b,d.props=y,d.__P=e,d.__e=!1,O=z.__r,Y=0,"prototype"in G&&G.prototype.render){for(d.state=d.__s,d.__d=!1,O&&O(t),f=d.render(d.props,d.state,d.context),j=0;j<d._sb.length;j++)d.__h.push(d._sb[j]);d._sb=[]}else do d.__d=!1,O&&O(t),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++Y<25);d.state=d.__s,d.getChildContext!=null&&(r=we(we({},r),d.getChildContext())),h||d.getSnapshotBeforeUpdate==null||(v=d.getSnapshotBeforeUpdate(p,g)),io(e,ln(L=f!=null&&f.type===un&&f.key==null?f.props.children:f)?L:[L],t,n,r,i,o,a,s,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),_&&(d.__E=d.__=null)}catch(B){t.__v=null,l||o!=null?(t.__e=s,t.__u|=l?160:32,o[o.indexOf(s)]=null):(t.__e=n.__e,t.__k=n.__k),z.__e(B,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Td(n.__e,t,n,r,i,o,a,l,u);(f=z.diffed)&&f(t)}function uo(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)rr(n[r],n[++r],n[++r]);z.__c&&z.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){z.__e(o,i.__v)}})}function Td(e,t,n,r,i,o,a,s,l){var u,f,d,h,p,g,v,_=n.props,y=t.props,x=t.type;if(x==="svg"&&(i=!0),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!x&&(x?p.localName===x:p.nodeType===3)){e=p,o[u]=null;break}}if(e==null){if(x===null)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,y.is&&y),o=null,s=!1}if(x===null)_===y||s&&e.data===y||(e.data=y);else{if(o=o&&Ot.call(e.childNodes),_=n.props||Ct,!s&&o!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?d=p:u==="key"||u in y||fn(e,u,null,p,i));for(u in y)p=y[u],u=="children"?h=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?g=p:u=="checked"?v=p:u==="key"||s&&typeof p!="function"||_[u]===p||fn(e,u,p,_[u],i);if(f)s||d&&(f.__html===d.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),io(e,ln(h)?h:[h],t,n,r,i&&x!=="foreignObject",o,a,o?o[0]:n.__k&&Ye(n,0),s,l),o!=null)for(u=o.length;u--;)o[u]!=null&&no(o[u]);s||(u="value",g!==void 0&&(g!==e[u]||x==="progress"&&!g||x==="option"&&g!==_[u])&&fn(e,u,g,_[u],!1),u="checked",v!==void 0&&v!==e[u]&&fn(e,u,v,_[u],!1))}return e}function rr(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){z.__e(r,n)}}function ir(e,t,n){var r,i;if(z.unmount&&z.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||rr(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){z.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&ir(r[i],t,n||typeof e.type!="function");n||e.__e==null||no(e.__e),e.__=e.__e=e.__d=void 0}function Nd(e,t,n){return this.constructor(e,n)}function Pd(e,t,n){var r,i,o,a;z.__&&z.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],a=[],nr(t,e=(!r&&n||t).__k=ot(un,null,[e]),i||Ct,Ct,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?Ot.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,a),uo(o,e,a)}function Od(e,t){Pd(e,t,Od)}function AE(e,t,n){var r,i,o,a,s=we({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o]===void 0&&a!==void 0?a[o]:t[o];return arguments.length>2&&(s.children=arguments.length>3?Ot.call(arguments,2):n),Rt(e.type,s,r||e.key,i||e.ref,null)}function SE(e,t){var n={__c:t="__cC"+eo++,__:e,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(s){s.__e=!0,tr(s)})},this.sub=function(a){i.push(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),s&&s.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Ot=to.slice,z={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(s){e=s}throw e}},Qi=0,bd=function(e){return e!=null&&e.constructor==null},at.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=we({},this.state),typeof e=="function"&&(e=e(we({},n),this.props)),e&&we(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),tr(this))},at.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),tr(this))},at.prototype.render=un,He=[],qi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,er=function(e,t){return e.__v.__b-t.__v.__b},dn.__r=0,eo=0;var Zt=function(){return Zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Zt.apply(this,arguments)};function or(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.radius,a=e.className,s=t-r/2,l=n-i/2,u=Zt(Zt({width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:s,y:l});return(0,m.h)("rect",Zt({},u))}or.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var st;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.HTML_NODE="html-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(st||(st={}));function hn(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2}}function fo(e){var t=hn(e),n=e.radius,r=t.minX,i=t.minY,o=t.maxX,a=t.maxY;return[{x:r+n,y:i+n},{x:o-n,y:i+n},{x:o-n,y:a-n},{x:r+n,y:a-n}]}function TE(e){var t=e.point,n=e.beforeNode,r=e.afterNode,i=t.x,o=t.y,a={x:i,y:o},s=n.radius,l=hn(n),u=hn(r);if(i===l.minX){a.x=u.minX;var f=(o-n.y)/(n.height/2-s);f?a.y=r.y+(r.height/2-s)*f:a.y=r.y}else if(i===l.maxX){a.x=u.maxX;var f=(o-n.y)/(n.height/2-s);f?a.y=r.y+(r.height/2-s)*f:a.y=r.y}else if(o===l.minY){a.y=u.minY;var f=(i-n.x)/(n.width/2-s);f?a.x=r.x+(r.width/2-s)*f:a.x=r.x}else if(o===l.maxY){a.y=u.maxY;var f=(i-n.x)/(n.width/2-s);f?a.x=r.x+(r.width/2-s)*f:a.x=r.x}else{var d=fo(n),h=fo(r),p=hn(n),g=p.minX,v=p.minY,_=p.maxX,y=p.maxY,x=-1;if(i-g<s&&o-v<s?x=0:_-i<s&&o-v<s?x=1:_-i<s&&y-o<s?x=2:i-g<s&&v-o<s&&(x=3),x>-1){var b=Math.atan2(o-d[x].y,i-d[x].x);a.x=h[x].x+s*Math.cos(b),a.y=h[x].y+s*Math.sin(b)}}return a}function NE(e){var t=e.point,n=e.beforeNode,r=e.afterNode,i=r.rx,o=r.ry,a=t,s=(t.y-n.y)/(t.x-n.x),l=i,u=o,f,d;return s>=1/0?(f=0,d=u):s<=-1/0?(f=0,d=-u):t.x-n.x>0?(f=l*u/Math.sqrt(u*u+l*l*s*s),d=l*u*s/Math.sqrt(u*u+l*l*s*s)):(f=-(l*u)/Math.sqrt(u*u+l*l*s*s),d=-(l*u*s)/Math.sqrt(u*u+l*l*s*s)),a={x:f+r.x,y:d+r.y},a}function PE(e){var t=e.point,n=e.beforeNode,r=e.afterNode,i=t,o,a,s=t.x-n.x,l=t.y-n.y,u=n.rx,f=n.ry,d=Math.sqrt((u-Math.abs(s))*(u-Math.abs(s))+l*l)/Math.sqrt(u*u+f*f),h=r.rx,p=r.ry,g=Math.sqrt((h*h+p*p)*d*d*(h*h/(h*h+p*p))),v=g*(p/h);return s>=0?o=h-g:o=g-h,l>0?a=v:a=-v,i={x:o+r.x,y:a+r.y},i}var Cd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(){return Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ve.apply(this,arguments)},Rd=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Zd=m.LogicFlowUtil.StepDrag,Id=function(e){Cd(t,e);function t(n){var r=e.call(this)||this;return r.updatePosition=function(i){var o=i.deltaX,a=i.deltaY,s=r.nodeModel,l=s.x,u=s.y;r.nodeModel.x=l+o/2,r.nodeModel.y=u+a/2,r.nodeModel.moveText(o/2,a/2)},r.getResize=function(i){var o=i.index,a=i.deltaX,s=i.deltaY,l=i.width,u=i.height,f=i.PCTResizeInfo,d=i.pct,h=d===void 0?1:d,p={width:l,height:u,deltaX:a,deltaY:s};if(f){var g=4,v=0,_=0;switch(o){case 0:_=(a*-1-s)/g;break;case 1:_=(a-s)/g;break;case 2:_=(a+s)/g;break;case 3:_=(a*-1+s)/g;break;default:break}_!==0&&(v=Math.round(_/f.ResizeBasis.basisHeight*1e5)/1e3),f.ResizePCT.widthPCT=Math.max(Math.min(f.ResizePCT.widthPCT+v,f.ScaleLimit.maxScaleLimit),f.ScaleLimit.minScaleLimit),f.ResizePCT.hightPCT=Math.max(Math.min(f.ResizePCT.hightPCT+v,f.ScaleLimit.maxScaleLimit),f.ScaleLimit.minScaleLimit);var y=Math.round(f.ResizePCT.widthPCT*f.ResizeBasis.basisWidth/100),x=Math.round(f.ResizePCT.hightPCT*f.ResizeBasis.basisHeight/100);switch(o){case 0:a=l-y,s=u-x;break;case 1:a=y-l,s=u-x;break;case 2:a=y-l,s=x-u;break;case 3:a=l-y,s=x-u;break;default:break}return p.width=y,p.height=x,p.deltaX=a/h,p.deltaY=s/h,p}switch(o){case 0:p.width=l-a*h,p.height=u-s*h;break;case 1:p.width=l+a*h,p.height=u-s*h;break;case 2:p.width=l+a*h,p.height=u+s*h;break;case 3:p.width=l-a*h,p.height=u+s*h;break;default:break}return p},r.updateEdgePointByAnchors=function(){var i=r.nodeModel,o=i.id,a=i.anchors,s=r.getNodeEdges(o);s.sourceEdges.forEach(function(l){var u=a.find(function(f){return f.id===l.sourceAnchorId});l.updateStartPoint({x:u.x,y:u.y})}),s.targetEdges.forEach(function(l){var u=a.find(function(f){return f.id===l.targetAnchorId});l.updateEndPoint({x:u.x,y:u.y})})},r.updateRect=function(i){var o=i.deltaX,a=i.deltaY,s=r.nodeModel,l=s.id,u=s.x,f=s.y,d=s.width,h=s.height,p=s.radius,g=s.PCTResizeInfo,v=r.index,_=r.getResize({index:v,deltaX:o,deltaY:a,width:d,height:h,PCTResizeInfo:g,pct:1}),y=r.nodeModel,x=y.minWidth,b=y.minHeight,A=y.maxWidth,O=y.maxHeight;if(_.width<x||_.width>A||_.height<b||_.height>O){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:_.deltaX,deltaY:_.deltaY}),r.nodeModel.width=_.width,r.nodeModel.height=_.height,r.nodeModel.setProperties({nodeSize:{width:_.width,height:_.height}});var Y=r.getNodeEdges(l),j={x:u,y:f,width:d,height:h,radius:p},L={x:r.nodeModel.x,y:r.nodeModel.y,width:r.nodeModel.width,height:r.nodeModel.height,radius:p};r.updateEdgePointByAnchors(),r.eventEmit({beforeNode:j,afterNode:L})},r.updateEllipse=function(i){var o=i.deltaX,a=i.deltaY,s=r.nodeModel,l=s.id,u=s.rx,f=s.ry,d=s.x,h=s.y,p=s.PCTResizeInfo,g=r.index,v=u,_=f,y=r.getResize({index:g,deltaX:o,deltaY:a,width:v,height:_,PCTResizeInfo:p,pct:1/2}),x=r.nodeModel,b=x.minWidth,A=x.minHeight,O=x.maxWidth,Y=x.maxHeight;if(y.width<b/2||y.width>O/2||y.height<A/2||y.height>Y/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:y.deltaX,deltaY:y.deltaY}),r.nodeModel.rx=y.width,r.nodeModel.ry=y.height,r.nodeModel.setProperties({nodeSize:{rx:y.width,ry:y.height}});var j=r.getNodeEdges(l),L={x:d,y:h},G={rx:y.width,ry:y.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({beforeNode:Ve(Ve({},L),{rx:u,ry:f}),afterNode:G})},r.updateDiamond=function(i){var o=i.deltaX,a=i.deltaY,s=r.nodeModel,l=s.id,u=s.rx,f=s.ry,d=s.x,h=s.y,p=s.PCTResizeInfo,g=r.index,v=u,_=f,y=r.getResize({index:g,deltaX:o,deltaY:a,width:v,height:_,PCTResizeInfo:p,pct:1/2}),x=r.nodeModel,b=x.minWidth,A=x.minHeight,O=x.maxWidth,Y=x.maxHeight;if(y.width<b/2||y.width>O/2||y.height<A/2||y.height>Y/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:y.deltaX,deltaY:y.deltaY}),r.nodeModel.rx=y.width,r.nodeModel.ry=y.height,r.nodeModel.setProperties({nodeSize:{rx:y.width,ry:y.height}});var j={x:d,y:h,rx:u,ry:f},L={rx:y.width,ry:y.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({beforeNode:j,afterNode:L})},r.eventEmit=function(i){var o=i.beforeNode,a=i.afterNode,s=r.nodeModel,l=s.id,u=s.modelType,f=s.type,d=Ve({id:l,modelType:u,type:f},o),h=Ve({id:l,modelType:u,type:f},a);r.graphModel.eventCenter.emit("node:resize",{oldNodeSize:d,newNodeSize:h})},r.onDragging=function(i){var o,a=i.deltaX,s=i.deltaY,l=r.graphModel.transformModel,u=r.nodeModel.modelType;o=Rd(l.fixDeltaXY(a,s),2),a=o[0],s=o[1],u===st.RECT_NODE||u===st.HTML_NODE?r.updateRect({deltaX:a,deltaY:s}):u===st.ELLIPSE_NODE?r.updateEllipse({deltaX:a,deltaY:s}):u===st.DIAMOND_NODE&&r.updateDiamond({deltaX:a,deltaY:s})},r.onDragEnd=function(){r.updateEdgePointByAnchors();var i=r.graphModel.gridSize,o=i===void 0?1:i,a=o*Math.round(r.nodeModel.x/o),s=o*Math.round(r.nodeModel.y/o);r.nodeModel.moveTo(a,s)},r.index=n.index,r.nodeModel=n.model,r.graphModel=n.graphModel,r.state={},r.dragHandler=new Zd({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:1}),r}return t.prototype.getNodeEdges=function(n){for(var r=this.graphModel,i=r.edges,o=[],a=[],s=0;s<i.length;s++){var l=i[s];l.sourceNodeId===n?o.push(l):i[s].targetNodeId===n&&a.push(l)}return{sourceEdges:o,targetEdges:a}},t.prototype.render=function(){var n=this.props,r=n.x,i=n.y,o=n.index,a=n.model,s=a.getControlPointStyle();return ot("g",{className:"lf-resize-control-"+o},ot(or,Ve({className:"lf-node-control"},{x:r,y:i},s,{onMouseDown:this.dragHandler.handleMouseDown})))},t}(at),Ld=Id,Dd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(){return cn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},cn.apply(this,arguments)},Bd=function(e){Dd(t,e);function t(){var n=e.call(this)||this;return n.state={},n}return t.prototype.getResizeControl=function(){var n=this.props,r=n.model,i=n.graphModel,o=r.x,a=r.y,s=r.width,l=r.height,u={minX:o-s/2,minY:a-l/2,maxX:o+s/2,maxY:a+l/2},f=u.minX,d=u.minY,h=u.maxX,p=u.maxY,g=[{x:f,y:d},{x:h,y:d},{x:h,y:p},{x:f,y:p}];return g.map(function(v,_){return ot(Ld,cn({index:_},v,{model:r,graphModel:i}))})},t.prototype.getGroupSolid=function(){var n=this.props.model,r=n.x,i=n.y,o=n.width,a=n.height,s=n.getResizeOutlineStyle();return ot(or,cn({fill:"none"},s,{x:r,y:i,width:o,height:a}))},t.prototype.render=function(){return ot("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(at),pn=Bd,ho=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fd=function(e){ho(t,e);function t(n,r){var i=e.call(this,n,r)||this,o=i.properties.nodeSize;return o&&(i.width=o.width,i.height=o.height),i}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.resize=function(n,r){console.log(n,r)},t.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},o={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},t}(m.RectNodeModel),Wd=function(e){ho(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,i=n.graphModel;return(0,m.h)(pn,{model:r,graphModel:i})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,i=n.graphModel.editConfigModel.isSilentMode;return(0,m.h)("g",null,this.getResizeShape(),r&&!i?this.getControlGroup():"")},t}(m.RectNode),jd={type:"rect",view:Wd,model:Fd},It=jd,co=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gd=function(e){co(t,e);function t(n,r){var i=e.call(this,n,r)||this,o=i.properties.nodeSize;return o&&(i.rx=o.rx,i.ry=o.ry),i}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},o={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},t}(m.EllipseNodeModel),kd=function(e){co(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,i=n.graphModel;return(0,m.h)(pn,{model:r,graphModel:i})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model,i=n.graphModel.editConfigModel.isSilentMode;return(0,m.h)("g",null,this.getResizeShape(),r.isSelected&&!i?this.getControlGroup():"")},t}(m.EllipseNode),zd={type:"ellipse",view:kd,model:Gd},ar=zd,sr=function(){return sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},sr.apply(this,arguments)};function Xd(e){var t=e.fillOpacity,n=t===void 0?1:t,r=e.strokeWidth,i=r===void 0?1:r,o=e.strokeOpacity,a=o===void 0?1:o,s=e.fill,l=s===void 0?"transparent":s,u=e.stroke,f=u===void 0?"#000":u,d=e.points,h=e.className,p=h===void 0?"lf-basic-shape":h,g={fill:l,fillOpacity:n,strokeWidth:i,stroke:f,strokeOpacity:a,points:"",className:p};return g.points=d.map(function(v){return v.join(",")}).join(" "),(0,m.h)("polygon",sr({},g))}var po=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(){return lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},lr.apply(this,arguments)},Ud=function(e){po(t,e);function t(n,r){var i=e.call(this,n,r)||this,o=i.properties.nodeSize;return o&&(i.rx=o.rx,i.ry=o.ry),i}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},o={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},t}(m.DiamondNodeModel),Hd=function(e){po(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,i=n.graphModel;return(0,m.h)(pn,{model:r,graphModel:i})},t.prototype.getResizeShape=function(){var n=this.props.model,r=n.points,i=n.getNodeStyle();return(0,m.h)("g",null,(0,m.h)(Xd,lr({},i,{points:r})))},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,i=n.graphModel.editConfigModel.isSilentMode;return(0,m.h)("g",null,this.getResizeShape(),r&&!i?this.getControlGroup():"")},t}(m.DiamondNode),Yd={type:"diamond",view:Hd,model:Ud},ur=Yd,vo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vd=function(e){vo(t,e);function t(n,r){var i=e.call(this,n,r)||this,o=i.properties.nodeSize;return o&&(i.width=o.width,i.height=o.height),i}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},o={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},t}(m.HtmlNodeModel),Kd=function(e){vo(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,i=n.graphModel;return(0,m.h)(pn,{model:r,graphModel:i})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,i=n.graphModel.editConfigModel.isSilentMode;return(0,m.h)("g",null,this.getResizeShape(),r&&!i?this.getControlGroup():"")},t}(m.HtmlNode),Jd={type:"html",view:Kd,model:Vd},dr=Jd,OE={pluginName:"nodeResize",step:0,install:function(e){e.register({type:It.type,view:It.view,model:It.model}),e.register({type:ar.type,view:ar.view,model:ar.model}),e.register({type:ur.type,view:ur.view,model:ur.model}),e.register({type:dr.type,view:dr.view,model:dr.model})}},CE=null,go=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vn=function(){return vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vn.apply(this,arguments)},Qd=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},$d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qd(arguments[t]));return e},_o=500,yo=300,qd=-1e4,ef=function(e){go(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isGroup=!0,n.unfoldedWidth=_o,n.unfoldedHight=yo,n.childrenLastFoldStatus={},n}return t.prototype.initNodeData=function(n){var r=this;e.prototype.initNodeData.call(this,n);var i=[];Array.isArray(n.children)&&(i=n.children),this.children=new Set(i),this.width=_o,this.height=yo,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=qd,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){r.isFolded&&r.foldGroup(r.isFolded)})},t.prototype.getResizeOutlineStyle=function(){var n=e.prototype.getResizeOutlineStyle.call(this);return n.stroke="none",n},t.prototype.foldGroup=function(n){var r=this;if(n!==this.isFolded){this.setProperty("isFolded",n),this.isFolded=n,n?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(o){var a=r.graphModel.getElement(o),s=a.isFolded;if(a.isGroup&&!a.isFolded&&a.foldGroup(n),a.isGroup&&!n){var l=r.childrenLastFoldStatus[o];l!==void 0&&l!==a.isFolded&&a.foldGroup(l)}r.childrenLastFoldStatus[o]=s,a.visible=!n,i=i.concat(a.incoming.edges.concat(a.outgoing.edges))}),this.foldEdge(n,i)}},t.prototype.getAnchorStyle=function(n){var r=e.prototype.getAnchorStyle.call(this,n);return r.stroke="transparent",r.fill="transparent",r.hover.fill="transparent",r.hover.stroke="transparent",r},t.prototype.foldEdge=function(n,r){var i=this;r.forEach(function(o,a){var s=o.id,l=o.sourceNodeId,u=o.targetNodeId,f=o.startPoint,d=o.endPoint,h=o.type,p=o.text,g=o.getProperties(),v={id:s+"__"+a,sourceNodeId:l,targetNodeId:u,startPoint:f,endPoint:d,type:h,properties:g,text:p==null?void 0:p.value};o.virtual&&i.graphModel.deleteEdgeById(o.id);var _=i.graphModel.group.getNodeGroup(u);_||(_=i.graphModel.getNodeModelById(u));var y=i.graphModel.group.getNodeGroup(l);y||(y=i.graphModel.getNodeModelById(l)),n&&o.visible!==!1&&(i.children.has(l)||i.id===l?(v.startPoint=void 0,v.sourceNodeId=i.id):(v.endPoint=void 0,v.targetNodeId=i.id),(_.id!==i.id||y.id!==i.id)&&i.createVirtualEdge(v),o.visible=!1),!n&&o.visible===!1&&(_&&_.isGroup&&_.isFolded?(v.targetNodeId=_.id,v.endPoint=void 0,i.createVirtualEdge(v)):y&&y.isGroup&&y.isFolded?(v.sourceNodeId=y.id,v.startPoint=void 0,i.createVirtualEdge(v)):o.visible=!0)})},t.prototype.createVirtualEdge=function(n){n.pointsList=void 0;var r=this.graphModel.addEdge(n);r.virtual=!0,r.text.editable=!1,r.isFoldedEdge=!0},t.prototype.isInRange=function(n){var r=n.x1,i=n.y1,o=n.x2,a=n.y2;return r>=this.x-this.width/2&&o<=this.x+this.width/2&&i>=this.y-this.height/2&&a<=this.y+this.height/2},t.prototype.isAllowMoveTo=function(n){var r=n.x1,i=n.y1,o=n.x2,a=n.y2;return{x:r>=this.x-this.width/2&&o<=this.x+this.width/2,y:i>=this.y-this.height/2&&a<=this.y+this.height/2}},t.prototype.setAllowAppendChild=function(n){this.setProperty("groupAddable",n)},t.prototype.addChild=function(n){this.children.add(n),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},t.prototype.removeChild=function(n){this.children.delete(n),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},t.prototype.getData=function(){var n=this,r=e.prototype.getData.call(this);r.children=[],this.children.forEach(function(o){var a=n.graphModel.getNodeModelById(o);a&&!a.virtual&&r.children.push(o)});var i=r.properties;return delete i.groupAddable,delete i.isFolded,r},t.prototype.getHistoryData=function(){var n=e.prototype.getData.call(this);n.children=$d(this.children),n.isGroup=!0;var r=n.properties;return delete r.groupAddable,r.isFolded&&(n.x=n.x+this.unfoldedWidth/2-this.foldedWidth/2,n.y=n.y+this.unfoldedHight/2-this.foldedHeight/2),n},t.prototype.isAllowAppendIn=function(n){return!0},t.prototype.toBack=function(){this.zIndex--},t}(It.model),tf=function(e){go(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props.model,r=n.resizable,i=n.properties;return r&&!i.isFolded?e.prototype.getControlGroup.call(this):null},t.prototype.getAddableShape=function(){var n=this.props.model,r=n.width,i=n.height,o=n.x,a=n.y,s=n.radius,l=n.properties;if(!l.groupAddable)return null;var u=this.props.model.getNodeStyle().strokeWidth,f=this.props.model.getAddableOutlineStyle(),d=r+u+8,h=i+u+8;return(0,m.h)("rect",vn(vn({},f),{width:d,height:h,x:o-d/2,y:a-h/2,rx:s,ry:s}))},t.prototype.getFoldIcon=function(){var n=this.props.model,r=n.x-n.width/2+5,i=n.y-n.height/2+5;if(!n.foldable)return null;var o=(0,m.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:n.properties.isFolded?"M "+(r+3)+","+(i+6)+" "+(r+11)+","+(i+6)+" M"+(r+7)+","+(i+2)+" "+(r+7)+","+(i+10):"M "+(r+3)+","+(i+6)+" "+(r+11)+","+(i+6)+" "});return(0,m.h)("g",{},[(0,m.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:n.x-n.width/2+5,y:n.y-n.height/2+5,onClick:function(){n.foldGroup(!n.properties.isFolded)}}),o])},t.prototype.getResizeShape=function(){return(0,m.h)("g",{},[this.getAddableShape(),e.prototype.getResizeShape.call(this),this.getFoldIcon()])},t}(It.view),fr={type:"group",view:tf,model:ef},gn=function(){return gn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gn.apply(this,arguments)},mo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},nf=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},hr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nf(arguments[t]));return e},rf=-1e3,xo=-1e4,RE=function(){function e(t){var n=this,r=t.lf;this.topGroupZIndex=xo,this.nodeGroupMap=new Map,this.graphRendered=function(i){i&&i.nodes&&i.nodes.forEach(function(o){o.children&&o.children.forEach(function(a){n.nodeGroupMap.set(a,o.id)})})},this.appendNodeToGroup=function(i){var o=i.data,a=n.nodeGroupMap.get(o.id);if(a){var s=n.lf.getNodeModelById(a);s.removeChild(o.id),n.nodeGroupMap.delete(o.id),s.setAllowAppendChild(!1)}var l=n.lf.getNodeModelById(o.id),u=l.getBounds(),f=n.getGroup(u,o);if(l.isGroup&&(o.children.forEach(function(h){n.nodeGroupMap.set(h,o.id)}),n.nodeSelected({data:o,isSelected:!1,isMultiple:!1})),!!f){var d=f.isAllowAppendIn(o);if(!d){n.lf.emit("group:not-allowed",{group:f.getData(),node:o});return}f.addChild(o.id),n.nodeGroupMap.set(o.id,f.id),f.setAllowAppendChild(!1)}},this.deleteGroupChild=function(i){var o=i.data;o.children&&o.children.forEach(function(l){n.nodeGroupMap.delete(l),n.lf.deleteNode(l)});var a=n.nodeGroupMap.get(o.id);if(a){var s=n.lf.getNodeModelById(a);s.removeChild(o.id),n.nodeGroupMap.delete(o.id)}},this.setActiveGroup=function(i){var o=i.data,a=n.lf.getNodeModelById(o.id),s=a.getBounds(),l=n.getGroup(s,o);if(n.activeGroup&&n.activeGroup.setAllowAppendChild(!1),!(!l||a.isGroup&&l.id===o.id)){var u=l.isAllowAppendIn(o);u&&(n.activeGroup=l,n.activeGroup.setAllowAppendChild(!0))}},this.nodeSelected=function(i){var o=i.data,a=i.isMultiple,s=i.isSelected,l=n.lf.getNodeModelById(o.id);if(n.toFrontGroup(l),n.topGroupZIndex>rf){n.topGroupZIndex=xo;for(var u=n.lf.graphModel.nodes.filter(function(v){return v.isGroup}).sort(function(v,_){return v.zIndex-_.zIndex}),f=0,d=0;d<u.length;d++){var h=u[d];h.zIndex!==f&&(n.topGroupZIndex++,f=h.zIndex),h.setZIndex(n.topGroupZIndex)}}if(a&&s)if(l.isGroup)l.children.forEach(function(v){var _=n.lf.graphModel.getElement(v);_.setSelected(!1)});else{var p=n.nodeGroupMap.get(o.id);if(p){var g=n.lf.getNodeModelById(p);g.isSelected&&l.setSelected(!1)}}},this.toFrontGroup=function(i){!i||!i.isGroup||(n.topGroupZIndex++,i.setZIndex(n.topGroupZIndex),i.children&&i.children.forEach(function(o){var a=n.lf.getNodeModelById(o);n.toFrontGroup(a)}))},r.register(fr),this.lf=r,r.graphModel.addNodeMoveRules(function(i,o,a){if(i.isGroup){var s=n.getNodeAllChild(i);return r.graphModel.moveNodes(s,o,a,!0),!0}var l=r.getNodeModelById(n.nodeGroupMap.get(i.id));if(l&&l.isRestrict){var u=i.getBounds(),f=u.x1,d=u.y1,h=u.x2,p=u.y2,g=l.isAllowMoveTo({x1:f+o,y1:d+a,x2:h+o,y2:p+a});return g}return!0}),r.graphModel.group=this,r.on("node:add,node:drop,node:dnd-add",this.appendNodeToGroup),r.on("node:delete",this.deleteGroupChild),r.on("node:dnd-drag,node:drag",this.setActiveGroup),r.on("node:click",this.nodeSelected),r.on("graph:rendered",this.graphRendered),r.addElements=function(i,o){for(var a=i.nodes,s=i.edges,l={},u={nodes:[],edges:[]},f=[],d=0;d<a.length;d++){var h=a[d],p=h.id,g=h.children,v=mo(h,["children"]),_=r.addNode(v);if(!_)return{nodes:[],edges:[]};p&&(l[p]=_.id),u.nodes.push(_);var y=n.createAllChildNodes(l,g,_,o).edgesArray;f.push.apply(f,hr(y))}return f.forEach(function(x){n.createEdgeModel(x,l,o)}),s.forEach(function(x){var b=n.createEdgeModel(x,l,0);u.edges.push(b)}),u}}return e.prototype.createAllChildNodes=function(t,n,r,i){var o=this,a=this.lf,s=[],l=[],u=[];n==null||n.forEach(function(h){var p=a.getNodeModelById(h),g=p.x,v=p.y,_=p.properties,y=p.type,x=p.text,b=p.rotate,A=p.children,O=p.incoming,Y=p.outgoing,j=m.EventType.NODE_GROUP_COPY||"node:group-copy-add",L=a.addNode({x:g+i,y:v+i,properties:_,type:y,text:gn(gn({},x),{x:x.x+i,y:x.y+i}),rotate:b},j);if(r.addChild(L.id),t[h]=L.id,u.push(L),p.incoming.edges.forEach(function(xe){l.push(xe)}),p.outgoing.edges.forEach(function(xe){l.push(xe)}),A instanceof Set){var G=o.createAllChildNodes(t,A,L,i),B=G.nodesArray,Ce=G.edgesArray;u.push.apply(u,hr(B)),s.push.apply(s,hr(Ce))}});var f=l.filter(function(h){return t[h.sourceNodeId]&&t[h.targetNodeId]}),d=f.map(function(h){return h.getData()});return{nodesArray:u,edgesArray:s.concat(d)}},e.prototype.createEdgeModel=function(t,n,r){var i=this.lf,o=t.sourceNodeId,a=t.targetNodeId;n[o]&&(o=n[o]),n[a]&&(a=n[a]);var s=t.type,l=t.startPoint,u=t.endPoint,f=t.pointsList,d=t.text,h=mo(t,["type","startPoint","endPoint","pointsList","text"]),p={x:l.x+r,y:l.y+r},g={x:u.x+r,y:u.y+r},v=[];f&&f.length>0&&(v=f.map(function(x){return x.x+=r,x.y+=r,x}));var _=d;d&&typeof d!="string"&&(_.x=d.x+r,_.y=d.y+r);var y=i.graphModel.addEdge({type:s,startPoint:p,endPoint:g,sourceNodeId:o,targetNodeId:a,pointsList:v,text:_});return y},e.prototype.getNodeAllChild=function(t){var n=this,r=[];return t.children&&t.children.forEach(function(i){r.push(i);var o=n.lf.getNodeModelById(i);o.isGroup&&(r=r.concat(n.getNodeAllChild(o)))}),r},e.prototype.getGroup=function(t,n){var r=this.lf.graphModel.nodes,i=r.filter(function(s){return s.isGroup&&s.isInRange(t)&&s.id!==n.id});if(i.length!==0){if(i.length===1)return i[0];for(var o=i[i.length-1],a=i.length-2;a>=0;a--)i[a].zIndex>o.zIndex&&(o=i[a]);return o}},e.prototype.getNodeGroup=function(t){var n=this.nodeGroupMap.get(t);if(n)return this.lf.getNodeModelById(n)},e.pluginName="group",e}(),wo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Lt.apply(this,arguments)};function of(){var e=function(n){wo(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getFoldIcon=function(){var i=this.props.model,o=i.x,a=i.y,s=i.width,l=i.height,u=i.properties,f=i.foldable,d=i.x-i.width/2+5,h=i.y-i.height/2+5;if(!f)return null;var p=(0,m.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.isFolded?"M "+(d+3)+","+(h+6)+" "+(d+11)+","+(h+6)+" M"+(d+7)+","+(h+2)+" "+(d+7)+","+(h+10):"M "+(d+3)+","+(h+6)+" "+(d+11)+","+(h+6)+" "});return(0,m.h)("g",{},[(0,m.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:o-s/2+5,y:a-l/2+5,onClick:function(g){g.stopPropagation(),i.foldGroup(!u.isFolded)}}),p])},r.prototype.getResizeShape=function(){var i=this.props.model,o=i.x,a=i.y,s=i.width,l=i.height,u=i.getNodeStyle(),f=Lt(Lt({},u),{x:o-s/2,y:a-l/2,width:s,height:l,stroke:"black",strokeWidth:2,strokeDasharray:"0 0"});return(0,m.h)("g",{},[(0,m.h)("rect",Lt({},f)),this.getFoldIcon()])},r}(fr.view),t=function(n){wo(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.initNodeData=function(i){n.prototype.initNodeData.call(this,i),this.foldable=!0,this.resizable=!0,this.width=400,this.height=200,this.resetWidthHeight(),this.isTaskNode=!0,this.boundaryEvents=[]},r.prototype.resetWidthHeight=function(){var i,o,a=(i=this.properties.iniProp)===null||i===void 0?void 0:i.width,s=(o=this.properties.iniProp)===null||o===void 0?void 0:o.height;a&&(this.width=a),s&&(this.height=s)},r.prototype.getNodeStyle=function(){var i=n.prototype.getNodeStyle.call(this);i.stroke="#989891",i.strokeWidth=1,i.strokeDasharray="3 3",this.isSelected&&(i.stroke="rgb(124, 15, 255)");var o=this.properties.isBoundaryEventTouchingTask;return o&&(i.stroke="#00acff",i.strokeWidth=2),i},r.prototype.addChild=function(i){var o=this.graphModel.getElement(i);o.setProperties({parent:this.id}),n.prototype.addChild.call(this,i)},r.prototype.getAnchorStyle=function(){var i=n.prototype.getAnchorStyle.call(this,{});return i.stroke="#000",i.fill="#fff",i.hover.stroke="transparent",i},r.prototype.getOutlineStyle=function(){var i=n.prototype.getOutlineStyle.call(this);return i.stroke="transparent",!i.hover&&(i.hover={}),i.hover.stroke="transparent",i},r.prototype.setTouching=function(i){this.setProperty("isBoundaryEventTouchingTask",i)},r.prototype.addBoundaryEvent=function(i){if(this.setTouching(!1),this.boundaryEvents.find(function(a){return a===i}))return!1;var o=this.graphModel.getNodeModelById(i);return o==null||o.setProperties({attachedToRef:this.id}),this.boundaryEvents.push(i),!0},r.prototype.deleteBoundaryEvent=function(i){this.boundaryEvents=this.boundaryEvents.filter(function(o){return o!==i})},r}(fr.model);return{type:"bpmn:subProcess",view:e,model:t}}var bo=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function af(e){e.on("node:drag,node:dnd-drag",n),e.on("node:drop,node:dnd-add",t),e.graphModel.addNodeMoveRules(function(i,o,a){if(i.isTaskNode){var s=i.boundaryEvents;return e.graphModel.moveNodes(s,o,a,!0),!0}return!0});function t(i){var o,a,s=i.data,l=s.type,u=s.id;if(l==="bpmn:boundaryEvent"){var f=e.graphModel.nodes;try{for(var d=bo(f),h=d.next();!h.done;h=d.next()){var p=h.value;if(p.isTaskNode){var g=null;if((g=r(p,s))!==null){var v=e.graphModel.getNodeModelById(u),_=e.graphModel.getNodeModelById(g),y=v.properties.attachedToRef;y&&y!==g&&e.graphModel.getNodeModelById(y).deleteBoundaryEvent(u),_.addBoundaryEvent(u);return}}}}catch(x){o={error:x}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}function n(i){var o,a,s=i.data,l=s.type;if(l==="bpmn:boundaryEvent"){var u=e.graphModel.nodes;try{for(var f=bo(u),d=f.next();!d.done;d=f.next()){var h=d.value;h.isTaskNode&&(r(h,s)?h.setTouching(!0):h.setTouching(!1))}}catch(p){o={error:p}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}}}function r(i,o){var a=5,s=i.x,l=i.y,u=i.width,f=i.height,d=i.id,h={minX:s-u/2,maxX:s+u/2,minY:l-f/2,maxY:l+f/2},p=o.x,g=o.y,v={minX:h.minX-a,maxX:h.maxX+a,minY:h.minY-a,maxY:h.maxY+a},_={minX:h.minX+a,maxX:h.maxX-a,minY:h.minY+a,maxY:h.maxY-a};return p>v.minX&&p<v.maxX&&g>v.minY&&g<v.maxY&&!(p>_.minX&&p<_.maxX&&g>_.minY&&g<_.maxY)?d:null}}function sf(e){var t=Ji("bpmn:serviceTask",cd),n=Ji("bpmn:userTask",pd);e.register(t),e.register(n),e.register(of()),af(e)}var Eo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dt=function(){return Dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Dt.apply(this,arguments)};function lf(e){var t=function(r){Eo(i,r);function i(o,a){var s=this;o.id||(o.id="Flow_"+re());var l=Dt(Dt(Dt({},e||{}),o.properties),{isDefaultFlow:!1});return o.properties=l,s=r.call(this,o,a)||this,s}return i.extendKey="SequenceFlowModel",i}(m.PolylineEdgeModel),n=function(r){Eo(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getStartArrow=function(){var o=this.props.model,a=o.properties.isDefaultFlow;return a?(0,m.h)("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):(0,m.h)("path",{d:""})},i.extendKey="SequenceFlowEdge",i}(m.PolylineEdge);return{type:"bpmn:sequenceFlow",view:n,model:t}}var uf=lf();function df(e){e.register(uf)}var ff=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},hf=[{nodes:["startEvent","intermediateCatchEvent","boundaryEvent"],definition:[{type:"bpmn:timerEventDefinition",icon:ud,properties:{definitionType:"bpmn:timerEventDefinition",timerValue:"",timerType:""}}]}];function cf(e){function t(n){function r(i,o){return i.forEach(function(a){e!=null&&e[a]||(e[a]=new Map);var s=e==null?void 0:e[a];o.forEach(function(l){s.set(l.type,l)})}),e}n.forEach(function(i){r(i.nodes,i.definition)})}return function(){return[e,t]}}var ZE=function(){function e(t){var n=t.lf;n.definition={},n.useDefinition=cf(n.definition);var r=ff(n.useDefinition(),2),i=r[0],o=r[1];o(hf),ld(n),yd(n),df(n),sf(n),n.setDefaultEdgeType("bpmn:sequenceFlow")}return e.pluginName="BpmnElementsPlugin",e}();function pf(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var ae=pf,ee=w(50439),_e=w(25742),Mo=1/0,vf=17976931348623157e292;function gf(e){if(!e)return e===0?e:0;if(e=(0,_e.Z)(e),e===Mo||e===-Mo){var t=e<0?-1:1;return t*vf}return e===e?e:0}var be=gf;function _f(e){var t=be(e),n=t%1;return t===t?n?t-n:t:0}var N=_f,yf=Math.ceil,mf=Math.max;function xf(e,t,n){(n?(0,ee.Z)(e,t,n):t===void 0)?t=1:t=mf(N(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(yf(r/t));i<r;)a[o++]=ae(e,i,i+=t);return a}var wf=xf;function bf(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}var Ef=bf,Ke=w(58694),Be=w(17685),cr=w(29169),R=w(27771),Ao=Be.Z?Be.Z.isConcatSpreadable:void 0;function Mf(e){return(0,R.Z)(e)||(0,cr.Z)(e)||!!(Ao&&e&&e[Ao])}var Af=Mf;function So(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Af),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?So(s,t-1,n,r,i):(0,Ke.Z)(i,s):r||(i[i.length]=s)}return i}var V=So,ie=w(87215);function Sf(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return(0,Ke.Z)((0,R.Z)(n)?(0,ie.Z)(n):[n],V(t,1))}var Tf=Sf,pr=w(63001);function Nf(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var _n=Nf;function Pf(e){return e!==e}var To=Pf;function Of(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Cf=Of;function Rf(e,t,n){return t===t?Cf(e,t,n):_n(e,To,n)}var lt=Rf;function Zf(e,t){var n=e==null?0:e.length;return!!n&&lt(e,t,0)>-1}var yn=Zf;function If(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var vr=If,X=w(74073),se=w(21162),mn=w(59548),Lf=200;function Df(e,t,n,r){var i=-1,o=yn,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=(0,X.Z)(t,(0,se.Z)(n))),r?(o=vr,a=!1):t.length>=Lf&&(o=mn.Z,a=!1,t=new pr.Z(t));e:for(;++i<s;){var f=e[i],d=n==null?f:n(f);if(f=r||f!==0?f:0,a&&d===d){for(var h=u;h--;)if(t[h]===d)continue e;l.push(f)}else o(t,d,r)||l.push(f)}return l}var Bt=Df,P=w(69581),H=w(836),Bf=(0,P.Z)(function(e,t){return(0,H.Z)(e)?Bt(e,V(t,1,H.Z,!0)):[]}),Ff=Bf,T=w(69162);function Wf(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var oe=Wf,jf=(0,P.Z)(function(e,t){var n=oe(t);return(0,H.Z)(n)&&(n=void 0),(0,H.Z)(e)?Bt(e,V(t,1,H.Z,!0),(0,T.Z)(n,2)):[]}),Gf=jf,kf=(0,P.Z)(function(e,t){var n=oe(t);return(0,H.Z)(n)&&(n=void 0),(0,H.Z)(e)?Bt(e,V(t,1,H.Z,!0),void 0,n):[]}),zf=kf;function Xf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:N(t),ae(e,t<0?0:t,r)):[]}var Uf=Xf;function Hf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:N(t),t=r-t,ae(e,0,t<0?0:t)):[]}var Yf=Hf;function Vf(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ae(e,r?0:o,r?o+1:i):ae(e,r?o+1:0,r?i:o)}var xn=Vf;function Kf(e,t){return e&&e.length?xn(e,(0,T.Z)(t,3),!0,!0):[]}var Jf=Kf;function Qf(e,t){return e&&e.length?xn(e,(0,T.Z)(t,3),!0):[]}var $f=Qf;function qf(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var Je=qf,eh=4294967295;function th(e){return e?Je(N(e),0,eh):0}var No=th;function nh(e,t,n,r){var i=e.length;for(n=N(n),n<0&&(n=-n>i?0:i+n),r=r===void 0||r>i?i:N(r),r<0&&(r+=i),r=n>r?0:No(r);n<r;)e[n++]=t;return e}var rh=nh;function ih(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&(0,ee.Z)(e,t,n)&&(n=0,r=i),rh(e,t,n,r)):[]}var oh=ih,ah=Math.max;function sh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:N(n);return i<0&&(i=ah(r+i,0)),_n(e,(0,T.Z)(t,3),i)}var Po=sh,lh=Math.max,uh=Math.min;function dh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=N(n),i=n<0?lh(r+i,0):uh(i,r-1)),_n(e,(0,T.Z)(t,3),i,!0)}var Oo=dh;function fh(e){return e&&e.length?e[0]:void 0}var Co=fh;function hh(e){var t=e==null?0:e.length;return t?V(e,1):[]}var Ro=hh,ch=1/0;function ph(e){var t=e==null?0:e.length;return t?V(e,ch):[]}var vh=ph;function gh(e,t){var n=e==null?0:e.length;return n?(t=t===void 0?1:N(t),V(e,t)):[]}var _h=gh;function yh(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}var mh=yh,xh=Math.max;function wh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:N(n);return i<0&&(i=xh(r+i,0)),lt(e,t,i)}var bh=wh;function Eh(e){var t=e==null?0:e.length;return t?ae(e,0,-1):[]}var Mh=Eh,Ah=Math.min;function Sh(e,t,n){for(var r=n?vr:yn,i=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var f=e[a];a&&t&&(f=(0,X.Z)(f,(0,se.Z)(t))),l=Ah(f.length,l),s[a]=!n&&(t||i>=120&&f.length>=120)?new pr.Z(a&&f):void 0}f=e[0];var d=-1,h=s[0];e:for(;++d<i&&u.length<l;){var p=f[d],g=t?t(p):p;if(p=n||p!==0?p:0,!(h?(0,mn.Z)(h,g):r(u,g,n))){for(a=o;--a;){var v=s[a];if(!(v?(0,mn.Z)(v,g):r(e[a],g,n)))continue e}h&&h.push(g),u.push(p)}}return u}var gr=Sh;function Th(e){return(0,H.Z)(e)?e:[]}var _r=Th,Nh=(0,P.Z)(function(e){var t=(0,X.Z)(e,_r);return t.length&&t[0]===e[0]?gr(t):[]}),Ph=Nh,Oh=(0,P.Z)(function(e){var t=oe(e),n=(0,X.Z)(e,_r);return t===oe(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,(0,T.Z)(t,2)):[]}),Ch=Oh,Rh=(0,P.Z)(function(e){var t=oe(e),n=(0,X.Z)(e,_r);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]}),Zh=Rh,Ih=Array.prototype,Lh=Ih.join;function Dh(e,t){return e==null?"":Lh.call(e,t)}var Bh=Dh;function Fh(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}var Wh=Fh,jh=Math.max,Gh=Math.min;function kh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r;return n!==void 0&&(i=N(n),i=i<0?jh(r+i,0):Gh(i,r-1)),t===t?Wh(e,t,i):_n(e,To,i,!0)}var zh=kh,ut=w(56009);function Xh(e,t){var n=e.length;if(n)return t+=t<0?n:0,(0,ut.Z)(t,n)?e[t]:void 0}var Zo=Xh;function Uh(e,t){return e&&e.length?Zo(e,N(t)):void 0}var Hh=Uh;function Yh(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}var Vh=Yh,Kh=Array.prototype,Io=Kh.splice;function Jh(e,t,n,r){var i=r?Vh:lt,o=-1,a=t.length,s=e;for(e===t&&(t=(0,ie.Z)(t)),n&&(s=(0,X.Z)(e,(0,se.Z)(n)));++o<a;)for(var l=0,u=t[o],f=n?n(u):u;(l=i(s,f,l,r))>-1;)s!==e&&Io.call(s,l,1),Io.call(e,l,1);return e}var yr=Jh;function Qh(e,t){return e&&e.length&&t&&t.length?yr(e,t):e}var Lo=Qh,$h=(0,P.Z)(Lo),qh=$h;function ec(e,t,n){return e&&e.length&&t&&t.length?yr(e,t,(0,T.Z)(n,2)):e}var tc=ec;function nc(e,t,n){return e&&e.length&&t&&t.length?yr(e,t,void 0,n):e}var rc=nc,Do=w(16423);function ic(e,t){for(var n=-1,r=t.length,i=Array(r),o=e==null;++n<r;)i[n]=o?void 0:(0,Do.Z)(e,t[n]);return i}var mr=ic,dt=w(27449),Ft=w(13317);function oc(e,t){return t.length<2?e:(0,Ft.Z)(e,ae(t,0,-1))}var Bo=oc,ft=w(62281);function ac(e,t){return t=(0,dt.Z)(t,e),e=Bo(e,t),e==null||delete e[(0,ft.Z)(oe(t))]}var xr=ac,sc=Array.prototype,lc=sc.splice;function uc(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;(0,ut.Z)(i)?lc.call(e,i,1):xr(e,i)}}return e}var Fo=uc,Ee=w(72714);function dc(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=(0,Ee.Z)(e),a=t!==void 0,s=t===null,l=t===t,u=(0,Ee.Z)(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Wo=dc,fc=w(45644),jo=w(90734);function hc(e){return(0,jo.Z)((0,fc.Z)(e,void 0,Ro),e+"")}var Me=hc,cc=Me(function(e,t){var n=e==null?0:e.length,r=mr(e,t);return Fo(e,(0,X.Z)(t,function(i){return(0,ut.Z)(i,n)?+i:i}).sort(Wo)),r}),pc=cc;function vc(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],o=e.length;for(t=(0,T.Z)(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Fo(e,i),n}var gc=vc,_c=Array.prototype,yc=_c.reverse;function mc(e){return e==null?e:yc.call(e)}var wr=mc;function xc(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&(0,ee.Z)(e,t,n)?(t=0,n=r):(t=t==null?0:N(t),n=n===void 0?r:N(n)),ae(e,t,n)):[]}var wc=xc,bc=4294967295,Ec=bc-1,Mc=Math.floor,Ac=Math.min;function Sc(e,t,n,r){var i=0,o=e==null?0:e.length;if(o===0)return 0;t=n(t);for(var a=t!==t,s=t===null,l=(0,Ee.Z)(t),u=t===void 0;i<o;){var f=Mc((i+o)/2),d=n(e[f]),h=d!==void 0,p=d===null,g=d===d,v=(0,Ee.Z)(d);if(a)var _=r||g;else u?_=g&&(r||h):s?_=g&&h&&(r||!p):l?_=g&&h&&!p&&(r||!v):p||v?_=!1:_=r?d<=t:d<t;_?i=f+1:o=f}return Ac(o,Ec)}var br=Sc,he=w(69203),Tc=4294967295,Nc=Tc>>>1;function Pc(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=Nc){for(;r<i;){var o=r+i>>>1,a=e[o];a!==null&&!(0,Ee.Z)(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return br(e,t,he.Z,n)}var wn=Pc;function Oc(e,t){return wn(e,t)}var Cc=Oc;function Rc(e,t,n){return br(e,t,(0,T.Z)(n,2))}var Zc=Rc,ht=w(79651);function Ic(e,t){var n=e==null?0:e.length;if(n){var r=wn(e,t);if(r<n&&(0,ht.Z)(e[r],t))return r}return-1}var Lc=Ic;function Dc(e,t){return wn(e,t,!0)}var Bc=Dc;function Fc(e,t,n){return br(e,t,(0,T.Z)(n,2),!0)}var Wc=Fc;function jc(e,t){var n=e==null?0:e.length;if(n){var r=wn(e,t,!0)-1;if((0,ht.Z)(e[r],t))return r}return-1}var Gc=jc;function kc(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!(0,ht.Z)(s,l)){var l=s;o[i++]=a===0?0:a}}return o}var Go=kc;function zc(e){return e&&e.length?Go(e):[]}var Xc=zc;function Uc(e,t){return e&&e.length?Go(e,(0,T.Z)(t,2)):[]}var Hc=Uc;function Yc(e){var t=e==null?0:e.length;return t?ae(e,1,t):[]}var Vc=Yc;function Kc(e,t,n){return e&&e.length?(t=n||t===void 0?1:N(t),ae(e,0,t<0?0:t)):[]}var Jc=Kc;function Qc(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:N(t),t=r-t,ae(e,t<0?0:t,r)):[]}var $c=Qc;function qc(e,t){return e&&e.length?xn(e,(0,T.Z)(t,3),!1,!0):[]}var ep=qc;function tp(e,t){return e&&e.length?xn(e,(0,T.Z)(t,3)):[]}var np=tp,Er=w(93203);function rp(){}var Mr=rp,Ar=w(6545),ip=1/0,op=Er.Z&&1/(0,Ar.Z)(new Er.Z([,-0]))[1]==ip?function(e){return new Er.Z(e)}:Mr,ap=op,sp=200;function lp(e,t,n){var r=-1,i=yn,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=vr;else if(o>=sp){var u=t?null:ap(e);if(u)return(0,Ar.Z)(u);a=!1,i=mn.Z,l=new pr.Z}else l=t?[]:s;e:for(;++r<o;){var f=e[r],d=t?t(f):f;if(f=n||f!==0?f:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(f)}else i(l,d,n)||(l!==s&&l.push(d),s.push(f))}return s}var Fe=lp,up=(0,P.Z)(function(e){return Fe(V(e,1,H.Z,!0))}),dp=up,fp=(0,P.Z)(function(e){var t=oe(e);return(0,H.Z)(t)&&(t=void 0),Fe(V(e,1,H.Z,!0),(0,T.Z)(t,2))}),hp=fp,cp=(0,P.Z)(function(e){var t=oe(e);return t=typeof t=="function"?t:void 0,Fe(V(e,1,H.Z,!0),void 0,t)}),pp=cp;function vp(e){return e&&e.length?Fe(e):[]}var gp=vp;function _p(e,t){return e&&e.length?Fe(e,(0,T.Z)(t,2)):[]}var yp=_p;function mp(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?Fe(e,void 0,t):[]}var xp=mp,Qe=w(68774),ko=w(54193),zo=w(52889),wp=Math.max;function bp(e){if(!(e&&e.length))return[];var t=0;return e=(0,Qe.Z)(e,function(n){if((0,H.Z)(n))return t=wp(n.length,t),!0}),(0,zo.Z)(t,function(n){return(0,X.Z)(e,(0,ko.Z)(n))})}var Sr=bp,le=w(18069);function Ep(e,t){if(!(e&&e.length))return[];var n=Sr(e);return t==null?n:(0,X.Z)(n,function(r){return(0,le.Z)(t,void 0,r)})}var Xo=Ep,Mp=(0,P.Z)(function(e,t){return(0,H.Z)(e)?Bt(e,t):[]}),Ap=Mp;function Sp(e,t,n){var r=e.length;if(r<2)return r?Fe(e[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=Bt(o[i]||a,e[s],t,n));return Fe(V(o,1),t,n)}var Tr=Sp,Tp=(0,P.Z)(function(e){return Tr((0,Qe.Z)(e,H.Z))}),Np=Tp,Pp=(0,P.Z)(function(e){var t=oe(e);return(0,H.Z)(t)&&(t=void 0),Tr((0,Qe.Z)(e,H.Z),(0,T.Z)(t,2))}),Op=Pp,Cp=(0,P.Z)(function(e){var t=oe(e);return t=typeof t=="function"?t:void 0,Tr((0,Qe.Z)(e,H.Z),void 0,t)}),Rp=Cp,Zp=(0,P.Z)(Sr),Ip=Zp,bn=w(72954);function Lp(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}var Uo=Lp;function Dp(e,t){return Uo(e||[],t||[],bn.Z)}var Bp=Dp,ue=w(77226);function Fp(e,t,n,r){if(!(0,ue.Z)(e))return e;t=(0,dt.Z)(t,e);for(var i=-1,o=t.length,a=o-1,s=e;s!=null&&++i<o;){var l=(0,ft.Z)(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=a){var f=s[l];u=r?r(f,l,s):void 0,u===void 0&&(u=(0,ue.Z)(f)?f:(0,ut.Z)(t[i+1])?[]:{})}(0,bn.Z)(s,l,u),s=s[l]}return e}var Wt=Fp;function Wp(e,t){return Uo(e||[],t||[],Wt)}var jp=Wp,Gp=(0,P.Z)(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n=typeof n=="function"?(e.pop(),n):void 0,Xo(e,n)}),kp=Gp,E={chunk:wf,compact:Ef,concat:Tf,difference:Ff,differenceBy:Gf,differenceWith:zf,drop:Uf,dropRight:Yf,dropRightWhile:Jf,dropWhile:$f,fill:oh,findIndex:Po,findLastIndex:Oo,first:Co,flatten:Ro,flattenDeep:vh,flattenDepth:_h,fromPairs:mh,head:Co,indexOf:bh,initial:Mh,intersection:Ph,intersectionBy:Ch,intersectionWith:Zh,join:Bh,last:oe,lastIndexOf:zh,nth:Hh,pull:qh,pullAll:Lo,pullAllBy:tc,pullAllWith:rc,pullAt:pc,remove:gc,reverse:wr,slice:wc,sortedIndex:Cc,sortedIndexBy:Zc,sortedIndexOf:Lc,sortedLastIndex:Bc,sortedLastIndexBy:Wc,sortedLastIndexOf:Gc,sortedUniq:Xc,sortedUniqBy:Hc,tail:Vc,take:Jc,takeRight:$c,takeRightWhile:ep,takeWhile:np,union:dp,unionBy:hp,unionWith:pp,uniq:gp,uniqBy:yp,uniqWith:xp,unzip:Sr,unzipWith:Xo,without:Ap,xor:Np,xorBy:Op,xorWith:Rp,zip:Ip,zipObject:Bp,zipObjectDeep:jp,zipWith:kp},ct=w(74752);function zp(e,t,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}var Xp=zp,pt=w(91507);function Up(e,t,n,r){return(0,pt.Z)(e,function(i,o,a){t(r,i,n(i),a)}),r}var Hp=Up;function Yp(e,t){return function(n,r){var i=(0,R.Z)(n)?Xp:Hp,o=t?t():{};return i(n,e,(0,T.Z)(r,2),o)}}var En=Yp,Vp=Object.prototype,Kp=Vp.hasOwnProperty,Jp=En(function(e,t,n){Kp.call(e,n)?++e[n]:(0,ct.Z)(e,n,1)}),Qp=Jp,Ho=w(70870);function $p(e,t){for(var n=e==null?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}var qp=$p,ev=w(28419),tv=(0,ev.Z)(!0),Yo=tv,K=w(17179);function nv(e,t){return e&&Yo(e,t,K.Z)}var Nr=nv,rv=w(54033),iv=(0,rv.Z)(Nr,!0),Vo=iv,Ae=w(68882);function ov(e,t){var n=(0,R.Z)(e)?qp:Vo;return n(e,(0,Ae.Z)(t))}var Ko=ov;function av(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Jo=av;function sv(e,t){var n=!0;return(0,pt.Z)(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var lv=sv;function uv(e,t,n){var r=(0,R.Z)(e)?Jo:lv;return n&&(0,ee.Z)(e,t,n)&&(t=void 0),r(e,(0,T.Z)(t,3))}var dv=uv;function fv(e,t){var n=[];return(0,pt.Z)(e,function(r,i,o){t(r,i,o)&&n.push(r)}),n}var Qo=fv;function hv(e,t){var n=(0,R.Z)(e)?Qe.Z:Qo;return n(e,(0,T.Z)(t,3))}var cv=hv,We=w(50585);function pv(e){return function(t,n,r){var i=Object(t);if(!(0,We.Z)(t)){var o=(0,T.Z)(n,3);t=(0,K.Z)(t),n=function(s){return o(i[s],s,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var $o=pv,vv=$o(Po),gv=vv,_v=$o(Oo),yv=_v,Mn=w(43836);function mv(e,t){return V((0,Mn.Z)(e,t),1)}var xv=mv,wv=1/0;function bv(e,t){return V((0,Mn.Z)(e,t),wv)}var Ev=bv;function Mv(e,t,n){return n=n===void 0?1:N(n),V((0,Mn.Z)(e,t),n)}var Av=Mv,Sv=Object.prototype,Tv=Sv.hasOwnProperty,Nv=En(function(e,t,n){Tv.call(e,n)?e[n].push(t):(0,ct.Z)(e,n,[t])}),Pv=Nv,je=w(93589),te=w(18533),Ov="[object String]";function Cv(e){return typeof e=="string"||!(0,R.Z)(e)&&(0,te.Z)(e)&&(0,je.Z)(e)==Ov}var An=Cv;function Rv(e,t){return(0,X.Z)(t,function(n){return e[n]})}var Pr=Rv;function Zv(e){return e==null?[]:Pr(e,(0,K.Z)(e))}var vt=Zv,Iv=Math.max;function Lv(e,t,n,r){e=(0,We.Z)(e)?e:vt(e),n=n&&!r?N(n):0;var i=e.length;return n<0&&(n=Iv(i+n,0)),An(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&lt(e,t,n)>-1}var Dv=Lv;function Bv(e,t,n){t=(0,dt.Z)(t,e),e=Bo(e,t);var r=e==null?e:e[(0,ft.Z)(oe(t))];return r==null?void 0:(0,le.Z)(r,e,n)}var jt=Bv,Fv=(0,P.Z)(function(e,t,n){var r=-1,i=typeof t=="function",o=(0,We.Z)(e)?Array(e.length):[];return(0,pt.Z)(e,function(a){o[++r]=i?(0,le.Z)(t,a,n):jt(a,t,n)}),o}),Wv=Fv,jv=En(function(e,t,n){(0,ct.Z)(e,n,t)}),Gv=jv,kv=w(21018);function zv(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Xv=zv;function Uv(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Wo(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var Hv=Uv;function Yv(e,t,n){t.length?t=(0,X.Z)(t,function(o){return(0,R.Z)(o)?function(a){return(0,Ft.Z)(a,o.length===1?o[0]:o)}:o}):t=[he.Z];var r=-1;t=(0,X.Z)(t,(0,se.Z)(T.Z));var i=(0,kv.Z)(e,function(o,a,s){var l=(0,X.Z)(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Xv(i,function(o,a){return Hv(o,a,n)})}var qo=Yv;function Vv(e,t,n,r){return e==null?[]:((0,R.Z)(t)||(t=t==null?[]:[t]),n=r?void 0:n,(0,R.Z)(n)||(n=n==null?[]:[n]),qo(e,t,n))}var Kv=Vv,Jv=En(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Qv=Jv;function $v(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}var Or=$v;function qv(e,t,n,r,i){return i(e,function(o,a,s){n=r?(r=!1,o):t(n,o,a,s)}),n}var ea=qv;function e0(e,t,n){var r=(0,R.Z)(e)?Or:ea,i=arguments.length<3;return r(e,(0,T.Z)(t,4),n,i,pt.Z)}var t0=e0;function n0(e,t,n,r){var i=e==null?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}var r0=n0;function i0(e,t,n){var r=(0,R.Z)(e)?r0:ea,i=arguments.length<3;return r(e,(0,T.Z)(t,4),n,i,Vo)}var o0=i0,a0="Expected a function";function s0(e){if(typeof e!="function")throw new TypeError(a0);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Gt=s0;function l0(e,t){var n=(0,R.Z)(e)?Qe.Z:Qo;return n(e,Gt((0,T.Z)(t,3)))}var u0=l0,d0=Math.floor,f0=Math.random;function h0(e,t){return e+d0(f0()*(t-e+1))}var Cr=h0;function c0(e){var t=e.length;return t?e[Cr(0,t-1)]:void 0}var ta=c0;function p0(e){return ta(vt(e))}var v0=p0;function g0(e){var t=(0,R.Z)(e)?ta:v0;return t(e)}var _0=g0;function y0(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var o=Cr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var Sn=y0;function m0(e,t){return Sn((0,ie.Z)(e),Je(t,0,e.length))}var x0=m0;function w0(e,t){var n=vt(e);return Sn(n,Je(t,0,n.length))}var b0=w0;function E0(e,t,n){(n?(0,ee.Z)(e,t,n):t===void 0)?t=1:t=N(t);var r=(0,R.Z)(e)?x0:b0;return r(e,t)}var M0=E0;function A0(e){return Sn((0,ie.Z)(e))}var S0=A0;function T0(e){return Sn(vt(e))}var N0=T0;function P0(e){var t=(0,R.Z)(e)?S0:N0;return t(e)}var O0=P0,na=w(39473),Ge=w(68411),C0=(0,ko.Z)("length"),R0=C0,Z0="\\ud800-\\udfff",I0="\\u0300-\\u036f",L0="\\ufe20-\\ufe2f",D0="\\u20d0-\\u20ff",B0=I0+L0+D0,F0="\\ufe0e\\ufe0f",W0="\\u200d",j0=RegExp("["+W0+Z0+B0+F0+"]");function G0(e){return j0.test(e)}var gt=G0,ra="\\ud800-\\udfff",k0="\\u0300-\\u036f",z0="\\ufe20-\\ufe2f",X0="\\u20d0-\\u20ff",U0=k0+z0+X0,H0="\\ufe0e\\ufe0f",Y0="["+ra+"]",Rr="["+U0+"]",Zr="\\ud83c[\\udffb-\\udfff]",V0="(?:"+Rr+"|"+Zr+")",ia="[^"+ra+"]",oa="(?:\\ud83c[\\udde6-\\uddff]){2}",aa="[\\ud800-\\udbff][\\udc00-\\udfff]",K0="\\u200d",sa=V0+"?",la="["+H0+"]?",J0="(?:"+K0+"(?:"+[ia,oa,aa].join("|")+")"+la+sa+")*",Q0=la+sa+J0,$0="(?:"+[ia+Rr+"?",Rr,oa,aa,Y0].join("|")+")",ua=RegExp(Zr+"(?="+Zr+")|"+$0+Q0,"g");function q0(e){for(var t=ua.lastIndex=0;ua.test(e);)++t;return t}var eg=q0;function tg(e){return gt(e)?eg(e):R0(e)}var _t=tg,ng="[object Map]",rg="[object Set]";function ig(e){if(e==null)return 0;if((0,We.Z)(e))return An(e)?_t(e):e.length;var t=(0,Ge.Z)(e);return t==ng||t==rg?e.size:(0,na.Z)(e).length}var og=ig,da=w(2338);function ag(e,t){var n;return(0,pt.Z)(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var sg=ag;function lg(e,t,n){var r=(0,R.Z)(e)?da.Z:sg;return n&&(0,ee.Z)(e,t,n)&&(t=void 0),r(e,(0,T.Z)(t,3))}var ug=lg,dg=(0,P.Z)(function(e,t){if(e==null)return[];var n=t.length;return n>1&&(0,ee.Z)(e,t[0],t[1])?t=[]:n>2&&(0,ee.Z)(t[0],t[1],t[2])&&(t=[t[0]]),qo(e,V(t,1),[])}),fg=dg,F={countBy:Qp,each:Ho.Z,eachRight:Ko,every:dv,filter:cv,find:gv,findLast:yv,flatMap:xv,flatMapDeep:Ev,flatMapDepth:Av,forEach:Ho.Z,forEachRight:Ko,groupBy:Pv,includes:Dv,invokeMap:Wv,keyBy:Gv,map:Mn.Z,orderBy:Kv,partition:Qv,reduce:t0,reduceRight:o0,reject:u0,sample:_0,sampleSize:M0,shuffle:O0,size:og,some:ug,sortBy:fg},hg=w(25222),cg={now:hg.Z},pg="Expected a function";function vg(e,t){if(typeof t!="function")throw new TypeError(pg);return e=N(e),function(){if(--e<1)return t.apply(this,arguments)}}var gg=vg,fa=w(13840),_g=fa.Z&&new fa.Z,Tn=_g,yg=Tn?function(e,t){return Tn.set(e,t),e}:he.Z,ha=yg,kt=w(74705);function mg(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=(0,kt.Z)(e.prototype),r=e.apply(n,t);return(0,ue.Z)(r)?r:n}}var zt=mg,$e=w(66092),xg=1;function wg(e,t,n){var r=t&xg,i=zt(e);function o(){var a=this&&this!==$e.Z&&this instanceof o?i:e;return a.apply(r?n:this,arguments)}return o}var bg=wg,Eg=Math.max;function Mg(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Eg(o-a,0),f=Array(l+u),d=!r;++s<l;)f[s]=t[s];for(;++i<a;)(d||i<o)&&(f[n[i]]=e[i]);for(;u--;)f[s++]=e[i++];return f}var ca=Mg,Ag=Math.max;function Sg(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,f=Ag(o-s,0),d=Array(f+u),h=!r;++i<f;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++a<s;)(h||i<o)&&(d[p+n[a]]=e[i++]);return d}var pa=Sg;function Tg(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Ng=Tg;function Pg(){}var Nn=Pg,Og=4294967295;function Pn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Og,this.__views__=[]}Pn.prototype=(0,kt.Z)(Nn.prototype),Pn.prototype.constructor=Pn;var C=Pn,Cg=Tn?function(e){return Tn.get(e)}:Mr,Ir=Cg,Rg={},yt=Rg,Zg=Object.prototype,Ig=Zg.hasOwnProperty;function Lg(e){for(var t=e.name+"",n=yt[t],r=Ig.call(yt,t)?n.length:0;r--;){var i=n[r],o=i.func;if(o==null||o==e)return i.name}return t}var On=Lg;function Cn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Cn.prototype=(0,kt.Z)(Nn.prototype),Cn.prototype.constructor=Cn;var Se=Cn;function Dg(e){if(e instanceof C)return e.clone();var t=new Se(e.__wrapped__,e.__chain__);return t.__actions__=(0,ie.Z)(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var va=Dg,Bg=Object.prototype,Fg=Bg.hasOwnProperty;function Rn(e){if((0,te.Z)(e)&&!(0,R.Z)(e)&&!(e instanceof C)){if(e instanceof Se)return e;if(Fg.call(e,"__wrapped__"))return va(e)}return new Se(e)}Rn.prototype=Nn.prototype,Rn.prototype.constructor=Rn;var c=Rn;function Wg(e){var t=On(e),n=c[t];if(typeof n!="function"||!(t in C.prototype))return!1;if(e===n)return!0;var r=Ir(n);return!!r&&e===r[0]}var Lr=Wg,jg=w(87581),Gg=(0,jg.Z)(ha),ga=Gg,kg=/\{\n\/\* \[wrapped with (.+)\] \*/,zg=/,? & /;function Xg(e){var t=e.match(kg);return t?t[1].split(zg):[]}var Ug=Xg,Hg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Yg(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Hg,`{
/* [wrapped with `+t+`] */
`)}var Vg=Yg,ce=w(76579),Kg=1,Jg=2,Qg=8,$g=16,qg=32,e_=64,t_=128,n_=256,r_=512,i_=[["ary",t_],["bind",Kg],["bindKey",Jg],["curry",Qg],["curryRight",$g],["flip",r_],["partial",qg],["partialRight",e_],["rearg",n_]];function o_(e,t){return(0,ce.Z)(i_,function(n){var r="_."+n[0];t&n[1]&&!yn(e,r)&&e.push(r)}),e.sort()}var a_=o_;function s_(e,t,n){var r=t+"";return(0,jo.Z)(e,Vg(r,a_(Ug(r),n)))}var _a=s_,l_=1,u_=2,d_=4,f_=8,ya=32,ma=64;function h_(e,t,n,r,i,o,a,s,l,u){var f=t&f_,d=f?a:void 0,h=f?void 0:a,p=f?o:void 0,g=f?void 0:o;t|=f?ya:ma,t&=~(f?ma:ya),t&d_||(t&=~(l_|u_));var v=[e,t,i,p,d,g,h,s,l,u],_=n.apply(void 0,v);return Lr(e)&&ga(_,v),_.placeholder=r,_a(_,e,t)}var xa=h_;function c_(e){var t=e;return t.placeholder}var mt=c_,p_=Math.min;function v_(e,t){for(var n=e.length,r=p_(t.length,n),i=(0,ie.Z)(e);r--;){var o=t[r];e[r]=(0,ut.Z)(o,n)?i[o]:void 0}return e}var g_=v_,wa="__lodash_placeholder__";function __(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];(a===t||a===wa)&&(e[n]=wa,o[i++]=n)}return o}var ke=__,y_=1,m_=2,x_=8,w_=16,b_=128,E_=512;function ba(e,t,n,r,i,o,a,s,l,u){var f=t&b_,d=t&y_,h=t&m_,p=t&(x_|w_),g=t&E_,v=h?void 0:zt(e);function _(){for(var y=arguments.length,x=Array(y),b=y;b--;)x[b]=arguments[b];if(p)var A=mt(_),O=Ng(x,A);if(r&&(x=ca(x,r,i,p)),o&&(x=pa(x,o,a,p)),y-=O,p&&y<u){var Y=ke(x,A);return xa(e,t,ba,_.placeholder,n,x,Y,s,l,u-y)}var j=d?n:this,L=h?j[e]:e;return y=x.length,s?x=g_(x,s):g&&y>1&&x.reverse(),f&&l<y&&(x.length=l),this&&this!==$e.Z&&this instanceof _&&(L=v||zt(L)),L.apply(j,x)}return _}var Dr=ba;function M_(e,t,n){var r=zt(e);function i(){for(var o=arguments.length,a=Array(o),s=o,l=mt(i);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:ke(a,l);if(o-=u.length,o<n)return xa(e,t,Dr,i.placeholder,void 0,a,u,void 0,void 0,n-o);var f=this&&this!==$e.Z&&this instanceof i?r:e;return(0,le.Z)(f,this,a)}return i}var A_=M_,S_=1;function T_(e,t,n,r){var i=t&S_,o=zt(e);function a(){for(var s=-1,l=arguments.length,u=-1,f=r.length,d=Array(f+l),h=this&&this!==$e.Z&&this instanceof a?o:e;++u<f;)d[u]=r[u];for(;l--;)d[u++]=arguments[++s];return(0,le.Z)(h,i?n:this,d)}return a}var N_=T_,Ea="__lodash_placeholder__",Br=1,P_=2,O_=4,Ma=8,Xt=128,Aa=256,C_=Math.min;function R_(e,t){var n=e[1],r=t[1],i=n|r,o=i<(Br|P_|Xt),a=r==Xt&&n==Ma||r==Xt&&n==Aa&&e[7].length<=t[8]||r==(Xt|Aa)&&t[7].length<=t[8]&&n==Ma;if(!(o||a))return e;r&Br&&(e[2]=t[2],i|=n&Br?0:O_);var s=t[3];if(s){var l=e[3];e[3]=l?ca(l,s,t[4]):s,e[4]=l?ke(e[3],Ea):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?pa(l,s,t[6]):s,e[6]=l?ke(e[5],Ea):t[6]),s=t[7],s&&(e[7]=s),r&Xt&&(e[8]=e[8]==null?t[8]:C_(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}var Z_=R_,I_="Expected a function",Sa=1,L_=2,Fr=8,Wr=16,jr=32,Ta=64,Na=Math.max;function D_(e,t,n,r,i,o,a,s){var l=t&L_;if(!l&&typeof e!="function")throw new TypeError(I_);var u=r?r.length:0;if(u||(t&=~(jr|Ta),r=i=void 0),a=a===void 0?a:Na(N(a),0),s=s===void 0?s:N(s),u-=i?i.length:0,t&Ta){var f=r,d=i;r=i=void 0}var h=l?void 0:Ir(e),p=[e,t,n,r,i,f,d,o,a,s];if(h&&Z_(p,h),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=p[9]===void 0?l?0:e.length:Na(p[9]-u,0),!s&&t&(Fr|Wr)&&(t&=~(Fr|Wr)),!t||t==Sa)var g=bg(e,t,n);else t==Fr||t==Wr?g=A_(e,t,s):(t==jr||t==(Sa|jr))&&!i.length?g=N_(e,t,n,r):g=Dr.apply(void 0,p);var v=h?ha:ga;return _a(v(g,p),e,t)}var Te=D_,B_=128;function F_(e,t,n){return t=n?void 0:t,t=e&&t==null?e.length:t,Te(e,B_,void 0,void 0,void 0,void 0,t)}var Pa=F_,W_="Expected a function";function j_(e,t){var n;if(typeof t!="function")throw new TypeError(W_);return e=N(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var Oa=j_,G_=1,k_=32,Gr=(0,P.Z)(function(e,t,n){var r=G_;if(n.length){var i=ke(n,mt(Gr));r|=k_}return Te(e,r,t,n,i)});Gr.placeholder={};var Ca=Gr,z_=1,X_=2,U_=32,kr=(0,P.Z)(function(e,t,n){var r=z_|X_;if(n.length){var i=ke(n,mt(kr));r|=U_}return Te(t,r,e,n,i)});kr.placeholder={};var H_=kr,Y_=8;function zr(e,t,n){t=n?void 0:t;var r=Te(e,Y_,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=zr.placeholder,r}zr.placeholder={};var V_=zr,K_=16;function Xr(e,t,n){t=n?void 0:t;var r=Te(e,K_,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=Xr.placeholder,r}Xr.placeholder={};var J_=Xr,Q_=w(53434),$_="Expected a function";function q_(e,t,n){if(typeof e!="function")throw new TypeError($_);return setTimeout(function(){e.apply(void 0,n)},t)}var Ra=q_,ey=(0,P.Z)(function(e,t){return Ra(e,1,t)}),ty=ey,ny=(0,P.Z)(function(e,t,n){return Ra(e,(0,_e.Z)(t)||0,n)}),ry=ny,iy=512;function oy(e){return Te(e,iy)}var ay=oy,sy=w(42454);function ly(e){return Oa(2,e)}var uy=ly,dy=P.Z,fy=dy,hy=Math.min,cy=fy(function(e,t){t=t.length==1&&(0,R.Z)(t[0])?(0,X.Z)(t[0],(0,se.Z)(T.Z)):(0,X.Z)(V(t,1),(0,se.Z)(T.Z));var n=t.length;return(0,P.Z)(function(r){for(var i=-1,o=hy(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return(0,le.Z)(e,this,r)})}),py=cy,vy=32,Ur=(0,P.Z)(function(e,t){var n=ke(t,mt(Ur));return Te(e,vy,void 0,t,n)});Ur.placeholder={};var Za=Ur,gy=64,Hr=(0,P.Z)(function(e,t){var n=ke(t,mt(Hr));return Te(e,gy,void 0,t,n)});Hr.placeholder={};var _y=Hr,yy=256,my=Me(function(e,t){return Te(e,yy,void 0,void 0,void 0,t)}),xy=my,wy="Expected a function";function by(e,t){if(typeof e!="function")throw new TypeError(wy);return t=t===void 0?t:N(t),(0,P.Z)(e,t)}var Ey=by;function My(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:ae(e,t,n)}var ze=My,Ay="Expected a function",Sy=Math.max;function Ty(e,t){if(typeof e!="function")throw new TypeError(Ay);return t=t==null?0:Sy(N(t),0),(0,P.Z)(function(n){var r=n[t],i=ze(n,0,t);return r&&(0,Ke.Z)(i,r),(0,le.Z)(e,this,i)})}var Ny=Ty,Ia=w(111);function Py(e){return Pa(e,1)}var Oy=Py;function Cy(e,t){return Za((0,Ae.Z)(t),e)}var Ry=Cy,U={after:gg,ary:Pa,before:Oa,bind:Ca,bindKey:H_,curry:V_,curryRight:J_,debounce:Q_.Z,defer:ty,delay:ry,flip:ay,memoize:sy.Z,negate:Gt,once:uy,overArgs:py,partial:Za,partialRight:_y,rearg:xy,rest:Ey,spread:Ny,throttle:Ia.Z,unary:Oy,wrap:Ry};function Zy(){if(!arguments.length)return[];var e=arguments[0];return(0,R.Z)(e)?e:[e]}var Iy=Zy,Ly=w(31667),Ne=w(31899);function Dy(e,t){return e&&(0,Ne.Z)(t,(0,K.Z)(t),e)}var La=Dy,de=w(32957);function By(e,t){return e&&(0,Ne.Z)(t,(0,de.Z)(t),e)}var Fy=By,Wy=w(91050),Da=w(95695);function jy(e,t){return(0,Ne.Z)(e,(0,Da.Z)(e),t)}var Gy=jy,Ba=w(12513),Fa=w(60532),ky=Object.getOwnPropertySymbols,zy=ky?function(e){for(var t=[];e;)(0,Ke.Z)(t,(0,Da.Z)(e)),e=(0,Ba.Z)(e);return t}:Fa.Z,Wa=zy;function Xy(e,t){return(0,Ne.Z)(e,Wa(e),t)}var Uy=Xy,Hy=w(1808),Yy=w(63327);function Vy(e){return(0,Yy.Z)(e,de.Z,Wa)}var Yr=Vy,Ky=Object.prototype,Jy=Ky.hasOwnProperty;function Qy(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Jy.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var $y=Qy,ja=w(41884);function qy(e,t){var n=t?(0,ja.Z)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var e1=qy,t1=/\w*$/;function n1(e){var t=new e.constructor(e.source,t1.exec(e));return t.lastIndex=e.lastIndex,t}var r1=n1,Ga=Be.Z?Be.Z.prototype:void 0,ka=Ga?Ga.valueOf:void 0;function i1(e){return ka?Object(ka.call(e)):{}}var o1=i1,a1=w(12701),s1="[object Boolean]",l1="[object Date]",u1="[object Map]",d1="[object Number]",f1="[object RegExp]",h1="[object Set]",c1="[object String]",p1="[object Symbol]",v1="[object ArrayBuffer]",g1="[object DataView]",_1="[object Float32Array]",y1="[object Float64Array]",m1="[object Int8Array]",x1="[object Int16Array]",w1="[object Int32Array]",b1="[object Uint8Array]",E1="[object Uint8ClampedArray]",M1="[object Uint16Array]",A1="[object Uint32Array]";function S1(e,t,n){var r=e.constructor;switch(t){case v1:return(0,ja.Z)(e);case s1:case l1:return new r(+e);case g1:return e1(e,n);case _1:case y1:case m1:case x1:case w1:case b1:case E1:case M1:case A1:return(0,a1.Z)(e,n);case u1:return new r;case d1:case c1:return new r(e);case f1:return r1(e);case h1:return new r;case p1:return o1(e)}}var T1=S1,N1=w(96539),Zn=w(65763),P1="[object Map]";function O1(e){return(0,te.Z)(e)&&(0,Ge.Z)(e)==P1}var C1=O1,ye=w(98351),za=ye.Z&&ye.Z.isMap,R1=za?(0,se.Z)(za):C1,Xa=R1,Z1="[object Set]";function I1(e){return(0,te.Z)(e)&&(0,Ge.Z)(e)==Z1}var L1=I1,Ua=ye.Z&&ye.Z.isSet,D1=Ua?(0,se.Z)(Ua):L1,Ha=D1,B1=1,F1=2,W1=4,Ya="[object Arguments]",j1="[object Array]",G1="[object Boolean]",k1="[object Date]",z1="[object Error]",Va="[object Function]",X1="[object GeneratorFunction]",U1="[object Map]",H1="[object Number]",Ka="[object Object]",Y1="[object RegExp]",V1="[object Set]",K1="[object String]",J1="[object Symbol]",Q1="[object WeakMap]",$1="[object ArrayBuffer]",q1="[object DataView]",em="[object Float32Array]",tm="[object Float64Array]",nm="[object Int8Array]",rm="[object Int16Array]",im="[object Int32Array]",om="[object Uint8Array]",am="[object Uint8ClampedArray]",sm="[object Uint16Array]",lm="[object Uint32Array]",k={};k[Ya]=k[j1]=k[$1]=k[q1]=k[G1]=k[k1]=k[em]=k[tm]=k[nm]=k[rm]=k[im]=k[U1]=k[H1]=k[Ka]=k[Y1]=k[V1]=k[K1]=k[J1]=k[om]=k[am]=k[sm]=k[lm]=!0,k[z1]=k[Va]=k[Q1]=!1;function In(e,t,n,r,i,o){var a,s=t&B1,l=t&F1,u=t&W1;if(n&&(a=i?n(e,r,i,o):n(e)),a!==void 0)return a;if(!(0,ue.Z)(e))return e;var f=(0,R.Z)(e);if(f){if(a=$y(e),!s)return(0,ie.Z)(e,a)}else{var d=(0,Ge.Z)(e),h=d==Va||d==X1;if((0,Zn.Z)(e))return(0,Wy.Z)(e,s);if(d==Ka||d==Ya||h&&!i){if(a=l||h?{}:(0,N1.Z)(e),!s)return l?Uy(e,Fy(a,e)):Gy(e,La(a,e))}else{if(!k[d])return i?e:{};a=T1(e,d,s)}}o||(o=new Ly.Z);var p=o.get(e);if(p)return p;o.set(e,a),Ha(e)?e.forEach(function(_){a.add(In(_,t,n,_,e,o))}):Xa(e)&&e.forEach(function(_,y){a.set(y,In(_,t,n,y,e,o))});var g=u?l?Yr:Hy.Z:l?de.Z:K.Z,v=f?void 0:g(e);return(0,ce.Z)(v||e,function(_,y){v&&(y=_,_=e[y]),(0,bn.Z)(a,y,In(_,t,n,y,e,o))}),a}var Pe=In,um=4;function dm(e){return Pe(e,um)}var fm=dm,hm=1,cm=4;function pm(e){return Pe(e,hm|cm)}var Ut=pm,vm=1,gm=4;function _m(e,t){return t=typeof t=="function"?t:void 0,Pe(e,vm|gm,t)}var ym=_m,mm=4;function xm(e,t){return t=typeof t=="function"?t:void 0,Pe(e,mm,t)}var wm=xm;function bm(e,t,n){var r=n.length;if(e==null)return!r;for(e=Object(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===void 0&&!(i in e)||!o(a))return!1}return!0}var Ja=bm;function Em(e,t){return t==null||Ja(e,t,(0,K.Z)(t))}var Mm=Em;function Am(e,t){return e>t}var Vr=Am;function Sm(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=(0,_e.Z)(t),n=(0,_e.Z)(n)),e(t,n)}}var Ln=Sm,Tm=Ln(Vr),Nm=Tm,Pm=Ln(function(e,t){return e>=t}),Om=Pm,Cm="[object ArrayBuffer]";function Rm(e){return(0,te.Z)(e)&&(0,je.Z)(e)==Cm}var Zm=Rm,Qa=ye.Z&&ye.Z.isArrayBuffer,Im=Qa?(0,se.Z)(Qa):Zm,Lm=Im,Dm="[object Boolean]";function Bm(e){return e===!0||e===!1||(0,te.Z)(e)&&(0,je.Z)(e)==Dm}var Fm=Bm,Wm="[object Date]";function jm(e){return(0,te.Z)(e)&&(0,je.Z)(e)==Wm}var Gm=jm,$a=ye.Z&&ye.Z.isDate,km=$a?(0,se.Z)($a):Gm,zm=km,Dn=w(37514);function Xm(e){return(0,te.Z)(e)&&e.nodeType===1&&!(0,Dn.Z)(e)}var Um=Xm,qa=w(72764),Kr=w(18843),Hm="[object Map]",Ym="[object Set]",Vm=Object.prototype,Km=Vm.hasOwnProperty;function Jm(e){if(e==null)return!0;if((0,We.Z)(e)&&((0,R.Z)(e)||typeof e=="string"||typeof e.splice=="function"||(0,Zn.Z)(e)||(0,Kr.Z)(e)||(0,cr.Z)(e)))return!e.length;var t=(0,Ge.Z)(e);if(t==Hm||t==Ym)return!e.size;if((0,qa.Z)(e))return!(0,na.Z)(e).length;for(var n in e)if(Km.call(e,n))return!1;return!0}var Qm=Jm,es=w(51514);function $m(e,t){return(0,es.Z)(e,t)}var qm=$m;function e2(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?(0,es.Z)(e,t,void 0,n):!!r}var t2=e2,n2="[object DOMException]",r2="[object Error]";function i2(e){if(!(0,te.Z)(e))return!1;var t=(0,je.Z)(e);return t==r2||t==n2||typeof e.message=="string"&&typeof e.name=="string"&&!(0,Dn.Z)(e)}var Jr=i2,o2=$e.Z.isFinite;function a2(e){return typeof e=="number"&&o2(e)}var s2=a2,xt=w(73234);function l2(e){return typeof e=="number"&&e==N(e)}var ts=l2,u2=w(1656),ns=w(18175),rs=w(46272);function d2(e,t){return e===t||(0,ns.Z)(e,t,(0,rs.Z)(t))}var f2=d2;function h2(e,t,n){return n=typeof n=="function"?n:void 0,(0,ns.Z)(e,t,(0,rs.Z)(t),n)}var c2=h2,p2="[object Number]";function v2(e){return typeof e=="number"||(0,te.Z)(e)&&(0,je.Z)(e)==p2}var is=v2;function g2(e){return is(e)&&e!=+e}var _2=g2,y2=w(65123),m2=w(41819),os=w(7979),x2=m2.Z?xt.Z:os.Z,w2=x2,b2="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function E2(e){if(w2(e))throw new Error(b2);return(0,y2.Z)(e)}var M2=E2;function A2(e){return e==null}var S2=A2;function T2(e){return e===null}var N2=T2,P2="[object RegExp]";function O2(e){return(0,te.Z)(e)&&(0,je.Z)(e)==P2}var C2=O2,as=ye.Z&&ye.Z.isRegExp,R2=as?(0,se.Z)(as):C2,Qr=R2,ss=9007199254740991;function Z2(e){return ts(e)&&e>=-ss&&e<=ss}var I2=Z2,L2=w(49360),D2="[object WeakMap]";function B2(e){return(0,te.Z)(e)&&(0,Ge.Z)(e)==D2}var F2=B2,W2="[object WeakSet]";function j2(e){return(0,te.Z)(e)&&(0,je.Z)(e)==W2}var G2=j2;function k2(e,t){return e<t}var $r=k2,z2=Ln($r),X2=z2,U2=Ln(function(e,t){return e<=t}),H2=U2;function Y2(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var V2=Y2,ls=w(84910);function K2(e){return e.split("")}var J2=K2,us="\\ud800-\\udfff",Q2="\\u0300-\\u036f",$2="\\ufe20-\\ufe2f",q2="\\u20d0-\\u20ff",ex=Q2+$2+q2,tx="\\ufe0e\\ufe0f",nx="["+us+"]",qr="["+ex+"]",ei="\\ud83c[\\udffb-\\udfff]",rx="(?:"+qr+"|"+ei+")",ds="[^"+us+"]",fs="(?:\\ud83c[\\udde6-\\uddff]){2}",hs="[\\ud800-\\udbff][\\udc00-\\udfff]",ix="\\u200d",cs=rx+"?",ps="["+tx+"]?",ox="(?:"+ix+"(?:"+[ds,fs,hs].join("|")+")"+ps+cs+")*",ax=ps+cs+ox,sx="(?:"+[ds+qr+"?",qr,fs,hs,nx].join("|")+")",lx=RegExp(ei+"(?="+ei+")|"+sx+ax,"g");function ux(e){return e.match(lx)||[]}var dx=ux;function fx(e){return gt(e)?dx(e):J2(e)}var pe=fx,hx="[object Map]",cx="[object Set]",ti=Be.Z?Be.Z.iterator:void 0;function px(e){if(!e)return[];if((0,We.Z)(e))return An(e)?pe(e):(0,ie.Z)(e);if(ti&&e[ti])return V2(e[ti]());var t=(0,Ge.Z)(e),n=t==hx?ls.Z:t==cx?Ar.Z:vt;return n(e)}var vs=px,vx=w(62518),gs=9007199254740991;function gx(e){return e?Je(N(e),-gs,gs):e===0?e:0}var _x=gx,D=w(77338),M={castArray:Iy,clone:fm,cloneDeep:Ut,cloneDeepWith:ym,cloneWith:wm,conformsTo:Mm,eq:ht.Z,gt:Nm,gte:Om,isArguments:cr.Z,isArray:R.Z,isArrayBuffer:Lm,isArrayLike:We.Z,isArrayLikeObject:H.Z,isBoolean:Fm,isBuffer:Zn.Z,isDate:zm,isElement:Um,isEmpty:Qm,isEqual:qm,isEqualWith:t2,isError:Jr,isFinite:s2,isFunction:xt.Z,isInteger:ts,isLength:u2.Z,isMap:Xa,isMatch:f2,isMatchWith:c2,isNaN:_2,isNative:M2,isNil:S2,isNull:N2,isNumber:is,isObject:ue.Z,isObjectLike:te.Z,isPlainObject:Dn.Z,isRegExp:Qr,isSafeInteger:I2,isSet:Ha,isString:An,isSymbol:Ee.Z,isTypedArray:Kr.Z,isUndefined:L2.Z,isWeakMap:F2,isWeakSet:G2,lt:X2,lte:H2,toArray:vs,toFinite:be,toInteger:N,toLength:No,toNumber:_e.Z,toPlainObject:vx.Z,toSafeInteger:_x,toString:D.Z},yx=0/0;function mx(e){return typeof e=="number"?e:(0,Ee.Z)(e)?yx:+e}var _s=mx,ve=w(42845);function xx(e,t){return function(n,r){var i;if(n===void 0&&r===void 0)return t;if(n!==void 0&&(i=n),r!==void 0){if(i===void 0)return r;typeof n=="string"||typeof r=="string"?(n=(0,ve.Z)(n),r=(0,ve.Z)(r)):(n=_s(n),r=_s(r)),i=e(n,r)}return i}}var Bn=xx,wx=Bn(function(e,t){return e+t},0),bx=wx,Ex=$e.Z.isFinite,Mx=Math.min;function Ax(e){var t=Math[e];return function(n,r){if(n=(0,_e.Z)(n),r=r==null?0:Mx(N(r),292),r&&Ex(n)){var i=((0,D.Z)(n)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+r));return i=((0,D.Z)(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var ni=Ax,Sx=ni("ceil"),Tx=Sx,Nx=Bn(function(e,t){return e/t},1),Px=Nx,Ox=ni("floor"),Cx=Ox;function Rx(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!(0,Ee.Z)(a):n(a,s)))var s=a,l=o}return l}var Fn=Rx;function Zx(e){return e&&e.length?Fn(e,he.Z,Vr):void 0}var Ix=Zx;function Lx(e,t){return e&&e.length?Fn(e,(0,T.Z)(t,2),Vr):void 0}var Dx=Lx;function Bx(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==void 0&&(n=n===void 0?o:n+o)}return n}var ri=Bx,Fx=0/0;function Wx(e,t){var n=e==null?0:e.length;return n?ri(e,t)/n:Fx}var ys=Wx;function jx(e){return ys(e,he.Z)}var Gx=jx;function kx(e,t){return ys(e,(0,T.Z)(t,2))}var zx=kx;function Xx(e){return e&&e.length?Fn(e,he.Z,$r):void 0}var Ux=Xx;function Hx(e,t){return e&&e.length?Fn(e,(0,T.Z)(t,2),$r):void 0}var Yx=Hx,Vx=Bn(function(e,t){return e*t},1),Kx=Vx,Jx=ni("round"),Qx=Jx,$x=Bn(function(e,t){return e-t},0),qx=$x;function e3(e){return e&&e.length?ri(e,he.Z):0}var t3=e3;function n3(e,t){return e&&e.length?ri(e,(0,T.Z)(t,2)):0}var r3=n3,Q={add:bx,ceil:Tx,divide:Px,floor:Cx,max:Ix,maxBy:Dx,mean:Gx,meanBy:zx,min:Ux,minBy:Yx,multiply:Kx,round:Qx,subtract:qx,sum:t3,sumBy:r3};function i3(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=(0,_e.Z)(n),n=n===n?n:0),t!==void 0&&(t=(0,_e.Z)(t),t=t===t?t:0),Je((0,_e.Z)(e),t,n)}var o3=i3,a3=Math.max,s3=Math.min;function l3(e,t,n){return e>=s3(t,n)&&e<a3(t,n)}var u3=l3;function d3(e,t,n){return t=be(t),n===void 0?(n=t,t=0):n=be(n),e=(0,_e.Z)(e),u3(e,t,n)}var f3=d3,h3=parseFloat,c3=Math.min,p3=Math.random;function v3(e,t,n){if(n&&typeof n!="boolean"&&(0,ee.Z)(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=be(e),t===void 0?(t=e,e=0):t=be(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=p3();return c3(e+i*(t-e+h3("1e-"+((i+"").length-1))),t)}return Cr(e,t)}var g3=v3,ii={clamp:o3,inRange:f3,random:g3},Ht=w(49268),_3=Object.prototype,y3=_3.hasOwnProperty,m3=(0,Ht.Z)(function(e,t){if((0,qa.Z)(t)||(0,We.Z)(t)){(0,Ne.Z)(t,(0,K.Z)(t),e);return}for(var n in t)y3.call(t,n)&&(0,bn.Z)(e,n,t[n])}),x3=m3,w3=(0,Ht.Z)(function(e,t){(0,Ne.Z)(t,(0,de.Z)(t),e)}),ms=w3,b3=(0,Ht.Z)(function(e,t,n,r){(0,Ne.Z)(t,(0,de.Z)(t),e,r)}),Wn=b3,E3=(0,Ht.Z)(function(e,t,n,r){(0,Ne.Z)(t,(0,K.Z)(t),e,r)}),M3=E3,A3=Me(mr),S3=A3;function T3(e,t){var n=(0,kt.Z)(e);return t==null?n:La(n,t)}var N3=T3,xs=Object.prototype,P3=xs.hasOwnProperty,O3=(0,P.Z)(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&(0,ee.Z)(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=(0,de.Z)(o),s=-1,l=a.length;++s<l;){var u=a[s],f=e[u];(f===void 0||(0,ht.Z)(f,xs[u])&&!P3.call(e,u))&&(e[u]=o[u])}return e}),C3=O3,ws=w(20930);function bs(e,t,n,r,i,o){return(0,ue.Z)(e)&&(0,ue.Z)(t)&&(o.set(t,e),(0,ws.Z)(e,t,void 0,bs,o),o.delete(t)),e}var R3=bs,Z3=(0,Ht.Z)(function(e,t,n,r){(0,ws.Z)(e,t,n,r)}),Es=Z3,I3=(0,P.Z)(function(e){return e.push(void 0,R3),(0,le.Z)(Es,void 0,e)}),L3=I3;function D3(e,t){return(0,X.Z)(t,function(n){return[n,e[n]]})}var B3=D3;function F3(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var W3=F3,j3="[object Map]",G3="[object Set]";function k3(e){return function(t){var n=(0,Ge.Z)(t);return n==j3?(0,ls.Z)(t):n==G3?W3(t):B3(t,e(t))}}var Ms=k3,z3=Ms(K.Z),As=z3,X3=Ms(de.Z),Ss=X3;function U3(e,t,n){var r;return n(e,function(i,o,a){if(t(i,o,a))return r=o,!1}),r}var Ts=U3,Oe=w(2693);function H3(e,t){return Ts(e,(0,T.Z)(t,3),Oe.Z)}var Y3=H3;function V3(e,t){return Ts(e,(0,T.Z)(t,3),Nr)}var K3=V3,J3=w(93242);function Q3(e,t){return e==null?e:(0,J3.Z)(e,(0,Ae.Z)(t),de.Z)}var $3=Q3;function q3(e,t){return e==null?e:Yo(e,(0,Ae.Z)(t),de.Z)}var e5=q3;function t5(e,t){return e&&(0,Oe.Z)(e,(0,Ae.Z)(t))}var n5=t5;function r5(e,t){return e&&Nr(e,(0,Ae.Z)(t))}var i5=r5;function o5(e,t){return(0,Qe.Z)(t,function(n){return(0,xt.Z)(e[n])})}var jn=o5;function a5(e){return e==null?[]:jn(e,(0,K.Z)(e))}var s5=a5;function l5(e){return e==null?[]:jn(e,(0,de.Z)(e))}var u5=l5,d5=Object.prototype,f5=d5.hasOwnProperty;function h5(e,t){return e!=null&&f5.call(e,t)}var c5=h5,p5=w(16174);function v5(e,t){return e!=null&&(0,p5.Z)(e,t,c5)}var g5=v5,Ns=w(75487),Ps=w(62002);function _5(e,t,n,r){return(0,Oe.Z)(e,function(i,o,a){t(r,n(i),o,a)}),r}var y5=_5;function m5(e,t){return function(n,r){return y5(n,e,t(r),{})}}var Os=m5,x5=Object.prototype,w5=x5.toString,b5=Os(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=w5.call(t)),e[t]=n},(0,Ps.Z)(he.Z)),E5=b5,Cs=Object.prototype,M5=Cs.hasOwnProperty,A5=Cs.toString,S5=Os(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=A5.call(t)),M5.call(e,t)?e[t].push(n):e[t]=[n]},T.Z),T5=S5,N5=(0,P.Z)(jt),P5=N5;function O5(e,t){var n={};return t=(0,T.Z)(t,3),(0,Oe.Z)(e,function(r,i,o){(0,ct.Z)(n,t(r,i,o),r)}),n}var C5=O5;function R5(e,t){var n={};return t=(0,T.Z)(t,3),(0,Oe.Z)(e,function(r,i,o){(0,ct.Z)(n,i,t(r,i,o))}),n}var Z5=R5,I5=w(48568);function L5(e){return(0,Dn.Z)(e)?void 0:e}var D5=L5,B5=1,F5=2,W5=4,j5=Me(function(e,t){var n={};if(e==null)return n;var r=!1;t=(0,X.Z)(t,function(o){return o=(0,dt.Z)(o,e),r||(r=o.length>1),o}),(0,Ne.Z)(e,Yr(e),n),r&&(n=Pe(n,B5|F5|W5,D5));for(var i=t.length;i--;)xr(n,t[i]);return n}),G5=j5;function k5(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=(0,Ft.Z)(e,a);n(s,a)&&Wt(o,(0,dt.Z)(a,e),s)}return o}var Rs=k5;function z5(e,t){if(e==null)return{};var n=(0,X.Z)(Yr(e),function(r){return[r]});return t=(0,T.Z)(t),Rs(e,n,function(r,i){return t(r,i[0])})}var Zs=z5;function X5(e,t){return Zs(e,Gt((0,T.Z)(t)))}var U5=X5;function H5(e,t){return Rs(e,t,function(n,r){return(0,Ns.Z)(e,r)})}var Y5=H5,V5=Me(function(e,t){return e==null?{}:Y5(e,t)}),K5=V5;function J5(e,t,n){t=(0,dt.Z)(t,e);var r=-1,i=t.length;for(i||(i=1,e=void 0);++r<i;){var o=e==null?void 0:e[(0,ft.Z)(t[r])];o===void 0&&(r=i,o=n),e=(0,xt.Z)(o)?o.call(e):o}return e}var Q5=J5;function $5(e,t,n){return e==null?e:Wt(e,t,n)}var q5=$5;function e4(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:Wt(e,t,n,r)}var t4=e4;function n4(e,t,n){var r=(0,R.Z)(e),i=r||(0,Zn.Z)(e)||(0,Kr.Z)(e);if(t=(0,T.Z)(t,4),n==null){var o=e&&e.constructor;i?n=r?new o:[]:(0,ue.Z)(e)?n=(0,xt.Z)(o)?(0,kt.Z)((0,Ba.Z)(e)):{}:n={}}return(i?ce.Z:Oe.Z)(e,function(a,s,l){return t(n,a,s,l)}),n}var r4=n4;function i4(e,t){return e==null?!0:xr(e,t)}var o4=i4;function a4(e,t,n,r){return Wt(e,t,n((0,Ft.Z)(e,t)),r)}var Is=a4;function s4(e,t,n){return e==null?e:Is(e,t,(0,Ae.Z)(n))}var l4=s4;function u4(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:Is(e,t,(0,Ae.Z)(n),r)}var d4=u4;function f4(e){return e==null?[]:Pr(e,(0,de.Z)(e))}var h4=f4,S={assign:x3,assignIn:ms,assignInWith:Wn,assignWith:M3,at:S3,create:N3,defaults:C3,defaultsDeep:L3,entries:As,entriesIn:Ss,extend:ms,extendWith:Wn,findKey:Y3,findLastKey:K3,forIn:$3,forInRight:e5,forOwn:n5,forOwnRight:i5,functions:s5,functionsIn:u5,get:Do.Z,has:g5,hasIn:Ns.Z,invert:E5,invertBy:T5,invoke:P5,keys:K.Z,keysIn:de.Z,mapKeys:C5,mapValues:Z5,merge:I5.Z,mergeWith:Es,omit:G5,omitBy:U5,pick:K5,pickBy:Zs,result:Q5,set:q5,setWith:t4,toPairs:As,toPairsIn:Ss,transform:r4,unset:o4,update:l4,updateWith:d4,values:vt,valuesIn:h4};function c4(e,t){return t(e)}var Yt=c4,p4=Me(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(o){return mr(o,e)};return t>1||this.__actions__.length||!(r instanceof C)||!(0,ut.Z)(n)?this.thru(i):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Yt,args:[i],thisArg:void 0}),new Se(r,this.__chain__).thru(function(o){return t&&!o.length&&o.push(void 0),o}))}),v4=p4;function g4(e){var t=c(e);return t.__chain__=!0,t}var Ls=g4;function _4(){return new Se(this.value(),this.__chain__)}var y4=_4;function m4(){this.__values__===void 0&&(this.__values__=vs(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}}var x4=m4;function w4(e){for(var t,n=this;n instanceof Nn;){var r=va(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}var b4=w4;function E4(){var e=this.__wrapped__;if(e instanceof C){var t=e;return this.__actions__.length&&(t=new C(this)),t=t.reverse(),t.__actions__.push({func:Yt,args:[wr],thisArg:void 0}),new Se(t,this.__chain__)}return this.thru(wr)}var M4=E4;function A4(e,t){return t(e),e}var S4=A4;function T4(){return this}var N4=T4;function P4(e,t){var n=e;return n instanceof C&&(n=n.value()),Or(t,function(r,i){return i.func.apply(i.thisArg,(0,Ke.Z)([r],i.args))},n)}var Ds=P4;function O4(){return Ds(this.__wrapped__,this.__actions__)}var oi=O4;function C4(){return Ls(this)}var R4=C4,me={at:v4,chain:Ls,commit:y4,lodash:c,next:x4,plant:b4,reverse:M4,tap:S4,thru:Yt,toIterator:N4,toJSON:oi,value:oi,valueOf:oi,wrapperChain:R4};function Z4(e){return function(t){t=(0,D.Z)(t);var n=gt(t)?pe(t):void 0,r=n?n[0]:t.charAt(0),i=n?ze(n,1).join(""):t.slice(1);return r[e]()+i}}var Bs=Z4,I4=Bs("toUpperCase"),ai=I4;function L4(e){return ai((0,D.Z)(e).toLowerCase())}var Fs=L4;function D4(e){return function(t){return e==null?void 0:e[t]}}var si=D4,B4={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},F4=si(B4),W4=F4,j4=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,G4="\\u0300-\\u036f",k4="\\ufe20-\\ufe2f",z4="\\u20d0-\\u20ff",X4=G4+k4+z4,U4="["+X4+"]",H4=RegExp(U4,"g");function Y4(e){return e=(0,D.Z)(e),e&&e.replace(j4,W4).replace(H4,"")}var Ws=Y4,V4=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function K4(e){return e.match(V4)||[]}var J4=K4,Q4=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function $4(e){return Q4.test(e)}var q4=$4,js="\\ud800-\\udfff",e9="\\u0300-\\u036f",t9="\\ufe20-\\ufe2f",n9="\\u20d0-\\u20ff",r9=e9+t9+n9,Gs="\\u2700-\\u27bf",ks="a-z\\xdf-\\xf6\\xf8-\\xff",i9="\\xac\\xb1\\xd7\\xf7",o9="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",a9="\\u2000-\\u206f",s9=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zs="A-Z\\xc0-\\xd6\\xd8-\\xde",l9="\\ufe0e\\ufe0f",Xs=i9+o9+a9+s9,Us="['\u2019]",Hs="["+Xs+"]",u9="["+r9+"]",Ys="\\d+",d9="["+Gs+"]",Vs="["+ks+"]",Ks="[^"+js+Xs+Ys+Gs+ks+zs+"]",f9="\\ud83c[\\udffb-\\udfff]",h9="(?:"+u9+"|"+f9+")",c9="[^"+js+"]",Js="(?:\\ud83c[\\udde6-\\uddff]){2}",Qs="[\\ud800-\\udbff][\\udc00-\\udfff]",wt="["+zs+"]",p9="\\u200d",$s="(?:"+Vs+"|"+Ks+")",v9="(?:"+wt+"|"+Ks+")",qs="(?:"+Us+"(?:d|ll|m|re|s|t|ve))?",el="(?:"+Us+"(?:D|LL|M|RE|S|T|VE))?",tl=h9+"?",nl="["+l9+"]?",g9="(?:"+p9+"(?:"+[c9,Js,Qs].join("|")+")"+nl+tl+")*",_9="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",y9="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",m9=nl+tl+g9,x9="(?:"+[d9,Js,Qs].join("|")+")"+m9,w9=RegExp([wt+"?"+Vs+"+"+qs+"(?="+[Hs,wt,"$"].join("|")+")",v9+"+"+el+"(?="+[Hs,wt+$s,"$"].join("|")+")",wt+"?"+$s+"+"+qs,wt+"+"+el,y9,_9,Ys,x9].join("|"),"g");function b9(e){return e.match(w9)||[]}var E9=b9;function M9(e,t,n){return e=(0,D.Z)(e),t=n?void 0:t,t===void 0?q4(e)?E9(e):J4(e):e.match(t)||[]}var rl=M9,A9="['\u2019]",S9=RegExp(A9,"g");function T9(e){return function(t){return Or(rl(Ws(t).replace(S9,"")),e,"")}}var bt=T9,N9=bt(function(e,t,n){return t=t.toLowerCase(),e+(n?Fs(t):t)}),P9=N9;function O9(e,t,n){e=(0,D.Z)(e),t=(0,ve.Z)(t);var r=e.length;n=n===void 0?r:Je(N(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}var C9=O9,R9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z9=si(R9),I9=Z9,il=/[&<>"']/g,L9=RegExp(il.source);function D9(e){return e=(0,D.Z)(e),e&&L9.test(e)?e.replace(il,I9):e}var ol=D9,al=/[\\^$.*+?()[\]{}|]/g,B9=RegExp(al.source);function F9(e){return e=(0,D.Z)(e),e&&B9.test(e)?e.replace(al,"\\$&"):e}var W9=F9,j9=bt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),G9=j9,k9=bt(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),z9=k9,X9=Bs("toLowerCase"),U9=X9,H9=9007199254740991,Y9=Math.floor;function V9(e,t){var n="";if(!e||t<1||t>H9)return n;do t%2&&(n+=e),t=Y9(t/2),t&&(e+=e);while(t);return n}var li=V9,K9=Math.ceil;function J9(e,t){t=t===void 0?" ":(0,ve.Z)(t);var n=t.length;if(n<2)return n?li(t,e):t;var r=li(t,K9(e/_t(t)));return gt(t)?ze(pe(r),0,e).join(""):r.slice(0,e)}var Gn=J9,Q9=Math.ceil,$9=Math.floor;function q9(e,t,n){e=(0,D.Z)(e),t=N(t);var r=t?_t(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gn($9(i),n)+e+Gn(Q9(i),n)}var ew=q9;function tw(e,t,n){e=(0,D.Z)(e),t=N(t);var r=t?_t(e):0;return t&&r<t?e+Gn(t-r,n):e}var nw=tw;function rw(e,t,n){e=(0,D.Z)(e),t=N(t);var r=t?_t(e):0;return t&&r<t?Gn(t-r,n)+e:e}var iw=rw,ow=/^\s+/,aw=$e.Z.parseInt;function sw(e,t,n){return n||t==null?t=0:t&&(t=+t),aw((0,D.Z)(e).replace(ow,""),t||0)}var lw=sw;function uw(e,t,n){return(n?(0,ee.Z)(e,t,n):t===void 0)?t=1:t=N(t),li((0,D.Z)(e),t)}var dw=uw;function fw(){var e=arguments,t=(0,D.Z)(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var hw=fw,cw=bt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),pw=cw,vw=4294967295;function gw(e,t,n){return n&&typeof n!="number"&&(0,ee.Z)(e,t,n)&&(t=n=void 0),n=n===void 0?vw:n>>>0,n?(e=(0,D.Z)(e),e&&(typeof t=="string"||t!=null&&!Qr(t))&&(t=(0,ve.Z)(t),!t&&gt(e))?ze(pe(e),0,n):e.split(t,n)):[]}var _w=gw,yw=bt(function(e,t,n){return e+(n?" ":"")+ai(t)}),mw=yw;function xw(e,t,n){return e=(0,D.Z)(e),n=n==null?0:Je(N(n),0,e.length),t=(0,ve.Z)(t),e.slice(n,n+t.length)==t}var ww=xw,bw=(0,P.Z)(function(e,t){try{return(0,le.Z)(e,void 0,t)}catch(n){return Jr(n)?n:new Error(n)}}),sl=bw,ll=Object.prototype,Ew=ll.hasOwnProperty;function Mw(e,t,n,r){return e===void 0||(0,ht.Z)(e,ll[n])&&!Ew.call(r,n)?t:e}var ul=Mw,Aw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Sw(e){return"\\"+Aw[e]}var Tw=Sw,Nw=/<%=([\s\S]+?)%>/g,dl=Nw,Pw=/<%-([\s\S]+?)%>/g,Ow=Pw,Cw=/<%([\s\S]+?)%>/g,Rw=Cw,Zw={escape:Ow,evaluate:Rw,interpolate:dl,variable:"",imports:{_:{escape:ol}}},ui=Zw,Iw="Invalid `variable` option passed into `_.template`",Lw=/\b__p \+= '';/g,Dw=/\b(__p \+=) '' \+/g,Bw=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fw=/[()=,{}\[\]\/\s]/,Ww=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/($^)/,jw=/['\n\r\u2028\u2029\\]/g,Gw=Object.prototype,fl=Gw.hasOwnProperty;function kw(e,t,n){var r=ui.imports._.templateSettings||ui;n&&(0,ee.Z)(e,t,n)&&(t=void 0),e=(0,D.Z)(e),t=Wn({},t,r,ul);var i=Wn({},t.imports,r.imports,ul),o=(0,K.Z)(i),a=Pr(i,o),s,l,u=0,f=t.interpolate||kn,d="__p += '",h=RegExp((t.escape||kn).source+"|"+f.source+"|"+(f===dl?Ww:kn).source+"|"+(t.evaluate||kn).source+"|$","g"),p=fl.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(h,function(_,y,x,b,A,O){return x||(x=b),d+=e.slice(u,O).replace(jw,Tw),y&&(s=!0,d+=`' +
__e(`+y+`) +
'`),A&&(l=!0,d+=`';
`+A+`;
__p += '`),x&&(d+=`' +
((__t = (`+x+`)) == null ? '' : __t) +
'`),u=O+_.length,_}),d+=`';
`;var g=fl.call(t,"variable")&&t.variable;if(!g)d=`with (obj) {
`+d+`
}
`;else if(Fw.test(g))throw new Error(Iw);d=(l?d.replace(Lw,""):d).replace(Dw,"$1").replace(Bw,"$1;"),d="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var v=sl(function(){return Function(o,p+"return "+d).apply(void 0,a)});if(v.source=d,Jr(v))throw v;return v}var zw=kw;function Xw(e){return(0,D.Z)(e).toLowerCase()}var Uw=Xw;function Hw(e){return(0,D.Z)(e).toUpperCase()}var Yw=Hw,Vw=w(33404);function Kw(e,t){for(var n=e.length;n--&&lt(t,e[n],0)>-1;);return n}var hl=Kw;function Jw(e,t){for(var n=-1,r=e.length;++n<r&&lt(t,e[n],0)>-1;);return n}var cl=Jw;function Qw(e,t,n){if(e=(0,D.Z)(e),e&&(n||t===void 0))return(0,Vw.Z)(e);if(!e||!(t=(0,ve.Z)(t)))return e;var r=pe(e),i=pe(t),o=cl(r,i),a=hl(r,i)+1;return ze(r,o,a).join("")}var $w=Qw,qw=w(37170);function e8(e,t,n){if(e=(0,D.Z)(e),e&&(n||t===void 0))return e.slice(0,(0,qw.Z)(e)+1);if(!e||!(t=(0,ve.Z)(t)))return e;var r=pe(e),i=hl(r,pe(t))+1;return ze(r,0,i).join("")}var t8=e8,n8=/^\s+/;function r8(e,t,n){if(e=(0,D.Z)(e),e&&(n||t===void 0))return e.replace(n8,"");if(!e||!(t=(0,ve.Z)(t)))return e;var r=pe(e),i=cl(r,pe(t));return ze(r,i).join("")}var i8=r8,o8=30,a8="...",s8=/\w*$/;function l8(e,t){var n=o8,r=a8;if((0,ue.Z)(t)){var i="separator"in t?t.separator:i;n="length"in t?N(t.length):n,r="omission"in t?(0,ve.Z)(t.omission):r}e=(0,D.Z)(e);var o=e.length;if(gt(e)){var a=pe(e);o=a.length}if(n>=o)return e;var s=n-_t(r);if(s<1)return r;var l=a?ze(a,0,s).join(""):e.slice(0,s);if(i===void 0)return l+r;if(a&&(s+=l.length-s),Qr(i)){if(e.slice(s).search(i)){var u,f=l;for(i.global||(i=RegExp(i.source,(0,D.Z)(s8.exec(i))+"g")),i.lastIndex=0;u=i.exec(f);)var d=u.index;l=l.slice(0,d===void 0?s:d)}}else if(e.indexOf((0,ve.Z)(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}var u8=l8,d8={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f8=si(d8),h8=f8,pl=/&(?:amp|lt|gt|quot|#39);/g,c8=RegExp(pl.source);function p8(e){return e=(0,D.Z)(e),e&&c8.test(e)?e.replace(pl,h8):e}var v8=p8,g8=bt(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),_8=g8,Z={camelCase:P9,capitalize:Fs,deburr:Ws,endsWith:C9,escape:ol,escapeRegExp:W9,kebabCase:G9,lowerCase:z9,lowerFirst:U9,pad:ew,padEnd:nw,padStart:iw,parseInt:lw,repeat:dw,replace:hw,snakeCase:pw,split:_w,startCase:mw,startsWith:ww,template:zw,templateSettings:ui,toLower:Uw,toUpper:Yw,trim:$w,trimEnd:t8,trimStart:i8,truncate:u8,unescape:v8,upperCase:_8,upperFirst:ai,words:rl},y8=Me(function(e,t){return(0,ce.Z)(t,function(n){n=(0,ft.Z)(n),(0,ct.Z)(e,n,Ca(e[n],e))}),e}),m8=y8,x8="Expected a function";function w8(e){var t=e==null?0:e.length,n=T.Z;return e=t?(0,X.Z)(e,function(r){if(typeof r[1]!="function")throw new TypeError(x8);return[n(r[0]),r[1]]}):[],(0,P.Z)(function(r){for(var i=-1;++i<t;){var o=e[i];if((0,le.Z)(o[0],this,r))return(0,le.Z)(o[1],this,r)}})}var b8=w8;function E8(e){var t=(0,K.Z)(e);return function(n){return Ja(n,e,t)}}var M8=E8,A8=1;function S8(e){return M8(Pe(e,A8))}var T8=S8;function N8(e,t){return e==null||e!==e?t:e}var P8=N8,O8="Expected a function",C8=8,R8=32,Z8=128,I8=256;function L8(e){return Me(function(t){var n=t.length,r=n,i=Se.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if(typeof o!="function")throw new TypeError(O8);if(i&&!a&&On(o)=="wrapper")var a=new Se([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=On(o),l=s=="wrapper"?Ir(o):void 0;l&&Lr(l[0])&&l[1]==(Z8|C8|R8|I8)&&!l[4].length&&l[9]==1?a=a[On(l[0])].apply(a,l[3]):a=o.length==1&&Lr(o)?a[s]():a.thru(o)}return function(){var u=arguments,f=u[0];if(a&&u.length==1&&(0,R.Z)(f))return a.plant(f).value();for(var d=0,h=n?t[d].apply(this,u):f;++d<n;)h=t[d].call(this,h);return h}})}var vl=L8,D8=vl(),B8=D8,F8=vl(!0),W8=F8,j8=1;function G8(e){return(0,T.Z)(typeof e=="function"?e:Pe(e,j8))}var k8=G8,z8=w(85490),X8=1;function U8(e){return(0,z8.Z)(Pe(e,X8))}var H8=U8,Y8=w(59749),V8=1;function K8(e,t){return(0,Y8.Z)(e,Pe(t,V8))}var J8=K8,Q8=(0,P.Z)(function(e,t){return function(n){return jt(n,e,t)}}),$8=Q8,q8=(0,P.Z)(function(e,t){return function(n){return jt(e,n,t)}}),eb=q8;function tb(e,t,n){var r=(0,K.Z)(t),i=jn(t,r),o=!((0,ue.Z)(n)&&"chain"in n)||!!n.chain,a=(0,xt.Z)(e);return(0,ce.Z)(i,function(s){var l=t[s];e[s]=l,a&&(e.prototype[s]=function(){var u=this.__chain__;if(o||u){var f=e(this.__wrapped__),d=f.__actions__=(0,ie.Z)(this.__actions__);return d.push({func:l,args:arguments,thisArg:e}),f.__chain__=u,f}return l.apply(e,(0,Ke.Z)([this.value()],arguments))})}),e}var gl=tb;function nb(e){return e=N(e),(0,P.Z)(function(t){return Zo(t,e)})}var rb=nb;function ib(e){return Me(function(t){return t=(0,X.Z)(t,(0,se.Z)(T.Z)),(0,P.Z)(function(n){var r=this;return e(t,function(i){return(0,le.Z)(i,r,n)})})})}var di=ib,ob=di(X.Z),ab=ob,sb=di(Jo),lb=sb,ub=di(da.Z),db=ub,fb=w(19529);function hb(e){return function(t){return e==null?void 0:(0,Ft.Z)(e,t)}}var cb=hb,pb=Math.ceil,vb=Math.max;function gb(e,t,n,r){for(var i=-1,o=vb(pb((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var _b=gb;function yb(e){return function(t,n,r){return r&&typeof r!="number"&&(0,ee.Z)(t,n,r)&&(n=r=void 0),t=be(t),n===void 0?(n=t,t=0):n=be(n),r=r===void 0?t<n?1:-1:be(r),_b(t,n,r,e)}}var _l=yb,mb=_l(),xb=mb,wb=_l(!0),bb=wb;function Eb(){return{}}var Mb=Eb;function Ab(){return""}var Sb=Ab;function Tb(){return!0}var Nb=Tb,Pb=9007199254740991,fi=4294967295,Ob=Math.min;function Cb(e,t){if(e=N(e),e<1||e>Pb)return[];var n=fi,r=Ob(e,fi);t=(0,Ae.Z)(t),e-=fi;for(var i=(0,zo.Z)(r,t);++n<e;)t(n);return i}var Rb=Cb,Zb=w(63267);function Ib(e){return(0,R.Z)(e)?(0,X.Z)(e,ft.Z):(0,Ee.Z)(e)?[e]:(0,ie.Z)((0,Zb.Z)((0,D.Z)(e)))}var Lb=Ib,Db=0;function Bb(e){var t=++Db;return(0,D.Z)(e)+t}var Fb=Bb,I={attempt:sl,bindAll:m8,cond:b8,conforms:T8,constant:Ps.Z,defaultTo:P8,flow:B8,flowRight:W8,identity:he.Z,iteratee:k8,matches:H8,matchesProperty:J8,method:$8,methodOf:eb,mixin:gl,noop:Mr,nthArg:rb,over:ab,overEvery:lb,overSome:db,property:fb.Z,propertyOf:cb,range:xb,rangeRight:bb,stubArray:Fa.Z,stubFalse:os.Z,stubObject:Mb,stubString:Sb,stubTrue:Nb,times:Rb,toPath:Lb,uniqueId:Fb};function Wb(){var e=new C(this.__wrapped__);return e.__actions__=(0,ie.Z)(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=(0,ie.Z)(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=(0,ie.Z)(this.__views__),e}var jb=Wb;function Gb(){if(this.__filtered__){var e=new C(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var kb=Gb,zb=Math.max,Xb=Math.min;function Ub(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Xb(t,e+a);break;case"takeRight":e=zb(e,t-a);break}}return{start:e,end:t}}var Hb=Ub,Yb=1,Vb=2,Kb=Math.min;function Jb(){var e=this.__wrapped__.value(),t=this.__dir__,n=(0,R.Z)(e),r=t<0,i=n?e.length:0,o=Hb(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,f=this.__iteratees__,d=f.length,h=0,p=Kb(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return Ds(e,this.__actions__);var g=[];e:for(;l--&&h<p;){u+=t;for(var v=-1,_=e[u];++v<d;){var y=f[v],x=y.iteratee,b=y.type,A=x(_);if(b==Vb)_=A;else if(!A){if(b==Yb)continue e;break e}}g[h++]=_}return g}var Qb=Jb;var $b="4.17.21",qb=2,e7=1,t7=3,yl=4294967295,n7=Array.prototype,r7=Object.prototype,ml=r7.hasOwnProperty,xl=Be.Z?Be.Z.iterator:void 0,i7=Math.max,wl=Math.min,hi=function(e){return function(t,n,r){if(r==null){var i=(0,ue.Z)(n),o=i&&(0,K.Z)(n),a=o&&o.length&&jn(n,o);(a?a.length:i)||(r=n,n=t,t=this)}return e(t,n,r)}}(gl);c.after=U.after,c.ary=U.ary,c.assign=S.assign,c.assignIn=S.assignIn,c.assignInWith=S.assignInWith,c.assignWith=S.assignWith,c.at=S.at,c.before=U.before,c.bind=U.bind,c.bindAll=I.bindAll,c.bindKey=U.bindKey,c.castArray=M.castArray,c.chain=me.chain,c.chunk=E.chunk,c.compact=E.compact,c.concat=E.concat,c.cond=I.cond,c.conforms=I.conforms,c.constant=I.constant,c.countBy=F.countBy,c.create=S.create,c.curry=U.curry,c.curryRight=U.curryRight,c.debounce=U.debounce,c.defaults=S.defaults,c.defaultsDeep=S.defaultsDeep,c.defer=U.defer,c.delay=U.delay,c.difference=E.difference,c.differenceBy=E.differenceBy,c.differenceWith=E.differenceWith,c.drop=E.drop,c.dropRight=E.dropRight,c.dropRightWhile=E.dropRightWhile,c.dropWhile=E.dropWhile,c.fill=E.fill,c.filter=F.filter,c.flatMap=F.flatMap,c.flatMapDeep=F.flatMapDeep,c.flatMapDepth=F.flatMapDepth,c.flatten=E.flatten,c.flattenDeep=E.flattenDeep,c.flattenDepth=E.flattenDepth,c.flip=U.flip,c.flow=I.flow,c.flowRight=I.flowRight,c.fromPairs=E.fromPairs,c.functions=S.functions,c.functionsIn=S.functionsIn,c.groupBy=F.groupBy,c.initial=E.initial,c.intersection=E.intersection,c.intersectionBy=E.intersectionBy,c.intersectionWith=E.intersectionWith,c.invert=S.invert,c.invertBy=S.invertBy,c.invokeMap=F.invokeMap,c.iteratee=I.iteratee,c.keyBy=F.keyBy,c.keys=K.Z,c.keysIn=S.keysIn,c.map=F.map,c.mapKeys=S.mapKeys,c.mapValues=S.mapValues,c.matches=I.matches,c.matchesProperty=I.matchesProperty,c.memoize=U.memoize,c.merge=S.merge,c.mergeWith=S.mergeWith,c.method=I.method,c.methodOf=I.methodOf,c.mixin=hi,c.negate=Gt,c.nthArg=I.nthArg,c.omit=S.omit,c.omitBy=S.omitBy,c.once=U.once,c.orderBy=F.orderBy,c.over=I.over,c.overArgs=U.overArgs,c.overEvery=I.overEvery,c.overSome=I.overSome,c.partial=U.partial,c.partialRight=U.partialRight,c.partition=F.partition,c.pick=S.pick,c.pickBy=S.pickBy,c.property=I.property,c.propertyOf=I.propertyOf,c.pull=E.pull,c.pullAll=E.pullAll,c.pullAllBy=E.pullAllBy,c.pullAllWith=E.pullAllWith,c.pullAt=E.pullAt,c.range=I.range,c.rangeRight=I.rangeRight,c.rearg=U.rearg,c.reject=F.reject,c.remove=E.remove,c.rest=U.rest,c.reverse=E.reverse,c.sampleSize=F.sampleSize,c.set=S.set,c.setWith=S.setWith,c.shuffle=F.shuffle,c.slice=E.slice,c.sortBy=F.sortBy,c.sortedUniq=E.sortedUniq,c.sortedUniqBy=E.sortedUniqBy,c.split=Z.split,c.spread=U.spread,c.tail=E.tail,c.take=E.take,c.takeRight=E.takeRight,c.takeRightWhile=E.takeRightWhile,c.takeWhile=E.takeWhile,c.tap=me.tap,c.throttle=U.throttle,c.thru=Yt,c.toArray=M.toArray,c.toPairs=S.toPairs,c.toPairsIn=S.toPairsIn,c.toPath=I.toPath,c.toPlainObject=M.toPlainObject,c.transform=S.transform,c.unary=U.unary,c.union=E.union,c.unionBy=E.unionBy,c.unionWith=E.unionWith,c.uniq=E.uniq,c.uniqBy=E.uniqBy,c.uniqWith=E.uniqWith,c.unset=S.unset,c.unzip=E.unzip,c.unzipWith=E.unzipWith,c.update=S.update,c.updateWith=S.updateWith,c.values=S.values,c.valuesIn=S.valuesIn,c.without=E.without,c.words=Z.words,c.wrap=U.wrap,c.xor=E.xor,c.xorBy=E.xorBy,c.xorWith=E.xorWith,c.zip=E.zip,c.zipObject=E.zipObject,c.zipObjectDeep=E.zipObjectDeep,c.zipWith=E.zipWith,c.entries=S.toPairs,c.entriesIn=S.toPairsIn,c.extend=S.assignIn,c.extendWith=S.assignInWith,hi(c,c),c.add=Q.add,c.attempt=I.attempt,c.camelCase=Z.camelCase,c.capitalize=Z.capitalize,c.ceil=Q.ceil,c.clamp=ii.clamp,c.clone=M.clone,c.cloneDeep=M.cloneDeep,c.cloneDeepWith=M.cloneDeepWith,c.cloneWith=M.cloneWith,c.conformsTo=M.conformsTo,c.deburr=Z.deburr,c.defaultTo=I.defaultTo,c.divide=Q.divide,c.endsWith=Z.endsWith,c.eq=M.eq,c.escape=Z.escape,c.escapeRegExp=Z.escapeRegExp,c.every=F.every,c.find=F.find,c.findIndex=E.findIndex,c.findKey=S.findKey,c.findLast=F.findLast,c.findLastIndex=E.findLastIndex,c.findLastKey=S.findLastKey,c.floor=Q.floor,c.forEach=F.forEach,c.forEachRight=F.forEachRight,c.forIn=S.forIn,c.forInRight=S.forInRight,c.forOwn=S.forOwn,c.forOwnRight=S.forOwnRight,c.get=S.get,c.gt=M.gt,c.gte=M.gte,c.has=S.has,c.hasIn=S.hasIn,c.head=E.head,c.identity=he.Z,c.includes=F.includes,c.indexOf=E.indexOf,c.inRange=ii.inRange,c.invoke=S.invoke,c.isArguments=M.isArguments,c.isArray=R.Z,c.isArrayBuffer=M.isArrayBuffer,c.isArrayLike=M.isArrayLike,c.isArrayLikeObject=M.isArrayLikeObject,c.isBoolean=M.isBoolean,c.isBuffer=M.isBuffer,c.isDate=M.isDate,c.isElement=M.isElement,c.isEmpty=M.isEmpty,c.isEqual=M.isEqual,c.isEqualWith=M.isEqualWith,c.isError=M.isError,c.isFinite=M.isFinite,c.isFunction=M.isFunction,c.isInteger=M.isInteger,c.isLength=M.isLength,c.isMap=M.isMap,c.isMatch=M.isMatch,c.isMatchWith=M.isMatchWith,c.isNaN=M.isNaN,c.isNative=M.isNative,c.isNil=M.isNil,c.isNull=M.isNull,c.isNumber=M.isNumber,c.isObject=ue.Z,c.isObjectLike=M.isObjectLike,c.isPlainObject=M.isPlainObject,c.isRegExp=M.isRegExp,c.isSafeInteger=M.isSafeInteger,c.isSet=M.isSet,c.isString=M.isString,c.isSymbol=M.isSymbol,c.isTypedArray=M.isTypedArray,c.isUndefined=M.isUndefined,c.isWeakMap=M.isWeakMap,c.isWeakSet=M.isWeakSet,c.join=E.join,c.kebabCase=Z.kebabCase,c.last=oe,c.lastIndexOf=E.lastIndexOf,c.lowerCase=Z.lowerCase,c.lowerFirst=Z.lowerFirst,c.lt=M.lt,c.lte=M.lte,c.max=Q.max,c.maxBy=Q.maxBy,c.mean=Q.mean,c.meanBy=Q.meanBy,c.min=Q.min,c.minBy=Q.minBy,c.stubArray=I.stubArray,c.stubFalse=I.stubFalse,c.stubObject=I.stubObject,c.stubString=I.stubString,c.stubTrue=I.stubTrue,c.multiply=Q.multiply,c.nth=E.nth,c.noop=I.noop,c.now=cg.now,c.pad=Z.pad,c.padEnd=Z.padEnd,c.padStart=Z.padStart,c.parseInt=Z.parseInt,c.random=ii.random,c.reduce=F.reduce,c.reduceRight=F.reduceRight,c.repeat=Z.repeat,c.replace=Z.replace,c.result=S.result,c.round=Q.round,c.sample=F.sample,c.size=F.size,c.snakeCase=Z.snakeCase,c.some=F.some,c.sortedIndex=E.sortedIndex,c.sortedIndexBy=E.sortedIndexBy,c.sortedIndexOf=E.sortedIndexOf,c.sortedLastIndex=E.sortedLastIndex,c.sortedLastIndexBy=E.sortedLastIndexBy,c.sortedLastIndexOf=E.sortedLastIndexOf,c.startCase=Z.startCase,c.startsWith=Z.startsWith,c.subtract=Q.subtract,c.sum=Q.sum,c.sumBy=Q.sumBy,c.template=Z.template,c.times=I.times,c.toFinite=M.toFinite,c.toInteger=N,c.toLength=M.toLength,c.toLower=Z.toLower,c.toNumber=M.toNumber,c.toSafeInteger=M.toSafeInteger,c.toString=M.toString,c.toUpper=Z.toUpper,c.trim=Z.trim,c.trimEnd=Z.trimEnd,c.trimStart=Z.trimStart,c.truncate=Z.truncate,c.unescape=Z.unescape,c.uniqueId=I.uniqueId,c.upperCase=Z.upperCase,c.upperFirst=Z.upperFirst,c.each=F.forEach,c.eachRight=F.forEachRight,c.first=E.head,hi(c,function(){var e={};return(0,Oe.Z)(c,function(t,n){ml.call(c.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),c.VERSION=$b,(c.templateSettings=Z.templateSettings).imports._=c,(0,ce.Z)(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){c[e].placeholder=c}),(0,ce.Z)(["drop","take"],function(e,t){C.prototype[e]=function(n){n=n===void 0?1:i7(N(n),0);var r=this.__filtered__&&!t?new C(this):this.clone();return r.__filtered__?r.__takeCount__=wl(n,r.__takeCount__):r.__views__.push({size:wl(n,yl),type:e+(r.__dir__<0?"Right":"")}),r},C.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),(0,ce.Z)(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==e7||n==t7;C.prototype[e]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:(0,T.Z)(i,3),type:n}),o.__filtered__=o.__filtered__||r,o}}),(0,ce.Z)(["head","last"],function(e,t){var n="take"+(t?"Right":"");C.prototype[e]=function(){return this[n](1).value()[0]}}),(0,ce.Z)(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");C.prototype[e]=function(){return this.__filtered__?new C(this):this[n](1)}}),C.prototype.compact=function(){return this.filter(he.Z)},C.prototype.find=function(e){return this.filter(e).head()},C.prototype.findLast=function(e){return this.reverse().find(e)},C.prototype.invokeMap=(0,P.Z)(function(e,t){return typeof e=="function"?new C(this):this.map(function(n){return jt(n,e,t)})}),C.prototype.reject=function(e){return this.filter(Gt((0,T.Z)(e)))},C.prototype.slice=function(e,t){e=N(e);var n=this;return n.__filtered__&&(e>0||t<0)?new C(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==void 0&&(t=N(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},C.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},C.prototype.toArray=function(){return this.take(yl)},(0,Oe.Z)(C.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=c[r?"take"+(t=="last"?"Right":""):t],o=r||/^find/.test(t);i&&(c.prototype[t]=function(){var a=this.__wrapped__,s=r?[1]:arguments,l=a instanceof C,u=s[0],f=l||(0,R.Z)(a),d=function(y){var x=i.apply(c,(0,Ke.Z)([y],s));return r&&h?x[0]:x};f&&n&&typeof u=="function"&&u.length!=1&&(l=f=!1);var h=this.__chain__,p=!!this.__actions__.length,g=o&&!h,v=l&&!p;if(!o&&f){a=v?a:new C(this);var _=e.apply(a,s);return _.__actions__.push({func:Yt,args:[d],thisArg:void 0}),new Se(_,h)}return g&&v?e.apply(this,s):(_=this.thru(d),g?r?_.value()[0]:_.value():_)})}),(0,ce.Z)(["pop","push","shift","sort","splice","unshift"],function(e){var t=n7[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);c.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply((0,R.Z)(o)?o:[],i)}return this[n](function(a){return t.apply((0,R.Z)(a)?a:[],i)})}}),(0,Oe.Z)(C.prototype,function(e,t){var n=c[t];if(n){var r=n.name+"";ml.call(yt,r)||(yt[r]=[]),yt[r].push({name:t,func:n})}}),yt[Dr(void 0,qb).name]=[{name:"wrapper",func:void 0}],C.prototype.clone=jb,C.prototype.reverse=kb,C.prototype.value=Qb,c.prototype.at=me.at,c.prototype.chain=me.wrapperChain,c.prototype.commit=me.commit,c.prototype.next=me.next,c.prototype.plant=me.plant,c.prototype.reverse=me.reverse,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=me.value,c.prototype.first=c.prototype.head,xl&&(c.prototype[xl]=me.toIterator);var bl=c,El={width:40,height:40},Ml={width:40,height:40},Al={width:100,height:80},zn={width:100,height:80},Sl={width:100,height:80},Tl={width:100,height:80},Nl={width:100,height:80},Pl={width:100,height:80},Ol={width:100,height:80},Cl={width:100,height:80},IE={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},$=function(){};$.ObjTree=function(){return this},$.ObjTree.VERSION="0.23",$.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,$.ObjTree.prototype.attr_prefix="-",$.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e),t=n.documentElement);if(t){var i=this.parseDOM(t);return i}},$.ObjTree.prototype.parseHTTP=function(e,t,n){var r={};for(var i in t)r[i]=t[i];if(r.method||(typeof r.postBody=="undefined"&&typeof r.postbody=="undefined"&&typeof r.parameters=="undefined"?r.method="get":r.method="post"),n){r.asynchronous=!0;var o=this,a=n,s=r.onComplete;r.onComplete=function(f){var d;f&&f.responseXML&&f.responseXML.documentElement&&(d=o.parseDOM(f.responseXML.documentElement)),a(d,f),s&&s(f)}}else r.asynchronous=!1;var l;if(typeof HTTP!="undefined"&&HTTP.Request){r.uri=e;var u=new HTTP.Request(r);u&&(l=u.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var u=new Ajax.Request(e,r);u&&(l=u.transport)}if(n)return l;if(l&&l.responseXML&&l.responseXML.documentElement)return this.parseDOM(l.responseXML.documentElement)},$.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),e.nodeType!==11){var r={};r[e.nodeName]=n,n=r}return n}},$.ObjTree.prototype.parseElement=function(e){if(e.nodeType!==7){if(e.nodeType===3||e.nodeType===4||e.nodeType===8){var t=e.nodeValue.match(/[^\x00-\x20]/);return t==null?void 0:e.nodeValue}var n=null,r={};if(e.attributes&&e.attributes.length){n={};for(var i=0;i<e.attributes.length;i++){var o=e.attributes[i].nodeName;if(typeof o=="string"){var a=e.attributes[i].nodeValue;try{a=JSON.parse(e.attributes[i].nodeValue.replace(/'/g,'"'))}catch(u){a=e.attributes[i].nodeValue}a!=null&&(o=this.attr_prefix+o,typeof r[o]=="undefined"&&(r[o]=0),r[o]++,this.addNode(n,o,r[o],a))}}}if(e.childNodes&&e.childNodes.length){var s=!0;n&&(s=!1);for(var i=0;i<e.childNodes.length&&s;i++){var l=e.childNodes[i].nodeType;l===3||l===4||l===8||(s=!1)}if(s){n||(n="");for(var i=0;i<e.childNodes.length;i++)n+=e.childNodes[i].nodeValue}else{n||(n={});for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i].nodeName;if(typeof o=="string"){var a=this.parseElement(e.childNodes[i]);a&&(typeof r[o]=="undefined"&&(r[o]=0),r[o]++,this.addNode(n,o,r[o],a))}}}}else n===null&&(n={});return n}},$.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(n===1&&(e[t]=[]),e[t][e[t].length]=r):n===1?e[t]=r:n===2?e[t]=[e[t],r]:e[t][e[t].length]=r},$.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},$.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var i in t)if(t!=null&&t.hasOwnProperty(i)){var o=t[i];i.charAt(0)!==this.attr_prefix?typeof o=="undefined"||o==null?n[n.length]="<"+i+" />":typeof o=="object"&&o.constructor===Array?n[n.length]=this.array_to_xml(i,o):typeof o=="object"?n[n.length]=this.hash_to_xml(i,o):n[n.length]=this.scalar_to_xml(i,o):r[r.length]=" "+i.substring(1)+'="'+this.xml_escape(o)+'"'}var a=r.join(""),s=n.join("");return typeof e=="undefined"||e==null||(n.length>0?s.match(/\n/)?s="<"+e+a+`>
`+s+"</"+e+`>
`:s="<"+e+a+">"+s+"</"+e+`>
`:s="<"+e+a+` />
`),s},$.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];typeof i=="undefined"||i==null?n[n.length]="<"+e+" />":typeof i=="object"&&i.constructor===Array?n[n.length]=this.array_to_xml(e,i):typeof i=="object"?n[n.length]=this.hash_to_xml(e,i):n[n.length]=this.scalar_to_xml(e,i)}return n.join("")},$.ObjTree.prototype.scalar_to_xml=function(e,t){return e==="#text"?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+`>
`},$.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var o7=function(e){return new $.ObjTree().parseXML(e)};function Rl(e){return Object.prototype.toString.call(e)}function Zl(e){return"  ".repeat(e)}function Xn(e){return Rl(e)==="[object Object]"?Object.keys(e).reduce(function(t,n){var r=n;return n.charAt(0)==="-"&&(r=n.substring(1)),t[r]=Xn(e[n]),t},{}):Array.isArray(e)?e.map(function(t){return Xn(t)}):e}function a7(e){var t=e;try{typeof t!="string"&&(t=JSON.parse(e))}catch(n){t=JSON.stringify(Xn(e)).replace(/"/g,"'")}return t}var Il=`	
`;function Un(e,t,n){var r=Zl(n),i="",o=Il+r;if(t==="-json")return"";if(t==="#text")return o+e;if(t==="#cdata-section")return o+"<![CDATA["+e+"]]>";if(t==="#comment")return o+"<!--"+e+"-->";if((""+t).charAt(0)==="-")return" "+t.substring(1)+'="'+a7(e)+'"';if(Array.isArray(e))i+=e.map(function(u){return Un(u,t,n+1)}).join("");else if(Rl(e)==="[object Object]"){var a=Object.keys(e),s="",l=e["-json"]?Il+Zl(n+1)+e["-json"]:"";i+=(n===0?"":o)+"<"+t,a.forEach(function(u){u.charAt(0)==="-"?s+=Un(e[u],u,n+1):l+=Un(e[u],u,n+1)}),i+=s+(l!==""?">"+l+o+"</"+t+">":" />")}else i+=o+"<"+t+">"+e.toString()+"</"+t+">";return i}function s7(e){var t="";for(var n in e)t+=Un(e[n],n,0);return t}var l7=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ci=function(){return ci=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ci.apply(this,arguments)},Ll=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},pi=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Et=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Mt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Et(arguments[t]));return e},q;(function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",e.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",e.BOUNDARY="bpmn:boundaryEvent",e.PARALLEL_GATEWAY="bpmn:parallelGateway",e.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",e.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow",e.SUBPROCESS="bpmn:subProcess"})(q||(q={}));var Dl=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],u7=["properties","startPoint","endPoint","pointsList"],Hn={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},Bl=function(e,t){var n=Object.keys(t||{});return n.forEach(function(r){if(e[r]){var i=t[r],o=i.in,a=i.out;o&&(e[r].in=o),a&&(e[r].out=a)}else e[r]=t[r]}),e},fe={"bpmn:startEvent":{out:function(e){var t,n,r=e.properties;return((n=(t=fe[r.definitionType])===null||t===void 0?void 0:t.out)===null||n===void 0?void 0:n.call(t,e))||{}}},"bpmn:intermediateCatchEvent":{out:function(e){var t,n,r=e.properties;return((n=(t=fe[r.definitionType])===null||t===void 0?void 0:t.out)===null||n===void 0?void 0:n.call(t,e))||{}}},"bpmn:intermediateThrowEvent":{out:function(e){var t,n,r=e.properties;return((n=(t=fe[r.definitionType])===null||t===void 0?void 0:t.out)===null||n===void 0?void 0:n.call(t,e))||{}}},"bpmn:boundaryEvent":{out:function(e){var t,n,r=e.properties;return((n=(t=fe[r.definitionType])===null||t===void 0?void 0:t.out)===null||n===void 0?void 0:n.call(t,e))||{}}},"bpmn:sequenceFlow":{out:function(e){var t=e.properties,n=t.expressionType,r=t.condition;return r?n==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+r+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+r+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(e){var t=e.properties,n=t.timerType,r=t.timerValue,i=t.definitionId,o=function(){return"<bpmn:"+n+' xsi:type="bpmn:tFormalExpression">'+r+"</bpmn:"+n+">"};return{json:'<bpmn:timerEventDefinition id="'+i+'"'+(n&&r?">"+o()+"</bpmn:timerEventDefinition>":"/>")}},in:function(e,t){var n,r,i,o,a=e,s=t["-id"],l="",u="";try{for(var f=pi(Object.keys(t)),d=f.next();!d.done;d=f.next()){var h=d.value;h.includes("bpmn:")&&(i=Et(h.split(":"),2),l=i[1],u=(o=t[h])===null||o===void 0?void 0:o["#text"])}}catch(p){n={error:p}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return{"-definitionId":s,"-definitionType":a,"-timerType":l,"-timerValue":u}}},"bpmn:conditionExpression":{in:function(e,t){var n,r="",i="";return t["#cdata-section"]?(i="cdata",r=((n=/^\$\{(.*)\}$/g.exec(t["#cdata-section"]))===null||n===void 0?void 0:n[1])||""):t["#text"]&&(i="normal",r=t["#text"]),{"-condition":r,"-expressionType":i}}}};function d7(e){var t=e!=null?e:{},n=t.retainedAttrsFields,r=t.excludeFields,i=t.transformer,o=new Set(Mt(u7,n||[])),a={in:new Set(Mt(Hn.in,(r==null?void 0:r.in)||[])),out:new Set(Mt(Hn.out,(r==null?void 0:r.out)||[]))};return fe=Bl(fe,i),function(s){var l=s.nodes,u=s.edges;function f(d,h){var p,g,v;if((d==null?void 0:d.flag)!==1){var _;if((_=fe[d.type])&&_.out){var y=_.out(d),x=Object.keys(y);x.length>0&&x.forEach(function(B){d[B]=y[B]})}d!=null&&d.children&&(d.children=d.children.map(function(B){var Ce=l.find(function(xe){return xe.id===B})||u.find(function(xe){return xe.id===B});return Ce||{}}));var b={};if(typeof d=="string")return d;if(Array.isArray(d))return d.map(function(B){return f(B,"")}).filter(function(B){return B!=null});try{for(var A=pi(Object.entries(d)),O=A.next();!O.done;O=A.next()){var Y=Et(O.value,2),j=Y[0],L=Y[1];if(((v=L)===null||v===void 0?void 0:v.flag)===1)return;var G=[h,j].filter(function(B){return B}).join(".");a.out.has(G)||(typeof L!="object"?j.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(j)?b[j]=L:b["-"+j]=L:o.has(G)?b["-"+j]=f(L,G):b[j]=f(L,G))}}catch(B){p={error:B}}finally{try{O&&!O.done&&(g=A.return)&&g.call(A)}finally{if(p)throw p.error}}return b}}return f(s,"")}}function Yn(e){var t,n,r={};try{for(var i=pi(Object.entries(e)),o=i.next();!o.done;o=i.next()){var a=Et(o.value,2),s=a[0],l=a[1];s.indexOf("-")===0?r[s.substring(1)]=Xn(l):typeof l=="string"?r[s]=l:Object.prototype.toString.call(l)==="[object Object]"?r[s]=Yn(l):Array.isArray(l)?r[s]=l.map(function(u){return Yn(u)}):r[s]=l}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function f7(e,t,n){var r,i=new Map,o=d7(n)(t);o.nodes.forEach(function(s){var l=s["-id"],u=s["-type"],f=s.text,d=s.children,h=Ll(s,["-id","-type","text","children"]),p={"-id":l};f!=null&&f["-value"]&&(p["-name"]=f["-value"]),h["-json"]&&(p["-json"]=h["-json"]),h["-properties"]&&Object.assign(p,h["-properties"]),d&&(p.children=d),e[u]||(e[u]=[]),e[u].push(p),i.set(l,p)});var a=o.edges.map(function(s){var l=s["-id"],u=s["-type"],f=s["-sourceNodeId"],d=s["-targetNodeId"],h=s.text,p=Ll(s,["-id","-type","-sourceNodeId","-targetNodeId","text"]),g=i.get(d);g["bpmn:incoming"]||(g["bpmn:incoming"]=[]),g["bpmn:incoming"].push(l);var v={"-id":l,"-sourceRef":f,"-targetRef":d};return h!=null&&h["-value"]&&(v["-name"]=h["-value"]),p["-json"]&&(v["-json"]=p["-json"]),p["-properties"]&&Object.assign(v,p["-properties"]),v});return t.edges.forEach(function(s){var l=s.sourceNodeId,u=s.id,f=i.get(l);f["bpmn:outgoing"]||(f["bpmn:outgoing"]=[]),f["bpmn:outgoing"].push(u)}),(r=e["bpmn:subProcess"])===null||r===void 0||r.forEach(function(s){var l={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},u=[];s.children.forEach(function(v){var _,y=i.get(v["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(b){y[b]&&y[b].forEach(function(A){l[b].add(A)})});var x=(_=e[v["-type"]])===null||_===void 0?void 0:_.findIndex(function(b){return b["-id"]===v["-id"]});x>=0&&e[v["-type"]].splice(x,1),i.delete(v["-id"]),s[v["-type"]]||(s[v["-type"]]=[]),s[v["-type"]].push(y)});var f=l["bpmn:incoming"],d=l["bpmn:outgoing"];d.forEach(function(v){f.has(v)&&u.push(v)});for(var h=function(v){var _=a.findIndex(function(y){return y["-id"]===u[v]});_>=0?(s["bpmn:sequenceFlow"]||(s["bpmn:sequenceFlow"]=[]),s["bpmn:sequenceFlow"].push(a[_]),a.splice(_,1)):v++,p=v},p,g=0;g<u.length;)h(g),g=p;delete s.children}),e[q.FLOW]=a,e}function h7(e,t){e["bpmndi:BPMNEdge"]=t.edges.map(function(n){var r,i=n.id,o=n.pointsList.map(function(s){var l=s.x,u=s.y;return{"-x":l,"-y":u}}),a={"-id":i+"_di","-bpmnElement":i,"di:waypoint":o};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),e["bpmndi:BPMNShape"]=t.nodes.map(function(n){var r,i=n.id,o=100,a=80,s=n.x,l=n.y,u=ne.shapeConfigMap.get(n.type);u&&(o=u.width,a=u.height),s-=o/2,l-=a/2;var f={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":s,"-y":l,"-width":o,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),f})}var c7=["bpmn:incoming","bpmn:outgoing"];function p7(e,t){var n=[],r=[],i=new Map,o=t!=null?t:{},a=o.transformer,s=o.excludeFields,l={in:new Set(Mt(Hn.in,(s==null?void 0:s.in)||[])),out:new Set(Mt(Hn.out,(s==null?void 0:s.out)||[]))};fe=Bl(fe,a);var u=e["bpmn:definitions"];if(u){var f=u["bpmn:process"];(function(h,p){p.forEach(function(g){try{Object.keys(h).forEach(function(v){try{g(v)}catch(_){console.error(_)}})}catch(v){console.error(v)}})})(f,[function(h){function p(v){v["-children"]||(v["-children"]=[]),Object.keys(v).forEach(function(_){var y;_.indexOf("bpmn:")===0&&!c7.includes(_)&&(f[_]||(f[_]=[]),!Array.isArray(f[_])&&(f[_]=[f[_]]),Array.isArray(v[_])?(y=f[_]).push.apply(y,Mt(v[_])):f[_].push(v[_]),Array.isArray(v[_])?v[_].forEach(function(x){!_.includes("Flow")&&v["-children"].push(x["-id"])}):!_.includes("Flow")&&v["-children"].push(v[_]["-id"]),delete v[_])})}if(h==="bpmn:subProcess"){var g=f[h];Array.isArray(g)?g.forEach(function(v){h==="bpmn:subProcess"&&p(v)}):p(g)}},function(h){var p=function(v){Object.keys(v).forEach(function(_){var y,x;if(_.includes("bpmn:")){var b={};fe[_]&&fe[_].in?(b=(x=(y=fe[_]).in)===null||x===void 0?void 0:x.call(y,_,bl.cloneDeep(v[_])),delete v[_]):g(v[_]);var A=void 0;(A=Reflect.ownKeys(b)).length>0&&A.forEach(function(O){Reflect.set(v,O,b[O])})}})};function g(v){i.set(v["-id"],v),Array.isArray(v)?v.forEach(function(_){g(_)}):typeof v=="object"&&p(v)}g(f[h])},function(h){if(h.indexOf("bpmn:")===0){var p=f[h];if(h==="bpmn:sequenceFlow"){var g=u["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=g7(p,g)}else{var v=u["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(h==="bpmn:boundaryEvent"){var _=f[h],y=function(x){var b=x["-attachedToRef"],A=i.get(b);A["-boundaryEvents"]||(A["-boundaryEvents"]=[]),A["-boundaryEvents"].push(x["-id"])};Array.isArray(_)?_.forEach(function(x){y(x)}):y(_)}n=n.concat(v7(p,v,h))}}}])}var d=function(h,p,g){Object.keys(h).forEach(function(v){var _=g?g+"."+v:v;p.has(_)?delete h[v]:typeof h[v]=="object"&&d(h[v],p,_)})};return n.forEach(function(h){var p,g;if(!((p=t==null?void 0:t.mapping)===null||p===void 0)&&p.in){var v=(g=t==null?void 0:t.mapping)===null||g===void 0?void 0:g.in,_=h.type;v[_]&&(h.type=v[_])}d(h,l.in,"")}),r.forEach(function(h){var p,g;if(!((p=t==null?void 0:t.mapping)===null||p===void 0)&&p.in){var v=(g=t==null?void 0:t.mapping)===null||g===void 0?void 0:g.in,_=h.type;v[_]&&(h.type=v[_])}d(h,l.in,"")}),{nodes:n,edges:r}}function v7(e,t,n){var r=[];if(Array.isArray(e))e.forEach(function(a){var s;Array.isArray(t)?s=t.find(function(u){return u["-bpmnElement"]===a["-id"]}):s=t;var l=Fl(s,n,a);r.push(l)});else{var i=void 0;Array.isArray(t)?i=t.find(function(a){return a["-bpmnElement"]===e["-id"]}):i=t;var o=Fl(i,n,e);r.push(o)}return r}function Fl(e,t,n){var r=Number(e["dc:Bounds"]["-x"]),i=Number(e["dc:Bounds"]["-y"]),o=n["-children"],a=n["-name"],s=ne.shapeConfigMap.get(t);s&&(r+=s.width/2,i+=s.height/2);var l={};Object.entries(n).forEach(function(h){var p=Et(h,2),g=p[0],v=p[1];Dl.includes(g)||(l[g]=v)}),l=Yn(l);var u;if(a&&(u={x:r,y:i,value:a},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var f=e["bpmndi:BPMNLabel"]["dc:Bounds"];u.x=Number(f["-x"])+Number(f["-width"])/2,u.y=Number(f["-y"])+Number(f["-height"])/2}var d={id:e["-bpmnElement"],type:t,x:r,y:i,properties:l};return o&&(d.children=o),u&&(d.text=u),d}function g7(e,t){var n=[];if(Array.isArray(e))e.forEach(function(i){var o;Array.isArray(t)?o=t.find(function(a){return a["-bpmnElement"]===i["-id"]}):o=t,n.push(Wl(o,i))});else{var r=void 0;Array.isArray(t)?r=t.find(function(i){return i["-bpmnElement"]===e["-id"]}):r=t,n.push(Wl(r,e))}return n}function Wl(e,t){var n,r=t["-name"];if(r){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],o=0;r.split(`
`).forEach(function(u){o<u.length&&(o=u.length)}),n={value:r,x:Number(i["-x"])+o*10/2,y:Number(i["-y"])+7}}var a={};Object.entries(t).forEach(function(u){var f=Et(u,2),d=f[0],h=f[1];Dl.includes(d)||(a[d]=h)}),a=Yn(a);var s=e["di:waypoint"].map(function(u){return{x:Number(u["-x"]),y:Number(u["-y"])}}),l={id:t["-id"],type:q.FLOW,pointsList:s,sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:a};return n&&(l.text=n),l}var ne=function(){function e(t){var n=this,r=t.lf;this.adapterOut=function(i,o){var a,s,l=ci({},n.processAttributes);f7(l,i,o);var u={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};h7(u,i);var f=n.definitionAttributes;f["bpmn:process"]=l,f["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u};var d={"bpmn:definitions":f};if(!((a=o==null?void 0:o.mapping)===null||a===void 0)&&a.out){var h=(s=o==null?void 0:o.mapping)===null||s===void 0?void 0:s.out,p=function(g){Array.isArray(g)&&g.forEach(function(v){return p(v)}),typeof g=="object"&&Object.keys(g).forEach(function(v){var _;(_=h[v])?(g[_]=bl.cloneDeep(g[v]),delete g[v],p(g[_])):p(g[v])})};p(d)}return d},this.adapterIn=function(i,o){if(i)return p7(i,o)},r.adapterIn=this.adapterIn,r.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return e.prototype.setCustomShape=function(t,n){e.shapeConfigMap.set(t,n)},e.pluginName="bpmn-adapter",e.shapeConfigMap=new Map,e}();ne.shapeConfigMap.set(q.START,{width:El.width,height:El.height}),ne.shapeConfigMap.set(q.END,{width:Ml.width,height:Ml.height}),ne.shapeConfigMap.set(q.INTERMEDIATE_CATCH,{width:zn.width,height:zn.height}),ne.shapeConfigMap.set(q.INTERMEDIATE_THROW,{width:zn.width,height:zn.height}),ne.shapeConfigMap.set(q.BOUNDARY,{width:Al.width,height:Al.height}),ne.shapeConfigMap.set(q.PARALLEL_GATEWAY,{width:Sl.width,height:Sl.height}),ne.shapeConfigMap.set(q.INCLUSIVE_GATEWAY,{width:Tl.width,height:Tl.height}),ne.shapeConfigMap.set(q.EXCLUSIVE_GATEWAY,{width:Nl.width,height:Nl.height}),ne.shapeConfigMap.set(q.SYSTEM,{width:Pl.width,height:Pl.height}),ne.shapeConfigMap.set(q.USER,{width:Ol.width,height:Ol.height}),ne.shapeConfigMap.set(q.SUBPROCESS,{width:Cl.width,height:Cl.height});var LE=function(e){l7(t,e);function t(n){var r=e.call(this,n)||this;r.adapterXmlIn=function(a){var s=o7(a);return r.adapterIn(s,r.props)},r.adapterXmlOut=function(a){var s=r.adapterOut(a,r.props);return s7(s)};var i=n.lf,o=n.props;return i.adapterIn=r.adapterXmlIn,i.adapterOut=r.adapterXmlOut,r.props=o,r}return t.pluginName="BPMNAdapter",t}(ne),DE=null,_7=function(){function e(t){var n=this,r=t.lf;this.lf=r,this.customCssRules="",this.useGlobalRules=!0,r.getSnapshot=function(i,o){n.getSnapshot(i,o)},r.getSnapshotBlob=function(i){return n.getSnapshotBlob(i)},r.getSnapshotBase64=function(i){return n.getSnapshotBase64(i)}}return e.prototype.getSvgRootElement=function(t){var n=t.container.querySelector(".lf-canvas-overlay");return n},e.prototype.triggerDownload=function(t){var n=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download",this.fileName),r.setAttribute("href",t),r.setAttribute("target","_blank"),r.dispatchEvent(n)},e.prototype.removeAnchor=function(t){for(var n=t.childNodes,r=t.childNodes&&t.childNodes.length,i=0;i<r;i++){var o=n[i],a=o.classList&&Array.from(o.classList)||[];a.indexOf("lf-anchor")>-1&&(t.removeChild(t.childNodes[i]),r--,i--)}},e.prototype.removeRotateControl=function(t){for(var n=t.childNodes,r=t.childNodes&&t.childNodes.length,i=0;i<r;i++){var o=n[i],a=o.classList&&Array.from(o.classList)||[];a.indexOf("lf-rotate-control")>-1&&(t.removeChild(t.childNodes[i]),r--,i--)}},e.prototype.getSnapshot=function(t,n){var r=this;this.fileName=t||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,n).then(function(o){var a=o.toDataURL("image/png").replace("image/png","image/octet-stream");r.triggerDownload(a)})},e.prototype.getSnapshotBase64=function(t){var n=this,r=this.getSvgRootElement(this.lf);return new Promise(function(i){n.getCanvasData(r,t).then(function(o){var a=o.toDataURL("image/png");i({data:a,width:o.width,height:o.height})})})},e.prototype.getSnapshotBlob=function(t){var n=this,r=this.getSvgRootElement(this.lf);return new Promise(function(i){n.getCanvasData(r,t).then(function(o){o.toBlob(function(a){i({data:a,width:o.width,height:o.height})},"image/png")})})},e.prototype.getClassRules=function(){var t="";if(this.useGlobalRules)for(var n=document.styleSheets,r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.cssRules.length;o++)t+=i.cssRules[o].cssText;return this.customCssRules&&(t+=this.customCssRules),t},e.prototype.getCanvasData=function(t,n){var r=this,i=t.cloneNode(!0),o=i.lastChild,a=o.childNodes&&o.childNodes.length;if(a)for(var s=0;s<a;s++){var l=o.childNodes[s],u=l.classList&&Array.from(l.classList);if(u&&u.indexOf("lf-base")<0)o.removeChild(o.childNodes[s]),a--,s--;else{var f=o.childNodes[s];f&&f.childNodes.forEach(function(en){var Jn=en;r.removeAnchor(Jn.firstChild),r.removeRotateControl(Jn.firstChild)})}}var d=window.devicePixelRatio||1;d<1&&(d=1);var h=document.createElement("canvas"),p=this.lf.graphModel.rootEl.querySelector(".lf-base"),g=p.getBoundingClientRect(),v=this.lf.container.querySelector(".lf-canvas-overlay").getBoundingClientRect(),_=g.x-v.x,y=g.y-v.y,x=this.lf.graphModel,b=x.transformModel,A=b.SCALE_X,O=b.SCALE_Y,Y=b.TRANSLATE_X,j=b.TRANSLATE_Y;i.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-_+Y)*(1/A)+10)+", "+((-y+j)*(1/O)+10)+")";var L=Math.ceil(g.width/A),G=Math.ceil(g.height/O);h.style.width=L+"px",h.style.height=G+"px",h.width=L*d+80,h.height=G*d+80;var B=h.getContext("2d");B.clearRect(0,0,h.width,h.height),B.scale(d,d),n?(B.fillStyle=n,B.fillRect(0,0,L*d+80,G*d+80)):B.clearRect(0,0,L,G);var Ce=new Image,xe=document.createElement("style");xe.innerHTML=this.getClassRules();var Yl=document.createElement("foreignObject");return Yl.appendChild(xe),i.appendChild(Yl),new Promise(function(en){Ce.onload=function(){var uE=navigator.userAgent.indexOf("Firefox")>-1;try{uE?createImageBitmap(Ce,{resizeWidth:h.width,resizeHeight:h.height}).then(function(Vl){B.drawImage(Vl,0,0),en(h)}):(B.drawImage(Ce,0,0),en(h))}catch(Vl){B.drawImage(Ce,0,0),en(h)}};var Jn="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),lE=Jn.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Ce.src=lE})},e.pluginName="snapshot",e}(),BE=null,At=function(){return At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},At.apply(this,arguments)},y7=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},St={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},jl={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function Gl(e){switch(e){case"bpmn:sequenceFlow":return St.SEQUENCE_FLOW;case"bpmn:startEvent":return St.START_EVENT;case"bpmn:endEvent":return St.END_EVENT;case"bpmn:userTask":return St.USER_TASK;case"bpmn:exclusiveGateway":return St.EXCLUSIVE_GATEWAY;default:return e}}function m7(e){var t=e.id,n=e.type,r=e.x,i=e.y,o=e.text,a=o===void 0?"":o,s=e.properties;return{incoming:[],outgoing:[],dockers:[],type:Gl(e.type),properties:At(At({},s),{name:a&&a.value||"",x:r,y:i,text:a}),key:t}}function x7(e){var t=e.id,n=e.type,r=e.sourceNodeId,i=e.targetNodeId,o=e.startPoint,a=e.endPoint,s=e.pointsList,l=e.text,u=l===void 0?"":l,f=e.properties;return{incoming:[r],outgoing:[i],type:Gl(n),dockers:[],properties:At(At({},f),{name:u&&u.value||"",text:u,startPoint:JSON.stringify(o),endPoint:JSON.stringify(a),pointsList:JSON.stringify(s)}),key:t}}function w7(e){var t=new Map,n={flowElementList:[]};return e.nodes.forEach(function(r){var i=m7(r);n.flowElementList.push(i),t.set(r.id,i)}),e.edges.forEach(function(r){var i=x7(r),o=t.get(r.sourceNodeId);o.outgoing.push(i.key);var a=t.get(r.targetNodeId);a.incoming.push(i.key),n.flowElementList.push(i)}),n}function b7(e){var t=e.incoming,n=e.outgoing,r=e.properties,i=e.key,o=e.type,a=r.text,s=r.name,l=r.startPoint,u=r.endPoint,f=r.pointsList,d={id:i,type:jl[o],sourceNodeId:t[0],targetNodeId:n[0],text:a||s,properties:{}};l&&(d.startPoint=JSON.parse(l)),u&&(d.endPoint=JSON.parse(u)),f&&(d.pointsList=JSON.parse(f));var h=["startPoint","endPoint","pointsList","text"];return Object.keys(e.properties).forEach(function(p){h.indexOf(p)===-1&&(d.properties[p]=e.properties[p])}),d}function E7(e){var t=e.properties,n=e.key,r=e.type,i=e.bounds,o=t.x,a=t.y,s=t.text;if(o===void 0){var l=y7(i,2),u=l[0],f=u.x,d=u.y,h=l[1],p=h.x,g=h.y;o=(f+p)/2,a=(d+g)/2}var v={id:n,type:jl[r],x:o,y:a,text:s,properties:{}},_=["x","y","text"];return Object.keys(e.properties).forEach(function(y){_.indexOf(y)===-1&&(v.properties[y]=e.properties[y])}),v}function M7(e){var t={nodes:[],edges:[]},n=e.flowElementList;return n&&n.length>0&&n.forEach(function(r){if(r.type===St.SEQUENCE_FLOW){var i=b7(r);t.edges.push(i)}else{var o=E7(r);t.nodes.push(o)}}),t}var FE=function(){function e(t){var n=t.lf;n.adapterIn=this.adapterIn,n.adapterOut=this.adapterOut}return e.prototype.adapterOut=function(t){if(t)return w7(t)},e.prototype.adapterIn=function(t){if(t)return M7(t)},e.pluginName="turboAdapter",e}(),WE=null,Tt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Tt||(Tt={}));var A7=function(e,t,n,r){r===void 0&&(r=0);var i=T7(e,t,n);return i<=r};function kl(e){return e*e}function vi(e,t){return kl(e.x-t.x)+kl(e.y-t.y)}var S7=function(e,t,n){var r=vi(t,n);if(r===0)return vi(e,t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return i=Math.max(0,Math.min(1,i)),vi(e,{x:t.x+i*(n.x-t.x),y:t.y+i*(n.y-t.y)})},T7=function(e,t,n){return Math.sqrt(S7(e,t,n))},N7=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o={minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n};return o},P7=function(e,t){var n;return e.x===t.x?n=Tt.VERTICAL:e.y===t.y&&(n=Tt.HORIZONTAL),n},O7=function(e,t,n){var r=N7(e),i=P7(t,n),o=Math.max(t.x,n.x),a=Math.min(t.x,n.x),s=Math.max(t.y,n.y),l=Math.min(t.y,n.y),u=e.x,f=e.y,d=e.width,h=e.height;if(i===Tt.HORIZONTAL){if(o>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:t.x>n.x?u+d/2:u-d/2,y:t.y},endCrossPoint:{x:t.x>n.x?u-d/2:u+d/2,y:t.y}}}else if(i===Tt.VERTICAL&&s>=r.maxY&&l<=r.minY)return{startCrossPoint:{x:t.x,y:t.y>n.y?f+h/2:f-h/2},endCrossPoint:{x:t.x,y:t.y>n.y?f-h/2:f+h/2}}},C7=function(e,t,n){n===void 0&&(n=0);for(var r=e.x,i=e.y,o=t.pointsList,a=0;a<o.length-1;a++)if(A7({x:r,y:i},o[a],o[a+1],n)){var s=O7(e,o[a],o[a+1]);if(s)return{crossIndex:a+1,crossPoints:s}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},R7=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},zl=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R7(arguments[t]));return e},jE=function(){function e(t){var n=t.lf;this._lf=n,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return e.prototype.eventHandler=function(){var t=this;this.dndAdd&&this._lf.on("node:dnd-add",function(n){var r=n.data;t.insetNode(r)}),this.dropAdd&&this._lf.on("node:drop",function(n){for(var r=n.data,i=t._lf.graphModel.edges,o=r.id,a=!0,s=0;s<i.length;s++)if(i[s].sourceNodeId===o||i[s].targetNodeId===o){a=!1;break}a&&t.insetNode(r)})},e.prototype.checkRuleBeforeInsetNode=function(t,n,r,i,o){var a=this._lf.getNodeModelById(t),s=this._lf.getNodeModelById(n),l=a.getAnchorInfo(r),u=s.getAnchorInfo(i),f=a.isAllowConnectedAsSource(o,l,u),d=s.isAllowConnectedAsTarget(o,l,u),h=(0,m.formateAnchorConnectValidateData)(f),p=h.isAllPass,g=h.msg,v=(0,m.formateAnchorConnectValidateData)(d),_=v.isAllPass,y=v.msg;return{isPass:p&&_,sourceMsg:g,targetMsg:y}},e.prototype.insetNode=function(t){var n=this,r=this._lf.graphModel.edges,i=this._lf.getNodeModelById(t.id),o=i.getDefaultAnchor(),a=!o||o.length===0;if(a){this._lf.graphModel.eventCenter.emit(m.EventType.CONNECTION_NOT_ALLOWED,{data:t,msg:"\u81EA\u5B9A\u4E49\u7C7B\u578B\u8282\u70B9\u4E0D\u663E\u793A\u951A\u70B9\uFF0C\u4E5F\u4E0D\u5141\u8BB8\u5176\u4ED6\u8282\u70B9\u8FDE\u63A5\u5230\u6B64\u8282\u70B9"});return}for(var s=0;s<r.length;s++){var l=C7(i,r[s],this.deviation),u=l.crossIndex,f=l.crossPoints;if(u>=0){var d=r[s],h=d.sourceNodeId,p=d.targetNodeId,g=d.id,v=d.type,_=d.pointsList,y=d.sourceAnchorId,x=d.targetAnchorId,b=Ut(_[0]),A=Ut(f.startCrossPoint);this._lf.deleteEdge(g);var O=this.checkRuleBeforeInsetNode(h,p,y,x,t);if(this._lf.addEdge({type:v,sourceNodeId:h,targetNodeId:t.id,startPoint:b,endPoint:A,pointsList:zl(_.slice(0,u),[f.startCrossPoint])}),this._lf.addEdge({type:v,sourceNodeId:t.id,targetNodeId:p,startPoint:Ut(f.endCrossPoint),endPoint:Ut(_[_.length-1]),pointsList:zl([f.endCrossPoint],_.slice(u))}),O.isPass)break;this._lf.graphModel.eventCenter.emit(m.EventType.CONNECTION_NOT_ALLOWED,{data:t,msg:O.targetMsg||O.sourceMsg}),setTimeout(function(){n._lf.undo()},200);break}}},e.pluginName="insertNodeInPolyline",e}(),GE=null,Z7=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},I7=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Z7(arguments[t]));return e},L7=function(){function e(t){var n=this,r=t.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){n.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){n.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){n.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){n.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){n.lf.redo()}}],this.lf=r}return e.prototype.render=function(t,n){this.destroy();var r=this.getControlTool();this.toolEl=r,n.appendChild(r),this.domContainer=n},e.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},e.prototype.addItem=function(t){this.controlItems.push(t)},e.prototype.removeItem=function(t){var n=this.controlItems.findIndex(function(r){return r.key===t});return n==-1?null:this.controlItems.splice(n,1)[0]},e.prototype.getControlTool=function(){var t=this,n="lf-control-item",r="lf-control-item disabled",i=document.createElement("div"),o=[];return i.className="lf-control",this.controlItems.forEach(function(a){var s=document.createElement("div"),l=document.createElement("i"),u=document.createElement("span");switch(s.className=r,a.onClick&&(s.onclick=a.onClick.bind(null,t.lf)),a.onMouseEnter&&(s.onmouseenter=a.onMouseEnter.bind(null,t.lf)),a.onMouseLeave&&(s.onmouseleave=a.onMouseLeave.bind(null,t.lf)),l.className=a.iconClass,u.className="lf-control-text",u.title=a.title,u.innerText=a.text,s.append(l,u),a.text){case"\u4E0A\u4E00\u6B65":t.lf.on("history:change",function(f){var d=f.data.undoAble;s.className=d?n:r});break;case"\u4E0B\u4E00\u6B65":t.lf.on("history:change",function(f){var d=f.data.redoAble;s.className=d?n:r});break;default:s.className=n;break}o.push(s)}),i.append.apply(i,I7(o)),i},e.pluginName="control",e}(),kE=null,D7=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},B7=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D7(arguments[t]));return e},Vt="lf:defaultNodeMenu",Kt="lf:defaultEdgeMenu",Jt="lf:defaultGraphMenu",Xl="lf:defaultSelectionMenu",F7=function(){function e(t){var n=this,r=t.lf;this.lf=r;var i=r.options.isSilentMode;i||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(o){n.setMenuConfig(o)},this.lf.addMenuConfig=function(o){n.addMenuConfig(o)},this.lf.setMenuByType=function(o){n.setMenuByType(o)})}return e.prototype.init=function(){var t=this,n=[{text:"\u5220\u9664",callback:function(o){t.lf.deleteNode(o.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(o){t.lf.graphModel.editText(o.id)}},{text:"\u590D\u5236",callback:function(o){t.lf.cloneNode(o.id)}}];this.menuTypeMap.set(Vt,n);var r=[{text:"\u5220\u9664",callback:function(o){t.lf.deleteEdge(o.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(o){t.lf.graphModel.editText(o.id)}}];this.menuTypeMap.set(Kt,r),this.menuTypeMap.set(Jt,[]);var i=[{text:"\u5220\u9664",callback:function(o){t.lf.clearSelectElements(),o.edges.forEach(function(a){return t.lf.deleteEdge(a.id)}),o.nodes.forEach(function(a){return t.lf.deleteNode(a.id)})}}];this.menuTypeMap.set(Xl,i)},e.prototype.render=function(t,n){var r=this;t.options.isSilentMode||(this.__container=n,this.__currentData=null,this.__menuDOM.className="lf-menu",n.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var o=i.target;Array.from(o.classList).indexOf("lf-menu-item")===-1&&Array.from(o.classList).indexOf("lf-menu")===-1;)o=o.parentElement;Array.from(o.classList).indexOf("lf-menu-item")>-1?(o.onclickCallback(r.__currentData),r.__menuDOM.style.display="none",r.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var o=i.data,a=i.position,s=i.e,l=a.domOverlayPosition,u=l.x,f=l.y,d=o.id,h=r.lf.graphModel.getNodeModelById(d),p=[],g=r.menuTypeMap.get(h.type);h&&h.menu&&Array.isArray(h.menu)?p=h.menu:g?p=g:p=r.menuTypeMap.get(Vt),r.__currentData=o,r.showMenu(u,f,p,{width:h.width,height:h.height,clientX:s.clientX,clientY:s.clientY})}),this.lf.on("edge:contextmenu",function(i){var o=i.data,a=i.position,s=i.e,l=a.domOverlayPosition,u=l.x,f=l.y,d=o.id,h=r.lf.graphModel.getEdgeModelById(d),p=[],g=r.menuTypeMap.get(h.type);h&&h.menu&&Array.isArray(h.menu)?p=h.menu:g?p=g:p=r.menuTypeMap.get(Kt),r.__currentData=o,r.showMenu(u,f,p,{width:h.width,height:h.height,clientX:s.clientX,clientY:s.clientY})}),this.lf.on("blank:contextmenu",function(i){var o=i.position,a=r.menuTypeMap.get(Jt),s=o.domOverlayPosition,l=s.x,u=s.y;r.showMenu(l,u,a)}),this.lf.on("selection:contextmenu",function(i){var o=i.data,a=i.position,s=r.menuTypeMap.get(Xl),l=a.domOverlayPosition,u=l.x,f=l.y;r.__currentData=o,r.showMenu(u,f,s)}),this.lf.on("node:mousedown",function(){r.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){r.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){r.__menuDOM.style.display="none"}))},e.prototype.destroy=function(){var t;(t=this===null||this===void 0?void 0:this.__container)===null||t===void 0||t.removeChild(this.__menuDOM),this.__menuDOM=null},e.prototype.showMenu=function(t,n,r,i){if(!(!r||!r.length)){var o=this.__menuDOM;if(o.innerHTML="",o.append.apply(o,B7(this.__getMenuDom(r))),!!o.children.length){if(o.style.display="block",!i){o.style.top=n+"px",o.style.left=t+"px";return}var a=i.width,s=i.height,l=i.clientX,u=i.clientY,f=this.lf.graphModel,d=o.offsetWidth,h=!0,p=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,g=p-l,v=f.rootEl.getBoundingClientRect(),_=v.left+v.width;_<p&&(g=_-l),g<d&&(h=!1),h?o.style.left=t+"px":o.style.left=t-a+"px";var y=o.offsetHeight,x=!0,b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,A=b-u,O=v.top+v.height;O<b&&(A=O-u),A<y&&(x=!1),x?o.style.top=n+"px":o.style.top=n-s+"px"}}},e.prototype.setMenuByType=function(t){!t.type||!t.menu||this.menuTypeMap.set(t.type,t.menu)},e.prototype.__getMenuDom=function(t){var n=[];return t&&t.length>0&&t.forEach(function(r){var i=document.createElement("li");if(r.className?i.className="lf-menu-item "+r.className:i.className="lf-menu-item",r.icon===!0){var o=document.createElement("span");o.className="lf-menu-item-icon",i.appendChild(o)}var a=document.createElement("span");a.className="lf-menu-item-text",r.text&&(a.innerText=r.text),i.appendChild(a),i.onclickCallback=r.callback,n.push(i)}),n},e.prototype.setMenuConfig=function(t){t&&(t.nodeMenu!==void 0&&this.menuTypeMap.set(Vt,t.nodeMenu?t.nodeMenu:[]),t.edgeMenu!==void 0&&this.menuTypeMap.set(Kt,t.edgeMenu?t.edgeMenu:[]),t.graphMenu!==void 0&&this.menuTypeMap.set(Jt,t.graphMenu?t.graphMenu:[]))},e.prototype.addMenuConfig=function(t){if(t){if(Array.isArray(t.nodeMenu)){var n=this.menuTypeMap.get(Vt);this.menuTypeMap.set(Vt,n.concat(t.nodeMenu))}if(Array.isArray(t.edgeMenu)){var n=this.menuTypeMap.get(Kt);this.menuTypeMap.set(Kt,n.concat(t.edgeMenu))}if(Array.isArray(t.graphMenu)){var n=this.menuTypeMap.get(Jt);this.menuTypeMap.set(Jt,n.concat(t.graphMenu))}}},e.prototype.changeMenuItem=function(t,n){if(t==="add")this.addMenuConfig(n);else if(t==="reset")this.setMenuConfig(n);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},e.pluginName="menu",e}(),zE=null,W7=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},gi="menu-common",Ul=200,j7=100,XE=function(){function e(t){var n=this,r=t.lf;this.menuTypeMap=new Map,this.listenDelete=function(){n.hideContextMenu()},this.lf=r,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(gi,[]),this.lf.setContextMenuByType=function(i,o){n.setContextMenuByType(i,o)},this.lf.setContextMenuItems=function(i){n.setContextMenuItems(i)},this.lf.showContextMenu=function(i){n.showContextMenu(i)},this.lf.hideContextMenu=function(){n.hideContextMenu()}}return e.prototype.render=function(t,n){var r=this;this.container=n,t.on("node:click",function(i){var o=i.data;r._activeData=o,r.createContextMenu()}),t.on("edge:click",function(i){var o=i.data;r._activeData=o,r.createContextMenu()}),t.on("blank:click",function(){r.hideContextMenu()})},e.prototype.setContextMenuByType=function(t,n){this.menuTypeMap.set(t,n)},e.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},e.prototype.showContextMenu=function(t){if(!t||!t.id){console.warn("\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570");return}this._activeData=t,this.createContextMenu()},e.prototype.setContextMenuItems=function(t){this.menuTypeMap.set(gi,t)},e.prototype.getContextMenuPosition=function(){var t=this._activeData,n=this.lf.graphModel.getElement(t.id);if(!n){console.warn("\u627E\u4E0D\u5230\u5143\u7D20"+t.id);return}var r,i;if(n.BaseType==="edge"){r=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER;var o=n.getData();r=Math.max(o.startPoint.x,r),i=Math.min(o.startPoint.y,i),r=Math.max(o.endPoint.x,r),i=Math.min(o.endPoint.y,i),o.pointsList&&o.pointsList.forEach(function(a){r=Math.max(a.x,r),i=Math.min(a.y,i)})}return n.BaseType==="node"&&(r=t.x+n.width/2,i=t.y-n.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([r,i])},e.prototype.createContextMenu=function(){var t=this,n=this.lf.options.isSilentMode;if(!n){var r=this.menuTypeMap.get(this._activeData.type)||[];r=r.concat(this.menuTypeMap.get(gi));var i=document.createDocumentFragment();r.forEach(function(o){var a=document.createElement("div");a.className="lf-context-item";var s=document.createElement("img");s.src=o.icon,s.className="lf-context-img",o.className&&(a.className=a.className+" "+o.className),s.addEventListener("click",function(){t.hideContextMenu(),o.callback?o.callback(t._activeData):t.addNode({sourceId:t._activeData.id,x:t._activeData.x,y:t._activeData.y,properties:o.properties,type:o.type})}),a.appendChild(s),i.appendChild(a)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(i),this.showMenu()}},e.prototype.addNode=function(t,n){var r=n!==void 0;n===void 0&&(n=t.y);var i=this.lf.getNodeModelById(t.sourceId),o=t.x-i.width+Ul,a=n-t.y/2-20,s=t.x+i.width+Ul,l=n+t.y/2+20,u=this.lf.getAreaElement([o,a],[s,l]);if(u.length){n=n+j7,this.addNode(t,n);return}var f=this.lf.addNode({type:t.type,x:t.x+200,y:n,properties:t.properties}),d,h;r&&(d={x:t.x,y:t.y+i.height/2},h={x:f.x-f.width/2,y:f.y}),this.lf.addEdge({sourceNodeId:t.sourceId,targetNodeId:f.id,startPoint:d,endPoint:h})},e.prototype.showMenu=function(){var t=W7(this.getContextMenuPosition(),2),n=t[0],r=t[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=r+"px",this.__menuDOM.style.left=n+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},e.pluginName="contextMenu",e}(),UE=null,HE=function(){function e(t){var n=this,r=t.lf;this.lf=r,this.lf.setPatternItems=function(i){n.setPatternItems(i)}}return e.prototype.render=function(t,n){var r=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=n;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){r.panelEl.appendChild(r.createDndItem(i))}),n.appendChild(this.panelEl),this.domContainer=n},e.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},e.prototype.setPatternItems=function(t){this.shapeList=t,this.domContainer&&this.render(this.lf,this.domContainer)},e.prototype.createDndItem=function(t){var n=this,r=document.createElement("div");r.className=t.className?"lf-dnd-item "+t.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",t.icon&&(i.style.backgroundImage="url("+t.icon+")"),r.appendChild(i),t.label){var o=document.createElement("div");o.innerText=t.label,o.className="lf-dnd-text",r.appendChild(o)}return t.disabled?(r.classList.add("disabled"),r.onmousedown=function(){t.callback&&t.callback(n.lf,n.domContainer)},r):(r.onmousedown=function(){t.type&&n.lf.dnd.startDrag({type:t.type,properties:t.properties,text:t.text}),t.callback&&t.callback(n.lf,n.domContainer)},r.ondblclick=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:a,data:t})},r.onclick=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:a,data:t})},r.oncontextmenu=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:a,data:t})},r)},e.pluginName="dndPanel",e}(),G7=function(){function e(t){var n=this,r=t.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(o){var a=n.lf.getPointByClient(o.clientX,o.clientY).domOverlayPosition,s=a.x,l=a.y;n.endPoint={x:s,y:l};var u=n.startPoint,f=u.x,d=u.y,h=n.wrapper.style,p=f,g=d,v=s-f,_=l-d;s<f&&(p=s,v=f-s),l<d&&(g=l,_=d-l),h.left=p+"px",h.top=g+"px",h.width=v+"px",h.height=_+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",n.__draw),document.removeEventListener("mouseup",n.__drawOff),n.wrapper.oncontextmenu=null,n.__domContainer.removeChild(n.wrapper);var o=n.startPoint,a=o.x,s=o.y,l=n.endPoint,u=l.x,f=l.y;if(!(Math.abs(u-a)<10&&Math.abs(f-s)<10)){var d=[Math.min(a,u),Math.min(s,f)],h=[Math.max(a,u),Math.max(s,f)],p=n.lf.graphModel.getAreaElement(d,h,n.isWholeEdge,n.isWholeNode,!0),g=n.lf.graphModel.group;p.forEach(function(v){(!g||!g.getNodeGroup(v.id))&&n.lf.selectElementById(v.id,!0)}),n.lf.emit("selection:selected",p)}},this.__zoom=function(o){var a,s;o.preventDefault();var l=new WheelEvent("wheel",{deltaX:o.deltaX,deltaY:o.deltaY,clientX:o.clientX,clientY:o.clientY,ctrlKey:o.ctrlKey});(s=(a=n.lf.container)===null||a===void 0?void 0:a.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||s===void 0||s.dispatchEvent(l)},this.lf=r;var i=r.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,r.openSelectionSelect=function(){n.openSelectionSelect()},r.closeSelectionSelect=function(){n.closeSelectionSelect()}}return e.prototype.render=function(t,n){var r=this;this.__domContainer=n,t.on("blank:mousedown",function(i){var o=i.e,a=t.getEditConfig();if(!(!a.stopMoveGraph||r.__disabled)){var s=o.button===2;if(!s){var l=t.getPointByClient(o.clientX,o.clientY).domOverlayPosition,u=l.x,f=l.y;r.startPoint={x:u,y:f},r.endPoint={x:u,y:f};var d=document.createElement("div");d.className="lf-selection-select",d.oncontextmenu=function(p){p.preventDefault()},d.style.top=r.startPoint.y+"px",d.style.left=r.startPoint.x+"px",n.appendChild(d),r.wrapper=d,document.addEventListener("mousemove",r.__draw),document.addEventListener("mouseup",r.__drawOff),document.addEventListener("wheel",r.__zoom,{passive:!1})}}})},e.prototype.setSelectionSense=function(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0),this.isWholeEdge=t,this.isWholeNode=n},e.prototype.openSelectionSelect=function(){var t=this.lf.getEditConfig().stopMoveGraph;t||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},e.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},e.prototype.open=function(){this.__disabled=!1},e.prototype.close=function(){this.__disabled=!0},e.pluginName="selectionSelect",e}(),k7=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},YE=function(){function e(t){var n=this,r=t.lf,i=t.LogicFlow,o=t.options;this.lf=null,this.container=null,this.miniMapWrap=null,this.miniMapContainer=null,this.lfMap=null,this.viewport=null,this.width=150,this.height=220,this.leftPosition=void 0,this.topPosition=void 0,this.rightPosition=void 0,this.bottomPosition=void 0,this.miniMapWidth=450,this.miniMapHeight=660,this.viewPortTop=0,this.viewPortLeft=0,this.startPosition=null,this.viewPortScale=1,this.viewPortWidth=150,this.viewPortHeight=75,this.resetDataX=0,this.resetDataY=0,this.LogicFlow=null,this.isShow=!1,this.isShowHeader=!0,this.isShowCloseIcon=!0,this.dragging=!1,this.disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(a,s){n.setView(),n.isShow||n.createMiniMap(a,s),n.isShow=!0},this.hide=function(){n.isShow&&n.removeMiniMap(),n.isShow=!1},this.reset=function(){n.lf.resetTranslate(),n.lf.resetZoom(),n.hide(),n.show()},this.startDrag=function(a){document.addEventListener("mousemove",n.drag),document.addEventListener("mouseup",n.drop),n.startPosition={x:a.x,y:a.y}},this.moveViewport=function(a,s){var l=n.viewport.style;n.viewPortTop=a,n.viewPortLeft=s,l.top=n.viewPortTop+"px",l.left=n.viewPortLeft+"px"},this.drag=function(a){n.dragging=!0;var s=n.viewPortTop+a.y-n.startPosition.y,l=n.viewPortLeft+a.x-n.startPosition.x;n.moveViewport(s,l),n.startPosition={x:a.x,y:a.y};var u=(n.viewPortLeft+n.viewPortWidth/2)/n.viewPortScale,f=(n.viewPortTop+n.viewPortHeight/2)/n.viewPortScale;n.lf.focusOn({coordinate:{x:u+n.resetDataX,y:f+n.resetDataY}})},this.drop=function(){document.removeEventListener("mousemove",n.drag),document.removeEventListener("mouseup",n.drop);var a=n.viewPortTop,s=n.viewPortLeft;n.viewPortLeft>n.width&&(s=n.width-n.viewPortWidth),n.viewPortTop>n.height&&(a=n.height-n.viewPortHeight),n.viewPortLeft<-n.width&&(s=0),n.viewPortTop<-n.height&&(a=0),n.moveViewport(a,s)},this.mapClick=function(a){if(n.dragging)n.dragging=!1;else{var s=a.layerX,l=a.layerY,u=s,f=l,d=n.lf.getGraphRawData(),h=n.getBounds(d),p=h.left,g=h.top,v=p+u/n.viewPortScale,_=g+f/n.viewPortScale;n.lf.focusOn({coordinate:{x:v,y:_}})}},this.lf=r,o&&o.MiniMap&&this.setOption(o),this.miniMapWidth=r.graphModel.width,this.miniMapHeight=r.graphModel.width*this.height/this.width,this.LogicFlow=i,this.initMiniMap()}return e.prototype.render=function(t,n){var r=this;this.container=n,this.lf.on("history:change",function(){r.isShow&&r.setView()}),this.lf.on("graph:transform",(0,Ia.Z)(function(){r.isShow&&!r.dragging&&r.setView()},300))},e.prototype.init=function(t){this.disabledPlugins=this.disabledPlugins.concat(t.disabledPlugins||[])},e.prototype.setOption=function(t){var n=t.MiniMap,r=n.width,i=r===void 0?150:r,o=n.height,a=o===void 0?220:o,s=n.isShowHeader,l=s===void 0?!0:s,u=n.isShowCloseIcon,f=u===void 0?!0:u,d=n.leftPosition,h=d===void 0?0:d,p=n.topPosition,g=p===void 0?0:p,v=n.rightPosition,_=n.bottomPosition;this.width=i,this.height=a,this.isShowHeader=l,this.isShowCloseIcon=f,this.viewPortWidth=i,this.leftPosition=h,this.topPosition=g,this.rightPosition=v,this.bottomPosition=_},e.prototype.initMiniMap=function(){var t=document.createElement("div");t.className="lf-mini-map-graph",t.style.width=this.width+4+"px",t.style.height=this.height+"px",this.lfMap=new this.LogicFlow({container:t,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.disabledPlugins}),this.lfMap.adapterIn=function(n){return n},this.lfMap.adapterOut=function(n){return n},this.miniMapWrap=t,this.createViewPort(),t.addEventListener("click",this.mapClick)},e.prototype.createMiniMap=function(t,n){var r=document.createElement("div");r.appendChild(this.miniMapWrap),typeof t!="undefined"||typeof n!="undefined"?(r.style.left=(t||0)+"px",r.style.top=(n||0)+"px"):(typeof this.rightPosition!="undefined"?r.style.right=this.rightPosition+"px":typeof this.leftPosition!="undefined"&&(r.style.left=this.leftPosition+"px"),typeof this.bottomPosition!="undefined"?r.style.bottom=this.bottomPosition+"px":typeof this.topPosition!="undefined"&&(r.style.top=this.topPosition+"px")),r.style.position="absolute",r.className="lf-mini-map",this.isShowCloseIcon||r.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||r.classList.add("lf-mini-map-no-header"),this.container.appendChild(r),this.miniMapWrap.appendChild(this.viewport);var i=document.createElement("div");i.className="lf-mini-map-header",i.innerText=e.headerTitle,r.appendChild(i);var o=document.createElement("span");o.className="lf-mini-map-close",o.addEventListener("click",this.hide),r.appendChild(o),this.miniMapContainer=r},e.prototype.removeMiniMap=function(){this.container.removeChild(this.miniMapContainer)},e.prototype.getBounds=function(t){var n=0,r=this.miniMapWidth,i=0,o=this.miniMapHeight,a=t.nodes;return a&&a.length>0&&a.forEach(function(s){var l=s.x,u=s.y,f=s.width,d=f===void 0?200:f,h=s.height,p=h===void 0?200:h,g=l-d/2,v=l+d/2,_=u-p/2,y=u+p/2;n=g<n?g:n,r=v>r?v:r,i=_<i?_:i,o=y>o?y:o}),{left:n,top:i,bottom:o,right:r}},e.prototype.resetData=function(t){var n=t.nodes,r=t.edges,i=0,o=0;return n&&n.length>0&&(n.forEach(function(a){var s=a.x,l=a.y,u=a.width,f=u===void 0?200:u,d=a.height,h=d===void 0?200:d,p=s-f/2,g=l-h/2;i=p<i?p:i,o=g<o?g:o}),(i<0||o<0)&&(this.resetDataX=i,this.resetDataY=o,n.forEach(function(a){a.x=a.x-i,a.y=a.y-o,a.text&&(a.text.x=a.text.x-i,a.text.y=a.text.y-o)}),r.forEach(function(a){a.startPoint&&(a.startPoint.x=a.startPoint.x-i,a.startPoint.y=a.startPoint.y-o),a.endPoint&&(a.endPoint.x=a.endPoint.x-i,a.endPoint.y=a.endPoint.y-o),a.text&&(a.text.x=a.text.x-i,a.text.y=a.text.y-o),a.pointsList&&a.pointsList.forEach(function(s){s.x=s.x-i,s.y=s.y-o})}))),t},e.prototype.setView=function(){var t,n,r=this.lf.getGraphRawData(),i=this.resetData(r),o=this.lf.viewMap,a=this.lf.graphModel.modelMap,s=this.lfMap.viewMap;try{for(var l=k7(o.keys()),u=l.next();!u.done;u=l.next()){var f=u.value;s.has(f)||(this.lfMap.setView(f,o.get(f)),this.lfMap.graphModel.modelMap.set(f,a.get(f)))}}catch(A){t={error:A}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}this.lfMap.render(i);var d=this.getBounds(i),h=d.left,p=d.top,g=d.right,v=d.bottom,_=this.width/(g-h),y=this.height/(v-p),x=this.miniMapWrap.firstChild.style,b=Math.min(_,y);x.pointerEvents="none",x.transform="matrix("+b+", 0, 0, "+b+", 0, 0)",x.transformOrigin="left top",x.height=v-Math.min(p,0)+"px",x.width=g-Math.min(h,0)+"px",this.viewPortScale=b,this.setViewPort(b,{left:h,top:p,right:g,bottom:v})},e.prototype.setViewPort=function(t,n){var r=n.left,i=n.right,o=n.top,a=n.bottom,s=this.viewport.style;s.width=this.viewPortWidth+"px",s.height=this.viewPortWidth/(this.lf.graphModel.width/this.lf.graphModel.height)+"px";var l=this.lf.getTransform(),u=l.TRANSLATE_X,f=l.TRANSLATE_Y,d=l.SCALE_X,h=l.SCALE_Y,p=i-r,g=this.width/(p/this.lf.graphModel.width),v=this.width*(g/this.width),_=this.lf.graphModel.width/this.lf.graphModel.height,y=v/_,x=this.lf.getGraphRawData(),b=this.getBounds(x),A=b.left,O=b.top,Y=A,j=O;Y+=u/d,j+=f/h,this.viewPortTop=j>0?0:-j*t,this.viewPortLeft=Y>0?0:-Y*t,this.viewPortWidth=v,this.viewPortHeight=y,s.top=this.viewPortTop+"px",s.left=this.viewPortLeft+"px",s.width=v/d+"px",s.height=y/h+"px"},e.prototype.createViewPort=function(){var t=document.createElement("div");t.className="lf-minimap-viewport",t.addEventListener("mousedown",this.startDrag),this.viewport=t},e.pluginName="miniMap",e.width=150,e.height=220,e.viewPortWidth=150,e.viewPortHeight=75,e.isShowHeader=!0,e.isShowCloseIcon=!0,e.leftPosition=0,e.topPosition=0,e.rightPosition=null,e.bottomPosition=null,e.headerTitle="\u5BFC\u822A",e}(),VE=null,Hl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(){return Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Nt.apply(this,arguments)},Qt=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},z7={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function X7(e){for(var t=e,n=1;n<t.length-1;){var r=Qt(t[n-1],2),i=r[0],o=r[1],a=Qt(t[n],2),s=a[0],l=a[1],u=Qt(t[n+1],2),f=u[0],d=u[1];i===s&&s===f||o===l&&l===d?t.splice(n,1):n++}return t}function U7(e,t,n,r){var i=[e[0],e[1]],o=[e[0],e[1]];switch(n){case"tl":return t==="tr"?(i[1]+=r,o[0]+=r):t==="lb"&&(i[0]+=r,o[1]+=r),[i,o];case"tr":return t==="tl"?(i[1]+=r,o[0]-=r):t==="rb"&&(i[0]-=r,o[1]+=r),[i,o];case"bl":return t==="br"?(i[1]-=r,o[0]+=r):t==="lt"&&(i[0]+=r,o[1]-=r),[i,o];case"br":return t==="bl"?(i[1]-=r,o[0]-=r):t==="rt"&&(i[0]-=r,o[1]-=r),[i,o];default:return[]}}function H7(e,t,n,r){var i,o="",a="";e[0]===t[0]?o=e[1]>t[1]?"t":"b":e[1]===t[1]&&(o=e[0]>t[0]?"l":"r"),t[0]===n[0]?a=t[1]>n[1]?"t":"b":t[1]===n[1]&&(a=t[0]>n[0]?"l":"r");var s=Math.min(Math.hypot(t[0]-e[0],t[1]-e[1])/2,Math.hypot(n[0]-t[0],n[1]-t[1])/2,r)||1/5*r,l=""+o+a,u=z7[l]||"-",f="L "+e[0]+" "+e[1];if(u==="-")f+="L "+t[0]+" "+t[1]+" L "+n[0]+" "+n[1];else{var d=Qt(U7(t,l,u,s),2),h=d[0],p=d[1];h&&p&&(f+="L "+h[0]+" "+h[1]+" Q "+t[0]+" "+t[1]+" "+p[0]+" "+p[1],i=Qt(p,2),t[0]=i[0],t[1]=i[1])}return f}function Y7(e,t){var n=0,r="";if(e.length===2)r+="M"+e[n][0]+" "+e[n++][1]+" L "+e[n][0]+" "+e[n][1];else{for(r+="M"+e[n][0]+" "+e[n++][1];n+1<e.length;){var i=e[n-1],o=e[n],a=e[n+++1];r+=H7(i,o,a,t)}r+="L "+e[n][0]+" "+e[n][1]}return r}var V7=function(e){Hl(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEdge=function(){var n=this.props.model,r=n.points,i=n.isAnimation,o=n.arrowConfig,a=n.radius,s=a===void 0?5:a,l=n.getEdgeStyle(),u=n.getEdgeAnimationStyle(),f=X7(r.split(" ").map(function(p){return p.split(",").map(function(g){return+g})})),d=Y7(f,s),h=Nt(Nt(Nt({style:i?u:{}},l),o),{fill:"none"});return(0,m.h)("path",Nt({d},h))},t}(m.PolylineEdge),K7=function(e){Hl(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(m.PolylineEdgeModel),KE={type:"curved-edge",view:V7,model:K7},JE=null,J7=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},$t=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(J7(arguments[t]));return e},QE=function(){function e(t){var n=this,r=t.lf;this.lf=r,this.pathes=[],r.getPathes=function(){if(!n.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B");return n.getPathes()},r.setRawPathes=function(i){n.setPathes(i)},r.getRawPathes=function(){return n.pathes},r.setStartNodeType=function(i){n.startNodeType=i}}return e.prototype.setPathes=function(t){this.pathes=t.map(function(n){var r=n.routeId,i=n.name,o=n.elements,a=n.type;return{routeId:r,name:i,elements:o,type:a,similarElement:null,weight:0}})},e.prototype.getPathes=function(){var t=this,n=this.lf.getGraphRawData(),r=new Map,i=[];n.nodes.forEach(function(a){r.set(a.id,{id:a.id,data:a,nextNodes:[]}),a.type===t.startNodeType&&i.push(a.id)}),n.edges.forEach(function(a){var s=r.get(a.sourceNodeId);s.nextNodes.push(a.targetNodeId)});var o=[];return i.forEach(function(a){o=o.concat(t.findPathElements(r.get(a),r,[]))}),this.getNewPathes(o)},e.prototype.findPathElements=function(t,n,r){r===void 0&&(r=[]);var i=$t(r);if(i.push(t.id),t.nextNodes.length===0)return[i];for(var o=[],a=0;a<t.nextNodes.length;a++){var s=n.get(t.nextNodes[a]),l=void 0,u=i.indexOf(s.id);u!==-1?l=[$t(i.slice(u),[s.id])]:l=this.findPathElements(s,n,$t(i)),o=o.concat(l)}return o},e.prototype.getNewPathes=function(t){var n=this,r=[],i=new Set;t.forEach(function(a){var s=n.getNewId("path"),l=n.getNewId("\u8DEF\u5F84"),u=n.isLoopPath(a),f=a.join(",");i.has(f)||(i.add(f),r.push({routeId:s,name:l,elements:a,type:u,weight:0,similarElement:""}))});var o=JSON.parse(JSON.stringify(this.pathes));return r.forEach(function(a){for(var s=0;s<o.length;s++){var l=o[s],u=n.similar2Path($t(a.elements),$t(l.elements));u>a.weight&&l.weight<=u&&(a.weight=u,a.similarElement=l,u===l.weight&&l.similarElement?(l.similarElement.similarElement=null,l.similarElement.weight=0,l.similarElement=null,l.weight=0):(l.similarElement=a,l.weight=u))}}),r.forEach(function(a){a.similarElement&&a.similarElement.similarElement===a&&(a.routeId=a.similarElement.routeId,a.name=a.similarElement.name),delete a.similarElement,delete a.weight}),this.setPathes(r),r},e.prototype.similar2Path=function(t,n){var r=0,i=t.length+n.length;t.sort(),n.sort();for(var o=t.shift(),a=n.shift();o!==void 0&&a!==void 0;)o===a?(r++,o=t.shift(),a=n.shift()):o<a?o=t.shift():o>a&&(a=n.shift());return r/i*200},e.prototype.getNewId=function(t){return t+"_"+Ue()},e.prototype.isLoopPath=function(t){var n=t.length;return t.indexOf(t[n-1])!==n-1?1:0},e.pluginName="flowPath",e}(),qt=function(){return qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qt.apply(this,arguments)},_i={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},$E=function(){function e(t){var n=this,r=t.lf;this.lf=r,this.trunk=[],r.layout=function(i){var o=n.lf.getGraphRawData();n.lf.setStartNodeType(i);var a=n.lf.getPathes();return n.levelHeight=[],n.newNodeMap=new Map,n.layout(o,a)}}return e.prototype.layout=function(t,n){var r=this,i=[];n.forEach(function(l){var u=l.elements;u.length>i.length?i=u:u.length===i.length&&JSON.stringify(u)===JSON.stringify(r.trunk)&&(i=r.trunk)}),this.trunk=i;for(var o=this.formatData(t),a={nodes:[],edges:[]},s=i.length-1;s>=0;s--)this.setNodePosition(i[s],o,a,s,1);this.lf.graphModel.graphDataToModel(a)},e.prototype.setNodePosition=function(t,n,r,i,o){var a=this,s=n[t],l=s.text,u=s.type,f=s.next,d=s.properties,h=i*160+40,p=o*120,g={id:t,x:h,text:l,y:p,type:u,properties:d};return l&&typeof l=="object"&&(g.text=qt(qt({},l),{x:h+l.x,y:p+l.y})),this.newNodeMap.set(g.id,{x:g.x,y:g.y,type:u}),r.nodes.push(g),s.isFixed=!0,this.addLevelHeight(i,1),f&&f.length>0&&f.forEach(function(v){var _=n[v.nodeId];if(!_.isFixed){var y=a.getLevelHeight(i+1);a.addLevelHeight(i,1),a.setNodePosition(v.nodeId,n,r,i+1,y+1)}r.edges.push(qt({id:v.edgeId,type:v.edgeType,sourceNodeId:t,targetNodeId:v.nodeId,properties:v.properties,text:v.text},a.getEdgeDataPoints(t,v.nodeId)))}),g},e.prototype.getEdgeDataPoints=function(t,n){var r=this.newNodeMap.get(t),i=this.newNodeMap.get(n),o=this.getShape(t),a=o.width,s=o.height,l=this.getShape(n),u=l.width,f=l.height,d=this.getRelativePosition(r,i),h={x:r.x,y:r.y},p={x:i.x,y:i.y};switch(d){case _i.LEFT:h.x=r.x+a/2,p.x=i.x-u/2;break;case _i.LEFT_TOP:h.y=r.y+s/2,p.x=i.x-u/2;break;case _i.LEFT_BOTTOM:h.x=r.x+a/2,p.y=i.y+f/2;break;default:break}return{startPoint:h,endPoint:p}},e.prototype.getRelativePosition=function(t,n){var r=t.y,i=n.y,o;return r<i?o=-1:r===i?o=0:o=1,o},e.prototype.getShape=function(t){var n=this.lf.getNodeModelById(t);return{height:n.height,width:n.width}},e.prototype.formatData=function(t){var n=t.nodes.reduce(function(r,i){var o=i.type,a=i.properties,s=i.text,l=i.x,u=i.y;return s&&typeof s=="object"&&(s.x=s.x-l,s.y=s.y-u),r[i.id]={type:o,properties:a,text:s,prev:[],next:[]},r},{});return t.edges.forEach(function(r){var i=r.sourceNodeId,o=r.targetNodeId,a=r.id,s=r.properties,l=r.text,u=l;typeof l=="object"&&(u=l.value),n[i].next.push({edgeId:a,nodeId:o,edgeType:r.type,properties:s,text:u}),n[o].prev.push({edgeId:a,nodeId:i,properties:s,text:u})}),n},e.prototype.addLevelHeight=function(t,n,r){n===void 0&&(n=1),r===void 0&&(r=!1);var i=this.levelHeight[t];i||(i={positiveHeight:0,negativeHeight:0},this.levelHeight[t]=i),r?i.negativeHeight-=n:i.positiveHeight+=n},e.prototype.getLevelHeight=function(t,n){n===void 0&&(n=!1);var r=this.levelHeight[t];return r?n?r.negativeHeight:r.positiveHeight:0},e.pluginName="AutoLayout",e}(),Vn=function(){return Vn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Vn.apply(this,arguments)},Q7=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},Kn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Q7(arguments[t]));return e},$7=function(e,t){var n=t.getModelById(e);return q7(n.BaseType==="node"?n:n.targetNode,t)},q7=function(e,t){var n=[],r=[],i=function(a,s,l){if(l===void 0&&(l=null),l&&s.unshift.apply(s,Kn(t.getEdgeModels({sourceNodeId:a.id,targetNodeId:l.id}).map(function(u){return u.id}))),s.includes(a.id)){n.push(s);return}if(s.unshift(a.id),!a.incoming.nodes.length){n.push(s);return}a.incoming.nodes.forEach(function(u){i(u,s.slice(),a)})},o=function(a,s,l){if(l===void 0&&(l=null),l&&s.push.apply(s,Kn(t.getEdgeModels({sourceNodeId:l.id,targetNodeId:a.id}).map(function(u){return u.id}))),s.includes(a.id)){r.push(s);return}if(s.push(a.id),!a.outgoing.nodes.length){r.push(s);return}a.outgoing.nodes.forEach(function(u){o(u,s.slice(),a)})};return i(e,[]),o(e,[]),Kn(new Set(Kn(n.flat(),r.flat())))},qE=function(){function e(t){var n=t.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=n}return e.prototype.setMode=function(t){this.mode=t},e.prototype.setManual=function(t){this.manual=t},e.prototype.highlightSingle=function(t){var n=this.lf.getModelById(t);n.BaseType==="node"?n.updateStyles(this.tempStyles[t]):n.BaseType==="edge"&&(n.updateStyles(this.tempStyles[t]),n.sourceNode.updateStyles(this.tempStyles[n.sourceNode.id]),n.targetNode.updateStyles(this.tempStyles[n.targetNode.id]))},e.prototype.highlightPath=function(t){var n=this,r=$7(t,this.lf);r.forEach(function(i){n.lf.getModelById(i).updateStyles(n.tempStyles[i])})},e.prototype.highlight=function(t,n){var r=this;if(n===void 0&&(n=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach(function(o){var a=o.BaseType==="node"?o.getNodeStyle():o.getEdgeStyle();r.tempStyles[o.id]=Vn({},a),o.setStyles({opacity:.1})});var i={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};i[n](t)}},e.prototype.restoreHighlight=function(){var t=this;Object.keys(this.tempStyles).length&&(Object.values(this.lf.graphModel.modelsMap).forEach(function(n){var r,i=(r=t.tempStyles[n.id])!==null&&r!==void 0?r:{};n.updateStyles(Vn({},i))}),this.tempStyles={})},e.prototype.render=function(t,n){var r=this;this.lf.on("node:mouseenter",function(i){var o=i.data;return r.highlight(o.id)}),this.lf.on("edge:mouseenter",function(i){var o=i.data;return r.highlight(o.id)}),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},e.prototype.destroy=function(){},e.pluginName="highlight",e}(),W=w(85893);function eE(e){var t=e.lf;function n(){t.dnd.startDrag({type:"bpmn:startEvent",text:"\u5F00\u59CB"})}function r(){t.dnd.startDrag({type:"bpmn:userTask"})}function i(){t.dnd.startDrag({type:"bpmn:serviceTask"})}function o(){t.dnd.startDrag({type:"bpmn:exclusiveGateway"})}function a(){t.dnd.startDrag({type:"bpmn:endEvent",text:"\u7ED3\u675F"})}function s(){t.updateEditConfig({stopMoveGraph:!0})}return t&&t.on("selection:selected",function(){t.updateEditConfig({stopMoveGraph:!1})}),(0,W.jsxs)("div",{className:"pattern",children:[(0,W.jsx)("div",{className:"pattern-selection",onMouseDown:function(){return s()}}),(0,W.jsx)("div",{children:"\u9009\u533A"}),(0,W.jsx)("div",{className:"pattern-start",onMouseDown:function(){return n()}}),(0,W.jsx)("div",{children:"\u5F00\u59CB"}),(0,W.jsx)("div",{className:"pattern-user",onMouseDown:function(){return r()}}),(0,W.jsx)("div",{children:"\u7528\u6237\u4EFB\u52A1"}),(0,W.jsx)("div",{className:"pattern-user",onMouseDown:function(){return i()}}),(0,W.jsx)("div",{children:"\u7CFB\u7EDF\u4EFB\u52A1"}),(0,W.jsx)("div",{className:"pattern-condition",onMouseDown:function(){return o()}}),(0,W.jsx)("div",{children:"\u6761\u4EF6\u5224\u65AD"}),(0,W.jsx)("div",{className:"pattern-end",onMouseDown:function(){return a()}}),(0,W.jsx)("div",{children:"\u7ED3\u675F"})]})}var tE=w(24810),nE=w(60758),rE=w(44019);function iE(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function oE(e){var t=e.lf;function n(){var o=t.getGraphData();iE("logic-flow.xml",o)}function r(o){var a=o.target.files[0],s=new FileReader;s.onload=function(l){if(l.target){var u=l.target.result;t.render(u)}},s.readAsText(a)}function i(){var o=e.lf;o.getSnapshot()}return(0,W.jsxs)("div",{className:"graph-io",children:[(0,W.jsx)("span",{title:"\u4E0B\u8F7D XML",onMouseDown:function(){return n()},children:(0,W.jsx)("img",{src:tE,alt:"\u4E0B\u8F7DXML"})}),(0,W.jsx)("span",{id:"download-img",title:"\u4E0B\u8F7D\u56FE\u7247",onMouseDown:function(){return i()},children:(0,W.jsx)("img",{src:nE,alt:"\u4E0B\u8F7D\u56FE\u7247"})}),(0,W.jsxs)("span",{id:"upload-xml",title:"\u4E0A\u4F20 XML",children:[(0,W.jsx)("input",{type:"file",className:"upload",onChange:function(a){return r(a)}}),(0,W.jsx)("img",{src:rE,alt:"\u4E0A\u4F20XML"})]})]})}var e6=w(10114),aE={stopScrollGraph:!0,stopZoomGraph:!0,metaKeyMultipleSelected:!0,grid:{size:10,type:"dot"},keyboard:{enabled:!0},snapline:!0},sE=function(e){ru()(n,e);var t=ou()(n);function n(r){var i;return Ql()(this,n),i=t.call(this,r),su()(tu()(i),"lf",void 0),i.state={rendered:!0},i}return ql()(n,[{key:"componentDidMount",value:function(){Xe().use(Du),Xe().use(Ku),Xe().use(_7),Xe().use(L7),Xe().use(F7),Xe().use(G7);var i=new(Xe())(mi()(mi()({},aE),{},{container:document.querySelector("#graph")}));i.render(),this.lf=i,this.setState({rendered:!0})}},{key:"render",value:function(){var i=this.state.rendered,o;return i&&(o=(0,W.jsxs)("div",{children:[(0,W.jsx)(eE,{lf:this.lf}),(0,W.jsx)(oE,{lf:this.lf})]})),(0,W.jsx)(W.Fragment,{children:(0,W.jsxs)("div",{className:"bpmn-example-container",children:[(0,W.jsx)("div",{id:"graph",className:"viewport"}),o]})})}}]),n}(lu.Component)},24810:function(qe){qe.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII="},60758:function(qe){qe.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg=="},44019:function(qe){qe.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABMUlEQVQ4T+XUsUrEQBCA4X8MCD6Cr6DPIOawFiy8gE9ga62BM7D6Aj6CYOHZnaAg6h62Yqed7dmKnUUYmbARDafZwBWCWyWb2W9nZ3cjzLjJjD2iwZVdXbw7lJe2BKLANNcUSOfg+MbJ82/oN7CX64nCVhjgvZNewG6tT+FhPmH9qpBJmqtanwgTVba9k/Pq/etsdRBQhOCRKvfAI7AcYsckbFCyE94HFu+d7P8EVh/XBrpUllwCb8AZMFAlE+EUYbTwSv/iSN5DEu1gmqvNuJkkZGVJZqB3Iqt72jfU8PGBDKNBS9+yvC7kKeAVaP2GGmbPncC6vk1wSt3bl9wYZMv/zPAfgKH4qXfim7ckZlOG3okdk6gWA0ZBjaDpuxwObX3FusB276tyRP1tush/H/wANP7LFUnxl7EAAAAASUVORK5CYII="}}]);
